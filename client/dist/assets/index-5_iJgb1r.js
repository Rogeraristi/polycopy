function PV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var $g=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function an(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _k={exports:{}},Yx={},bk={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm=Symbol.for("react.element"),CV=Symbol.for("react.portal"),OV=Symbol.for("react.fragment"),RV=Symbol.for("react.strict_mode"),IV=Symbol.for("react.profiler"),NV=Symbol.for("react.provider"),LV=Symbol.for("react.context"),DV=Symbol.for("react.forward_ref"),kV=Symbol.for("react.suspense"),UV=Symbol.for("react.memo"),FV=Symbol.for("react.lazy"),hO=Symbol.iterator;function BV(t){return t===null||typeof t!="object"?null:(t=hO&&t[hO]||t["@@iterator"],typeof t=="function"?t:null)}var Sk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wk=Object.assign,Mk={};function Kf(t,e,n){this.props=t,this.context=e,this.refs=Mk,this.updater=n||Sk}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ek(){}Ek.prototype=Kf.prototype;function UA(t,e,n){this.props=t,this.context=e,this.refs=Mk,this.updater=n||Sk}var FA=UA.prototype=new Ek;FA.constructor=UA;wk(FA,Kf.prototype);FA.isPureReactComponent=!0;var pO=Array.isArray,Ak=Object.prototype.hasOwnProperty,BA={current:null},Tk={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Ak.call(e,r)&&!Tk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:bm,type:t,key:a,ref:o,props:i,_owner:BA.current}}function zV(t,e){return{$$typeof:bm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zA(t){return typeof t=="object"&&t!==null&&t.$$typeof===bm}function jV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mO=/\/+/g;function GS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jV(""+t.key):e.toString(36)}function my(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bm:case CV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+GS(o,0):r,pO(i)?(n="",t!=null&&(n=t.replace(mO,"$&/")+"/"),my(i,e,n,"",function(u){return u})):i!=null&&(zA(i)&&(i=zV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mO,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pO(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+GS(a,s);o+=my(a,e,n,l,i)}else if(l=BV(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+GS(a,s++),o+=my(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Vg(t,e,n){if(t==null)return t;var r=[],i=0;return my(t,r,"","",function(a){return e.call(n,a,i++)}),r}function $V(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},gy={transition:null},VV={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:gy,ReactCurrentOwner:BA};function Ck(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:Vg,forEach:function(t,e,n){Vg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vg(t,function(){e++}),e},toArray:function(t){return Vg(t,function(e){return e})||[]},only:function(t){if(!zA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=Kf;Ut.Fragment=OV;Ut.Profiler=IV;Ut.PureComponent=UA;Ut.StrictMode=RV;Ut.Suspense=kV;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VV;Ut.act=Ck;Ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=BA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Ak.call(e,l)&&!Tk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:bm,type:t.type,key:i,ref:a,props:r,_owner:o}};Ut.createContext=function(t){return t={$$typeof:LV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NV,_context:t},t.Consumer=t};Ut.createElement=Pk;Ut.createFactory=function(t){var e=Pk.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:DV,render:t}};Ut.isValidElement=zA;Ut.lazy=function(t){return{$$typeof:FV,_payload:{_status:-1,_result:t},_init:$V}};Ut.memo=function(t,e){return{$$typeof:UV,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=gy.transition;gy.transition={};try{t()}finally{gy.transition=e}};Ut.unstable_act=Ck;Ut.useCallback=function(t,e){return Zr.current.useCallback(t,e)};Ut.useContext=function(t){return Zr.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return Zr.current.useEffect(t,e)};Ut.useId=function(){return Zr.current.useId()};Ut.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};Ut.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return Zr.current.useMemo(t,e)};Ut.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};Ut.useRef=function(t){return Zr.current.useRef(t)};Ut.useState=function(t){return Zr.current.useState(t)};Ut.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};Ut.useTransition=function(){return Zr.current.useTransition()};Ut.version="18.3.1";bk.exports=Ut;var z=bk.exports;const ne=an(z),HV=PV({__proto__:null,default:ne},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GV=z,WV=Symbol.for("react.element"),XV=Symbol.for("react.fragment"),qV=Object.prototype.hasOwnProperty,YV=GV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KV={key:!0,ref:!0,__self:!0,__source:!0};function Ok(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qV.call(e,r)&&!KV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WV,type:t,key:a,ref:o,props:i,_owner:YV.current}}Yx.Fragment=XV;Yx.jsx=Ok;Yx.jsxs=Ok;_k.exports=Yx;var L=_k.exports,Ww={},Rk={exports:{}},Bi={},Ik={exports:{}},Nk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,h=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,V(w);else{var j=n(u);j!==null&&H(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=h;try{for(b(j),c=n(l);c!==null&&(!(c.expirationTime>j)||U&&!R());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,h=c.priorityLevel;var J=Z(c.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?c.callback=J:c===n(l)&&r(l),b(j)}else r(l);c=n(l)}if(c!==null)var fe=!0;else{var we=n(u);we!==null&&H(M,we.startTime-j),fe=!1}return fe}finally{c=null,h=Y,m=!1}}var E=!1,P=null,A=-1,C=5,I=-1;function R(){return!(t.unstable_now()-I<C)}function k(){if(P!==null){var U=t.unstable_now();I=U;var j=!0;try{j=P(!0,U)}finally{j?F():(E=!1,P=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=k,F=function(){$.postMessage(null)}}else F=function(){y(k,0)};function V(U){P=U,E||(E=!0,F())}function H(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var Y=h;h=j;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return j()}finally{h=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:f++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,H(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,V(w))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var j=h;return function(){var Y=h;h=j;try{return U.apply(this,arguments)}finally{h=Y}}}})(Nk);Ik.exports=Nk;var ZV=Ik.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=z,Di=ZV;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lk=new Set,ap={};function Ru(t,e){df(t,e),df(t+"Capture",e)}function df(t,e){for(ap[t]=e,t=0;t<e.length;t++)Lk.add(e[t])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xw=Object.prototype.hasOwnProperty,QV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gO={},vO={};function e8(t){return Xw.call(vO,t)?!0:Xw.call(gO,t)?!1:QV.test(t)?vO[t]=!0:(gO[t]=!0,!1)}function t8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n8(t,e,n,r){if(e===null||typeof e>"u"||t8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jA=/[\-:]([a-z])/g;function $A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jA,$A);br[e]=new Jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jA,$A);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jA,$A);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function VA(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n8(e,n,i,r)&&(n=null),r||i===null?e8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=JV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hg=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),kc=Symbol.for("react.fragment"),HA=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),Dk=Symbol.for("react.provider"),kk=Symbol.for("react.context"),GA=Symbol.for("react.forward_ref"),Yw=Symbol.for("react.suspense"),Kw=Symbol.for("react.suspense_list"),WA=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),Uk=Symbol.for("react.offscreen"),yO=Symbol.iterator;function Vd(t){return t===null||typeof t!="object"?null:(t=yO&&t[yO]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,WS;function Mh(t){if(WS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);WS=e&&e[1]||""}return`
`+WS+t}var XS=!1;function qS(t,e){if(!t||XS)return"";XS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{XS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mh(t):""}function r8(t){switch(t.tag){case 5:return Mh(t.type);case 16:return Mh("Lazy");case 13:return Mh("Suspense");case 19:return Mh("SuspenseList");case 0:case 2:case 15:return t=qS(t.type,!1),t;case 11:return t=qS(t.type.render,!1),t;case 1:return t=qS(t.type,!0),t;default:return""}}function Zw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kc:return"Fragment";case Dc:return"Portal";case qw:return"Profiler";case HA:return"StrictMode";case Yw:return"Suspense";case Kw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kk:return(t.displayName||"Context")+".Consumer";case Dk:return(t._context.displayName||"Context")+".Provider";case GA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case WA:return e=t.displayName||null,e!==null?e:Zw(t.type)||"Memo";case As:e=t._payload,t=t._init;try{return Zw(t(e))}catch{}}return null}function i8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zw(e);case 8:return e===HA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a8(t){var e=Fk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gg(t){t._valueTracker||(t._valueTracker=a8(t))}function Bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jw(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zk(t,e){e=e.checked,e!=null&&VA(t,"checked",e,!1)}function Qw(t,e){zk(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eM(t,e.type,n):e.hasOwnProperty("defaultValue")&&eM(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _O(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eM(t,e,n){(e!=="number"||Ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eh=Array.isArray;function ef(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function tM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ie(92));if(Eh(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function jk(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $k(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$k(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wg,Vk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wg=Wg||document.createElement("div"),Wg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function op(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o8=["Webkit","ms","Moz","O"];Object.keys(Nh).forEach(function(t){o8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nh[e]=Nh[t]})});function Hk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nh.hasOwnProperty(t)&&Nh[t]?(""+e).trim():e+"px"}function Gk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var s8=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rM(t,e){if(e){if(s8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function iM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aM=null;function XA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oM=null,tf=null,nf=null;function wO(t){if(t=Mm(t)){if(typeof oM!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=e_(e),oM(t.stateNode,t.type,e))}}function Wk(t){tf?nf?nf.push(t):nf=[t]:tf=t}function Xk(){if(tf){var t=tf,e=nf;if(nf=tf=null,wO(t),e)for(t=0;t<e.length;t++)wO(e[t])}}function qk(t,e){return t(e)}function Yk(){}var YS=!1;function Kk(t,e,n){if(YS)return t(e,n);YS=!0;try{return qk(t,e,n)}finally{YS=!1,(tf!==null||nf!==null)&&(Yk(),Xk())}}function sp(t,e){var n=t.stateNode;if(n===null)return null;var r=e_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ie(231,e,typeof n));return n}var sM=!1;if(Xo)try{var Hd={};Object.defineProperty(Hd,"passive",{get:function(){sM=!0}}),window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{sM=!1}function l8(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Lh=!1,Iy=null,Ny=!1,lM=null,u8={onError:function(t){Lh=!0,Iy=t}};function c8(t,e,n,r,i,a,o,s,l){Lh=!1,Iy=null,l8.apply(u8,arguments)}function f8(t,e,n,r,i,a,o,s,l){if(c8.apply(this,arguments),Lh){if(Lh){var u=Iy;Lh=!1,Iy=null}else throw Error(Ie(198));Ny||(Ny=!0,lM=u)}}function Iu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MO(t){if(Iu(t)!==t)throw Error(Ie(188))}function d8(t){var e=t.alternate;if(!e){if(e=Iu(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return MO(i),t;if(a===r)return MO(i),e;a=a.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?t:e}function Jk(t){return t=d8(t),t!==null?Qk(t):null}function Qk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qk(t);if(e!==null)return e;t=t.sibling}return null}var eU=Di.unstable_scheduleCallback,EO=Di.unstable_cancelCallback,h8=Di.unstable_shouldYield,p8=Di.unstable_requestPaint,Fn=Di.unstable_now,m8=Di.unstable_getCurrentPriorityLevel,qA=Di.unstable_ImmediatePriority,tU=Di.unstable_UserBlockingPriority,Ly=Di.unstable_NormalPriority,g8=Di.unstable_LowPriority,nU=Di.unstable_IdlePriority,Kx=null,so=null;function v8(t){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(Kx,t,void 0,(t.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:_8,y8=Math.log,x8=Math.LN2;function _8(t){return t>>>=0,t===0?32:31-(y8(t)/x8|0)|0}var Xg=64,qg=4194304;function Ah(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=Ah(s):(a&=o,a!==0&&(r=Ah(a)))}else o=n&~i,o!==0?r=Ah(o):a!==0&&(r=Ah(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Da(e),i=1<<n,r|=t[n],e&=~i;return r}function b8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Da(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=b8(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function uM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rU(){var t=Xg;return Xg<<=1,!(Xg&4194240)&&(Xg=64),t}function KS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Da(e),t[e]=n}function w8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Da(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function YA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Da(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rn=0;function iU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aU,KA,oU,sU,lU,cM=!1,Yg=[],js=null,$s=null,Vs=null,lp=new Map,up=new Map,Os=[],M8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AO(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":lp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":up.delete(e.pointerId)}}function Gd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Mm(e),e!==null&&KA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function E8(t,e,n,r,i){switch(e){case"focusin":return js=Gd(js,t,e,n,r,i),!0;case"dragenter":return $s=Gd($s,t,e,n,r,i),!0;case"mouseover":return Vs=Gd(Vs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return lp.set(a,Gd(lp.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,up.set(a,Gd(up.get(a)||null,t,e,n,r,i)),!0}return!1}function uU(t){var e=ql(t.target);if(e!==null){var n=Iu(e);if(n!==null){if(e=n.tag,e===13){if(e=Zk(n),e!==null){t.blockedOn=e,lU(t.priority,function(){oU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);aM=r,n.target.dispatchEvent(r),aM=null}else return e=Mm(n),e!==null&&KA(e),t.blockedOn=n,!1;e.shift()}return!0}function TO(t,e,n){vy(t)&&n.delete(e)}function A8(){cM=!1,js!==null&&vy(js)&&(js=null),$s!==null&&vy($s)&&($s=null),Vs!==null&&vy(Vs)&&(Vs=null),lp.forEach(TO),up.forEach(TO)}function Wd(t,e){t.blockedOn===e&&(t.blockedOn=null,cM||(cM=!0,Di.unstable_scheduleCallback(Di.unstable_NormalPriority,A8)))}function cp(t){function e(i){return Wd(i,t)}if(0<Yg.length){Wd(Yg[0],t);for(var n=1;n<Yg.length;n++){var r=Yg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&Wd(js,t),$s!==null&&Wd($s,t),Vs!==null&&Wd(Vs,t),lp.forEach(e),up.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)uU(n),n.blockedOn===null&&Os.shift()}var rf=rs.ReactCurrentBatchConfig,ky=!0;function T8(t,e,n,r){var i=rn,a=rf.transition;rf.transition=null;try{rn=1,ZA(t,e,n,r)}finally{rn=i,rf.transition=a}}function P8(t,e,n,r){var i=rn,a=rf.transition;rf.transition=null;try{rn=4,ZA(t,e,n,r)}finally{rn=i,rf.transition=a}}function ZA(t,e,n,r){if(ky){var i=fM(t,e,n,r);if(i===null)o1(t,e,r,Uy,n),AO(t,r);else if(E8(i,t,e,n,r))r.stopPropagation();else if(AO(t,r),e&4&&-1<M8.indexOf(t)){for(;i!==null;){var a=Mm(i);if(a!==null&&aU(a),a=fM(t,e,n,r),a===null&&o1(t,e,r,Uy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else o1(t,e,r,null,n)}}var Uy=null;function fM(t,e,n,r){if(Uy=null,t=XA(r),t=ql(t),t!==null)if(e=Iu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Uy=t,null}function cU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m8()){case qA:return 1;case tU:return 4;case Ly:case g8:return 16;case nU:return 536870912;default:return 16}default:return 16}}var Ls=null,JA=null,yy=null;function fU(){if(yy)return yy;var t,e=JA,n=e.length,r,i="value"in Ls?Ls.value:Ls.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return yy=i.slice(t,1<r?1-r:void 0)}function xy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kg(){return!0}function PO(){return!1}function zi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kg:PO,this.isPropagationStopped=PO,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kg)},persist:function(){},isPersistent:Kg}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QA=zi(Zf),wm=On({},Zf,{view:0,detail:0}),C8=zi(wm),ZS,JS,Xd,Zx=On({},wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xd&&(Xd&&t.type==="mousemove"?(ZS=t.screenX-Xd.screenX,JS=t.screenY-Xd.screenY):JS=ZS=0,Xd=t),ZS)},movementY:function(t){return"movementY"in t?t.movementY:JS}}),CO=zi(Zx),O8=On({},Zx,{dataTransfer:0}),R8=zi(O8),I8=On({},wm,{relatedTarget:0}),QS=zi(I8),N8=On({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),L8=zi(N8),D8=On({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),k8=zi(D8),U8=On({},Zf,{data:0}),OO=zi(U8),F8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z8[t])?!!e[t]:!1}function eT(){return j8}var $8=On({},wm,{key:function(t){if(t.key){var e=F8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?B8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eT,charCode:function(t){return t.type==="keypress"?xy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V8=zi($8),H8=On({},Zx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RO=zi(H8),G8=On({},wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eT}),W8=zi(G8),X8=On({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),q8=zi(X8),Y8=On({},Zx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K8=zi(Y8),Z8=[9,13,27,32],tT=Xo&&"CompositionEvent"in window,Dh=null;Xo&&"documentMode"in document&&(Dh=document.documentMode);var J8=Xo&&"TextEvent"in window&&!Dh,dU=Xo&&(!tT||Dh&&8<Dh&&11>=Dh),IO=" ",NO=!1;function hU(t,e){switch(t){case"keyup":return Z8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uc=!1;function Q8(t,e){switch(t){case"compositionend":return pU(e);case"keypress":return e.which!==32?null:(NO=!0,IO);case"textInput":return t=e.data,t===IO&&NO?null:t;default:return null}}function eH(t,e){if(Uc)return t==="compositionend"||!tT&&hU(t,e)?(t=fU(),yy=JA=Ls=null,Uc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dU&&e.locale!=="ko"?null:e.data;default:return null}}var tH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tH[t.type]:e==="textarea"}function mU(t,e,n,r){Wk(r),e=Fy(e,"onChange"),0<e.length&&(n=new QA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kh=null,fp=null;function nH(t){AU(t,0)}function Jx(t){var e=zc(t);if(Bk(e))return t}function rH(t,e){if(t==="change")return e}var gU=!1;if(Xo){var e1;if(Xo){var t1="oninput"in document;if(!t1){var DO=document.createElement("div");DO.setAttribute("oninput","return;"),t1=typeof DO.oninput=="function"}e1=t1}else e1=!1;gU=e1&&(!document.documentMode||9<document.documentMode)}function kO(){kh&&(kh.detachEvent("onpropertychange",vU),fp=kh=null)}function vU(t){if(t.propertyName==="value"&&Jx(fp)){var e=[];mU(e,fp,t,XA(t)),Kk(nH,e)}}function iH(t,e,n){t==="focusin"?(kO(),kh=e,fp=n,kh.attachEvent("onpropertychange",vU)):t==="focusout"&&kO()}function aH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jx(fp)}function oH(t,e){if(t==="click")return Jx(e)}function sH(t,e){if(t==="input"||t==="change")return Jx(e)}function lH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fa=typeof Object.is=="function"?Object.is:lH;function dp(t,e){if(Fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xw.call(e,i)||!Fa(t[i],e[i]))return!1}return!0}function UO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FO(t,e){var n=UO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UO(n)}}function yU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xU(){for(var t=window,e=Ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ry(t.document)}return e}function nT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uH(t){var e=xU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yU(n.ownerDocument.documentElement,n)){if(r!==null&&nT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=FO(n,a);var o=FO(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cH=Xo&&"documentMode"in document&&11>=document.documentMode,Fc=null,dM=null,Uh=null,hM=!1;function BO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hM||Fc==null||Fc!==Ry(r)||(r=Fc,"selectionStart"in r&&nT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uh&&dp(Uh,r)||(Uh=r,r=Fy(dM,"onSelect"),0<r.length&&(e=new QA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function Zg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bc={animationend:Zg("Animation","AnimationEnd"),animationiteration:Zg("Animation","AnimationIteration"),animationstart:Zg("Animation","AnimationStart"),transitionend:Zg("Transition","TransitionEnd")},n1={},_U={};Xo&&(_U=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Qx(t){if(n1[t])return n1[t];if(!Bc[t])return t;var e=Bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _U)return n1[t]=e[n];return t}var bU=Qx("animationend"),SU=Qx("animationiteration"),wU=Qx("animationstart"),MU=Qx("transitionend"),EU=new Map,zO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(t,e){EU.set(t,e),Ru(e,[t])}for(var r1=0;r1<zO.length;r1++){var i1=zO[r1],fH=i1.toLowerCase(),dH=i1[0].toUpperCase()+i1.slice(1);il(fH,"on"+dH)}il(bU,"onAnimationEnd");il(SU,"onAnimationIteration");il(wU,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(MU,"onTransitionEnd");df("onMouseEnter",["mouseout","mouseover"]);df("onMouseLeave",["mouseout","mouseover"]);df("onPointerEnter",["pointerout","pointerover"]);df("onPointerLeave",["pointerout","pointerover"]);Ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Th));function jO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f8(r,e,void 0,t),t.currentTarget=null}function AU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jO(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jO(i,s,u),a=l}}}if(Ny)throw t=lM,Ny=!1,lM=null,t}function mn(t,e){var n=e[yM];n===void 0&&(n=e[yM]=new Set);var r=t+"__bubble";n.has(r)||(TU(e,t,2,!1),n.add(r))}function a1(t,e,n){var r=0;e&&(r|=4),TU(n,t,r,e)}var Jg="_reactListening"+Math.random().toString(36).slice(2);function hp(t){if(!t[Jg]){t[Jg]=!0,Lk.forEach(function(n){n!=="selectionchange"&&(hH.has(n)||a1(n,!1,t),a1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jg]||(e[Jg]=!0,a1("selectionchange",!1,e))}}function TU(t,e,n,r){switch(cU(e)){case 1:var i=T8;break;case 4:i=P8;break;default:i=ZA}n=i.bind(null,e,n,t),i=void 0,!sM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function o1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}Kk(function(){var u=a,f=XA(n),c=[];e:{var h=EU.get(t);if(h!==void 0){var m=QA,g=t;switch(t){case"keypress":if(xy(n)===0)break e;case"keydown":case"keyup":m=V8;break;case"focusin":g="focus",m=QS;break;case"focusout":g="blur",m=QS;break;case"beforeblur":case"afterblur":m=QS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=CO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W8;break;case bU:case SU:case wU:m=L8;break;case MU:m=q8;break;case"scroll":m=C8;break;case"wheel":m=K8;break;case"copy":case"cut":case"paste":m=k8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=RO}var _=(e&4)!==0,y=!_&&t==="scroll",v=_?h!==null?h+"Capture":null:h;_=[];for(var x=u,b;x!==null;){b=x;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,v!==null&&(M=sp(x,v),M!=null&&_.push(pp(x,M,b)))),y)break;x=x.return}0<_.length&&(h=new m(h,g,null,n,f),c.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==aM&&(g=n.relatedTarget||n.fromElement)&&(ql(g)||g[qo]))break e;if((m||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ql(g):null,g!==null&&(y=Iu(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=CO,M="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=RO,M="onPointerLeave",v="onPointerEnter",x="pointer"),y=m==null?h:zc(m),b=g==null?h:zc(g),h=new _(M,x+"leave",m,n,f),h.target=y,h.relatedTarget=b,M=null,ql(f)===u&&(_=new _(v,x+"enter",g,n,f),_.target=b,_.relatedTarget=y,M=_),y=M,m&&g)t:{for(_=m,v=g,x=0,b=_;b;b=ic(b))x++;for(b=0,M=v;M;M=ic(M))b++;for(;0<x-b;)_=ic(_),x--;for(;0<b-x;)v=ic(v),b--;for(;x--;){if(_===v||v!==null&&_===v.alternate)break t;_=ic(_),v=ic(v)}_=null}else _=null;m!==null&&$O(c,h,m,_,!1),g!==null&&y!==null&&$O(c,y,g,_,!0)}}e:{if(h=u?zc(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=rH;else if(LO(h))if(gU)w=sH;else{w=aH;var E=iH}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=oH);if(w&&(w=w(t,u))){mU(c,w,n,f);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&eM(h,"number",h.value)}switch(E=u?zc(u):window,t){case"focusin":(LO(E)||E.contentEditable==="true")&&(Fc=E,dM=u,Uh=null);break;case"focusout":Uh=dM=Fc=null;break;case"mousedown":hM=!0;break;case"contextmenu":case"mouseup":case"dragend":hM=!1,BO(c,n,f);break;case"selectionchange":if(cH)break;case"keydown":case"keyup":BO(c,n,f)}var P;if(tT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Uc?hU(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dU&&n.locale!=="ko"&&(Uc||A!=="onCompositionStart"?A==="onCompositionEnd"&&Uc&&(P=fU()):(Ls=f,JA="value"in Ls?Ls.value:Ls.textContent,Uc=!0)),E=Fy(u,A),0<E.length&&(A=new OO(A,t,null,n,f),c.push({event:A,listeners:E}),P?A.data=P:(P=pU(n),P!==null&&(A.data=P)))),(P=J8?Q8(t,n):eH(t,n))&&(u=Fy(u,"onBeforeInput"),0<u.length&&(f=new OO("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=P))}AU(c,e)})}function pp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=sp(t,n),a!=null&&r.unshift(pp(t,a,i)),a=sp(t,e),a!=null&&r.push(pp(t,a,i))),t=t.return}return r}function ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $O(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=sp(n,a),l!=null&&o.unshift(pp(n,l,s))):i||(l=sp(n,a),l!=null&&o.push(pp(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pH=/\r\n?/g,mH=/\u0000|\uFFFD/g;function VO(t){return(typeof t=="string"?t:""+t).replace(pH,`
`).replace(mH,"")}function Qg(t,e,n){if(e=VO(e),VO(t)!==e&&n)throw Error(Ie(425))}function By(){}var pM=null,mM=null;function gM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vM=typeof setTimeout=="function"?setTimeout:void 0,gH=typeof clearTimeout=="function"?clearTimeout:void 0,HO=typeof Promise=="function"?Promise:void 0,vH=typeof queueMicrotask=="function"?queueMicrotask:typeof HO<"u"?function(t){return HO.resolve(null).then(t).catch(yH)}:vM;function yH(t){setTimeout(function(){throw t})}function s1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cp(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function GO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),no="__reactFiber$"+Jf,mp="__reactProps$"+Jf,qo="__reactContainer$"+Jf,yM="__reactEvents$"+Jf,xH="__reactListeners$"+Jf,_H="__reactHandles$"+Jf;function ql(t){var e=t[no];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[no]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=GO(t);t!==null;){if(n=t[no])return n;t=GO(t)}return e}t=n,n=t.parentNode}return null}function Mm(t){return t=t[no]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function e_(t){return t[mp]||null}var xM=[],jc=-1;function al(t){return{current:t}}function xn(t){0>jc||(t.current=xM[jc],xM[jc]=null,jc--)}function pn(t,e){jc++,xM[jc]=t.current,t.current=e}var el={},Br=al(el),hi=al(!1),pu=el;function hf(t,e){var n=t.type.contextTypes;if(!n)return el;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pi(t){return t=t.childContextTypes,t!=null}function zy(){xn(hi),xn(Br)}function WO(t,e,n){if(Br.current!==el)throw Error(Ie(168));pn(Br,e),pn(hi,n)}function PU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,i8(t)||"Unknown",i));return On({},n,r)}function jy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||el,pu=Br.current,pn(Br,t),pn(hi,hi.current),!0}function XO(t,e,n){var r=t.stateNode;if(!r)throw Error(Ie(169));n?(t=PU(t,e,pu),r.__reactInternalMemoizedMergedChildContext=t,xn(hi),xn(Br),pn(Br,t)):xn(hi),pn(hi,n)}var Lo=null,t_=!1,l1=!1;function CU(t){Lo===null?Lo=[t]:Lo.push(t)}function bH(t){t_=!0,CU(t)}function ol(){if(!l1&&Lo!==null){l1=!0;var t=0,e=rn;try{var n=Lo;for(rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lo=null,t_=!1}catch(i){throw Lo!==null&&(Lo=Lo.slice(t+1)),eU(qA,ol),i}finally{rn=e,l1=!1}}return null}var $c=[],Vc=0,$y=null,Vy=0,ta=[],na=0,mu=null,Uo=1,Fo="";function jl(t,e){$c[Vc++]=Vy,$c[Vc++]=$y,$y=t,Vy=e}function OU(t,e,n){ta[na++]=Uo,ta[na++]=Fo,ta[na++]=mu,mu=t;var r=Uo;t=Fo;var i=32-Da(r)-1;r&=~(1<<i),n+=1;var a=32-Da(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Uo=1<<32-Da(e)+i|n<<i|r,Fo=a+t}else Uo=1<<a|n<<i|r,Fo=t}function rT(t){t.return!==null&&(jl(t,1),OU(t,1,0))}function iT(t){for(;t===$y;)$y=$c[--Vc],$c[Vc]=null,Vy=$c[--Vc],$c[Vc]=null;for(;t===mu;)mu=ta[--na],ta[na]=null,Fo=ta[--na],ta[na]=null,Uo=ta[--na],ta[na]=null}var Ni=null,Ri=null,bn=!1,Oa=null;function RU(t,e){var n=ia(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ri=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ri=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mu!==null?{id:Uo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ia(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,Ri=null,!0):!1;default:return!1}}function _M(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bM(t){if(bn){var e=Ri;if(e){var n=e;if(!qO(t,e)){if(_M(t))throw Error(Ie(418));e=Hs(n.nextSibling);var r=Ni;e&&qO(t,e)?RU(r,n):(t.flags=t.flags&-4097|2,bn=!1,Ni=t)}}else{if(_M(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,bn=!1,Ni=t}}}function YO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function ev(t){if(t!==Ni)return!1;if(!bn)return YO(t),bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gM(t.type,t.memoizedProps)),e&&(e=Ri)){if(_M(t))throw IU(),Error(Ie(418));for(;e;)RU(t,e),e=Hs(e.nextSibling)}if(YO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ri=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ri=null}}else Ri=Ni?Hs(t.stateNode.nextSibling):null;return!0}function IU(){for(var t=Ri;t;)t=Hs(t.nextSibling)}function pf(){Ri=Ni=null,bn=!1}function aT(t){Oa===null?Oa=[t]:Oa.push(t)}var SH=rs.ReactCurrentBatchConfig;function qd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,t))}return t}function tv(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function KO(t){var e=t._init;return e(t._payload)}function NU(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=qs(v,x),v.index=0,v.sibling=null,v}function a(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,x,b,M){return x===null||x.tag!==6?(x=m1(b,v.mode,M),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,M){var w=b.type;return w===kc?f(v,x,b.props.children,M,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&KO(w)===x.type)?(M=i(x,b.props),M.ref=qd(v,x,b),M.return=v,M):(M=Ay(b.type,b.key,b.props,null,v.mode,M),M.ref=qd(v,x,b),M.return=v,M)}function u(v,x,b,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=g1(b,v.mode,M),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function f(v,x,b,M,w){return x===null||x.tag!==7?(x=ou(b,v.mode,M,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function c(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=m1(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hg:return b=Ay(x.type,x.key,x.props,null,v.mode,b),b.ref=qd(v,null,x),b.return=v,b;case Dc:return x=g1(x,v.mode,b),x.return=v,x;case As:var M=x._init;return c(v,M(x._payload),b)}if(Eh(x)||Vd(x))return x=ou(x,v.mode,b,null),x.return=v,x;tv(v,x)}return null}function h(v,x,b,M){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(v,x,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hg:return b.key===w?l(v,x,b,M):null;case Dc:return b.key===w?u(v,x,b,M):null;case As:return w=b._init,h(v,x,w(b._payload),M)}if(Eh(b)||Vd(b))return w!==null?null:f(v,x,b,M,null);tv(v,b)}return null}function m(v,x,b,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(b)||null,s(x,v,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Hg:return v=v.get(M.key===null?b:M.key)||null,l(x,v,M,w);case Dc:return v=v.get(M.key===null?b:M.key)||null,u(x,v,M,w);case As:var E=M._init;return m(v,x,b,E(M._payload),w)}if(Eh(M)||Vd(M))return v=v.get(b)||null,f(x,v,M,w,null);tv(x,M)}return null}function g(v,x,b,M){for(var w=null,E=null,P=x,A=x=0,C=null;P!==null&&A<b.length;A++){P.index>A?(C=P,P=null):C=P.sibling;var I=h(v,P,b[A],M);if(I===null){P===null&&(P=C);break}t&&P&&I.alternate===null&&e(v,P),x=a(I,x,A),E===null?w=I:E.sibling=I,E=I,P=C}if(A===b.length)return n(v,P),bn&&jl(v,A),w;if(P===null){for(;A<b.length;A++)P=c(v,b[A],M),P!==null&&(x=a(P,x,A),E===null?w=P:E.sibling=P,E=P);return bn&&jl(v,A),w}for(P=r(v,P);A<b.length;A++)C=m(P,v,A,b[A],M),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?A:C.key),x=a(C,x,A),E===null?w=C:E.sibling=C,E=C);return t&&P.forEach(function(R){return e(v,R)}),bn&&jl(v,A),w}function _(v,x,b,M){var w=Vd(b);if(typeof w!="function")throw Error(Ie(150));if(b=w.call(b),b==null)throw Error(Ie(151));for(var E=w=null,P=x,A=x=0,C=null,I=b.next();P!==null&&!I.done;A++,I=b.next()){P.index>A?(C=P,P=null):C=P.sibling;var R=h(v,P,I.value,M);if(R===null){P===null&&(P=C);break}t&&P&&R.alternate===null&&e(v,P),x=a(R,x,A),E===null?w=R:E.sibling=R,E=R,P=C}if(I.done)return n(v,P),bn&&jl(v,A),w;if(P===null){for(;!I.done;A++,I=b.next())I=c(v,I.value,M),I!==null&&(x=a(I,x,A),E===null?w=I:E.sibling=I,E=I);return bn&&jl(v,A),w}for(P=r(v,P);!I.done;A++,I=b.next())I=m(P,v,A,I.value,M),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?A:I.key),x=a(I,x,A),E===null?w=I:E.sibling=I,E=I);return t&&P.forEach(function(k){return e(v,k)}),bn&&jl(v,A),w}function y(v,x,b,M){if(typeof b=="object"&&b!==null&&b.type===kc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hg:e:{for(var w=b.key,E=x;E!==null;){if(E.key===w){if(w=b.type,w===kc){if(E.tag===7){n(v,E.sibling),x=i(E,b.props.children),x.return=v,v=x;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&KO(w)===E.type){n(v,E.sibling),x=i(E,b.props),x.ref=qd(v,E,b),x.return=v,v=x;break e}n(v,E);break}else e(v,E);E=E.sibling}b.type===kc?(x=ou(b.props.children,v.mode,M,b.key),x.return=v,v=x):(M=Ay(b.type,b.key,b.props,null,v.mode,M),M.ref=qd(v,x,b),M.return=v,v=M)}return o(v);case Dc:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=g1(b,v.mode,M),x.return=v,v=x}return o(v);case As:return E=b._init,y(v,x,E(b._payload),M)}if(Eh(b))return g(v,x,b,M);if(Vd(b))return _(v,x,b,M);tv(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=m1(b,v.mode,M),x.return=v,v=x),o(v)):n(v,x)}return y}var mf=NU(!0),LU=NU(!1),Hy=al(null),Gy=null,Hc=null,oT=null;function sT(){oT=Hc=Gy=null}function lT(t){var e=Hy.current;xn(Hy),t._currentValue=e}function SM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function af(t,e){Gy=t,oT=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function ca(t){var e=t._currentValue;if(oT!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(Gy===null)throw Error(Ie(308));Hc=t,Gy.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var Yl=null;function uT(t){Yl===null?Yl=[t]:Yl.push(t)}function DU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yo(t,r)}function Yo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function cT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $o(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yo(t,n)}return i=r.interleaved,i===null?(e.next=e,uT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yo(t,n)}function _y(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YA(t,n)}}function ZO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wy(t,e,n,r){var i=t.updateQueue;Ts=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(a!==null){var c=i.baseState;o=0,f=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,_=s;switch(h=e,m=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){c=g.call(m,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(m,c,h):g,h==null)break e;c=On({},c,h);break e;case 2:Ts=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=m,l=c):f=f.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);vu|=o,t.lanes=o,t.memoizedState=c}}function JO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var Em={},lo=al(Em),gp=al(Em),vp=al(Em);function Kl(t){if(t===Em)throw Error(Ie(174));return t}function fT(t,e){switch(pn(vp,e),pn(gp,t),pn(lo,Em),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nM(e,t)}xn(lo),pn(lo,e)}function gf(){xn(lo),xn(gp),xn(vp)}function UU(t){Kl(vp.current);var e=Kl(lo.current),n=nM(e,t.type);e!==n&&(pn(gp,t),pn(lo,n))}function dT(t){gp.current===t&&(xn(lo),xn(gp))}var An=al(0);function Xy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var u1=[];function hT(){for(var t=0;t<u1.length;t++)u1[t]._workInProgressVersionPrimary=null;u1.length=0}var by=rs.ReactCurrentDispatcher,c1=rs.ReactCurrentBatchConfig,gu=0,Pn=null,Qn=null,fr=null,qy=!1,Fh=!1,yp=0,wH=0;function Tr(){throw Error(Ie(321))}function pT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fa(t[n],e[n]))return!1;return!0}function mT(t,e,n,r,i,a){if(gu=a,Pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,by.current=t===null||t.memoizedState===null?TH:PH,t=n(r,i),Fh){a=0;do{if(Fh=!1,yp=0,25<=a)throw Error(Ie(301));a+=1,fr=Qn=null,e.updateQueue=null,by.current=CH,t=n(r,i)}while(Fh)}if(by.current=Yy,e=Qn!==null&&Qn.next!==null,gu=0,fr=Qn=Pn=null,qy=!1,e)throw Error(Ie(300));return t}function gT(){var t=yp!==0;return yp=0,t}function to(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Pn.memoizedState=fr=t:fr=fr.next=t,fr}function fa(){if(Qn===null){var t=Pn.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=fr===null?Pn.memoizedState:fr.next;if(e!==null)fr=e,Qn=t;else{if(t===null)throw Error(Ie(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},fr===null?Pn.memoizedState=fr=t:fr=fr.next=t}return fr}function xp(t,e){return typeof e=="function"?e(t):e}function f1(t){var e=fa(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var f=u.lane;if((gu&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,o=r):l=l.next=c,Pn.lanes|=f,vu|=f}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Fa(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Pn.lanes|=a,vu|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function d1(t){var e=fa(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Fa(a,e.memoizedState)||(ci=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function FU(){}function BU(t,e){var n=Pn,r=fa(),i=e(),a=!Fa(r.memoizedState,i);if(a&&(r.memoizedState=i,ci=!0),r=r.queue,vT($U.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,_p(9,jU.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(Ie(349));gu&30||zU(n,e,i)}return i}function zU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jU(t,e,n,r){e.value=n,e.getSnapshot=r,VU(e)&&HU(t)}function $U(t,e,n){return n(function(){VU(e)&&HU(t)})}function VU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fa(t,n)}catch{return!0}}function HU(t){var e=Yo(t,1);e!==null&&ka(e,t,1,-1)}function QO(t){var e=to();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xp,lastRenderedState:t},e.queue=t,t=t.dispatch=AH.bind(null,Pn,t),[e.memoizedState,t]}function _p(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GU(){return fa().memoizedState}function Sy(t,e,n,r){var i=to();Pn.flags|=t,i.memoizedState=_p(1|e,n,void 0,r===void 0?null:r)}function n_(t,e,n,r){var i=fa();r=r===void 0?null:r;var a=void 0;if(Qn!==null){var o=Qn.memoizedState;if(a=o.destroy,r!==null&&pT(r,o.deps)){i.memoizedState=_p(e,n,a,r);return}}Pn.flags|=t,i.memoizedState=_p(1|e,n,a,r)}function eR(t,e){return Sy(8390656,8,t,e)}function vT(t,e){return n_(2048,8,t,e)}function WU(t,e){return n_(4,2,t,e)}function XU(t,e){return n_(4,4,t,e)}function qU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YU(t,e,n){return n=n!=null?n.concat([t]):null,n_(4,4,qU.bind(null,e,t),n)}function yT(){}function KU(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZU(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JU(t,e,n){return gu&21?(Fa(n,e)||(n=rU(),Pn.lanes|=n,vu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function MH(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var r=c1.transition;c1.transition={};try{t(!1),e()}finally{rn=n,c1.transition=r}}function QU(){return fa().memoizedState}function EH(t,e,n){var r=Xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eF(t))tF(e,n);else if(n=DU(t,e,n,r),n!==null){var i=qr();ka(n,t,r,i),nF(n,e,r)}}function AH(t,e,n){var r=Xs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eF(t))tF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Fa(s,o)){var l=e.interleaved;l===null?(i.next=i,uT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DU(t,e,i,r),n!==null&&(i=qr(),ka(n,t,r,i),nF(n,e,r))}}function eF(t){var e=t.alternate;return t===Pn||e!==null&&e===Pn}function tF(t,e){Fh=qy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,YA(t,n)}}var Yy={readContext:ca,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},TH={readContext:ca,useCallback:function(t,e){return to().memoizedState=[t,e===void 0?null:e],t},useContext:ca,useEffect:eR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sy(4194308,4,qU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sy(4,2,t,e)},useMemo:function(t,e){var n=to();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=to();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EH.bind(null,Pn,t),[r.memoizedState,t]},useRef:function(t){var e=to();return t={current:t},e.memoizedState=t},useState:QO,useDebugValue:yT,useDeferredValue:function(t){return to().memoizedState=t},useTransition:function(){var t=QO(!1),e=t[0];return t=MH.bind(null,t[1]),to().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pn,i=to();if(bn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=e(),hr===null)throw Error(Ie(349));gu&30||zU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,eR($U.bind(null,r,a,t),[t]),r.flags|=2048,_p(9,jU.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=to(),e=hr.identifierPrefix;if(bn){var n=Fo,r=Uo;n=(r&~(1<<32-Da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=yp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PH={readContext:ca,useCallback:KU,useContext:ca,useEffect:vT,useImperativeHandle:YU,useInsertionEffect:WU,useLayoutEffect:XU,useMemo:ZU,useReducer:f1,useRef:GU,useState:function(){return f1(xp)},useDebugValue:yT,useDeferredValue:function(t){var e=fa();return JU(e,Qn.memoizedState,t)},useTransition:function(){var t=f1(xp)[0],e=fa().memoizedState;return[t,e]},useMutableSource:FU,useSyncExternalStore:BU,useId:QU,unstable_isNewReconciler:!1},CH={readContext:ca,useCallback:KU,useContext:ca,useEffect:vT,useImperativeHandle:YU,useInsertionEffect:WU,useLayoutEffect:XU,useMemo:ZU,useReducer:d1,useRef:GU,useState:function(){return d1(xp)},useDebugValue:yT,useDeferredValue:function(t){var e=fa();return Qn===null?e.memoizedState=t:JU(e,Qn.memoizedState,t)},useTransition:function(){var t=d1(xp)[0],e=fa().memoizedState;return[t,e]},useMutableSource:FU,useSyncExternalStore:BU,useId:QU,unstable_isNewReconciler:!1};function Ea(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var r_={isMounted:function(t){return(t=t._reactInternals)?Iu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qr(),i=Xs(t),a=$o(r,i);a.payload=e,n!=null&&(a.callback=n),e=Gs(t,a,i),e!==null&&(ka(e,t,i,r),_y(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qr(),i=Xs(t),a=$o(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Gs(t,a,i),e!==null&&(ka(e,t,i,r),_y(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qr(),r=Xs(t),i=$o(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gs(t,i,r),e!==null&&(ka(e,t,r,n),_y(e,t,r))}};function tR(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!dp(n,r)||!dp(i,a):!0}function rF(t,e,n){var r=!1,i=el,a=e.contextType;return typeof a=="object"&&a!==null?a=ca(a):(i=pi(e)?pu:Br.current,r=e.contextTypes,a=(r=r!=null)?hf(t,i):el),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=r_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function nR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&r_.enqueueReplaceState(e,e.state,null)}function MM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ca(a):(a=pi(e)?pu:Br.current,i.context=hf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(wM(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&r_.enqueueReplaceState(i,i.state,null),Wy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vf(t,e){try{var n="",r=e;do n+=r8(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function h1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function EM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OH=typeof WeakMap=="function"?WeakMap:Map;function iF(t,e,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zy||(Zy=!0,DM=r),EM(t,e)},n}function aF(t,e,n){n=$o(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){EM(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){EM(t,e),typeof r!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HH.bind(null,t,e,n),e.then(t,t))}function iR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$o(-1,1),e.tag=2,Gs(n,e,1))),n.lanes|=1),t)}var RH=rs.ReactCurrentOwner,ci=!1;function Hr(t,e,n,r){e.child=t===null?LU(e,null,n,r):mf(e,t.child,n,r)}function oR(t,e,n,r,i){n=n.render;var a=e.ref;return af(e,i),r=mT(t,e,n,r,a,i),n=gT(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(bn&&n&&rT(e),e.flags|=1,Hr(t,e,r,i),e.child)}function sR(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!AT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,oF(t,e,a,r,i)):(t=Ay(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:dp,n(o,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=qs(a,r),t.ref=e.ref,t.return=e,e.child=t}function oF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(dp(a,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return AM(t,e,n,r,i)}function sF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Wc,Pi),Pi|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(Wc,Pi),Pi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,pn(Wc,Pi),Pi|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,pn(Wc,Pi),Pi|=r;return Hr(t,e,i,n),e.child}function lF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function AM(t,e,n,r,i){var a=pi(n)?pu:Br.current;return a=hf(e,a),af(e,i),n=mT(t,e,n,r,a,i),r=gT(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(bn&&r&&rT(e),e.flags|=1,Hr(t,e,n,i),e.child)}function lR(t,e,n,r,i){if(pi(n)){var a=!0;jy(e)}else a=!1;if(af(e,i),e.stateNode===null)wy(t,e),rF(e,n,r),MM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ca(u):(u=pi(n)?pu:Br.current,u=hf(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&nR(e,o,r,u),Ts=!1;var h=e.memoizedState;o.state=h,Wy(e,r,o,i),l=e.memoizedState,s!==r||h!==l||hi.current||Ts?(typeof f=="function"&&(wM(e,n,f,r),l=e.memoizedState),(s=Ts||tR(e,n,s,r,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kU(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ea(e.type,s),o.props=u,c=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ca(l):(l=pi(n)?pu:Br.current,l=hf(e,l));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||h!==l)&&nR(e,o,r,l),Ts=!1,h=e.memoizedState,o.state=h,Wy(e,r,o,i);var g=e.memoizedState;s!==c||h!==g||hi.current||Ts?(typeof m=="function"&&(wM(e,n,m,r),g=e.memoizedState),(u=Ts||tR(e,n,u,r,h,g,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return TM(t,e,n,r,a,i)}function TM(t,e,n,r,i,a){lF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&XO(e,n,!1),Ko(t,e,a);r=e.stateNode,RH.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mf(e,t.child,null,a),e.child=mf(e,null,s,a)):Hr(t,e,s,a),e.memoizedState=r.state,i&&XO(e,n,!0),e.child}function uF(t){var e=t.stateNode;e.pendingContext?WO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WO(t,e.context,!1),fT(t,e.containerInfo)}function uR(t,e,n,r,i){return pf(),aT(i),e.flags|=256,Hr(t,e,n,r),e.child}var PM={dehydrated:null,treeContext:null,retryLane:0};function CM(t){return{baseLanes:t,cachePool:null,transitions:null}}function cF(t,e,n){var r=e.pendingProps,i=An.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(An,i&1),t===null)return bM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=o_(o,r,0,null),t=ou(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=CM(n),e.memoizedState=PM,t):xT(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return IH(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=qs(s,a):(a=ou(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?CM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=PM,r}return a=t.child,t=a.sibling,r=qs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xT(t,e){return e=o_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nv(t,e,n,r){return r!==null&&aT(r),mf(e,t.child,null,n),t=xT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IH(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=h1(Error(Ie(422))),nv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=o_({mode:"visible",children:r.children},i,0,null),a=ou(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&mf(e,t.child,null,o),e.child.memoizedState=CM(o),e.memoizedState=PM,a);if(!(e.mode&1))return nv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Ie(419)),r=h1(a,r,void 0),nv(t,e,o,r)}if(s=(o&t.childLanes)!==0,ci||s){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Yo(t,i),ka(r,t,i,-1))}return ET(),r=h1(Error(Ie(421))),nv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ri=Hs(i.nextSibling),Ni=e,bn=!0,Oa=null,t!==null&&(ta[na++]=Uo,ta[na++]=Fo,ta[na++]=mu,Uo=t.id,Fo=t.overflow,mu=e),e=xT(e,r.children),e.flags|=4096,e)}function cR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),SM(t.return,e,n)}function p1(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function fF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Hr(t,e,r.children,n),r=An.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cR(t,n,e);else if(t.tag===19)cR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(An,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),p1(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}p1(e,!0,n,null,a);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,n=qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NH(t,e,n){switch(e.tag){case 3:uF(e),pf();break;case 5:UU(e);break;case 1:pi(e.type)&&jy(e);break;case 4:fT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(Hy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(An,An.current&1),e.flags|=128,null):n&e.child.childLanes?cF(t,e,n):(pn(An,An.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);pn(An,An.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(An,An.current),r)break;return null;case 22:case 23:return e.lanes=0,sF(t,e,n)}return Ko(t,e,n)}var dF,OM,hF,pF;dF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};OM=function(){};hF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kl(lo.current);var a=null;switch(n){case"input":i=Jw(t,i),r=Jw(t,r),a=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),a=[];break;case"textarea":i=tM(t,i),r=tM(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=By)}rM(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ap.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ap.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};pF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Yd(t,e){if(!bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function LH(t,e,n){var r=e.pendingProps;switch(iT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return pi(e.type)&&zy(),Pr(e),null;case 3:return r=e.stateNode,gf(),xn(hi),xn(Br),hT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ev(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oa!==null&&(FM(Oa),Oa=null))),OM(t,e),Pr(e),null;case 5:dT(e);var i=Kl(vp.current);if(n=e.type,t!==null&&e.stateNode!=null)hF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return Pr(e),null}if(t=Kl(lo.current),ev(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[no]=e,r[mp]=a,t=(e.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(i=0;i<Th.length;i++)mn(Th[i],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":xO(r,a),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},mn("invalid",r);break;case"textarea":bO(r,a),mn("invalid",r)}rM(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Qg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Qg(r.textContent,s,t),i=["children",""+s]):ap.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&mn("scroll",r)}switch(n){case"input":Gg(r),_O(r,a,!0);break;case"textarea":Gg(r),SO(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=By)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$k(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[no]=e,t[mp]=r,dF(t,e,!1,!1),e.stateNode=t;e:{switch(o=iM(n,r),n){case"dialog":mn("cancel",t),mn("close",t),i=r;break;case"iframe":case"object":case"embed":mn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Th.length;i++)mn(Th[i],t);i=r;break;case"source":mn("error",t),i=r;break;case"img":case"image":case"link":mn("error",t),mn("load",t),i=r;break;case"details":mn("toggle",t),i=r;break;case"input":xO(t,r),i=Jw(t,r),mn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),mn("invalid",t);break;case"textarea":bO(t,r),i=tM(t,r),mn("invalid",t);break;default:i=r}rM(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Gk(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vk(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&op(t,l):typeof l=="number"&&op(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ap.hasOwnProperty(a)?l!=null&&a==="onScroll"&&mn("scroll",t):l!=null&&VA(t,a,l,o))}switch(n){case"input":Gg(t),_O(t,r,!1);break;case"textarea":Gg(t),SO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ef(t,!!r.multiple,a,!1):r.defaultValue!=null&&ef(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=By)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(t&&e.stateNode!=null)pF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(n=Kl(vp.current),Kl(lo.current),ev(e)){if(r=e.stateNode,n=e.memoizedProps,r[no]=e,(a=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:Qg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[no]=e,e.stateNode=r}return Pr(e),null;case 13:if(xn(An),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bn&&Ri!==null&&e.mode&1&&!(e.flags&128))IU(),pf(),e.flags|=98560,a=!1;else if(a=ev(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Ie(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ie(317));a[no]=e}else pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),a=!1}else Oa!==null&&(FM(Oa),Oa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||An.current&1?er===0&&(er=3):ET())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return gf(),OM(t,e),t===null&&hp(e.stateNode.containerInfo),Pr(e),null;case 10:return lT(e.type._context),Pr(e),null;case 17:return pi(e.type)&&zy(),Pr(e),null;case 19:if(xn(An),a=e.memoizedState,a===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Yd(a,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xy(t),o!==null){for(e.flags|=128,Yd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(An,An.current&1|2),e.child}t=t.sibling}a.tail!==null&&Fn()>yf&&(e.flags|=128,r=!0,Yd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Xy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Yd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!bn)return Pr(e),null}else 2*Fn()-a.renderingStartTime>yf&&n!==1073741824&&(e.flags|=128,r=!0,Yd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Fn(),e.sibling=null,n=An.current,pn(An,r?n&1|2:n&1),e):(Pr(e),null);case 22:case 23:return MT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pi&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function DH(t,e){switch(iT(e),e.tag){case 1:return pi(e.type)&&zy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),xn(hi),xn(Br),hT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dT(e),null;case 13:if(xn(An),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xn(An),null;case 4:return gf(),null;case 10:return lT(e.type._context),null;case 22:case 23:return MT(),null;case 24:return null;default:return null}}var rv=!1,Nr=!1,kH=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Gc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ln(t,e,r)}else n.current=null}function RM(t,e,n){try{n()}catch(r){Ln(t,e,r)}}var fR=!1;function UH(t,e){if(pM=ky,t=xU(),nT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,f=0,c=t,h=null;t:for(;;){for(var m;c!==n||i!==0&&c.nodeType!==3||(s=o+i),c!==a||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(m=c.firstChild)!==null;)h=c,c=m;for(;;){if(c===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++f===r&&(l=o),(m=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mM={focusedElem:t,selectionRange:n},ky=!1,rt=e;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ea(e.type,_),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(M){Ln(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}return g=fR,fR=!1,g}function Bh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&RM(e,n,a)}i=i.next}while(i!==r)}}function i_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function IM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mF(t){var e=t.alternate;e!==null&&(t.alternate=null,mF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[no],delete e[mp],delete e[yM],delete e[xH],delete e[_H])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gF(t){return t.tag===5||t.tag===3||t.tag===4}function dR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function NM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=By));else if(r!==4&&(t=t.child,t!==null))for(NM(t,e,n),t=t.sibling;t!==null;)NM(t,e,n),t=t.sibling}function LM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(LM(t,e,n),t=t.sibling;t!==null;)LM(t,e,n),t=t.sibling}var vr=null,Aa=!1;function ys(t,e,n){for(n=n.child;n!==null;)vF(t,e,n),n=n.sibling}function vF(t,e,n){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(Kx,n)}catch{}switch(n.tag){case 5:Nr||Gc(n,e);case 6:var r=vr,i=Aa;vr=null,ys(t,e,n),vr=r,Aa=i,vr!==null&&(Aa?(t=vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(Aa?(t=vr,n=n.stateNode,t.nodeType===8?s1(t.parentNode,n):t.nodeType===1&&s1(t,n),cp(t)):s1(vr,n.stateNode));break;case 4:r=vr,i=Aa,vr=n.stateNode.containerInfo,Aa=!0,ys(t,e,n),vr=r,Aa=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&RM(n,e,o),i=i.next}while(i!==r)}ys(t,e,n);break;case 1:if(!Nr&&(Gc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ln(n,e,s)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,ys(t,e,n),Nr=r):ys(t,e,n);break;default:ys(t,e,n)}}function hR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new kH),e.forEach(function(r){var i=WH.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _a(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:vr=s.stateNode,Aa=!1;break e;case 3:vr=s.stateNode.containerInfo,Aa=!0;break e;case 4:vr=s.stateNode.containerInfo,Aa=!0;break e}s=s.return}if(vr===null)throw Error(Ie(160));vF(a,o,i),vr=null,Aa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ln(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yF(e,t),e=e.sibling}function yF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_a(e,t),Ka(t),r&4){try{Bh(3,t,t.return),i_(3,t)}catch(_){Ln(t,t.return,_)}try{Bh(5,t,t.return)}catch(_){Ln(t,t.return,_)}}break;case 1:_a(e,t),Ka(t),r&512&&n!==null&&Gc(n,n.return);break;case 5:if(_a(e,t),Ka(t),r&512&&n!==null&&Gc(n,n.return),t.flags&32){var i=t.stateNode;try{op(i,"")}catch(_){Ln(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&zk(i,a),iM(s,o);var u=iM(s,a);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?Gk(i,c):f==="dangerouslySetInnerHTML"?Vk(i,c):f==="children"?op(i,c):VA(i,f,c,u)}switch(s){case"input":Qw(i,a);break;case"textarea":jk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ef(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?ef(i,!!a.multiple,a.defaultValue,!0):ef(i,!!a.multiple,a.multiple?[]:"",!1))}i[mp]=a}catch(_){Ln(t,t.return,_)}}break;case 6:if(_a(e,t),Ka(t),r&4){if(t.stateNode===null)throw Error(Ie(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(_){Ln(t,t.return,_)}}break;case 3:if(_a(e,t),Ka(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cp(e.containerInfo)}catch(_){Ln(t,t.return,_)}break;case 4:_a(e,t),Ka(t);break;case 13:_a(e,t),Ka(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(ST=Fn())),r&4&&hR(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Nr=(u=Nr)||f,_a(e,t),Nr=u):_a(e,t),Ka(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(rt=t,f=t.child;f!==null;){for(c=rt=f;rt!==null;){switch(h=rt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Bh(4,h,h.return);break;case 1:Gc(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Ln(r,n,_)}}break;case 5:Gc(h,h.return);break;case 22:if(h.memoizedState!==null){mR(c);continue}}m!==null?(m.return=h,rt=m):mR(c)}f=f.sibling}e:for(f=null,c=t;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Hk("display",o))}catch(_){Ln(t,t.return,_)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(_){Ln(t,t.return,_)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:_a(e,t),Ka(t),r&4&&hR(t);break;case 21:break;default:_a(e,t),Ka(t)}}function Ka(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gF(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(op(i,""),r.flags&=-33);var a=dR(t);LM(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=dR(t);NM(t,s,o);break;default:throw Error(Ie(161))}}catch(l){Ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FH(t,e,n){rt=t,xF(t)}function xF(t,e,n){for(var r=(t.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||rv;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nr;s=rv;var u=Nr;if(rv=o,(Nr=l)&&!u)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?gR(i):l!==null?(l.return=o,rt=l):gR(i);for(;a!==null;)rt=a,xF(a),a=a.sibling;rt=i,rv=s,Nr=u}pR(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):pR(t)}}function pR(t){for(;rt!==null;){var e=rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||i_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ea(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&JO(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}JO(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&cp(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Nr||e.flags&512&&IM(e)}catch(h){Ln(e,e.return,h)}}if(e===t){rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}}function mR(t){for(;rt!==null;){var e=rt;if(e===t){rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,rt=n;break}rt=e.return}}function gR(t){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{i_(4,e)}catch(l){Ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ln(e,i,l)}}var a=e.return;try{IM(e)}catch(l){Ln(e,a,l)}break;case 5:var o=e.return;try{IM(e)}catch(l){Ln(e,o,l)}}}catch(l){Ln(e,e.return,l)}if(e===t){rt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,rt=s;break}rt=e.return}}var BH=Math.ceil,Ky=rs.ReactCurrentDispatcher,_T=rs.ReactCurrentOwner,oa=rs.ReactCurrentBatchConfig,Ht=0,hr=null,Wn=null,xr=0,Pi=0,Wc=al(0),er=0,bp=null,vu=0,a_=0,bT=0,zh=null,si=null,ST=0,yf=1/0,No=null,Zy=!1,DM=null,Ws=null,iv=!1,Ds=null,Jy=0,jh=0,kM=null,My=-1,Ey=0;function qr(){return Ht&6?Fn():My!==-1?My:My=Fn()}function Xs(t){return t.mode&1?Ht&2&&xr!==0?xr&-xr:SH.transition!==null?(Ey===0&&(Ey=rU()),Ey):(t=rn,t!==0||(t=window.event,t=t===void 0?16:cU(t.type)),t):1}function ka(t,e,n,r){if(50<jh)throw jh=0,kM=null,Error(Ie(185));Sm(t,n,r),(!(Ht&2)||t!==hr)&&(t===hr&&(!(Ht&2)&&(a_|=n),er===4&&Rs(t,xr)),mi(t,r),n===1&&Ht===0&&!(e.mode&1)&&(yf=Fn()+500,t_&&ol()))}function mi(t,e){var n=t.callbackNode;S8(t,e);var r=Dy(t,t===hr?xr:0);if(r===0)n!==null&&EO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&EO(n),e===1)t.tag===0?bH(vR.bind(null,t)):CU(vR.bind(null,t)),vH(function(){!(Ht&6)&&ol()}),n=null;else{switch(iU(r)){case 1:n=qA;break;case 4:n=tU;break;case 16:n=Ly;break;case 536870912:n=nU;break;default:n=Ly}n=TF(n,_F.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _F(t,e){if(My=-1,Ey=0,Ht&6)throw Error(Ie(327));var n=t.callbackNode;if(of()&&t.callbackNode!==n)return null;var r=Dy(t,t===hr?xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qy(t,r);else{e=r;var i=Ht;Ht|=2;var a=SF();(hr!==t||xr!==e)&&(No=null,yf=Fn()+500,au(t,e));do try{$H();break}catch(s){bF(t,s)}while(!0);sT(),Ky.current=a,Ht=i,Wn!==null?e=0:(hr=null,xr=0,e=er)}if(e!==0){if(e===2&&(i=uM(t),i!==0&&(r=i,e=UM(t,i))),e===1)throw n=bp,au(t,0),Rs(t,r),mi(t,Fn()),n;if(e===6)Rs(t,r);else{if(i=t.current.alternate,!(r&30)&&!zH(i)&&(e=Qy(t,r),e===2&&(a=uM(t),a!==0&&(r=a,e=UM(t,a))),e===1))throw n=bp,au(t,0),Rs(t,r),mi(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:$l(t,si,No);break;case 3:if(Rs(t,r),(r&130023424)===r&&(e=ST+500-Fn(),10<e)){if(Dy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vM($l.bind(null,t,si,No),e);break}$l(t,si,No);break;case 4:if(Rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Da(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BH(r/1960))-r,10<r){t.timeoutHandle=vM($l.bind(null,t,si,No),r);break}$l(t,si,No);break;case 5:$l(t,si,No);break;default:throw Error(Ie(329))}}}return mi(t,Fn()),t.callbackNode===n?_F.bind(null,t):null}function UM(t,e){var n=zh;return t.current.memoizedState.isDehydrated&&(au(t,e).flags|=256),t=Qy(t,e),t!==2&&(e=si,si=n,e!==null&&FM(e)),t}function FM(t){si===null?si=t:si.push.apply(si,t)}function zH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~bT,e&=~a_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Da(e),r=1<<n;t[n]=-1,e&=~r}}function vR(t){if(Ht&6)throw Error(Ie(327));of();var e=Dy(t,0);if(!(e&1))return mi(t,Fn()),null;var n=Qy(t,e);if(t.tag!==0&&n===2){var r=uM(t);r!==0&&(e=r,n=UM(t,r))}if(n===1)throw n=bp,au(t,0),Rs(t,e),mi(t,Fn()),n;if(n===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,si,No),mi(t,Fn()),null}function wT(t,e){var n=Ht;Ht|=1;try{return t(e)}finally{Ht=n,Ht===0&&(yf=Fn()+500,t_&&ol())}}function yu(t){Ds!==null&&Ds.tag===0&&!(Ht&6)&&of();var e=Ht;Ht|=1;var n=oa.transition,r=rn;try{if(oa.transition=null,rn=1,t)return t()}finally{rn=r,oa.transition=n,Ht=e,!(Ht&6)&&ol()}}function MT(){Pi=Wc.current,xn(Wc)}function au(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gH(n)),Wn!==null)for(n=Wn.return;n!==null;){var r=n;switch(iT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zy();break;case 3:gf(),xn(hi),xn(Br),hT();break;case 5:dT(r);break;case 4:gf();break;case 13:xn(An);break;case 19:xn(An);break;case 10:lT(r.type._context);break;case 22:case 23:MT()}n=n.return}if(hr=t,Wn=t=qs(t.current,null),xr=Pi=e,er=0,bp=null,bT=a_=vu=0,si=zh=null,Yl!==null){for(e=0;e<Yl.length;e++)if(n=Yl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Yl=null}return t}function bF(t,e){do{var n=Wn;try{if(sT(),by.current=Yy,qy){for(var r=Pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qy=!1}if(gu=0,fr=Qn=Pn=null,Fh=!1,yp=0,_T.current=null,n===null||n.return===null){er=1,bp=e,Wn=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=xr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=iR(o);if(m!==null){m.flags&=-257,aR(m,o,s,a,e),m.mode&1&&rR(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){rR(a,u,e),ET();break e}l=Error(Ie(426))}}else if(bn&&s.mode&1){var y=iR(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),aR(y,o,s,a,e),aT(vf(l,s));break e}}a=l=vf(l,s),er!==4&&(er=2),zh===null?zh=[a]:zh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=iF(a,l,e);ZO(a,v);break e;case 1:s=l;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ws===null||!Ws.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var M=aF(a,s,e);ZO(a,M);break e}}a=a.return}while(a!==null)}MF(n)}catch(w){e=w,Wn===n&&n!==null&&(Wn=n=n.return);continue}break}while(!0)}function SF(){var t=Ky.current;return Ky.current=Yy,t===null?Yy:t}function ET(){(er===0||er===3||er===2)&&(er=4),hr===null||!(vu&268435455)&&!(a_&268435455)||Rs(hr,xr)}function Qy(t,e){var n=Ht;Ht|=2;var r=SF();(hr!==t||xr!==e)&&(No=null,au(t,e));do try{jH();break}catch(i){bF(t,i)}while(!0);if(sT(),Ht=n,Ky.current=r,Wn!==null)throw Error(Ie(261));return hr=null,xr=0,er}function jH(){for(;Wn!==null;)wF(Wn)}function $H(){for(;Wn!==null&&!h8();)wF(Wn)}function wF(t){var e=AF(t.alternate,t,Pi);t.memoizedProps=t.pendingProps,e===null?MF(t):Wn=e,_T.current=null}function MF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DH(n,e),n!==null){n.flags&=32767,Wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Wn=null;return}}else if(n=LH(n,e,Pi),n!==null){Wn=n;return}if(e=e.sibling,e!==null){Wn=e;return}Wn=e=t}while(e!==null);er===0&&(er=5)}function $l(t,e,n){var r=rn,i=oa.transition;try{oa.transition=null,rn=1,VH(t,e,n,r)}finally{oa.transition=i,rn=r}return null}function VH(t,e,n,r){do of();while(Ds!==null);if(Ht&6)throw Error(Ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(w8(t,a),t===hr&&(Wn=hr=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iv||(iv=!0,TF(Ly,function(){return of(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=oa.transition,oa.transition=null;var o=rn;rn=1;var s=Ht;Ht|=4,_T.current=null,UH(t,n),yF(n,t),uH(mM),ky=!!pM,mM=pM=null,t.current=n,FH(n),p8(),Ht=s,rn=o,oa.transition=a}else t.current=n;if(iv&&(iv=!1,Ds=t,Jy=i),a=t.pendingLanes,a===0&&(Ws=null),v8(n.stateNode),mi(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zy)throw Zy=!1,t=DM,DM=null,t;return Jy&1&&t.tag!==0&&of(),a=t.pendingLanes,a&1?t===kM?jh++:(jh=0,kM=t):jh=0,ol(),null}function of(){if(Ds!==null){var t=iU(Jy),e=oa.transition,n=rn;try{if(oa.transition=null,rn=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,Jy=0,Ht&6)throw Error(Ie(331));var i=Ht;for(Ht|=4,rt=t.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(rt=u;rt!==null;){var f=rt;switch(f.tag){case 0:case 11:case 15:Bh(8,f,a)}var c=f.child;if(c!==null)c.return=f,rt=c;else for(;rt!==null;){f=rt;var h=f.sibling,m=f.return;if(mF(f),f===u){rt=null;break}if(h!==null){h.return=m,rt=h;break}rt=m}}}var g=a.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,rt=v;break e}rt=a.return}}var x=t.current;for(rt=x;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=x;rt!==null;){if(s=rt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:i_(9,s)}}catch(w){Ln(s,s.return,w)}if(s===o){rt=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,rt=M;break e}rt=s.return}}if(Ht=i,ol(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(Kx,t)}catch{}r=!0}return r}finally{rn=n,oa.transition=e}}return!1}function yR(t,e,n){e=vf(n,e),e=iF(t,e,1),t=Gs(t,e,1),e=qr(),t!==null&&(Sm(t,1,e),mi(t,e))}function Ln(t,e,n){if(t.tag===3)yR(t,t,n);else for(;e!==null;){if(e.tag===3){yR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){t=vf(n,t),t=aF(e,t,1),e=Gs(e,t,1),t=qr(),e!==null&&(Sm(e,1,t),mi(e,t));break}}e=e.return}}function HH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(xr&n)===n&&(er===4||er===3&&(xr&130023424)===xr&&500>Fn()-ST?au(t,0):bT|=n),mi(t,e)}function EF(t,e){e===0&&(t.mode&1?(e=qg,qg<<=1,!(qg&130023424)&&(qg=4194304)):e=1);var n=qr();t=Yo(t,e),t!==null&&(Sm(t,e,n),mi(t,n))}function GH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EF(t,n)}function WH(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),EF(t,n)}var AF;AF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hi.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,NH(t,e,n);ci=!!(t.flags&131072)}else ci=!1,bn&&e.flags&1048576&&OU(e,Vy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wy(t,e),t=e.pendingProps;var i=hf(e,Br.current);af(e,n),i=mT(null,e,r,t,i,n);var a=gT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(r)?(a=!0,jy(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cT(e),i.updater=r_,e.stateNode=i,i._reactInternals=e,MM(e,r,t,n),e=TM(null,e,r,!0,a,n)):(e.tag=0,bn&&a&&rT(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qH(r),t=Ea(r,t),i){case 0:e=AM(null,e,r,t,n);break e;case 1:e=lR(null,e,r,t,n);break e;case 11:e=oR(null,e,r,t,n);break e;case 14:e=sR(null,e,r,Ea(r.type,t),n);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),AM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),lR(t,e,r,i,n);case 3:e:{if(uF(e),t===null)throw Error(Ie(387));r=e.pendingProps,a=e.memoizedState,i=a.element,kU(t,e),Wy(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=vf(Error(Ie(423)),e),e=uR(t,e,r,n,i);break e}else if(r!==i){i=vf(Error(Ie(424)),e),e=uR(t,e,r,n,i);break e}else for(Ri=Hs(e.stateNode.containerInfo.firstChild),Ni=e,bn=!0,Oa=null,n=LU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pf(),r===i){e=Ko(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return UU(e),t===null&&bM(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,gM(r,i)?o=null:a!==null&&gM(r,a)&&(e.flags|=32),lF(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&bM(e),null;case 13:return cF(t,e,n);case 4:return fT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mf(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),oR(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,pn(Hy,r._currentValue),r._currentValue=o,a!==null)if(Fa(a.value,o)){if(a.children===i.children&&!hi.current){e=Ko(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=$o(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),SM(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ie(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),SM(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,af(e,n),i=ca(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=Ea(r,e.pendingProps),i=Ea(r.type,i),sR(t,e,r,i,n);case 15:return oF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),wy(t,e),e.tag=1,pi(r)?(t=!0,jy(e)):t=!1,af(e,n),rF(e,r,i),MM(e,r,i,n),TM(null,e,r,!0,t,n);case 19:return fF(t,e,n);case 22:return sF(t,e,n)}throw Error(Ie(156,e.tag))};function TF(t,e){return eU(t,e)}function XH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,n,r){return new XH(t,e,n,r)}function AT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qH(t){if(typeof t=="function")return AT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===GA)return 11;if(t===WA)return 14}return 2}function qs(t,e){var n=t.alternate;return n===null?(n=ia(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ay(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")AT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kc:return ou(n.children,i,a,e);case HA:o=8,i|=8;break;case qw:return t=ia(12,n,e,i|2),t.elementType=qw,t.lanes=a,t;case Yw:return t=ia(13,n,e,i),t.elementType=Yw,t.lanes=a,t;case Kw:return t=ia(19,n,e,i),t.elementType=Kw,t.lanes=a,t;case Uk:return o_(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dk:o=10;break e;case kk:o=9;break e;case GA:o=11;break e;case WA:o=14;break e;case As:o=16,r=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=ia(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ou(t,e,n,r){return t=ia(7,t,r,e),t.lanes=n,t}function o_(t,e,n,r){return t=ia(22,t,r,e),t.elementType=Uk,t.lanes=n,t.stateNode={isHidden:!1},t}function m1(t,e,n){return t=ia(6,t,null,e),t.lanes=n,t}function g1(t,e,n){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=KS(0),this.expirationTimes=KS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=KS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function TT(t,e,n,r,i,a,o,s,l){return t=new YH(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ia(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cT(a),t}function KH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PF(t){if(!t)return el;t=t._reactInternals;e:{if(Iu(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var n=t.type;if(pi(n))return PU(t,n,e)}return e}function CF(t,e,n,r,i,a,o,s,l){return t=TT(n,r,!0,t,i,a,o,s,l),t.context=PF(null),n=t.current,r=qr(),i=Xs(n),a=$o(r,i),a.callback=e??null,Gs(n,a,i),t.current.lanes=i,Sm(t,i,r),mi(t,r),t}function s_(t,e,n,r){var i=e.current,a=qr(),o=Xs(i);return n=PF(n),e.context===null?e.context=n:e.pendingContext=n,e=$o(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gs(i,e,o),t!==null&&(ka(t,i,o,a),_y(t,i,o)),o}function e0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function PT(t,e){xR(t,e),(t=t.alternate)&&xR(t,e)}function ZH(){return null}var OF=typeof reportError=="function"?reportError:function(t){console.error(t)};function CT(t){this._internalRoot=t}l_.prototype.render=CT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));s_(t,e,null,null)};l_.prototype.unmount=CT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yu(function(){s_(null,t,null,null)}),e[qo]=null}};function l_(t){this._internalRoot=t}l_.prototype.unstable_scheduleHydration=function(t){if(t){var e=sU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&uU(t)}};function OT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _R(){}function JH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=e0(o);a.call(u)}}var o=CF(e,r,t,0,null,!1,!1,"",_R);return t._reactRootContainer=o,t[qo]=o.current,hp(t.nodeType===8?t.parentNode:t),yu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=e0(l);s.call(u)}}var l=TT(t,0,!1,null,null,!1,!1,"",_R);return t._reactRootContainer=l,t[qo]=l.current,hp(t.nodeType===8?t.parentNode:t),yu(function(){s_(e,l,n,r)}),l}function c_(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=e0(o);s.call(l)}}s_(e,o,t,i)}else o=JH(n,e,t,i,r);return e0(o)}aU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ah(e.pendingLanes);n!==0&&(YA(e,n|1),mi(e,Fn()),!(Ht&6)&&(yf=Fn()+500,ol()))}break;case 13:yu(function(){var r=Yo(t,1);if(r!==null){var i=qr();ka(r,t,1,i)}}),PT(t,1)}};KA=function(t){if(t.tag===13){var e=Yo(t,134217728);if(e!==null){var n=qr();ka(e,t,134217728,n)}PT(t,134217728)}};oU=function(t){if(t.tag===13){var e=Xs(t),n=Yo(t,e);if(n!==null){var r=qr();ka(n,t,e,r)}PT(t,e)}};sU=function(){return rn};lU=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};oM=function(t,e,n){switch(e){case"input":if(Qw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=e_(r);if(!i)throw Error(Ie(90));Bk(r),Qw(r,i)}}}break;case"textarea":jk(t,n);break;case"select":e=n.value,e!=null&&ef(t,!!n.multiple,e,!1)}};qk=wT;Yk=yu;var QH={usingClientEntryPoint:!1,Events:[Mm,zc,e_,Wk,Xk,wT]},Kd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e6={bundleType:Kd.bundleType,version:Kd.version,rendererPackageName:Kd.rendererPackageName,rendererConfig:Kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jk(t),t===null?null:t.stateNode},findFiberByHostInstance:Kd.findFiberByHostInstance||ZH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!av.isDisabled&&av.supportsFiber)try{Kx=av.inject(e6),so=av}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QH;Bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OT(e))throw Error(Ie(200));return KH(t,e,null,n)};Bi.createRoot=function(t,e){if(!OT(t))throw Error(Ie(299));var n=!1,r="",i=OF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=TT(t,1,!1,null,null,n,!1,r,i),t[qo]=e.current,hp(t.nodeType===8?t.parentNode:t),new CT(e)};Bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=Jk(e),t=t===null?null:t.stateNode,t};Bi.flushSync=function(t){return yu(t)};Bi.hydrate=function(t,e,n){if(!u_(e))throw Error(Ie(200));return c_(null,t,e,!0,n)};Bi.hydrateRoot=function(t,e,n){if(!OT(t))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=OF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CF(e,null,t,1,n??null,i,!1,a,o),t[qo]=e.current,hp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new l_(e)};Bi.render=function(t,e,n){if(!u_(e))throw Error(Ie(200));return c_(null,t,e,!1,n)};Bi.unmountComponentAtNode=function(t){if(!u_(t))throw Error(Ie(40));return t._reactRootContainer?(yu(function(){c_(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};Bi.unstable_batchedUpdates=wT;Bi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!u_(n))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return c_(t,e,n,!1,r)};Bi.version="18.3.1-next-f1338f8080-20240426";function RF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RF)}catch(t){console.error(t)}}RF(),Rk.exports=Bi;var t6=Rk.exports,bR=t6;Ww.createRoot=bR.createRoot,Ww.hydrateRoot=bR.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const SR="popstate";function n6(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return BM("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:t0(i)}return i6(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r6(){return Math.random().toString(36).substr(2,8)}function wR(t,e){return{usr:t.state,key:t.key,idx:e}}function BM(t,e,n,r){return n===void 0&&(n=null),Sp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qf(e):e,{state:n,key:e&&e.key||r||r6()})}function t0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ks.Pop,l=null,u=f();u==null&&(u=0,o.replaceState(Sp({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function c(){s=ks.Pop;let y=f(),v=y==null?null:y-u;u=y,l&&l({action:s,location:_.location,delta:v})}function h(y,v){s=ks.Push;let x=BM(_.location,y,v);u=f()+1;let b=wR(x,u),M=_.createHref(x);try{o.pushState(b,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(M)}a&&l&&l({action:s,location:_.location,delta:1})}function m(y,v){s=ks.Replace;let x=BM(_.location,y,v);u=f();let b=wR(x,u),M=_.createHref(x);o.replaceState(b,"",M),a&&l&&l({action:s,location:_.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:t0(y);return x=x.replace(/ $/,"%20"),jn(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let _={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SR,c),l=y,()=>{i.removeEventListener(SR,c),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return _}var MR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MR||(MR={}));function a6(t,e,n){return n===void 0&&(n="/"),o6(t,e,n)}function o6(t,e,n,r){let i=typeof e=="string"?Qf(e):e,a=IT(i.pathname||"/",n);if(a==null)return null;let o=IF(t);s6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=x6(a);s=g6(o[l],u)}return s}function IF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ys([r,l.relativePath]),f=n.concat(l);a.children&&a.children.length>0&&(jn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),IF(a.children,e,f,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:p6(u,a.index),routesMeta:f})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of NF(a.path))i(a,o,l)}),e}function NF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=NF(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function s6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l6=/^:[\w-]+$/,u6=3,c6=2,f6=1,d6=10,h6=-2,ER=t=>t==="*";function p6(t,e){let n=t.split("/"),r=n.length;return n.some(ER)&&(r+=h6),e&&(r+=c6),n.filter(i=>!ER(i)).reduce((i,a)=>i+(l6.test(a)?u6:a===""?f6:d6),r)}function m6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function g6(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",c=v6({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),h=l.route;if(!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:Ys([a,c.pathname]),pathnameBase:M6(Ys([a,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(a=Ys([a,c.pathnameBase]))}return o}function v6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,f,c)=>{let{paramName:h,isOptional:m}=f;if(h==="*"){let _=s[c]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const g=s[c];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function y6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),RT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function x6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const _6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,b6=t=>_6.test(t);function S6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qf(t):t,a;if(n)if(b6(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),RT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=AR(n.substring(1),"/"):a=AR(n,e)}else a=e;return{pathname:a,search:E6(r),hash:A6(i)}}function AR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function v1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NT(t,e){let n=w6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function LT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qf(t):(i=Sp({},t),jn(!i.pathname||!i.pathname.includes("?"),v1("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),v1("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),v1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let c=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),c-=1;i.pathname=h.join("/")}s=c>=0?e[c]:"/"}let l=S6(i,s),u=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Ys=t=>t.join("/").replace(/\/\/+/g,"/"),M6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function T6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const LF=["post","put","patch","delete"];new Set(LF);const P6=["get",...LF];new Set(P6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}const DT=z.createContext(null),C6=z.createContext(null),sl=z.createContext(null),f_=z.createContext(null),is=z.createContext({outlet:null,matches:[],isDataRoute:!1}),DF=z.createContext(null);function O6(t,e){let{relative:n}=e===void 0?{}:e;ed()||jn(!1);let{basename:r,navigator:i}=z.useContext(sl),{hash:a,pathname:o,search:s}=UF(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ys([r,o])),i.createHref({pathname:l,search:s,hash:a})}function ed(){return z.useContext(f_)!=null}function td(){return ed()||jn(!1),z.useContext(f_).location}function kF(t){z.useContext(sl).static||z.useLayoutEffect(t)}function kT(){let{isDataRoute:t}=z.useContext(is);return t?H6():R6()}function R6(){ed()||jn(!1);let t=z.useContext(DT),{basename:e,future:n,navigator:r}=z.useContext(sl),{matches:i}=z.useContext(is),{pathname:a}=td(),o=JSON.stringify(NT(i,n.v7_relativeSplatPath)),s=z.useRef(!1);return kF(()=>{s.current=!0}),z.useCallback(function(u,f){if(f===void 0&&(f={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let c=LT(u,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ys([e,c.pathname])),(f.replace?r.replace:r.push)(c,f.state,f)},[e,r,o,a,t])}function I6(){let{matches:t}=z.useContext(is),e=t[t.length-1];return e?e.params:{}}function UF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(sl),{matches:i}=z.useContext(is),{pathname:a}=td(),o=JSON.stringify(NT(i,r.v7_relativeSplatPath));return z.useMemo(()=>LT(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function N6(t,e){return L6(t,e)}function L6(t,e,n,r){ed()||jn(!1);let{navigator:i}=z.useContext(sl),{matches:a}=z.useContext(is),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=td(),f;if(e){var c;let y=typeof e=="string"?Qf(e):e;l==="/"||(c=y.pathname)!=null&&c.startsWith(l)||jn(!1),f=y}else f=u;let h=f.pathname||"/",m=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=a6(t,{pathname:m}),_=B6(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ys([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ys([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&_?z.createElement(f_.Provider,{value:{location:wp({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ks.Pop}},_):_}function D6(){let t=V6(),e=T6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const k6=z.createElement(D6,null);class U6 extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(is.Provider,{value:this.props.routeContext},z.createElement(DF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F6(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(DT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(is.Provider,{value:e},r)}function B6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let f=o.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);f>=0||jn(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let c=o[f];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=f),c.route.id){let{loaderData:h,errors:m}=n,g=c.route.loader&&h[c.route.id]===void 0&&(!m||m[c.route.id]===void 0);if(c.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,c,h)=>{let m,g=!1,_=null,y=null;n&&(m=s&&c.route.id?s[c.route.id]:void 0,_=c.route.errorElement||k6,l&&(u<0&&h===0?(G6("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=c.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),x=()=>{let b;return m?b=_:g?b=y:c.route.Component?b=z.createElement(c.route.Component,null):c.route.element?b=c.route.element:b=f,z.createElement(F6,{match:c,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:b})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?z.createElement(U6,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var FF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FF||{}),BF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(BF||{});function z6(t){let e=z.useContext(DT);return e||jn(!1),e}function j6(t){let e=z.useContext(C6);return e||jn(!1),e}function $6(t){let e=z.useContext(is);return e||jn(!1),e}function zF(t){let e=$6(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function V6(){var t;let e=z.useContext(DF),n=j6(),r=zF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function H6(){let{router:t}=z6(FF.UseNavigateStable),e=zF(BF.UseNavigateStable),n=z.useRef(!1);return kF(()=>{n.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,wp({fromRouteId:e},a)))},[t,e])}const TR={};function G6(t,e,n){TR[t]||(TR[t]=!0)}function W6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function X6(t){let{to:e,replace:n,state:r,relative:i}=t;ed()||jn(!1);let{future:a,static:o}=z.useContext(sl),{matches:s}=z.useContext(is),{pathname:l}=td(),u=kT(),f=LT(e,NT(s,a.v7_relativeSplatPath),l,i==="path"),c=JSON.stringify(f);return z.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function Ic(t){jn(!1)}function q6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ks.Pop,navigator:a,static:o=!1,future:s}=t;ed()&&jn(!1);let l=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:a,static:o,future:wp({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Qf(r));let{pathname:f="/",search:c="",hash:h="",state:m=null,key:g="default"}=r,_=z.useMemo(()=>{let y=IT(f,l);return y==null?null:{location:{pathname:y,search:c,hash:h,state:m,key:g},navigationType:i}},[l,f,c,h,m,g,i]);return _==null?null:z.createElement(sl.Provider,{value:u},z.createElement(f_.Provider,{children:n,value:_}))}function Y6(t){let{children:e,location:n}=t;return N6(zM(e),n)}new Promise(()=>{});function zM(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,zM(r.props.children,a));return}r.type!==Ic&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=zM(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jM(){return jM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jM.apply(this,arguments)}function K6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Z6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function J6(t,e){return t.button===0&&(!e||e==="_self")&&!Z6(t)}const Q6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eG="6";try{window.__reactRouterVersion=eG}catch{}const tG="startTransition",PR=HV[tG];function nG(t){let{basename:e,children:n,future:r,window:i}=t,a=z.useRef();a.current==null&&(a.current=n6({window:i,v5Compat:!0}));let o=a.current,[s,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},f=z.useCallback(c=>{u&&PR?PR(()=>l(c)):l(c)},[l,u]);return z.useLayoutEffect(()=>o.listen(f),[o,f]),z.useEffect(()=>W6(r),[r]),z.createElement(q6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const rG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:f,viewTransition:c}=e,h=K6(e,Q6),{basename:m}=z.useContext(sl),g,_=!1;if(typeof u=="string"&&iG.test(u)&&(g=u,rG))try{let b=new URL(window.location.href),M=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=IT(M.pathname,m);M.origin===b.origin&&w!=null?u=w+M.search+M.hash:_=!0}catch{}let y=O6(u,{relative:i}),v=aG(u,{replace:o,state:s,target:l,preventScrollReset:f,relative:i,viewTransition:c});function x(b){r&&r(b),b.defaultPrevented||v(b)}return z.createElement("a",jM({},h,{href:g||y,onClick:_||a?r:x,ref:n,target:l}))});var CR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(CR||(CR={}));var OR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OR||(OR={}));function aG(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=kT(),u=td(),f=UF(t,{relative:o});return z.useCallback(c=>{if(J6(c,n)){c.preventDefault();let h=r!==void 0?r:t0(u)===t0(f);l(t,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,f,r,i,n,t,a,o,s])}const oG=()=>{const[t,e]=z.useState(!1);return z.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)");e(n.matches);const r=i=>e(i.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),t},sG=({children:t,width:e=200,height:n=80,borderRadius:r=20,borderWidth:i=.07,brightness:a=50,opacity:o=.93,blur:s=11,displace:l=0,backgroundOpacity:u=0,saturation:f=1,distortionScale:c=-180,redOffset:h=0,greenOffset:m=10,blueOffset:g=20,xChannel:_="R",yChannel:y="G",mixBlendMode:v="difference",className:x="",style:b={}})=>{const M=z.useId().replace(/:/g,"-"),w=`glass-filter-${M}`,E=`red-grad-${M}`,P=`blue-grad-${M}`,[A,C]=z.useState(!1),I=z.useRef(null),R=z.useRef(null),k=z.useRef(null),F=z.useRef(null),G=z.useRef(null),$=z.useRef(null),V=oG(),H=()=>{var me;const we=(me=I.current)==null?void 0:me.getBoundingClientRect(),De=(we==null?void 0:we.width)||400,ae=(we==null?void 0:we.height)||200,be=Math.min(De,ae)*(i*.5),Ae=`
      <svg viewBox="0 0 ${De} ${ae}" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="${E}" x1="100%" y1="0%" x2="0%" y2="0%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="red"/>
          </linearGradient>
          <linearGradient id="${P}" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="blue"/>
          </linearGradient>
        </defs>
        <rect x="0" y="0" width="${De}" height="${ae}" fill="black"></rect>
        <rect x="0" y="0" width="${De}" height="${ae}" rx="${r}" fill="url(#${E})" />
        <rect x="0" y="0" width="${De}" height="${ae}" rx="${r}" fill="url(#${P})" style="mix-blend-mode: ${v}" />
        <rect x="${be}" y="${be}" width="${De-be*2}" height="${ae-be*2}" rx="${r}" fill="hsl(0 0% ${a}% / ${o})" style="filter:blur(${s}px)" />
      </svg>
    `;return`data:image/svg+xml,${encodeURIComponent(Ae)}`},U=()=>{var we;(we=R.current)==null||we.setAttribute("href",H())};z.useEffect(()=>{var we;U(),[{ref:k,offset:h},{ref:F,offset:m},{ref:G,offset:g}].forEach(({ref:De,offset:ae})=>{De.current&&(De.current.setAttribute("scale",(c+ae).toString()),De.current.setAttribute("xChannelSelector",_),De.current.setAttribute("yChannelSelector",y))}),(we=$.current)==null||we.setAttribute("stdDeviation",l.toString())},[e,n,r,i,a,o,s,l,c,h,m,g,_,y,v]),z.useEffect(()=>{C(j())},[]),z.useEffect(()=>{if(!I.current)return;const we=new ResizeObserver(()=>{setTimeout(U,0)});return we.observe(I.current),()=>{we.disconnect()}},[]),z.useEffect(()=>{setTimeout(U,0)},[e,n]);const j=()=>{if(typeof window>"u"||typeof document>"u")return!1;const we=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),De=/Firefox/.test(navigator.userAgent);if(we||De)return!1;const ae=document.createElement("div");return ae.style.backdropFilter=`url(#${w})`,ae.style.backdropFilter!==""},Y=()=>typeof window>"u"?!1:CSS.supports("backdrop-filter","blur(10px)"),Z=()=>{const we={...b,width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,borderRadius:`${r}px`,"--glass-frost":u,"--glass-saturation":f},De=Y();return A?{...we,background:V?`hsl(0 0% 0% / ${u})`:`hsl(0 0% 100% / ${u})`,backdropFilter:`url(#${w}) saturate(${f})`,boxShadow:V?`0 0 2px 1px color-mix(in oklch, white, transparent 65%) inset,
             0 0 10px 4px color-mix(in oklch, white, transparent 85%) inset,
             0px 4px 16px rgba(17, 17, 26, 0.05),
             0px 8px 24px rgba(17, 17, 26, 0.05),
             0px 16px 56px rgba(17, 17, 26, 0.05),
             0px 4px 16px rgba(17, 17, 26, 0.05) inset,
             0px 8px 24px rgba(17, 17, 26, 0.05) inset,
             0px 16px 56px rgba(17, 17, 26, 0.05) inset`:`0 0 2px 1px color-mix(in oklch, black, transparent 85%) inset,
             0 0 10px 4px color-mix(in oklch, black, transparent 90%) inset,
             0px 4px 16px rgba(17, 17, 26, 0.05),
             0px 8px 24px rgba(17, 17, 26, 0.05),
             0px 16px 56px rgba(17, 17, 26, 0.05),
             0px 4px 16px rgba(17, 17, 26, 0.05) inset,
             0px 8px 24px rgba(17, 17, 26, 0.05) inset,
             0px 16px 56px rgba(17, 17, 26, 0.05) inset`}:V?De?{...we,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px) saturate(1.8) brightness(1.2)",WebkitBackdropFilter:"blur(12px) saturate(1.8) brightness(1.2)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`}:{...we,background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`}:De?{...we,background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(12px) saturate(1.8) brightness(1.1)",WebkitBackdropFilter:"blur(12px) saturate(1.8) brightness(1.1)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px 0 rgba(31, 38, 135, 0.2),
                        0 2px 16px 0 rgba(31, 38, 135, 0.1),
                        inset 0 1px 0 0 rgba(255, 255, 255, 0.4),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.2)`}:{...we,background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)`}},J="relative flex items-center justify-center overflow-hidden transition-opacity duration-[260ms] ease-out",fe=V?"focus-visible:outline-2 focus-visible:outline-[#0A84FF] focus-visible:outline-offset-2":"focus-visible:outline-2 focus-visible:outline-[#007AFF] focus-visible:outline-offset-2";return L.jsxs("div",{ref:I,className:`${J} ${fe} ${x}`,style:Z(),children:[L.jsx("svg",{className:"w-full h-full pointer-events-none absolute inset-0 opacity-0 -z-10",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("defs",{children:L.jsxs("filter",{id:w,colorInterpolationFilters:"sRGB",x:"0%",y:"0%",width:"100%",height:"100%",children:[L.jsx("feImage",{ref:R,x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"none",result:"map"}),L.jsx("feDisplacementMap",{ref:k,in:"SourceGraphic",in2:"map",id:"redchannel",result:"dispRed"}),L.jsx("feColorMatrix",{in:"dispRed",type:"matrix",values:`1 0 0 0 0
                      0 0 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0`,result:"red"}),L.jsx("feDisplacementMap",{ref:F,in:"SourceGraphic",in2:"map",id:"greenchannel",result:"dispGreen"}),L.jsx("feColorMatrix",{in:"dispGreen",type:"matrix",values:`0 0 0 0 0
                      0 1 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0`,result:"green"}),L.jsx("feDisplacementMap",{ref:G,in:"SourceGraphic",in2:"map",id:"bluechannel",result:"dispBlue"}),L.jsx("feColorMatrix",{in:"dispBlue",type:"matrix",values:`0 0 0 0 0
                      0 0 0 0 0
                      0 0 1 0 0
                      0 0 0 1 0`,result:"blue"}),L.jsx("feBlend",{in:"red",in2:"green",mode:"screen",result:"rg"}),L.jsx("feBlend",{in:"rg",in2:"blue",mode:"screen",result:"output"}),L.jsx("feGaussianBlur",{ref:$,in:"output",stdDeviation:"0.7"})]})})}),L.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 rounded-[inherit] relative z-10",children:t})]})};function li({className:t="",advanced:e=!1,children:n}){return e?L.jsx(sG,{width:"100%",height:"auto",borderRadius:22,borderWidth:.08,brightness:64,opacity:.88,blur:12,displace:.4,backgroundOpacity:.08,saturation:1.15,distortionScale:-140,className:"!items-stretch !justify-start",style:{minHeight:0},children:L.jsx("div",{className:`w-full ${t}`,children:n})}):L.jsx("div",{className:`w-full rounded-[22px] border border-white/15 bg-slate-900/55 backdrop-blur-md shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_8px_24px_rgba(2,6,23,0.3)] ${t}`,children:n})}function jF(t){if(t===null)return"";const e=Math.abs(t)>=1e3?Math.round(t):Math.round(t*10)/10,n=Math.abs(t)>=1e3?`${e}%`:`${e.toFixed(1)}%`;return`${t>0?"+":""}${n}`}function $M(t){if(t===null)return"";const e=Math.abs(t);return e>=1e9?`${t<0?"-":""}$${(e/1e9).toFixed(1)}B`:e>=1e6?`${t<0?"-":""}$${(e/1e6).toFixed(1)}M`:e>=1e3?`${t<0?"-":""}$${(e/1e3).toFixed(1)}K`:`${t<0?"-":""}$${e.toFixed(0)}`}function lG(t){return t===null?"":t.toLocaleString()}function uG(t){return t===1?"":t===2?"":t===3?"":""}function $F(t){if(t.avatarUrl)return t.avatarUrl;const e=t.address||"",n=`hsl(${e.split("").reduce((a,o)=>a+o.charCodeAt(0),0)%360}, 70%, 55%)`,r=e.slice(2,4).toUpperCase(),i=`<svg width='64' height='64' xmlns='http://www.w3.org/2000/svg'>
    <circle cx='32' cy='32' r='30' fill='${n}' stroke='white' stroke-width='4'/>
    <text x='50%' y='54%' text-anchor='middle' font-size='28' font-family='Inter,Arial,sans-serif' font-weight='bold' fill='#fff' dy='.3em'>${r}</text>
  </svg>`;return`data:image/svg+xml;base64,${btoa(i.replace(/\n\s+/g,""))}`}function y1({entry:t,onSelect:e,onPrefetch:n,emphasized:r=!1,compact:i=!1}){return L.jsxs("button",{type:"button",onClick:()=>e(t.address,t),onMouseEnter:()=>n==null?void 0:n(t.address),onFocus:()=>n==null?void 0:n(t.address),className:`w-full rounded-2xl border p-4 text-left transition ${r?"border-amber-300/50 bg-gradient-to-b from-amber-500/15 to-slate-900/80 shadow-lg shadow-amber-500/20":i?"border-slate-700/70 bg-slate-900/80 hover:border-slate-500":"border-slate-700/70 bg-slate-900/70 hover:border-slate-500"}`,children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:`${r?"text-3xl":"text-2xl"}`,children:uG(t.rank)}),L.jsxs("span",{className:`text-xs ${r?"text-amber-200":"text-slate-300"}`,children:["Rank #",t.rank]})]}),L.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[L.jsx("img",{src:$F(t),alt:`${t.displayName} avatar`,className:`${r?"h-12 w-12":"h-10 w-10"} rounded-full object-cover`,loading:"lazy"}),L.jsxs("div",{className:"min-w-0",children:[L.jsx("p",{className:`${r?"text-base":"text-sm"} truncate font-semibold text-white`,children:t.displayName}),L.jsx("p",{className:"truncate text-xs text-slate-400",children:t.address})]})]}),L.jsxs("dl",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[L.jsxs("div",{children:[L.jsx("dt",{className:"text-slate-400",children:"ROI"}),L.jsx("dd",{className:`${t.roi!==null&&t.roi>=0?"text-emerald-300":"text-rose-300"} font-semibold`,children:jF(t.roi)})]}),L.jsxs("div",{children:[L.jsx("dt",{className:"text-slate-400",children:"P&L"}),L.jsx("dd",{className:"font-semibold text-slate-100",children:$M(t.pnl)})]})]})]})}function cG({entries:t,onSelect:e,onPrefetch:n,selectedAddress:r,isLoading:i=!1,error:a=null,periodOptions:o=[],selectedPeriod:s=null,onPeriodChange:l}){const[u,f]=z.useState(""),[c,h]=z.useState(""),[m,g]=z.useState(""),_=c.trim()===""?null:Number(c),y=m.trim()===""?null:Number(m),v=z.useMemo(()=>{const I=u.trim().toLowerCase();return t.filter(R=>{const k=I.length===0||R.displayName.toLowerCase().includes(I)||R.address.toLowerCase().includes(I)||(R.username||"").toLowerCase().includes(I)||(R.pseudonym||"").toLowerCase().includes(I),F=_===null||R.roi!==null&&R.roi>=_,G=y===null||R.pnl!==null&&R.pnl>=y;return k&&F&&G})},[t,u,_,y]),x=()=>{f(""),h(""),g("")},b=v.length>0,M=o.length>0,w=[...v].sort((I,R)=>I.rank-R.rank),E=w.find(I=>I.rank===1)||w[0]||null,P=w.find(I=>I.rank===2)||w[1]||null,A=w.find(I=>I.rank===3)||w[2]||null,C=w.filter(I=>![E==null?void 0:E.address,P==null?void 0:P.address,A==null?void 0:A.address].includes(I.address));return i?L.jsxs(li,{className:"rounded-3xl p-6 space-y-6",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("div",{className:"h-8 w-56 animate-pulse rounded bg-slate-800/80"}),L.jsx("div",{className:"h-8 w-40 animate-pulse rounded-full bg-slate-800/80"})]}),L.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[L.jsx("div",{className:"h-44 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"}),L.jsx("div",{className:"h-52 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"}),L.jsx("div",{className:"h-44 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"})]}),L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-800/60 bg-slate-900/50",children:[L.jsx("div",{className:"grid grid-cols-6 gap-2 border-b border-slate-800/60 p-4",children:Array.from({length:6}).map((I,R)=>L.jsx("div",{className:"h-3 animate-pulse rounded bg-slate-800/80"},`s-head-${R}`))}),L.jsx("div",{className:"space-y-3 p-4",children:Array.from({length:6}).map((I,R)=>L.jsx("div",{className:"h-8 animate-pulse rounded bg-slate-800/60"},`s-row-${R}`))})]})]}):L.jsxs(li,{className:"rounded-3xl p-6 space-y-6",children:[L.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[L.jsxs("div",{className:"space-y-1",children:[L.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Top Polymarket traders"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Click any trader to open their profile and inspect full metrics."})]}),M&&L.jsx("nav",{className:"flex shrink-0 items-center gap-1 rounded-full border border-slate-800/60 bg-slate-900/60 p-1 text-xs font-medium text-slate-300",children:o.map(I=>{const R=I.key===s;return L.jsx("button",{type:"button",onClick:()=>{l&&!R&&l(I.key)},"aria-pressed":R,className:`rounded-full px-3 py-1 transition ${R?"bg-blue-600 text-white shadow shadow-blue-500/30":"hover:bg-slate-800/70"}`,children:I.label},I.key)})})]}),L.jsxs("div",{className:"grid gap-3 rounded-2xl border border-slate-800/60 bg-slate-900/40 p-3 md:grid-cols-[minmax(0,1fr),130px,130px,auto]",children:[L.jsx("input",{type:"text",placeholder:"Filter by trader name, username, or wallet",value:u,onChange:I=>f(I.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("input",{type:"number",step:"0.1",placeholder:"Min ROI %",value:c,onChange:I=>h(I.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("input",{type:"number",step:"1",placeholder:"Min P&L",value:m,onChange:I=>g(I.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("button",{type:"button",onClick:x,className:"rounded-xl border border-slate-700/80 px-3 py-2 text-sm font-semibold text-slate-200 transition hover:border-slate-500",children:"Clear"})]}),!i&&a&&L.jsx("p",{className:"text-sm text-rose-300",children:a}),!i&&!a&&!b&&L.jsx("p",{className:"text-sm text-slate-400",children:"No traders match the current filters."}),!i&&!a&&b&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"grid gap-4 md:grid-cols-3 md:items-end",children:[L.jsx("div",{className:"reveal reveal-1",children:P&&L.jsx(y1,{entry:P,onSelect:e,onPrefetch:n,compact:!0})}),L.jsx("div",{className:"reveal",children:E&&L.jsx(y1,{entry:E,onSelect:e,onPrefetch:n,emphasized:!0})}),L.jsx("div",{className:"reveal reveal-2",children:A&&L.jsx(y1,{entry:A,onSelect:e,onPrefetch:n,compact:!0})})]}),L.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-800/60 bg-slate-900/50 reveal reveal-1",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{className:"border-b border-slate-800/60 text-left text-xs uppercase tracking-wide text-slate-400",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3",children:"Rank"}),L.jsx("th",{className:"px-4 py-3",children:"Trader"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"ROI"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"P&L"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"Volume"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"Trades"})]})}),L.jsx("tbody",{children:[E,P,A,...C].filter(Boolean).map(I=>{const R=I,k=r===I.address;return L.jsxs("tr",{onClick:()=>e(R.address,R),onMouseEnter:()=>n==null?void 0:n(R.address,R),className:`cursor-pointer border-b border-slate-800/40 transition last:border-b-0 ${k?"bg-blue-500/10":"hover:bg-slate-800/50"}`,children:[L.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-200",children:["#",R.rank]}),L.jsx("td",{className:"px-4 py-3",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("img",{src:$F(R),alt:`${R.displayName} avatar`,className:"h-8 w-8 rounded-full object-cover",loading:"lazy"}),L.jsxs("div",{children:[L.jsx("p",{className:"font-medium text-slate-100",children:R.displayName}),L.jsx("p",{className:"text-xs text-slate-500",children:R.address})]})]})}),L.jsx("td",{className:`px-4 py-3 text-right font-semibold ${R.roi!==null&&R.roi>=0?"text-emerald-300":"text-rose-300"}`,children:jF(R.roi)}),L.jsx("td",{className:"px-4 py-3 text-right font-medium text-slate-100",children:$M(R.pnl)}),L.jsx("td",{className:"px-4 py-3 text-right text-slate-200",children:$M(R.volume)}),L.jsx("td",{className:"px-4 py-3 text-right text-slate-200",children:lG(R.trades)})]},R.address)})})]})})]})]})}const fG={},dG=fG?"https://polycopy.onrender.com":"/api";function hG(t){const e=[t==null?void 0:t.probability,t==null?void 0:t.chance,t==null?void 0:t.prob,t==null?void 0:t.lastTradePrice,t==null?void 0:t.last_price];for(const r of e){const i=Number(r);if(Number.isFinite(i)){const a=i>1?i:i*100;if(a>=0&&a<=100)return Math.round(a)}}const n=[t==null?void 0:t.outcomePrices,t==null?void 0:t.prices,t==null?void 0:t.outcomes];for(const r of n){if(!Array.isArray(r)||r.length===0)continue;const i=Number(r[0]);if(Number.isFinite(i)){const a=i>1?i:i*100;if(a>=0&&a<=100)return Math.round(a)}}return null}function VF(){const t=z.useRef(null),e=z.useRef(0),n=z.useRef(0),[r,i]=z.useState([]),[a,o]=z.useState(!1),s=z.useRef(0);return z.useEffect(()=>{let l=!1;async function u(){try{const h=await(await fetch(`${dG}/breaking-news?limit=18`)).json();if(!Array.isArray(h.stories))return;const m=new Map,g=new Map;for(const w of h.stories){const E=String((w==null?void 0:w.title)||(w==null?void 0:w.question)||"").trim();if(!E)continue;const P=String((w==null?void 0:w.eventSlug)||(w==null?void 0:w.eventTitle)||"").trim().toLowerCase();if(P){const I=g.get(P)||0;if(I>=2)continue;g.set(P,I+1)}const A=E.toLowerCase().replace(/\s+/g," ").replace(/[^\w\s%$]/g,""),C=m.get(A);(!C||Number((w==null?void 0:w.volume24h)||0)>Number((C==null?void 0:C.volume24h)||0))&&m.set(A,w)}const _=Array.from(m.values()).sort((w,E)=>{const P=Number((w==null?void 0:w.volume24h)||0);return Number((E==null?void 0:E.volume24h)||0)-P}),y=16,v=Math.max(0,_.length-y);v>0?s.current=(s.current+4)%(v+1):s.current=0;const x=_.slice(s.current,s.current+y),M=(x.length>0?x:_.slice(0,y)).map(w=>{const E=hG(w)??(Number.isFinite(Number(w==null?void 0:w.chance))?Number(w.chance):null),P=typeof(w==null?void 0:w.outcomeLabel)=="string"&&w.outcomeLabel.trim().length>0?w.outcomeLabel.trim():null,A=typeof(w==null?void 0:w.url)=="string"&&/^https?:\/\//.test(w.url)?w.url:w!=null&&w.eventSlug?`https://polymarket.com/event/${w.eventSlug}`:w!=null&&w.slug?`https://polymarket.com/event/${w.slug}`:`https://polymarket.com/market/${w.id}`;return{text:String(w.title||w.question||"Polymarket market"),url:A,chance:E,logoUrl:typeof(w==null?void 0:w.logoUrl)=="string"&&/^https?:\/\//.test(w.logoUrl)&&w.logoUrl||typeof(w==null?void 0:w.eventImage)=="string"&&/^https?:\/\//.test(w.eventImage)&&w.eventImage||typeof(w==null?void 0:w.image)=="string"&&/^https?:\/\//.test(w.image)&&w.image||"/polycopy-logo3.png"}});l||i(M)}catch{}}u();const f=setInterval(u,8e3);return()=>{l=!0,clearInterval(f)}},[]),z.useEffect(()=>{const l=t.current;if(!l)return;const u=()=>{n.current=l.scrollWidth/2};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[r]),z.useEffect(()=>{const l=t.current;if(!l)return;let u;const f=.18;function c(){if(l){if(!a){e.current-=f;const h=n.current;h>0&&Math.abs(e.current)>=h&&(e.current+=h),l.style.transform=`translateX(${e.current}px)`}u=requestAnimationFrame(c)}}return c(),()=>cancelAnimationFrame(u)},[r,a]),L.jsxs("div",{className:"w-full bg-gradient-to-r from-pink-600 via-rose-500 to-amber-400 text-white py-2 px-4 overflow-hidden relative flex items-center border-b border-rose-400/40",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[L.jsx("span",{className:"mr-2 inline-block h-2 w-2 rounded-full bg-white/90 shadow-[0_0_8px_rgba(255,255,255,0.7)]"}),L.jsx("span",{className:"font-bold uppercase tracking-widest mr-4",children:"Breaking News"}),L.jsx("div",{className:"flex-1 overflow-hidden",children:L.jsx("div",{ref:t,className:"whitespace-nowrap flex gap-8 text-sm font-medium",style:{willChange:"transform"},children:r.length===0?L.jsx("span",{className:"opacity-70",children:"Loading markets"}):[...r,...r].map((l,u)=>L.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:underline hover:text-yellow-200 transition-colors",children:[l.logoUrl&&L.jsx("img",{src:l.logoUrl,alt:"",loading:"lazy",referrerPolicy:"no-referrer",className:"h-6 w-6 rounded-full object-cover border border-white/25"}),L.jsx("span",{className:"text-white",children:"LIVE"}),L.jsx("span",{children:l.text}),L.jsx("span",{className:`font-semibold ${l.chance!==null&&l.chance>=50?"text-emerald-200":"text-rose-200"}`,children:l.chance===null?"N/A chance":`${Math.round(l.chance)}% chance`})]},`${l.url}-${u}`))})})]})}function HF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=HF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=HF(t))&&(r&&(r+=" "),r+=e);return r}var pG=Array.isArray,vi=pG,mG=typeof $g=="object"&&$g&&$g.Object===Object&&$g,GF=mG,gG=GF,vG=typeof self=="object"&&self&&self.Object===Object&&self,yG=gG||vG||Function("return this")(),go=yG,xG=go,_G=xG.Symbol,Am=_G,RR=Am,WF=Object.prototype,bG=WF.hasOwnProperty,SG=WF.toString,Zd=RR?RR.toStringTag:void 0;function wG(t){var e=bG.call(t,Zd),n=t[Zd];try{t[Zd]=void 0;var r=!0}catch{}var i=SG.call(t);return r&&(e?t[Zd]=n:delete t[Zd]),i}var MG=wG,EG=Object.prototype,AG=EG.toString;function TG(t){return AG.call(t)}var PG=TG,IR=Am,CG=MG,OG=PG,RG="[object Null]",IG="[object Undefined]",NR=IR?IR.toStringTag:void 0;function NG(t){return t==null?t===void 0?IG:RG:NR&&NR in Object(t)?CG(t):OG(t)}var as=NG;function LG(t){return t!=null&&typeof t=="object"}var os=LG,DG=as,kG=os,UG="[object Symbol]";function FG(t){return typeof t=="symbol"||kG(t)&&DG(t)==UG}var nd=FG,BG=vi,zG=nd,jG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$G=/^\w*$/;function VG(t,e){if(BG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zG(t)?!0:$G.test(t)||!jG.test(t)||e!=null&&t in Object(e)}var UT=VG;function HG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ll=HG;const rd=an(ll);var GG=as,WG=ll,XG="[object AsyncFunction]",qG="[object Function]",YG="[object GeneratorFunction]",KG="[object Proxy]";function ZG(t){if(!WG(t))return!1;var e=GG(t);return e==qG||e==YG||e==XG||e==KG}var FT=ZG;const Lt=an(FT);var JG=go,QG=JG["__core-js_shared__"],eW=QG,x1=eW,LR=function(){var t=/[^.]+$/.exec(x1&&x1.keys&&x1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tW(t){return!!LR&&LR in t}var nW=tW,rW=Function.prototype,iW=rW.toString;function aW(t){if(t!=null){try{return iW.call(t)}catch{}try{return t+""}catch{}}return""}var XF=aW,oW=FT,sW=nW,lW=ll,uW=XF,cW=/[\\^$.*+?()[\]{}|]/g,fW=/^\[object .+?Constructor\]$/,dW=Function.prototype,hW=Object.prototype,pW=dW.toString,mW=hW.hasOwnProperty,gW=RegExp("^"+pW.call(mW).replace(cW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vW(t){if(!lW(t)||sW(t))return!1;var e=oW(t)?gW:fW;return e.test(uW(t))}var yW=vW;function xW(t,e){return t==null?void 0:t[e]}var _W=xW,bW=yW,SW=_W;function wW(t,e){var n=SW(t,e);return bW(n)?n:void 0}var Nu=wW,MW=Nu,EW=MW(Object,"create"),d_=EW,DR=d_;function AW(){this.__data__=DR?DR(null):{},this.size=0}var TW=AW;function PW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var CW=PW,OW=d_,RW="__lodash_hash_undefined__",IW=Object.prototype,NW=IW.hasOwnProperty;function LW(t){var e=this.__data__;if(OW){var n=e[t];return n===RW?void 0:n}return NW.call(e,t)?e[t]:void 0}var DW=LW,kW=d_,UW=Object.prototype,FW=UW.hasOwnProperty;function BW(t){var e=this.__data__;return kW?e[t]!==void 0:FW.call(e,t)}var zW=BW,jW=d_,$W="__lodash_hash_undefined__";function VW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jW&&e===void 0?$W:e,this}var HW=VW,GW=TW,WW=CW,XW=DW,qW=zW,YW=HW;function id(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}id.prototype.clear=GW;id.prototype.delete=WW;id.prototype.get=XW;id.prototype.has=qW;id.prototype.set=YW;var KW=id;function ZW(){this.__data__=[],this.size=0}var JW=ZW;function QW(t,e){return t===e||t!==t&&e!==e}var BT=QW,e9=BT;function t9(t,e){for(var n=t.length;n--;)if(e9(t[n][0],e))return n;return-1}var h_=t9,n9=h_,r9=Array.prototype,i9=r9.splice;function a9(t){var e=this.__data__,n=n9(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():i9.call(e,n,1),--this.size,!0}var o9=a9,s9=h_;function l9(t){var e=this.__data__,n=s9(e,t);return n<0?void 0:e[n][1]}var u9=l9,c9=h_;function f9(t){return c9(this.__data__,t)>-1}var d9=f9,h9=h_;function p9(t,e){var n=this.__data__,r=h9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var m9=p9,g9=JW,v9=o9,y9=u9,x9=d9,_9=m9;function ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ad.prototype.clear=g9;ad.prototype.delete=v9;ad.prototype.get=y9;ad.prototype.has=x9;ad.prototype.set=_9;var p_=ad,b9=Nu,S9=go,w9=b9(S9,"Map"),zT=w9,kR=KW,M9=p_,E9=zT;function A9(){this.size=0,this.__data__={hash:new kR,map:new(E9||M9),string:new kR}}var T9=A9;function P9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var C9=P9,O9=C9;function R9(t,e){var n=t.__data__;return O9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var m_=R9,I9=m_;function N9(t){var e=I9(this,t).delete(t);return this.size-=e?1:0,e}var L9=N9,D9=m_;function k9(t){return D9(this,t).get(t)}var U9=k9,F9=m_;function B9(t){return F9(this,t).has(t)}var z9=B9,j9=m_;function $9(t,e){var n=j9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var V9=$9,H9=T9,G9=L9,W9=U9,X9=z9,q9=V9;function od(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}od.prototype.clear=H9;od.prototype.delete=G9;od.prototype.get=W9;od.prototype.has=X9;od.prototype.set=q9;var jT=od,qF=jT,Y9="Expected a function";function $T(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Y9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new($T.Cache||qF),n}$T.Cache=qF;var YF=$T;const K9=an(YF);var Z9=YF,J9=500;function Q9(t){var e=Z9(t,function(r){return n.size===J9&&n.clear(),r}),n=e.cache;return e}var e7=Q9,t7=e7,n7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r7=/\\(\\)?/g,i7=t7(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(n7,function(n,r,i,a){e.push(i?a.replace(r7,"$1"):r||n)}),e}),a7=i7;function o7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var VT=o7,UR=Am,s7=VT,l7=vi,u7=nd,FR=UR?UR.prototype:void 0,BR=FR?FR.toString:void 0;function KF(t){if(typeof t=="string")return t;if(l7(t))return s7(t,KF)+"";if(u7(t))return BR?BR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var c7=KF,f7=c7;function d7(t){return t==null?"":f7(t)}var ZF=d7,h7=vi,p7=UT,m7=a7,g7=ZF;function v7(t,e){return h7(t)?t:p7(t,e)?[t]:m7(g7(t))}var JF=v7,y7=nd;function x7(t){if(typeof t=="string"||y7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var g_=x7,_7=JF,b7=g_;function S7(t,e){e=_7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[b7(e[n++])];return n&&n==r?t:void 0}var HT=S7,w7=HT;function M7(t,e,n){var r=t==null?void 0:w7(t,e);return r===void 0?n:r}var QF=M7;const sa=an(QF);function E7(t){return t==null}var A7=E7;const kt=an(A7);var T7=as,P7=vi,C7=os,O7="[object String]";function R7(t){return typeof t=="string"||!P7(t)&&C7(t)&&T7(t)==O7}var I7=R7;const xu=an(I7);var eB={exports:{}},on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=Symbol.for("react.element"),WT=Symbol.for("react.portal"),v_=Symbol.for("react.fragment"),y_=Symbol.for("react.strict_mode"),x_=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),b_=Symbol.for("react.context"),N7=Symbol.for("react.server_context"),S_=Symbol.for("react.forward_ref"),w_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),E_=Symbol.for("react.memo"),A_=Symbol.for("react.lazy"),L7=Symbol.for("react.offscreen"),tB;tB=Symbol.for("react.module.reference");function pa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GT:switch(t=t.type,t){case v_:case x_:case y_:case w_:case M_:return t;default:switch(t=t&&t.$$typeof,t){case N7:case b_:case S_:case A_:case E_:case __:return t;default:return e}}case WT:return e}}}on.ContextConsumer=b_;on.ContextProvider=__;on.Element=GT;on.ForwardRef=S_;on.Fragment=v_;on.Lazy=A_;on.Memo=E_;on.Portal=WT;on.Profiler=x_;on.StrictMode=y_;on.Suspense=w_;on.SuspenseList=M_;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(t){return pa(t)===b_};on.isContextProvider=function(t){return pa(t)===__};on.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GT};on.isForwardRef=function(t){return pa(t)===S_};on.isFragment=function(t){return pa(t)===v_};on.isLazy=function(t){return pa(t)===A_};on.isMemo=function(t){return pa(t)===E_};on.isPortal=function(t){return pa(t)===WT};on.isProfiler=function(t){return pa(t)===x_};on.isStrictMode=function(t){return pa(t)===y_};on.isSuspense=function(t){return pa(t)===w_};on.isSuspenseList=function(t){return pa(t)===M_};on.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===v_||t===x_||t===y_||t===w_||t===M_||t===L7||typeof t=="object"&&t!==null&&(t.$$typeof===A_||t.$$typeof===E_||t.$$typeof===__||t.$$typeof===b_||t.$$typeof===S_||t.$$typeof===tB||t.getModuleId!==void 0)};on.typeOf=pa;eB.exports=on;var D7=eB.exports,k7=as,U7=os,F7="[object Number]";function B7(t){return typeof t=="number"||U7(t)&&k7(t)==F7}var nB=B7;const z7=an(nB);var j7=nB;function $7(t){return j7(t)&&t!=+t}var V7=$7;const Tm=an(V7);var Na=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return xu(e)&&e.indexOf("%")===e.length-1},He=function(e){return z7(e)&&!Tm(e)},H7=function(e){return kt(e)},tr=function(e){return He(e)||xu(e)},G7=0,Pm=function(e){var n=++G7;return"".concat(e||"").concat(n)},_u=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&!xu(e))return r;var a;if(Zl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Tm(a)&&(a=r),i&&a>n&&(a=n),a},Is=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},W7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ra=function(e,n){return He(e)&&He(n)?function(r){return e+r*(n-e)}:function(){return n}};function n0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):sa(r,e))===n})}var X7=function(e,n){return He(e)&&He(n)?e-n:xu(e)&&xu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function VM(t){"@babel/helpers - typeof";return VM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VM(t)}var q7=["viewBox","children"],Y7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zR=["points","pathLength"],_1={svg:q7,polygon:zR,polyline:zR},XT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],r0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!rd(r))return null;var i={};return Object.keys(r).forEach(function(a){XT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},K7=function(e,n,r){return function(i){return e(n,r,i),null}},i0=function(e,n,r){if(!rd(e)||VM(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];XT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=K7(o,n,r))}),i},Z7=["children"],J7=["children"];function jR(t,e){if(t==null)return{};var n=Q7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HM(t){"@babel/helpers - typeof";return HM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HM(t)}var $R={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},VR=null,b1=null,qT=function t(e){if(e===VR&&Array.isArray(b1))return b1;var n=[];return z.Children.forEach(e,function(r){kt(r)||(D7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),b1=n,VR=e,n};function la(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],qT(t).forEach(function(i){var a=sa(i,"type.displayName")||sa(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ci(t,e){var n=la(t,e);return n&&n[0]}var HR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!He(r)||r<=0||!He(i)||i<=0)},eX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tX=function(e){return e&&e.type&&xu(e.type)&&eX.indexOf(e.type)>=0},nX=function(e){return e&&HM(e)==="object"&&"clipDot"in e},rX=function(e,n,r,i){var a,o=(a=_1==null?void 0:_1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Lt(e)&&(i&&o.includes(n)||Y7.includes(n))||r&&XT.includes(n)},jt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!rd(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;rX((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},GM=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!GR(a,o))return!1}return!0},GR=function(e,n){if(kt(e)&&kt(n))return!0;if(!kt(e)&&!kt(n)){var r=e.props||{},i=r.children,a=jR(r,Z7),o=n.props||{},s=o.children,l=jR(o,J7);return i&&s?sf(a,l)&&GM(i,s):!i&&!s?sf(a,l):!1}return!1},WR=function(e,n){var r=[],i={};return qT(e).forEach(function(a,o){if(tX(a))r.push(a);else if(a){var s=Vo(a.type),l=n[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var c=u(a,s,o);r.push(c),i[s]=!0}}}),r},iX=function(e){var n=e&&e.type;return n&&$R[n]?$R[n]:null},aX=function(e,n){return qT(n).indexOf(e)},oX=["children","width","height","viewBox","className","style","title","desc"];function WM(){return WM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WM.apply(this,arguments)}function sX(t,e){if(t==null)return{};var n=lX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XM(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=sX(t,oX),f=i||{width:n,height:r,x:0,y:0},c=Gt("recharts-surface",a);return ne.createElement("svg",WM({},jt(u,!0,"svg"),{className:c,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ne.createElement("title",null,s),ne.createElement("desc",null,l),e)}var uX=["children","className"];function qM(){return qM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qM.apply(this,arguments)}function cX(t,e){if(t==null)return{};var n=fX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bn=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=cX(t,uX),a=Gt("recharts-layer",r);return ne.createElement("g",qM({className:a},jt(i,!0),{ref:e}),n)}),Ho=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function dX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var hX=dX,pX=hX;function mX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:pX(t,e,n)}var gX=mX,vX="\\ud800-\\udfff",yX="\\u0300-\\u036f",xX="\\ufe20-\\ufe2f",_X="\\u20d0-\\u20ff",bX=yX+xX+_X,SX="\\ufe0e\\ufe0f",wX="\\u200d",MX=RegExp("["+wX+vX+bX+SX+"]");function EX(t){return MX.test(t)}var rB=EX;function AX(t){return t.split("")}var TX=AX,iB="\\ud800-\\udfff",PX="\\u0300-\\u036f",CX="\\ufe20-\\ufe2f",OX="\\u20d0-\\u20ff",RX=PX+CX+OX,IX="\\ufe0e\\ufe0f",NX="["+iB+"]",YM="["+RX+"]",KM="\\ud83c[\\udffb-\\udfff]",LX="(?:"+YM+"|"+KM+")",aB="[^"+iB+"]",oB="(?:\\ud83c[\\udde6-\\uddff]){2}",sB="[\\ud800-\\udbff][\\udc00-\\udfff]",DX="\\u200d",lB=LX+"?",uB="["+IX+"]?",kX="(?:"+DX+"(?:"+[aB,oB,sB].join("|")+")"+uB+lB+")*",UX=uB+lB+kX,FX="(?:"+[aB+YM+"?",YM,oB,sB,NX].join("|")+")",BX=RegExp(KM+"(?="+KM+")|"+FX+UX,"g");function zX(t){return t.match(BX)||[]}var jX=zX,$X=TX,VX=rB,HX=jX;function GX(t){return VX(t)?HX(t):$X(t)}var WX=GX,XX=gX,qX=rB,YX=WX,KX=ZF;function ZX(t){return function(e){e=KX(e);var n=qX(e)?YX(e):void 0,r=n?n[0]:e.charAt(0),i=n?XX(n,1).join(""):e.slice(1);return r[t]()+i}}var JX=ZX,QX=JX,eq=QX("toUpperCase"),tq=eq;const T_=an(tq);function hn(t){return function(){return t}}const cB=Math.cos,a0=Math.sin,za=Math.sqrt,o0=Math.PI,P_=2*o0,ZM=Math.PI,JM=2*ZM,Vl=1e-6,nq=JM-Vl;function fB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rq(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let iq=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fB:rq(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,f=o-e,c=s-n,h=f*f+c*c;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Vl)if(!(Math.abs(c*l-u*f)>Vl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,_=l*l+u*u,y=m*m+g*g,v=Math.sqrt(_),x=Math.sqrt(h),b=a*Math.tan((ZM-Math.acos((_+h-y)/(2*v*x)))/2),M=b/x,w=b/v;Math.abs(M-1)>Vl&&this._append`L${e+M*f},${n+M*c}`,this._append`A${a},${a},0,0,${+(c*m>f*g)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,f=n+l,c=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Vl||Math.abs(this._y1-f)>Vl)&&this._append`L${u},${f}`,r&&(h<0&&(h=h%JM+JM),h>nq?this._append`A${r},${r},0,1,${c},${e-s},${n-l}A${r},${r},0,1,${c},${this._x1=u},${this._y1=f}`:h>Vl&&this._append`A${r},${r},0,${+(h>=ZM)},${c},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function YT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new iq(e)}function KT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dB(t){this._context=t}dB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function C_(t){return new dB(t)}function hB(t){return t[0]}function pB(t){return t[1]}function mB(t,e){var n=hn(!0),r=null,i=C_,a=null,o=YT(s);t=typeof t=="function"?t:t===void 0?hB:hn(t),e=typeof e=="function"?e:e===void 0?pB:hn(e);function s(l){var u,f=(l=KT(l)).length,c,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=f;++u)!(u<f&&n(c=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(c,u,l),+e(c,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:hn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:hn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:hn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function ov(t,e,n){var r=null,i=hn(!0),a=null,o=C_,s=null,l=YT(u);t=typeof t=="function"?t:t===void 0?hB:hn(+t),e=typeof e=="function"?e:hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?pB:hn(+n);function u(c){var h,m,g,_=(c=KT(c)).length,y,v=!1,x,b=new Array(_),M=new Array(_);for(a==null&&(s=o(x=l())),h=0;h<=_;++h){if(!(h<_&&i(y=c[h],h,c))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(b[g],M[g]);s.lineEnd(),s.areaEnd()}v&&(b[h]=+t(y,h,c),M[h]=+e(y,h,c),s.point(r?+r(y,h,c):b[h],n?+n(y,h,c):M[h]))}if(x)return s=null,x+""||null}function f(){return mB().defined(i).curve(o).context(a)}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:hn(+c),r=null,u):t},u.x0=function(c){return arguments.length?(t=typeof c=="function"?c:hn(+c),u):t},u.x1=function(c){return arguments.length?(r=c==null?null:typeof c=="function"?c:hn(+c),u):r},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:hn(+c),n=null,u):e},u.y0=function(c){return arguments.length?(e=typeof c=="function"?c:hn(+c),u):e},u.y1=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:hn(+c),u):n},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(n)},u.lineX1=function(){return f().x(r).y(e)},u.defined=function(c){return arguments.length?(i=typeof c=="function"?c:hn(!!c),u):i},u.curve=function(c){return arguments.length?(o=c,a!=null&&(s=o(a)),u):o},u.context=function(c){return arguments.length?(c==null?a=s=null:s=o(a=c),u):a},u}class gB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function aq(t){return new gB(t,!0)}function oq(t){return new gB(t,!1)}const ZT={draw(t,e){const n=za(e/o0);t.moveTo(n,0),t.arc(0,0,n,0,P_)}},sq={draw(t,e){const n=za(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},vB=za(1/3),lq=vB*2,uq={draw(t,e){const n=za(e/lq),r=n*vB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},cq={draw(t,e){const n=za(e),r=-n/2;t.rect(r,r,n,n)}},fq=.8908130915292852,yB=a0(o0/10)/a0(7*o0/10),dq=a0(P_/10)*yB,hq=-cB(P_/10)*yB,pq={draw(t,e){const n=za(e*fq),r=dq*n,i=hq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=P_*a/5,s=cB(o),l=a0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},S1=za(3),mq={draw(t,e){const n=-za(e/(S1*3));t.moveTo(0,n*2),t.lineTo(-S1*n,-n),t.lineTo(S1*n,-n),t.closePath()}},Zi=-.5,Ji=za(3)/2,QM=1/za(12),gq=(QM/2+1)*3,vq={draw(t,e){const n=za(e/gq),r=n/2,i=n*QM,a=r,o=n*QM+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Zi*r-Ji*i,Ji*r+Zi*i),t.lineTo(Zi*a-Ji*o,Ji*a+Zi*o),t.lineTo(Zi*s-Ji*l,Ji*s+Zi*l),t.lineTo(Zi*r+Ji*i,Zi*i-Ji*r),t.lineTo(Zi*a+Ji*o,Zi*o-Ji*a),t.lineTo(Zi*s+Ji*l,Zi*l-Ji*s),t.closePath()}};function yq(t,e){let n=null,r=YT(i);t=typeof t=="function"?t:hn(t||ZT),e=typeof e=="function"?e:hn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:hn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:hn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function s0(){}function l0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function xB(t){this._context=t}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:l0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:l0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xq(t){return new xB(t)}function _B(t){this._context=t}_B.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:l0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _q(t){return new _B(t)}function bB(t){this._context=t}bB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:l0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bq(t){return new bB(t)}function SB(t){this._context=t}SB.prototype={areaStart:s0,areaEnd:s0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Sq(t){return new SB(t)}function XR(t){return t<0?-1:1}function qR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(XR(a)+XR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function YR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function u0(t){this._context=t}u0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w1(this,this._t0,YR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w1(this,YR(this,n=qR(this,t,e)),n);break;default:w1(this,this._t0,n=qR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function wB(t){this._context=new MB(t)}(wB.prototype=Object.create(u0.prototype)).point=function(t,e){u0.prototype.point.call(this,e,t)};function MB(t){this._context=t}MB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function wq(t){return new u0(t)}function Mq(t){return new wB(t)}function EB(t){this._context=t}EB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=KR(t),i=KR(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function KR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Eq(t){return new EB(t)}function O_(t,e){this._context=t,this._t=e}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Aq(t){return new O_(t,.5)}function Tq(t){return new O_(t,0)}function Pq(t){return new O_(t,1)}function xf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function eE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Cq(t,e){return t[e]}function Oq(t){const e=[];return e.key=t,e}function Rq(){var t=hn([]),e=eE,n=xf,r=Cq;function i(a){var o=Array.from(t.apply(this,arguments),Oq),s,l=o.length,u=-1,f;for(const c of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(c,o[s].key,u,a)]).data=c;for(s=0,f=KT(e(o));s<l;++s)o[f[s]].index=s;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:hn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:hn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?eE:typeof a=="function"?a:hn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xf,i):n},i}function Iq(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xf(t,e)}}function Nq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}xf(t,e)}}function Lq(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],c=f[r][1]||0,h=f[r-1][1]||0,m=(c-h)/2,g=0;g<s;++g){var _=t[e[g]],y=_[r][1]||0,v=_[r-1][1]||0;m+=y-v}l+=c,u+=m*c}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,xf(t,e)}}function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}var Dq=["type","size","sizeType"];function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){kq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kq(t,e,n){return e=Uq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uq(t){var e=Fq(t,"string");return Mp(e)=="symbol"?e:e+""}function Fq(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bq(t,e){if(t==null)return{};var n=zq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var AB={symbolCircle:ZT,symbolCross:sq,symbolDiamond:uq,symbolSquare:cq,symbolStar:pq,symbolTriangle:mq,symbolWye:vq},jq=Math.PI/180,$q=function(e){var n="symbol".concat(T_(e));return AB[n]||ZT},Vq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*jq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Hq=function(e,n){AB["symbol".concat(T_(e))]=n},JT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Bq(e,Dq),u=JR(JR({},l),{},{type:r,size:a,sizeType:s}),f=function(){var y=$q(r),v=yq().type(y).size(Vq(a,s,r));return v()},c=u.className,h=u.cx,m=u.cy,g=jt(u,!0);return h===+h&&m===+m&&a===+a?ne.createElement("path",tE({},g,{className:Gt("recharts-symbols",c),transform:"translate(".concat(h,", ").concat(m,")"),d:f()})):null};JT.registerSymbol=Hq;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function nE(){return nE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nE.apply(this,arguments)}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){Ep(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PB(r.key),r)}}function qq(t,e,n){return e&&Xq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yq(t,e,n){return e=c0(e),Kq(t,TB()?Reflect.construct(e,n||[],c0(t).constructor):e.apply(t,n))}function Kq(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zq(t)}function Zq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c0(t)}function Jq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function Ep(t,e,n){return e=PB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PB(t){var e=Qq(t,"string");return _f(e)=="symbol"?e:e+""}function Qq(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qi=32,QT=function(t){function e(){return Wq(this,e),Yq(this,e,arguments)}return Jq(e,t),qq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Qi/2,o=Qi/6,s=Qi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Qi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Qi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qi/8,"h").concat(Qi,"v").concat(Qi*3/4,"h").concat(-Qi,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var u=Gq({},r);return delete u.legendIcon,ne.cloneElement(r.legendIcon,u)}return ne.createElement(JT,{fill:l,cx:a,cy:a,size:Qi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Qi,height:Qi},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var _=m.formatter||l,y=Gt(Ep(Ep({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Lt(m.value)?null:m.value;Ho(!Lt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return ne.createElement("li",nE({className:y,style:c,key:"legend-item-".concat(g)},i0(r.props,m,g)),ne.createElement(XM,{width:o,height:o,viewBox:f,style:h},r.renderIcon(m)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},_?_(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(z.PureComponent);Ep(QT,"displayName","Legend");Ep(QT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eY=p_;function tY(){this.__data__=new eY,this.size=0}var nY=tY;function rY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var iY=rY;function aY(t){return this.__data__.get(t)}var oY=aY;function sY(t){return this.__data__.has(t)}var lY=sY,uY=p_,cY=zT,fY=jT,dY=200;function hY(t,e){var n=this.__data__;if(n instanceof uY){var r=n.__data__;if(!cY||r.length<dY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fY(r)}return n.set(t,e),this.size=n.size,this}var pY=hY,mY=p_,gY=nY,vY=iY,yY=oY,xY=lY,_Y=pY;function sd(t){var e=this.__data__=new mY(t);this.size=e.size}sd.prototype.clear=gY;sd.prototype.delete=vY;sd.prototype.get=yY;sd.prototype.has=xY;sd.prototype.set=_Y;var CB=sd,bY="__lodash_hash_undefined__";function SY(t){return this.__data__.set(t,bY),this}var wY=SY;function MY(t){return this.__data__.has(t)}var EY=MY,AY=jT,TY=wY,PY=EY;function f0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new AY;++e<n;)this.add(t[e])}f0.prototype.add=f0.prototype.push=TY;f0.prototype.has=PY;var OB=f0;function CY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var RB=CY;function OY(t,e){return t.has(e)}var IB=OY,RY=OB,IY=RB,NY=IB,LY=1,DY=2;function kY(t,e,n,r,i,a){var o=n&LY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),f=a.get(e);if(u&&f)return u==e&&f==t;var c=-1,h=!0,m=n&DY?new RY:void 0;for(a.set(t,e),a.set(e,t);++c<s;){var g=t[c],_=e[c];if(r)var y=o?r(_,g,c,e,t,a):r(g,_,c,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!IY(e,function(v,x){if(!NY(m,x)&&(g===v||i(g,v,n,r,a)))return m.push(x)})){h=!1;break}}else if(!(g===_||i(g,_,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var NB=kY,UY=go,FY=UY.Uint8Array,BY=FY;function zY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var jY=zY;function $Y(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eP=$Y,eI=Am,tI=BY,VY=BT,HY=NB,GY=jY,WY=eP,XY=1,qY=2,YY="[object Boolean]",KY="[object Date]",ZY="[object Error]",JY="[object Map]",QY="[object Number]",eK="[object RegExp]",tK="[object Set]",nK="[object String]",rK="[object Symbol]",iK="[object ArrayBuffer]",aK="[object DataView]",nI=eI?eI.prototype:void 0,M1=nI?nI.valueOf:void 0;function oK(t,e,n,r,i,a,o){switch(n){case aK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case iK:return!(t.byteLength!=e.byteLength||!a(new tI(t),new tI(e)));case YY:case KY:case QY:return VY(+t,+e);case ZY:return t.name==e.name&&t.message==e.message;case eK:case nK:return t==e+"";case JY:var s=GY;case tK:var l=r&XY;if(s||(s=WY),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=qY,o.set(t,e);var f=HY(s(t),s(e),r,i,a,o);return o.delete(t),f;case rK:if(M1)return M1.call(t)==M1.call(e)}return!1}var sK=oK;function lK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var LB=lK,uK=LB,cK=vi;function fK(t,e,n){var r=e(t);return cK(t)?r:uK(r,n(t))}var dK=fK;function hK(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var pK=hK;function mK(){return[]}var gK=mK,vK=pK,yK=gK,xK=Object.prototype,_K=xK.propertyIsEnumerable,rI=Object.getOwnPropertySymbols,bK=rI?function(t){return t==null?[]:(t=Object(t),vK(rI(t),function(e){return _K.call(t,e)}))}:yK,SK=bK;function wK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var MK=wK,EK=as,AK=os,TK="[object Arguments]";function PK(t){return AK(t)&&EK(t)==TK}var CK=PK,iI=CK,OK=os,DB=Object.prototype,RK=DB.hasOwnProperty,IK=DB.propertyIsEnumerable,NK=iI(function(){return arguments}())?iI:function(t){return OK(t)&&RK.call(t,"callee")&&!IK.call(t,"callee")},tP=NK,d0={exports:{}};function LK(){return!1}var DK=LK;d0.exports;(function(t,e){var n=go,r=DK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(d0,d0.exports);var kB=d0.exports,kK=9007199254740991,UK=/^(?:0|[1-9]\d*)$/;function FK(t,e){var n=typeof t;return e=e??kK,!!e&&(n=="number"||n!="symbol"&&UK.test(t))&&t>-1&&t%1==0&&t<e}var nP=FK,BK=9007199254740991;function zK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=BK}var rP=zK,jK=as,$K=rP,VK=os,HK="[object Arguments]",GK="[object Array]",WK="[object Boolean]",XK="[object Date]",qK="[object Error]",YK="[object Function]",KK="[object Map]",ZK="[object Number]",JK="[object Object]",QK="[object RegExp]",eZ="[object Set]",tZ="[object String]",nZ="[object WeakMap]",rZ="[object ArrayBuffer]",iZ="[object DataView]",aZ="[object Float32Array]",oZ="[object Float64Array]",sZ="[object Int8Array]",lZ="[object Int16Array]",uZ="[object Int32Array]",cZ="[object Uint8Array]",fZ="[object Uint8ClampedArray]",dZ="[object Uint16Array]",hZ="[object Uint32Array]",gn={};gn[aZ]=gn[oZ]=gn[sZ]=gn[lZ]=gn[uZ]=gn[cZ]=gn[fZ]=gn[dZ]=gn[hZ]=!0;gn[HK]=gn[GK]=gn[rZ]=gn[WK]=gn[iZ]=gn[XK]=gn[qK]=gn[YK]=gn[KK]=gn[ZK]=gn[JK]=gn[QK]=gn[eZ]=gn[tZ]=gn[nZ]=!1;function pZ(t){return VK(t)&&$K(t.length)&&!!gn[jK(t)]}var mZ=pZ;function gZ(t){return function(e){return t(e)}}var UB=gZ,h0={exports:{}};h0.exports;(function(t,e){var n=GF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(h0,h0.exports);var vZ=h0.exports,yZ=mZ,xZ=UB,aI=vZ,oI=aI&&aI.isTypedArray,_Z=oI?xZ(oI):yZ,FB=_Z,bZ=MK,SZ=tP,wZ=vi,MZ=kB,EZ=nP,AZ=FB,TZ=Object.prototype,PZ=TZ.hasOwnProperty;function CZ(t,e){var n=wZ(t),r=!n&&SZ(t),i=!n&&!r&&MZ(t),a=!n&&!r&&!i&&AZ(t),o=n||r||i||a,s=o?bZ(t.length,String):[],l=s.length;for(var u in t)(e||PZ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||EZ(u,l)))&&s.push(u);return s}var OZ=CZ,RZ=Object.prototype;function IZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||RZ;return t===n}var NZ=IZ;function LZ(t,e){return function(n){return t(e(n))}}var BB=LZ,DZ=BB,kZ=DZ(Object.keys,Object),UZ=kZ,FZ=NZ,BZ=UZ,zZ=Object.prototype,jZ=zZ.hasOwnProperty;function $Z(t){if(!FZ(t))return BZ(t);var e=[];for(var n in Object(t))jZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var VZ=$Z,HZ=FT,GZ=rP;function WZ(t){return t!=null&&GZ(t.length)&&!HZ(t)}var Cm=WZ,XZ=OZ,qZ=VZ,YZ=Cm;function KZ(t){return YZ(t)?XZ(t):qZ(t)}var R_=KZ,ZZ=dK,JZ=SK,QZ=R_;function eJ(t){return ZZ(t,QZ,JZ)}var tJ=eJ,sI=tJ,nJ=1,rJ=Object.prototype,iJ=rJ.hasOwnProperty;function aJ(t,e,n,r,i,a){var o=n&nJ,s=sI(t),l=s.length,u=sI(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=s[c];if(!(o?h in e:iJ.call(e,h)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var _=!0;a.set(t,e),a.set(e,t);for(var y=o;++c<l;){h=s[c];var v=t[h],x=e[h];if(r)var b=o?r(x,v,h,e,t,a):r(v,x,h,t,e,a);if(!(b===void 0?v===x||i(v,x,n,r,a):b)){_=!1;break}y||(y=h=="constructor")}if(_&&!y){var M=t.constructor,w=e.constructor;M!=w&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof w=="function"&&w instanceof w)&&(_=!1)}return a.delete(t),a.delete(e),_}var oJ=aJ,sJ=Nu,lJ=go,uJ=sJ(lJ,"DataView"),cJ=uJ,fJ=Nu,dJ=go,hJ=fJ(dJ,"Promise"),pJ=hJ,mJ=Nu,gJ=go,vJ=mJ(gJ,"Set"),zB=vJ,yJ=Nu,xJ=go,_J=yJ(xJ,"WeakMap"),bJ=_J,iE=cJ,aE=zT,oE=pJ,sE=zB,lE=bJ,jB=as,ld=XF,lI="[object Map]",SJ="[object Object]",uI="[object Promise]",cI="[object Set]",fI="[object WeakMap]",dI="[object DataView]",wJ=ld(iE),MJ=ld(aE),EJ=ld(oE),AJ=ld(sE),TJ=ld(lE),Hl=jB;(iE&&Hl(new iE(new ArrayBuffer(1)))!=dI||aE&&Hl(new aE)!=lI||oE&&Hl(oE.resolve())!=uI||sE&&Hl(new sE)!=cI||lE&&Hl(new lE)!=fI)&&(Hl=function(t){var e=jB(t),n=e==SJ?t.constructor:void 0,r=n?ld(n):"";if(r)switch(r){case wJ:return dI;case MJ:return lI;case EJ:return uI;case AJ:return cI;case TJ:return fI}return e});var PJ=Hl,E1=CB,CJ=NB,OJ=sK,RJ=oJ,hI=PJ,pI=vi,mI=kB,IJ=FB,NJ=1,gI="[object Arguments]",vI="[object Array]",sv="[object Object]",LJ=Object.prototype,yI=LJ.hasOwnProperty;function DJ(t,e,n,r,i,a){var o=pI(t),s=pI(e),l=o?vI:hI(t),u=s?vI:hI(e);l=l==gI?sv:l,u=u==gI?sv:u;var f=l==sv,c=u==sv,h=l==u;if(h&&mI(t)){if(!mI(e))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new E1),o||IJ(t)?CJ(t,e,n,r,i,a):OJ(t,e,l,n,r,i,a);if(!(n&NJ)){var m=f&&yI.call(t,"__wrapped__"),g=c&&yI.call(e,"__wrapped__");if(m||g){var _=m?t.value():t,y=g?e.value():e;return a||(a=new E1),i(_,y,n,r,a)}}return h?(a||(a=new E1),RJ(t,e,n,r,i,a)):!1}var kJ=DJ,UJ=kJ,xI=os;function $B(t,e,n,r,i){return t===e?!0:t==null||e==null||!xI(t)&&!xI(e)?t!==t&&e!==e:UJ(t,e,n,r,$B,i)}var iP=$B,FJ=CB,BJ=iP,zJ=1,jJ=2;function $J(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],f=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var c=new FJ;if(r)var h=r(u,f,l,t,e,c);if(!(h===void 0?BJ(f,u,zJ|jJ,r,c):h))return!1}}return!0}var VJ=$J,HJ=ll;function GJ(t){return t===t&&!HJ(t)}var VB=GJ,WJ=VB,XJ=R_;function qJ(t){for(var e=XJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,WJ(i)]}return e}var YJ=qJ;function KJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var HB=KJ,ZJ=VJ,JJ=YJ,QJ=HB;function eQ(t){var e=JJ(t);return e.length==1&&e[0][2]?QJ(e[0][0],e[0][1]):function(n){return n===t||ZJ(n,t,e)}}var tQ=eQ;function nQ(t,e){return t!=null&&e in Object(t)}var rQ=nQ,iQ=JF,aQ=tP,oQ=vi,sQ=nP,lQ=rP,uQ=g_;function cQ(t,e,n){e=iQ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=uQ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&lQ(i)&&sQ(o,i)&&(oQ(t)||aQ(t)))}var fQ=cQ,dQ=rQ,hQ=fQ;function pQ(t,e){return t!=null&&hQ(t,e,dQ)}var mQ=pQ,gQ=iP,vQ=QF,yQ=mQ,xQ=UT,_Q=VB,bQ=HB,SQ=g_,wQ=1,MQ=2;function EQ(t,e){return xQ(t)&&_Q(e)?bQ(SQ(t),e):function(n){var r=vQ(n,t);return r===void 0&&r===e?yQ(n,t):gQ(e,r,wQ|MQ)}}var AQ=EQ;function TQ(t){return t}var ud=TQ;function PQ(t){return function(e){return e==null?void 0:e[t]}}var CQ=PQ,OQ=HT;function RQ(t){return function(e){return OQ(e,t)}}var IQ=RQ,NQ=CQ,LQ=IQ,DQ=UT,kQ=g_;function UQ(t){return DQ(t)?NQ(kQ(t)):LQ(t)}var FQ=UQ,BQ=tQ,zQ=AQ,jQ=ud,$Q=vi,VQ=FQ;function HQ(t){return typeof t=="function"?t:t==null?jQ:typeof t=="object"?$Q(t)?zQ(t[0],t[1]):BQ(t):VQ(t)}var ul=HQ;function GQ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var GB=GQ;function WQ(t){return t!==t}var XQ=WQ;function qQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var YQ=qQ,KQ=GB,ZQ=XQ,JQ=YQ;function QQ(t,e,n){return e===e?JQ(t,e,n):KQ(t,ZQ,n)}var eee=QQ,tee=eee;function nee(t,e){var n=t==null?0:t.length;return!!n&&tee(t,e,0)>-1}var ree=nee;function iee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var aee=iee;function oee(){}var see=oee,A1=zB,lee=see,uee=eP,cee=1/0,fee=A1&&1/uee(new A1([,-0]))[1]==cee?function(t){return new A1(t)}:lee,dee=fee,hee=OB,pee=ree,mee=aee,gee=IB,vee=dee,yee=eP,xee=200;function _ee(t,e,n){var r=-1,i=pee,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=mee;else if(a>=xee){var u=e?null:vee(t);if(u)return yee(u);o=!1,i=gee,l=new hee}else l=e?[]:s;e:for(;++r<a;){var f=t[r],c=e?e(f):f;if(f=n||f!==0?f:0,o&&c===c){for(var h=l.length;h--;)if(l[h]===c)continue e;e&&l.push(c),s.push(f)}else i(l,c,n)||(l!==s&&l.push(c),s.push(f))}return s}var bee=_ee,See=ul,wee=bee;function Mee(t,e){return t&&t.length?wee(t,See(e)):[]}var Eee=Mee;const _I=an(Eee);function WB(t,e,n){return e===!0?_I(t,n):Lt(e)?_I(t,e):t}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var Aee=["ref"];function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){I_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qB(r.key),r)}}function Pee(t,e,n){return e&&SI(t.prototype,e),n&&SI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cee(t,e,n){return e=p0(e),Oee(t,XB()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function Oee(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ree(t)}function Ree(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function Iee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function I_(t,e,n){return e=qB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qB(t){var e=Nee(t,"string");return bf(e)=="symbol"?e:e+""}function Nee(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lee(t,e){if(t==null)return{};var n=Dee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kee(t){return t.value}function Uee(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=Lee(e,Aee);return ne.createElement(QT,n)}var wI=1,su=function(t){function e(){var n;Tee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Cee(this,e,[].concat(i)),I_(n,"lastBoundingBox",{width:-1,height:-1}),n}return Iee(e,t),Pee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wI||Math.abs(i.height-this.lastBoundingBox.height)>wI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,c,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();c={left:((u||0)-m.width)/2}}else c=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((f||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ao(Ao({},c),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,c=Ao(Ao({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(m){r.wrapperNode=m}},Uee(a,Ao(Ao({},this.props),{},{payload:WB(f,u,kee)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ao(Ao({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&He(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);I_(su,"displayName","Legend");I_(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MI=Am,Fee=tP,Bee=vi,EI=MI?MI.isConcatSpreadable:void 0;function zee(t){return Bee(t)||Fee(t)||!!(EI&&t&&t[EI])}var jee=zee,$ee=LB,Vee=jee;function YB(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Vee),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?YB(s,e-1,n,r,i):$ee(i,s):r||(i[i.length]=s)}return i}var KB=YB;function Hee(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var Gee=Hee,Wee=Gee,Xee=Wee(),qee=Xee,Yee=qee,Kee=R_;function Zee(t,e){return t&&Yee(t,e,Kee)}var ZB=Zee,Jee=Cm;function Qee(t,e){return function(n,r){if(n==null)return n;if(!Jee(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ete=Qee,tte=ZB,nte=ete,rte=nte(tte),aP=rte,ite=aP,ate=Cm;function ote(t,e){var n=-1,r=ate(t)?Array(t.length):[];return ite(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var JB=ote;function ste(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var lte=ste,AI=nd;function ute(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=AI(t),o=e!==void 0,s=e===null,l=e===e,u=AI(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var cte=ute,fte=cte;function dte(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=fte(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var hte=dte,T1=VT,pte=HT,mte=ul,gte=JB,vte=lte,yte=UB,xte=hte,_te=ud,bte=vi;function Ste(t,e,n){e.length?e=T1(e,function(a){return bte(a)?function(o){return pte(o,a.length===1?a[0]:a)}:a}):e=[_te];var r=-1;e=T1(e,yte(mte));var i=gte(t,function(a,o,s){var l=T1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return vte(i,function(a,o){return xte(a,o,n)})}var wte=Ste;function Mte(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ete=Mte,Ate=Ete,TI=Math.max;function Tte(t,e,n){return e=TI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=TI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ate(t,this,s)}}var Pte=Tte;function Cte(t){return function(){return t}}var Ote=Cte,Rte=Nu,Ite=function(){try{var t=Rte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),QB=Ite,Nte=Ote,PI=QB,Lte=ud,Dte=PI?function(t,e){return PI(t,"toString",{configurable:!0,enumerable:!1,value:Nte(e),writable:!0})}:Lte,kte=Dte,Ute=800,Fte=16,Bte=Date.now;function zte(t){var e=0,n=0;return function(){var r=Bte(),i=Fte-(r-n);if(n=r,i>0){if(++e>=Ute)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jte=zte,$te=kte,Vte=jte,Hte=Vte($te),Gte=Hte,Wte=ud,Xte=Pte,qte=Gte;function Yte(t,e){return qte(Xte(t,e,Wte),t+"")}var Kte=Yte,Zte=BT,Jte=Cm,Qte=nP,ene=ll;function tne(t,e,n){if(!ene(n))return!1;var r=typeof e;return(r=="number"?Jte(n)&&Qte(e,n.length):r=="string"&&e in n)?Zte(n[e],t):!1}var N_=tne,nne=KB,rne=wte,ine=Kte,CI=N_,ane=ine(function(t,e){if(t==null)return[];var n=e.length;return n>1&&CI(t,e[0],e[1])?e=[]:n>2&&CI(e[0],e[1],e[2])&&(e=[e[0]]),rne(t,nne(e,1),[])}),one=ane;const oP=an(one);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}function sne(t,e){return fne(t)||cne(t,e)||une(t,e)||lne()}function lne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function une(t,e){if(t){if(typeof t=="string")return OI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OI(t,e)}}function OI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fne(t){if(Array.isArray(t))return t}function RI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(n),!0).forEach(function(r){dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dne(t,e,n){return e=hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=pne(t,"string");return Ap(e)=="symbol"?e:e+""}function pne(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mne(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var gne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,c=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,_=e.label,y=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(f&&f.length){var k={padding:0,margin:0},F=(h?oP(f,h):f).map(function(G,$){if(G.type==="none")return null;var V=P1({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},s),H=G.formatter||c||mne,U=G.value,j=G.name,Y=U,Z=j;if(H&&Y!=null&&Z!=null){var J=H(U,j,G,$,f);if(Array.isArray(J)){var fe=sne(J,2);Y=fe[0],Z=fe[1]}else Y=J}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:V},tr(Z)?ne.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,tr(Z)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},Y),ne.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},M=P1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=P1({margin:0},u),E=!kt(_),P=E?_:"",A=Gt("recharts-default-tooltip",m),C=Gt("recharts-tooltip-label",g);E&&y&&f!==void 0&&f!==null&&(P=y(_,f));var I=x?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",cE({className:A,style:M},I),ne.createElement("p",{className:C,style:w},ne.isValidElement(P)?P:"".concat(P)),b())};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function lv(t,e,n){return e=vne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return Tp(e)=="symbol"?e:e+""}function yne(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jd="recharts-tooltip-wrapper",xne={visibility:"hidden"};function _ne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Gt(Jd,lv(lv(lv(lv({},"".concat(Jd,"-right"),He(n)&&e&&He(e.x)&&n>=e.x),"".concat(Jd,"-left"),He(n)&&e&&He(e.x)&&n<e.x),"".concat(Jd,"-bottom"),He(r)&&e&&He(e.y)&&r>=e.y),"".concat(Jd,"-top"),He(r)&&e&&He(e.y)&&r<e.y))}function II(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&He(a[r]))return a[r];var f=n[r]-s-i,c=n[r]+i;if(e[r])return o[r]?f:c;if(o[r]){var h=f,m=l[r];return h<m?Math.max(c,l[r]):Math.max(f,l[r])}var g=c+s,_=l[r]+u;return g>_?Math.max(f,l[r]):Math.max(c,l[r])}function bne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Sne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,c;return o.height>0&&o.width>0&&n?(f=II({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),c=II({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=bne({translateX:f,translateY:c,useTranslate3d:s})):u=xne,{cssProperties:u,cssClasses:_ne({translateX:f,translateY:c,coordinate:n})}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function NI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(n),!0).forEach(function(r){dE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tz(r.key),r)}}function Ene(t,e,n){return e&&Mne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ane(t,e,n){return e=m0(e),Tne(t,ez()?Reflect.construct(e,n||[],m0(t).constructor):e.apply(t,n))}function Tne(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pne(t)}function Pne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!t})()}function m0(t){return m0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},m0(t)}function Cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function dE(t,e,n){return e=tz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tz(t){var e=One(t,"string");return Sf(e)=="symbol"?e:e+""}function One(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DI=1,Rne=function(t){function e(){var n;wne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ane(this,e,[].concat(i)),dE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return Cne(e,t),Ene(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>DI||Math.abs(r.height-this.state.lastBoundingBox.height)>DI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,c=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,_=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=Sne({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:g,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),M=b.cssClasses,w=b.cssProperties,E=LI(LI({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&c?"visible":"hidden",position:"absolute",top:0,left:0},x);return ne.createElement("div",{tabIndex:-1,className:M,style:E,ref:function(A){r.wrapperNode=A}},u)}}])}(z.PureComponent),Ine=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cd={isSsr:Ine()};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function kI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kI(Object(n),!0).forEach(function(r){sP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rz(r.key),r)}}function Dne(t,e,n){return e&&Lne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kne(t,e,n){return e=g0(e),Une(t,nz()?Reflect.construct(e,n||[],g0(t).constructor):e.apply(t,n))}function Une(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fne(t)}function Fne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!t})()}function g0(t){return g0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g0(t)}function Bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function sP(t,e,n){return e=rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rz(t){var e=zne(t,"string");return wf(e)=="symbol"?e:e+""}function zne(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jne(t){return t.dataKey}function $ne(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(gne,e)}var Ta=function(t){function e(){return Nne(this,e),kne(this,e,arguments)}return Bne(e,t),Dne(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,c=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,_=i.payloadUniqBy,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,M=i.wrapperStyle,w=g??[];c&&w.length&&(w=WB(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),_,jne));var E=w.length>0;return ne.createElement(Rne,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:f,hasPayload:E,offset:m,position:y,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:M},$ne(u,UI(UI({},this.props),{},{payload:w})))}}])}(z.PureComponent);sP(Ta,"displayName","Tooltip");sP(Ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vne=go,Hne=function(){return Vne.Date.now()},Gne=Hne,Wne=/\s/;function Xne(t){for(var e=t.length;e--&&Wne.test(t.charAt(e)););return e}var qne=Xne,Yne=qne,Kne=/^\s+/;function Zne(t){return t&&t.slice(0,Yne(t)+1).replace(Kne,"")}var Jne=Zne,Qne=Jne,FI=ll,ere=nd,BI=NaN,tre=/^[-+]0x[0-9a-f]+$/i,nre=/^0b[01]+$/i,rre=/^0o[0-7]+$/i,ire=parseInt;function are(t){if(typeof t=="number")return t;if(ere(t))return BI;if(FI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qne(t);var n=nre.test(t);return n||rre.test(t)?ire(t.slice(2),n?2:8):tre.test(t)?BI:+t}var iz=are,ore=ll,C1=Gne,zI=iz,sre="Expected a function",lre=Math.max,ure=Math.min;function cre(t,e,n){var r,i,a,o,s,l,u=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(sre);e=zI(e)||0,ore(n)&&(f=!!n.leading,c="maxWait"in n,a=c?lre(zI(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(E){var P=r,A=i;return r=i=void 0,u=E,o=t.apply(A,P),o}function g(E){return u=E,s=setTimeout(v,e),f?m(E):o}function _(E){var P=E-l,A=E-u,C=e-P;return c?ure(C,a-A):C}function y(E){var P=E-l,A=E-u;return l===void 0||P>=e||P<0||c&&A>=a}function v(){var E=C1();if(y(E))return x(E);s=setTimeout(v,_(E))}function x(E){return s=void 0,h&&r?m(E):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function M(){return s===void 0?o:x(C1())}function w(){var E=C1(),P=y(E);if(r=arguments,i=this,l=E,P){if(s===void 0)return g(l);if(c)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),o}return w.cancel=b,w.flush=M,w}var fre=cre,dre=fre,hre=ll,pre="Expected a function";function mre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(pre);return hre(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dre(t,e,{leading:r,maxWait:e,trailing:i})}var gre=mre;const az=an(gre);function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function jI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(n),!0).forEach(function(r){vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vre(t,e,n){return e=yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=xre(t,"string");return Pp(e)=="symbol"?e:e+""}function xre(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _re(t,e){return Mre(t)||wre(t,e)||Sre(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t,e){if(t){if(typeof t=="string")return $I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $I(t,e)}}function $I(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mre(t){if(Array.isArray(t))return t}var VI=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,c=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,_=g===void 0?0:g,y=t.id,v=t.className,x=t.onResize,b=t.style,M=b===void 0?{}:b,w=z.useRef(null),E=z.useRef();E.current=x,z.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=z.useState({containerWidth:i.width,containerHeight:i.height}),A=_re(P,2),C=A[0],I=A[1],R=z.useCallback(function(F,G){I(function($){var V=Math.round(F),H=Math.round(G);return $.containerWidth===V&&$.containerHeight===H?$:{containerWidth:V,containerHeight:H}})},[]);z.useEffect(function(){var F=function(j){var Y,Z=j[0].contentRect,J=Z.width,fe=Z.height;R(J,fe),(Y=E.current)===null||Y===void 0||Y.call(E,J,fe)};_>0&&(F=az(F,_,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),$=w.current.getBoundingClientRect(),V=$.width,H=$.height;return R(V,H),G.observe(w.current),function(){G.disconnect()}},[R,_]);var k=z.useMemo(function(){var F=C.containerWidth,G=C.containerHeight;if(F<0||G<0)return null;Ho(Zl(o)||Zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Zl(o)?F:o,V=Zl(l)?G:l;n&&n>0&&($?V=$/n:V&&($=V*n),h&&V>h&&(V=h)),Ho($>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,V,o,l,f,c,n);var H=!Array.isArray(m)&&Vo(m.type).endsWith("Chart");return ne.Children.map(m,function(U){return ne.isValidElement(U)?z.cloneElement(U,uv({width:$,height:V},H?{style:uv({height:"100%",width:"100%",maxHeight:V,maxWidth:$},U.props.style)}:{})):U})},[n,m,l,h,c,f,C,o]);return ne.createElement("div",{id:y?"".concat(y):void 0,className:Gt("recharts-responsive-container",v),style:uv(uv({},M),{},{width:o,height:l,minWidth:f,minHeight:c,maxHeight:h}),ref:w},k)}),oz=function(e){return null};oz.displayName="Cell";function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){Ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ere(t,e,n){return e=Are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Are(t){var e=Tre(t,"string");return Cp(e)=="symbol"?e:e+""}function Tre(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ac={widthCache:{},cacheCount:0},Pre=2e3,Cre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GI="recharts_measurement_span";function Ore(t){var e=pE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $h=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cd.isSsr)return{width:0,height:0};var r=Ore(n),i=JSON.stringify({text:e,copyStyle:r});if(ac.widthCache[i])return ac.widthCache[i];try{var a=document.getElementById(GI);a||(a=document.createElement("span"),a.setAttribute("id",GI),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=pE(pE({},Cre),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ac.widthCache[i]=l,++ac.cacheCount>Pre&&(ac.cacheCount=0,ac.widthCache={}),l}catch{return{width:0,height:0}}},Rre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function v0(t,e){return Dre(t)||Lre(t,e)||Nre(t,e)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nre(t,e){if(t){if(typeof t=="string")return WI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WI(t,e)}}function WI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dre(t){if(Array.isArray(t))return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fre(r.key),r)}}function Ure(t,e,n){return e&&XI(t.prototype,e),n&&XI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fre(t){var e=Bre(t,"string");return Op(e)=="symbol"?e:e+""}function Bre(t,e){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$re=Object.keys(sz),Xc="NaN";function Vre(t,e){return t*sz[e]}var cv=function(){function t(e,n){kre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!zre.test(n)&&(this.num=NaN,this.unit=""),$re.includes(n)&&(this.num=Vre(e,n),this.unit="px")}return Ure(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=jre.exec(n))!==null&&r!==void 0?r:[],a=v0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function lz(t){if(t.includes(Xc))return Xc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=qI.exec(e))!==null&&n!==void 0?n:[],i=v0(r,4),a=i[1],o=i[2],s=i[3],l=cv.parse(a??""),u=cv.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Xc;e=e.replace(qI,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,h=(c=YI.exec(e))!==null&&c!==void 0?c:[],m=v0(h,4),g=m[1],_=m[2],y=m[3],v=cv.parse(g??""),x=cv.parse(y??""),b=_==="+"?v.add(x):v.subtract(x);if(b.isNaN())return Xc;e=e.replace(YI,b.toString())}return e}var KI=/\(([^()]*)\)/;function Hre(t){for(var e=t;e.includes("(");){var n=KI.exec(e),r=v0(n,2),i=r[1];e=e.replace(KI,lz(i))}return e}function Gre(t){var e=t.replace(/\s+/g,"");return e=Hre(e),e=lz(e),e}function Wre(t){try{return Gre(t)}catch{return Xc}}function O1(t){var e=Wre(t.slice(5,-1));return e===Xc?"":e}var Xre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],qre=["dx","dy","angle","className","breakAll"];function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}function ZI(t,e){if(t==null)return{};var n=Yre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JI(t,e){return Qre(t)||Jre(t,e)||Zre(t,e)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zre(t,e){if(t){if(typeof t=="string")return QI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QI(t,e)}}function QI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qre(t){if(Array.isArray(t))return t}var uz=/[ \f\n\r\t\v\u2028\u2029]+/,cz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];kt(n)||(r?a=n.toString().split(""):a=n.toString().split(uz));var o=a.map(function(l){return{word:l,width:$h(l,i).width}}),s=r?0:$h("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},eie=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=He(o),c=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(V,H){var U=H.word,j=H.width,Y=V[V.length-1];if(Y&&(i==null||a||Y.width+j+r<Number(i)))Y.words.push(U),Y.width+=j+r;else{var Z={words:[U],width:j};V.push(Z)}return V},[])},m=h(n),g=function($){return $.reduce(function(V,H){return V.width>H.width?V:H})};if(!f)return m;for(var _="",y=function($){var V=c.slice(0,$),H=cz({breakAll:u,style:l,children:V+_}).wordsWithComputedWidth,U=h(H),j=U.length>o||g(U).width>Number(i);return[j,U]},v=0,x=c.length-1,b=0,M;v<=x&&b<=c.length-1;){var w=Math.floor((v+x)/2),E=w-1,P=y(E),A=JI(P,2),C=A[0],I=A[1],R=y(w),k=JI(R,1),F=k[0];if(!C&&!F&&(v=w+1),C&&F&&(x=w-1),!C&&F){M=I;break}b++}return M||m},e3=function(e){var n=kt(e)?[]:e.toString().split(uz);return[{words:n}]},tie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!cd.isSsr){var l,u,f=cz({breakAll:o,children:i,style:a});if(f){var c=f.wordsWithComputedWidth,h=f.spaceWidth;l=c,u=h}else return e3(i);return eie({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return e3(i)},t3="#808080",y0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,c=f===void 0?!1:f,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,_=g===void 0?"end":g,y=e.fill,v=y===void 0?t3:y,x=ZI(e,Xre),b=z.useMemo(function(){return tie({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:c,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,c,x.style,x.width]),M=x.dx,w=x.dy,E=x.angle,P=x.className,A=x.breakAll,C=ZI(x,qre);if(!tr(r)||!tr(a))return null;var I=r+(He(M)?M:0),R=a+(He(w)?w:0),k;switch(_){case"start":k=O1("calc(".concat(u,")"));break;case"middle":k=O1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=O1("calc(".concat(b.length-1," * -").concat(s,")"));break}var F=[];if(c){var G=b[0].width,$=x.width;F.push("scale(".concat((He($)?$/G:1)/G,")"))}return E&&F.push("rotate(".concat(E,", ").concat(I,", ").concat(R,")")),F.length&&(C.transform=F.join(" ")),ne.createElement("text",mE({},jt(C,!0),{x:I,y:R,className:Gt("recharts-text",P),textAnchor:m,fill:v.includes("url")?t3:v}),b.map(function(V,H){var U=V.words.join(A?"":" ");return ne.createElement("tspan",{x:I,dy:H===0?k:s,key:"".concat(U,"-").concat(H)},U)}))};function Zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lP(t){let e,n,r;t.length!==2?(e=Zs,n=(s,l)=>Zs(t(s),l),r=(s,l)=>t(s)-l):(e=t===Zs||t===nie?t:rie,n=t,r=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<0?u=c+1:f=c}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const c=u+f>>>1;n(s[c],l)<=0?u=c+1:f=c}while(u<f)}return u}function o(s,l,u=0,f=s.length){const c=i(s,l,u,f-1);return c>u&&r(s[c-1],l)>-r(s[c],l)?c-1:c}return{left:i,center:o,right:a}}function rie(){return 0}function fz(t){return t===null?NaN:+t}function*iie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const aie=lP(Zs),Om=aie.right;lP(fz).center;class n3 extends Map{constructor(e,n=lie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(r3(this,e))}has(e){return super.has(r3(this,e))}set(e,n){return super.set(oie(this,e),n)}delete(e){return super.delete(sie(this,e))}}function r3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function oie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uie(t=Zs){if(t===Zs)return dz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function dz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const cie=Math.sqrt(50),fie=Math.sqrt(10),die=Math.sqrt(2);function x0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=cie?10:a>=fie?5:a>=die?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?x0(t,e,n*2):[s,l,u]}function gE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?x0(e,t,n):x0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function vE(t,e,n){return e=+e,t=+t,n=+n,x0(t,e,n)[2]}function yE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vE(e,t,n):vE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function i3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function a3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?dz:uie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,f=Math.log(l),c=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*c*(l-c)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*c/l+h)),g=Math.min(r,Math.floor(e+(l-u)*c/l+h));hz(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Qd(t,n,e),i(t[r],a)>0&&Qd(t,n,r);o<s;){for(Qd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Qd(t,n,s):(++s,Qd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Qd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hie(t,e,n){if(t=Float64Array.from(iie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return a3(t);if(e>=1)return i3(t);var r,i=(r-1)*e,a=Math.floor(i),o=i3(hz(t,a).subarray(0,a+1)),s=a3(t.subarray(a+1));return o+(s-o)*(i-a)}}function pie(t,e,n=fz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function mie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xE=Symbol("implicit");function uP(){var t=new n3,e=[],n=[],r=xE;function i(a){let o=t.get(a);if(o===void 0){if(r!==xE)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new n3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uP(e,n).unknown(r)},ma.apply(i,arguments),i}function Rp(){var t=uP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function c(){var h=e().length,m=i<r,g=m?i:r,_=m?r:i;a=(_-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(_-g-a*(h-l))*f,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var y=mie(h).map(function(v){return g+a*v});return n(m?y.reverse():y)}return t.domain=function(h){return arguments.length?(e(h),c()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,c()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,c()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,c()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),c()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),c()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,c()):u},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),c()):f},t.copy=function(){return Rp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},ma.apply(c(),arguments)}function pz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pz(e())},t}function Vh(){return pz(Rp.apply(null,arguments).paddingInner(1))}function cP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rm(){}var Ip=.7,_0=1/Ip,lf="\\s*([+-]?\\d+)\\s*",Np="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gie=/^#([0-9a-f]{3,8})$/,vie=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),yie=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),xie=new RegExp(`^rgba\\(${lf},${lf},${lf},${Np}\\)$`),_ie=new RegExp(`^rgba\\(${uo},${uo},${uo},${Np}\\)$`),bie=new RegExp(`^hsl\\(${Np},${uo},${uo}\\)$`),Sie=new RegExp(`^hsla\\(${Np},${uo},${uo},${Np}\\)$`),o3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cP(Rm,Lp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:s3,formatHex:s3,formatHex8:wie,formatHsl:Mie,formatRgb:l3,toString:l3});function s3(){return this.rgb().formatHex()}function wie(){return this.rgb().formatHex8()}function Mie(){return gz(this).formatHsl()}function l3(){return this.rgb().formatRgb()}function Lp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=gie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?u3(e):n===3?new fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?fv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?fv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vie.exec(t))?new fi(e[1],e[2],e[3],1):(e=yie.exec(t))?new fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xie.exec(t))?fv(e[1],e[2],e[3],e[4]):(e=_ie.exec(t))?fv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bie.exec(t))?d3(e[1],e[2]/100,e[3]/100,1):(e=Sie.exec(t))?d3(e[1],e[2]/100,e[3]/100,e[4]):o3.hasOwnProperty(t)?u3(o3[t]):t==="transparent"?new fi(NaN,NaN,NaN,0):null}function u3(t){return new fi(t>>16&255,t>>8&255,t&255,1)}function fv(t,e,n,r){return r<=0&&(t=e=n=NaN),new fi(t,e,n,r)}function Eie(t){return t instanceof Rm||(t=Lp(t)),t?(t=t.rgb(),new fi(t.r,t.g,t.b,t.opacity)):new fi}function _E(t,e,n,r){return arguments.length===1?Eie(t):new fi(t,e,n,r??1)}function fi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cP(fi,_E,mz(Rm,{brighter(t){return t=t==null?_0:Math.pow(_0,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fi(lu(this.r),lu(this.g),lu(this.b),b0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c3,formatHex:c3,formatHex8:Aie,formatRgb:f3,toString:f3}));function c3(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}`}function Aie(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}${Jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function f3(){const t=b0(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function b0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jl(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function d3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ia(t,e,n,r)}function gz(t){if(t instanceof Ia)return new Ia(t.h,t.s,t.l,t.opacity);if(t instanceof Rm||(t=Lp(t)),!t)return new Ia;if(t instanceof Ia)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ia(o,s,l,t.opacity)}function Tie(t,e,n,r){return arguments.length===1?gz(t):new Ia(t,e,n,r??1)}function Ia(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cP(Ia,Tie,mz(Rm,{brighter(t){return t=t==null?_0:Math.pow(_0,t),new Ia(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ip:Math.pow(Ip,t),new Ia(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new fi(R1(t>=240?t-240:t+120,i,r),R1(t,i,r),R1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ia(h3(this.h),dv(this.s),dv(this.l),b0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=b0(this.opacity);return`${t===1?"hsl(":"hsla("}${h3(this.h)}, ${dv(this.s)*100}%, ${dv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function h3(t){return t=(t||0)%360,t<0?t+360:t}function dv(t){return Math.max(0,Math.min(1,t||0))}function R1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fP=t=>()=>t;function Pie(t,e){return function(n){return t+n*e}}function Cie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Oie(t){return(t=+t)==1?vz:function(e,n){return n-e?Cie(e,n,t):fP(isNaN(e)?n:e)}}function vz(t,e){var n=e-t;return n?Pie(t,n):fP(isNaN(t)?e:t)}const p3=function t(e){var n=Oie(e);function r(i,a){var o=n((i=_E(i)).r,(a=_E(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=vz(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return r.gamma=t,r}(1);function Rie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Iie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=fd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Lie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function S0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Die(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var bE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I1=new RegExp(bE.source,"g");function kie(t){return function(){return t}}function Uie(t){return function(e){return t(e)+""}}function Fie(t,e){var n=bE.lastIndex=I1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=bE.exec(t))&&(i=I1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:S0(r,i)})),n=I1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Uie(l[0].x):kie(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function fd(t,e){var n=typeof e,r;return e==null||n==="boolean"?fP(e):(n==="number"?S0:n==="string"?(r=Lp(e))?(e=r,p3):Fie:e instanceof Lp?p3:e instanceof Date?Lie:Iie(e)?Rie:Array.isArray(e)?Nie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Die:S0)(t,e)}function dP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bie(t,e){e===void 0&&(e=t,t=fd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function zie(t){return function(){return t}}function w0(t){return+t}var m3=[0,1];function Xr(t){return t}function SE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zie(isNaN(e)?NaN:.5)}function jie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $ie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=SE(i,r),a=n(o,a)):(r=SE(r,i),a=n(a,o)),function(s){return a(r(s))}}function Vie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=SE(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Om(t,s,1,r)-1;return a[l](i[l](s))}}function Im(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function L_(){var t=m3,e=m3,n=fd,r,i,a,o=Xr,s,l,u;function f(){var h=Math.min(t.length,e.length);return o!==Xr&&(o=jie(t[0],t[h-1])),s=h>2?Vie:$ie,l=u=null,c}function c(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return c.invert=function(h){return o(i((u||(u=s(e,t.map(r),S0)))(h)))},c.domain=function(h){return arguments.length?(t=Array.from(h,w0),f()):t.slice()},c.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},c.rangeRound=function(h){return e=Array.from(h),n=dP,f()},c.clamp=function(h){return arguments.length?(o=h?!0:Xr,f()):o!==Xr},c.interpolate=function(h){return arguments.length?(n=h,f()):n},c.unknown=function(h){return arguments.length?(a=h,c):a},function(h,m){return r=h,i=m,f()}}function hP(){return L_()(Xr,Xr)}function Hie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mf(t){return t=M0(Math.abs(t)),t?t[1]:NaN}function Gie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function Wie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Xie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dp(t){if(!(e=Xie.exec(t)))throw new Error("invalid format: "+t);var e;return new pP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Dp.prototype=pP.prototype;function pP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var yz;function Yie(t,e){var n=M0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(yz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+M0(t,Math.max(0,e+a-1))[0]}function g3(t,e){var n=M0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const v3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g3(t*100,e),r:g3,s:Yie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function y3(t){return t}var x3=Array.prototype.map,_3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kie(t){var e=t.grouping===void 0||t.thousands===void 0?y3:Gie(x3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?y3:Wie(x3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(c){c=Dp(c);var h=c.fill,m=c.align,g=c.sign,_=c.symbol,y=c.zero,v=c.width,x=c.comma,b=c.precision,M=c.trim,w=c.type;w==="n"?(x=!0,w="g"):v3[w]||(b===void 0&&(b=12),M=!0,w="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=_==="$"?r:/[%p]/.test(w)?o:"",A=v3[w],C=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function I(R){var k=E,F=P,G,$,V;if(w==="c")F=A(R)+F,R="";else{R=+R;var H=R<0||1/R<0;if(R=isNaN(R)?l:A(Math.abs(R),b),M&&(R=qie(R)),H&&+R==0&&g!=="+"&&(H=!1),k=(H?g==="("?g:s:g==="-"||g==="("?"":g)+k,F=(w==="s"?_3[8+yz/3]:"")+F+(H&&g==="("?")":""),C){for(G=-1,$=R.length;++G<$;)if(V=R.charCodeAt(G),48>V||V>57){F=(V===46?i+R.slice(G+1):R.slice(G))+F,R=R.slice(0,G);break}}}x&&!y&&(R=e(R,1/0));var U=k.length+R.length+F.length,j=U<v?new Array(v-U+1).join(h):"";switch(x&&y&&(R=e(j+R,j.length?v-F.length:1/0),j=""),m){case"<":R=k+R+F+j;break;case"=":R=k+j+R+F;break;case"^":R=j.slice(0,U=j.length>>1)+k+R+F+j.slice(U);break;default:R=j+k+R+F;break}return a(R)}return I.toString=function(){return c+""},I}function f(c,h){var m=u((c=Dp(c),c.type="f",c)),g=Math.max(-8,Math.min(8,Math.floor(Mf(h)/3)))*3,_=Math.pow(10,-g),y=_3[8+g/3];return function(v){return m(_*v)+y}}return{format:u,formatPrefix:f}}var hv,mP,xz;Zie({thousands:",",grouping:[3],currency:["$",""]});function Zie(t){return hv=Kie(t),mP=hv.format,xz=hv.formatPrefix,hv}function Jie(t){return Math.max(0,-Mf(Math.abs(t)))}function Qie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mf(e)/3)))*3-Mf(Math.abs(t)))}function eae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mf(e)-Mf(t))+1}function _z(t,e,n,r){var i=yE(t,e,n),a;switch(r=Dp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Qie(i,o))&&(r.precision=a),xz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=eae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Jie(i))&&(r.precision=a-(r.type==="%")*2);break}}return mP(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return gE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _z(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=vE(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function E0(){var t=hP();return t.copy=function(){return Im(t,E0())},ma.apply(t,arguments),cl(t)}function bz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,w0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return bz(t).unknown(e)},t=arguments.length?Array.from(t,w0):[0,1],cl(n)}function Sz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function b3(t){return Math.log(t)}function S3(t){return Math.exp(t)}function tae(t){return-Math.log(-t)}function nae(t){return-Math.exp(-t)}function rae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iae(t){return t===10?rae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function w3(t){return(e,n)=>-t(-e,n)}function gP(t){const e=t(b3,S3),n=e.domain;let r=10,i,a;function o(){return i=aae(r),a=iae(r),n()[0]<0?(i=w3(i),a=w3(a),t(tae,nae)):t(b3,S3),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],f=l[l.length-1];const c=f<u;c&&([u,f]=[f,u]);let h=i(u),m=i(f),g,_;const y=s==null?10:+s;let v=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(_=h<0?g/a(-h):g*a(h),!(_<u)){if(_>f)break;v.push(_)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(_=h>0?g/a(-h):g*a(h),!(_<u)){if(_>f)break;v.push(_)}v.length*2<y&&(v=gE(u,f,y))}else v=gE(h,m,Math.min(m-h,y)).map(a);return c?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Dp(l)).precision==null&&(l.trim=!0),l=mP(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return f=>{let c=f/a(Math.round(i(f)));return c*r<r-.5&&(c*=r),c<=u?l(f):""}},e.nice=()=>n(Sz(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function wz(){const t=gP(L_()).domain([1,10]);return t.copy=()=>Im(t,wz()).base(t.base()),ma.apply(t,arguments),t}function M3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function E3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vP(t){var e=1,n=t(M3(e),E3(e));return n.constant=function(r){return arguments.length?t(M3(e=+r),E3(e)):e},cl(n)}function Mz(){var t=vP(L_());return t.copy=function(){return Im(t,Mz()).constant(t.constant())},ma.apply(t,arguments)}function A3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sae(t){return t<0?-t*t:t*t}function yP(t){var e=t(Xr,Xr),n=1;function r(){return n===1?t(Xr,Xr):n===.5?t(oae,sae):t(A3(n),A3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cl(e)}function xP(){var t=yP(L_());return t.copy=function(){return Im(t,xP()).exponent(t.exponent())},ma.apply(t,arguments),t}function lae(){return xP.apply(null,arguments).exponent(.5)}function T3(t){return Math.sign(t)*t*t}function uae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Ez(){var t=hP(),e=[0,1],n=!1,r;function i(a){var o=uae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(T3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,w0)).map(T3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Ez(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ma.apply(i,arguments),cl(i)}function Az(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=pie(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Om(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Zs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Az().domain(t).range(e).unknown(r)},ma.apply(a,arguments)}function Tz(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Om(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Tz().domain([t,e]).range(i).unknown(a)},ma.apply(cl(o),arguments)}function Pz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Om(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Pz().domain(t).range(e).unknown(n)},ma.apply(i,arguments)}const N1=new Date,L1=new Date;function ir(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>ir(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(N1.setTime(+a),L1.setTime(+o),t(N1),t(L1),Math.floor(n(N1,L1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const A0=ir(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);A0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ir(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):A0);A0.range;const Bo=1e3,aa=Bo*60,zo=aa*60,Zo=zo*24,_P=Zo*7,P3=Zo*30,D1=Zo*365,Ql=ir(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());Ql.range;const bP=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getMinutes());bP.range;const SP=ir(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCMinutes());SP.range;const wP=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*aa)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());wP.range;const MP=ir(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());MP.range;const Nm=ir(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*aa)/Zo,t=>t.getDate()-1);Nm.range;const D_=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);D_.range;const Cz=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));Cz.range;function Lu(t){return ir(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*aa)/_P)}const k_=Lu(0),T0=Lu(1),cae=Lu(2),fae=Lu(3),Ef=Lu(4),dae=Lu(5),hae=Lu(6);k_.range;T0.range;cae.range;fae.range;Ef.range;dae.range;hae.range;function Du(t){return ir(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_P)}const U_=Du(0),P0=Du(1),pae=Du(2),mae=Du(3),Af=Du(4),gae=Du(5),vae=Du(6);U_.range;P0.range;pae.range;mae.range;Af.range;gae.range;vae.range;const EP=ir(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());EP.range;const AP=ir(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AP.range;const Jo=ir(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Qo=ir(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function Oz(t,e,n,r,i,a){const o=[[Ql,1,Bo],[Ql,5,5*Bo],[Ql,15,15*Bo],[Ql,30,30*Bo],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,Zo],[r,2,2*Zo],[n,1,_P],[e,1,P3],[e,3,3*P3],[t,1,D1]];function s(u,f,c){const h=f<u;h&&([u,f]=[f,u]);const m=c&&typeof c.range=="function"?c:l(u,f,c),g=m?m.range(u,+f+1):[];return h?g.reverse():g}function l(u,f,c){const h=Math.abs(f-u)/c,m=lP(([,,y])=>y).right(o,h);if(m===o.length)return t.every(yE(u/D1,f/D1,c));if(m===0)return A0.every(Math.max(yE(u,f,c),1));const[g,_]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(_)}return[s,l]}const[yae,xae]=Oz(Qo,AP,U_,Cz,MP,SP),[_ae,bae]=Oz(Jo,EP,k_,Nm,wP,bP);function k1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function eh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Sae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=th(i),f=nh(i),c=th(a),h=nh(a),m=th(o),g=nh(o),_=th(s),y=nh(s),v=th(l),x=nh(l),b={a:H,A:U,b:j,B:Y,c:null,d:L3,e:L3,f:Gae,g:toe,G:roe,H:$ae,I:Vae,j:Hae,L:Rz,m:Wae,M:Xae,p:Z,q:J,Q:U3,s:F3,S:qae,u:Yae,U:Kae,V:Zae,w:Jae,W:Qae,x:null,X:null,y:eoe,Y:noe,Z:ioe,"%":k3},M={a:fe,A:we,b:De,B:ae,c:null,d:D3,e:D3,f:loe,g:yoe,G:_oe,H:aoe,I:ooe,j:soe,L:Nz,m:uoe,M:coe,p:be,q:Ae,Q:U3,s:F3,S:foe,u:doe,U:hoe,V:poe,w:moe,W:goe,x:null,X:null,y:voe,Y:xoe,Z:boe,"%":k3},w={a:I,A:R,b:k,B:F,c:G,d:I3,e:I3,f:Fae,g:R3,G:O3,H:N3,I:N3,j:Lae,L:Uae,m:Nae,M:Dae,p:C,q:Iae,Q:zae,s:jae,S:kae,u:Tae,U:Pae,V:Cae,w:Aae,W:Oae,x:$,X:V,y:R3,Y:O3,Z:Rae,"%":Bae};b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),M.x=E(n,M),M.X=E(r,M),M.c=E(e,M);function E(me,Te){return function(Pe){var pe=[],Ge=-1,ce=0,Se=me.length,xe,Ne,q;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ge<Se;)me.charCodeAt(Ge)===37&&(pe.push(me.slice(ce,Ge)),(Ne=C3[xe=me.charAt(++Ge)])!=null?xe=me.charAt(++Ge):Ne=xe==="e"?" ":"0",(q=Te[xe])&&(xe=q(Pe,Ne)),pe.push(xe),ce=Ge+1);return pe.push(me.slice(ce,Ge)),pe.join("")}}function P(me,Te){return function(Pe){var pe=eh(1900,void 0,1),Ge=A(pe,me,Pe+="",0),ce,Se;if(Ge!=Pe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Te&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ce=U1(eh(pe.y,0,1)),Se=ce.getUTCDay(),ce=Se>4||Se===0?P0.ceil(ce):P0(ce),ce=D_.offset(ce,(pe.V-1)*7),pe.y=ce.getUTCFullYear(),pe.m=ce.getUTCMonth(),pe.d=ce.getUTCDate()+(pe.w+6)%7):(ce=k1(eh(pe.y,0,1)),Se=ce.getDay(),ce=Se>4||Se===0?T0.ceil(ce):T0(ce),ce=Nm.offset(ce,(pe.V-1)*7),pe.y=ce.getFullYear(),pe.m=ce.getMonth(),pe.d=ce.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Se="Z"in pe?U1(eh(pe.y,0,1)).getUTCDay():k1(eh(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Se+5)%7:pe.w+pe.U*7-(Se+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,U1(pe)):k1(pe)}}function A(me,Te,Pe,pe){for(var Ge=0,ce=Te.length,Se=Pe.length,xe,Ne;Ge<ce;){if(pe>=Se)return-1;if(xe=Te.charCodeAt(Ge++),xe===37){if(xe=Te.charAt(Ge++),Ne=w[xe in C3?Te.charAt(Ge++):xe],!Ne||(pe=Ne(me,Pe,pe))<0)return-1}else if(xe!=Pe.charCodeAt(pe++))return-1}return pe}function C(me,Te,Pe){var pe=u.exec(Te.slice(Pe));return pe?(me.p=f.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function I(me,Te,Pe){var pe=m.exec(Te.slice(Pe));return pe?(me.w=g.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function R(me,Te,Pe){var pe=c.exec(Te.slice(Pe));return pe?(me.w=h.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function k(me,Te,Pe){var pe=v.exec(Te.slice(Pe));return pe?(me.m=x.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function F(me,Te,Pe){var pe=_.exec(Te.slice(Pe));return pe?(me.m=y.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function G(me,Te,Pe){return A(me,e,Te,Pe)}function $(me,Te,Pe){return A(me,n,Te,Pe)}function V(me,Te,Pe){return A(me,r,Te,Pe)}function H(me){return o[me.getDay()]}function U(me){return a[me.getDay()]}function j(me){return l[me.getMonth()]}function Y(me){return s[me.getMonth()]}function Z(me){return i[+(me.getHours()>=12)]}function J(me){return 1+~~(me.getMonth()/3)}function fe(me){return o[me.getUTCDay()]}function we(me){return a[me.getUTCDay()]}function De(me){return l[me.getUTCMonth()]}function ae(me){return s[me.getUTCMonth()]}function be(me){return i[+(me.getUTCHours()>=12)]}function Ae(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Te=E(me+="",b);return Te.toString=function(){return me},Te},parse:function(me){var Te=P(me+="",!1);return Te.toString=function(){return me},Te},utcFormat:function(me){var Te=E(me+="",M);return Te.toString=function(){return me},Te},utcParse:function(me){var Te=P(me+="",!0);return Te.toString=function(){return me},Te}}}var C3={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,wae=/^%/,Mae=/[\\^$*+?|[\]().{}]/g;function Jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Eae(t){return t.replace(Mae,"\\$&")}function th(t){return new RegExp("^(?:"+t.map(Eae).join("|")+")","i")}function nh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Aae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Pae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Cae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Oae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function O3(t,e,n){var r=pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Nae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function I3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Lae(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function N3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function kae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Uae(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Fae(t,e,n){var r=pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bae(t,e,n){var r=wae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function zae(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jae(t,e,n){var r=pr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function L3(t,e){return Jt(t.getDate(),e,2)}function $ae(t,e){return Jt(t.getHours(),e,2)}function Vae(t,e){return Jt(t.getHours()%12||12,e,2)}function Hae(t,e){return Jt(1+Nm.count(Jo(t),t),e,3)}function Rz(t,e){return Jt(t.getMilliseconds(),e,3)}function Gae(t,e){return Rz(t,e)+"000"}function Wae(t,e){return Jt(t.getMonth()+1,e,2)}function Xae(t,e){return Jt(t.getMinutes(),e,2)}function qae(t,e){return Jt(t.getSeconds(),e,2)}function Yae(t){var e=t.getDay();return e===0?7:e}function Kae(t,e){return Jt(k_.count(Jo(t)-1,t),e,2)}function Iz(t){var e=t.getDay();return e>=4||e===0?Ef(t):Ef.ceil(t)}function Zae(t,e){return t=Iz(t),Jt(Ef.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function Jae(t){return t.getDay()}function Qae(t,e){return Jt(T0.count(Jo(t)-1,t),e,2)}function eoe(t,e){return Jt(t.getFullYear()%100,e,2)}function toe(t,e){return t=Iz(t),Jt(t.getFullYear()%100,e,2)}function noe(t,e){return Jt(t.getFullYear()%1e4,e,4)}function roe(t,e){var n=t.getDay();return t=n>=4||n===0?Ef(t):Ef.ceil(t),Jt(t.getFullYear()%1e4,e,4)}function ioe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jt(e/60|0,"0",2)+Jt(e%60,"0",2)}function D3(t,e){return Jt(t.getUTCDate(),e,2)}function aoe(t,e){return Jt(t.getUTCHours(),e,2)}function ooe(t,e){return Jt(t.getUTCHours()%12||12,e,2)}function soe(t,e){return Jt(1+D_.count(Qo(t),t),e,3)}function Nz(t,e){return Jt(t.getUTCMilliseconds(),e,3)}function loe(t,e){return Nz(t,e)+"000"}function uoe(t,e){return Jt(t.getUTCMonth()+1,e,2)}function coe(t,e){return Jt(t.getUTCMinutes(),e,2)}function foe(t,e){return Jt(t.getUTCSeconds(),e,2)}function doe(t){var e=t.getUTCDay();return e===0?7:e}function hoe(t,e){return Jt(U_.count(Qo(t)-1,t),e,2)}function Lz(t){var e=t.getUTCDay();return e>=4||e===0?Af(t):Af.ceil(t)}function poe(t,e){return t=Lz(t),Jt(Af.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function moe(t){return t.getUTCDay()}function goe(t,e){return Jt(P0.count(Qo(t)-1,t),e,2)}function voe(t,e){return Jt(t.getUTCFullYear()%100,e,2)}function yoe(t,e){return t=Lz(t),Jt(t.getUTCFullYear()%100,e,2)}function xoe(t,e){return Jt(t.getUTCFullYear()%1e4,e,4)}function _oe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Af(t):Af.ceil(t),Jt(t.getUTCFullYear()%1e4,e,4)}function boe(){return"+0000"}function k3(){return"%"}function U3(t){return+t}function F3(t){return Math.floor(+t/1e3)}var oc,Dz,kz;Soe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Soe(t){return oc=Sae(t),Dz=oc.format,oc.parse,kz=oc.utcFormat,oc.utcParse,oc}function woe(t){return new Date(t)}function Moe(t){return t instanceof Date?+t:+new Date(+t)}function TP(t,e,n,r,i,a,o,s,l,u){var f=hP(),c=f.invert,h=f.domain,m=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),M=u("%Y");function w(E){return(l(E)<E?m:s(E)<E?g:o(E)<E?_:a(E)<E?y:r(E)<E?i(E)<E?v:x:n(E)<E?b:M)(E)}return f.invert=function(E){return new Date(c(E))},f.domain=function(E){return arguments.length?h(Array.from(E,Moe)):h().map(woe)},f.ticks=function(E){var P=h();return t(P[0],P[P.length-1],E??10)},f.tickFormat=function(E,P){return P==null?w:u(P)},f.nice=function(E){var P=h();return(!E||typeof E.range!="function")&&(E=e(P[0],P[P.length-1],E??10)),E?h(Sz(P,E)):f},f.copy=function(){return Im(f,TP(t,e,n,r,i,a,o,s,l,u))},f}function Eoe(){return ma.apply(TP(_ae,bae,Jo,EP,k_,Nm,wP,bP,Ql,Dz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Aoe(){return ma.apply(TP(yae,xae,Qo,AP,U_,D_,MP,SP,Ql,kz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function F_(){var t=0,e=1,n,r,i,a,o=Xr,s=!1,l;function u(c){return c==null||isNaN(c=+c)?l:o(i===0?.5:(c=(a(c)-n)*i,s?Math.max(0,Math.min(1,c)):c))}u.domain=function(c){return arguments.length?([t,e]=c,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(c){return arguments.length?(s=!!c,u):s},u.interpolator=function(c){return arguments.length?(o=c,u):o};function f(c){return function(h){var m,g;return arguments.length?([m,g]=h,o=c(m,g),u):[o(0),o(1)]}}return u.range=f(fd),u.rangeRound=f(dP),u.unknown=function(c){return arguments.length?(l=c,u):l},function(c){return a=c,n=c(t),r=c(e),i=n===r?0:1/(r-n),u}}function fl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uz(){var t=cl(F_()(Xr));return t.copy=function(){return fl(t,Uz())},ss.apply(t,arguments)}function Fz(){var t=gP(F_()).domain([1,10]);return t.copy=function(){return fl(t,Fz()).base(t.base())},ss.apply(t,arguments)}function Bz(){var t=vP(F_());return t.copy=function(){return fl(t,Bz()).constant(t.constant())},ss.apply(t,arguments)}function PP(){var t=yP(F_());return t.copy=function(){return fl(t,PP()).exponent(t.exponent())},ss.apply(t,arguments)}function Toe(){return PP.apply(null,arguments).exponent(.5)}function zz(){var t=[],e=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Om(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>hie(t,a/r))},n.copy=function(){return zz(e).domain(t)},ss.apply(n,arguments)}function B_(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Xr,f,c=!1,h;function m(_){return isNaN(_=+_)?h:(_=.5+((_=+f(_))-a)*(r*_<r*a?s:l),u(c?Math.max(0,Math.min(1,_)):_))}m.domain=function(_){return arguments.length?([t,e,n]=_,i=f(t=+t),a=f(e=+e),o=f(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(_){return arguments.length?(c=!!_,m):c},m.interpolator=function(_){return arguments.length?(u=_,m):u};function g(_){return function(y){var v,x,b;return arguments.length?([v,x,b]=y,u=Bie(_,[v,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(fd),m.rangeRound=g(dP),m.unknown=function(_){return arguments.length?(h=_,m):h},function(_){return f=_,i=_(t),a=_(e),o=_(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function jz(){var t=cl(B_()(Xr));return t.copy=function(){return fl(t,jz())},ss.apply(t,arguments)}function $z(){var t=gP(B_()).domain([.1,1,10]);return t.copy=function(){return fl(t,$z()).base(t.base())},ss.apply(t,arguments)}function Vz(){var t=vP(B_());return t.copy=function(){return fl(t,Vz()).constant(t.constant())},ss.apply(t,arguments)}function CP(){var t=yP(B_());return t.copy=function(){return fl(t,CP()).exponent(t.exponent())},ss.apply(t,arguments)}function Poe(){return CP.apply(null,arguments).exponent(.5)}const B3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rp,scaleDiverging:jz,scaleDivergingLog:$z,scaleDivergingPow:CP,scaleDivergingSqrt:Poe,scaleDivergingSymlog:Vz,scaleIdentity:bz,scaleImplicit:xE,scaleLinear:E0,scaleLog:wz,scaleOrdinal:uP,scalePoint:Vh,scalePow:xP,scaleQuantile:Az,scaleQuantize:Tz,scaleRadial:Ez,scaleSequential:Uz,scaleSequentialLog:Fz,scaleSequentialPow:PP,scaleSequentialQuantile:zz,scaleSequentialSqrt:Toe,scaleSequentialSymlog:Bz,scaleSqrt:lae,scaleSymlog:Mz,scaleThreshold:Pz,scaleTime:Eoe,scaleUtc:Aoe,tickFormat:_z},Symbol.toStringTag,{value:"Module"}));var Coe=nd;function Ooe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Coe(o):n(o,s)))var s=o,l=a}return l}var Hz=Ooe;function Roe(t,e){return t>e}var Ioe=Roe,Noe=Hz,Loe=Ioe,Doe=ud;function koe(t){return t&&t.length?Noe(t,Doe,Loe):void 0}var Uoe=koe;const z_=an(Uoe);function Foe(t,e){return t<e}var Boe=Foe,zoe=Hz,joe=Boe,$oe=ud;function Voe(t){return t&&t.length?zoe(t,$oe,joe):void 0}var Hoe=Voe;const j_=an(Hoe);var Goe=VT,Woe=ul,Xoe=JB,qoe=vi;function Yoe(t,e){var n=qoe(t)?Goe:Xoe;return n(t,Woe(e))}var Koe=Yoe,Zoe=KB,Joe=Koe;function Qoe(t,e){return Zoe(Joe(t,e),1)}var ese=Qoe;const tse=an(ese);var nse=iP;function rse(t,e){return nse(t,e)}var ise=rse;const $_=an(ise);var dd=1e9,ase={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RP,Sn=!0,da="[DecimalError] ",uu=da+"Invalid argument: ",OP=da+"Exponent out of range: ",hd=Math.floor,Gl=Math.pow,ose=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,cr=1e7,yn=7,Gz=9007199254740991,C0=hd(Gz/yn),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(t){return Go(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,n=e.constructor;return fn(Go(e,new n(t),0,1),n.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return Xn(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(da+"NaN");if(n.s<1)throw Error(da+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(Sn=!1,e=Go(kp(n,a),kp(t,a),a),Sn=!0,fn(e,i))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qz(e,t):Wz(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(da+"NaN");return n.s?(Sn=!1,e=Go(n,t,0,1).times(t),Sn=!0,n.minus(e)):fn(new r(n),i)};it.naturalExponential=it.exp=function(){return Xz(this)};it.naturalLogarithm=it.ln=function(){return kp(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wz(e,t):qz(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uu+t);if(e=Xn(i)+1,r=i.d.length-1,n=r*yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};it.squareRoot=it.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(da+"NaN")}for(t=Xn(s),Sn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=io(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=hd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Go(s,a,o+2)).times(.5),io(a.d).slice(0,o)===(e=io(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(fn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Sn=!0,fn(r,n)};it.times=it.mul=function(t){var e,n,r,i,a,o,s,l,u,f=this,c=f.constructor,h=f.d,m=(t=new c(t)).d;if(!f.s||!t.s)return new c(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%cr|0,e=s/cr|0;a[i]=(a[i]+e)%cr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Sn?fn(t,c.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ho(t,0,dd),e===void 0?e=r.rounding:ho(e,0,8),fn(n,t+Xn(n)+1,e))};it.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bu(r,!0):(ho(t,0,dd),e===void 0?e=i.rounding:ho(e,0,8),r=fn(new i(r),t+1,e),n=bu(r,!0,t+1)),n};it.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bu(i):(ho(t,0,dd),e===void 0?e=a.rounding:ho(e,0,8),r=fn(new a(i),t+Xn(i)+1,e),n=bu(r.abs(),!1,t+Xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return fn(new e(t),Xn(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Oi);if(s=new l(s),!s.s){if(t.s<1)throw Error(da+"Infinity");return s}if(s.eq(Oi))return s;if(r=l.precision,t.eq(Oi))return fn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=f<0?-f:f)<=Gz){for(i=new l(Oi),e=Math.ceil(r/yn+4),Sn=!1;n%2&&(i=i.times(s),j3(i.d,e)),n=hd(n/2),n!==0;)s=s.times(s),j3(s.d,e);return Sn=!0,t.s<0?new l(Oi).div(i):fn(i,r)}}else if(a<0)throw Error(da+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Sn=!1,i=t.times(kp(s,r+u)),Sn=!0,i=Xz(i),i.s=a,i};it.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Xn(i),r=bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(ho(t,1,dd),e===void 0?e=a.rounding:ho(e,0,8),i=fn(new a(i),t,e),n=Xn(i),r=bu(i,t<=n||n<=a.toExpNeg,t)),r};it.toSignificantDigits=it.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ho(t,1,dd),e===void 0?e=r.rounding:ho(e,0,8)),fn(new r(n),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xn(t),n=t.constructor;return bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Wz(t,e){var n,r,i,a,o,s,l,u,f=t.constructor,c=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Sn?fn(e,c):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(c/yn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/cr|0,l[a]%=cr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Sn?fn(e,c):e}function ho(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uu+t)}function io(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=yn-r.length,n&&(a+=Ps(n)),a+=r;o=t[e],r=o+"",n=yn-r.length,n&&(a+=Ps(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Go=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%cr|0,o=a/cr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*cr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,f,c,h,m,g,_,y,v,x,b,M,w,E,P,A,C=r.constructor,I=r.s==i.s?1:-1,R=r.d,k=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(da+"Division by zero");for(l=r.e-i.e,P=k.length,w=R.length,m=new C(I),g=m.d=[],u=0;k[u]==(R[u]||0);)++u;if(k[u]>(R[u]||0)&&--l,a==null?x=a=C.precision:o?x=a+(Xn(r)-Xn(i))+1:x=a,x<0)return new C(0);if(x=x/yn+2|0,u=0,P==1)for(f=0,k=k[0],x++;(u<w||f)&&x--;u++)b=f*cr+(R[u]||0),g[u]=b/k|0,f=b%k|0;else{for(f=cr/(k[0]+1)|0,f>1&&(k=t(k,f),R=t(R,f),P=k.length,w=R.length),M=P,_=R.slice(0,P),y=_.length;y<P;)_[y++]=0;A=k.slice(),A.unshift(0),E=k[0],k[1]>=cr/2&&++E;do f=0,s=e(k,_,P,y),s<0?(v=_[0],P!=y&&(v=v*cr+(_[1]||0)),f=v/E|0,f>1?(f>=cr&&(f=cr-1),c=t(k,f),h=c.length,y=_.length,s=e(c,_,h,y),s==1&&(f--,n(c,P<h?A:k,h))):(f==0&&(s=f=1),c=k.slice()),h=c.length,h<y&&c.unshift(0),n(_,c,y),s==-1&&(y=_.length,s=e(k,_,P,y),s<1&&(f++,n(_,P<y?A:k,y))),y=_.length):s===0&&(f++,_=[0]),g[u++]=f,s&&_[0]?_[y++]=R[M]||0:(_=[R[M]],y=1);while((M++<w||_[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=l,fn(m,o?a+Xn(m)+1:a)}}();function Xz(t,e){var n,r,i,a,o,s,l=0,u=0,f=t.constructor,c=f.precision;if(Xn(t)>16)throw Error(OP+Xn(t));if(!t.s)return new f(Oi);for(Sn=!1,s=c,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Gl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new f(Oi),f.precision=s;;){if(i=fn(i.times(t),s),n=n.times(++l),o=a.plus(Go(i,n,s)),io(o.d).slice(0,s)===io(a.d).slice(0,s)){for(;u--;)a=fn(a.times(a),s);return f.precision=c,e==null?(Sn=!0,fn(a,c)):a}a=o}}function Xn(t){for(var e=t.e*yn,n=t.d[0];n>=10;n/=10)e++;return e}function F1(t,e,n){if(e>t.LN10.sd())throw Sn=!0,n&&(t.precision=n),Error(da+"LN10 precision limit exceeded");return fn(new t(t.LN10),e)}function Ps(t){for(var e="";t--;)e+="0";return e}function kp(t,e){var n,r,i,a,o,s,l,u,f,c=1,h=10,m=t,g=m.d,_=m.constructor,y=_.precision;if(m.s<1)throw Error(da+(m.s?"NaN":"-Infinity"));if(m.eq(Oi))return new _(0);if(e==null?(Sn=!1,u=y):u=e,m.eq(10))return e==null&&(Sn=!0),F1(_,u);if(u+=h,_.precision=u,n=io(g),r=n.charAt(0),a=Xn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=io(m.d),r=n.charAt(0),c++;a=Xn(m),r>1?(m=new _("0."+n),a++):m=new _(r+"."+n.slice(1))}else return l=F1(_,u+2,y).times(a+""),m=kp(new _(r+"."+n.slice(1)),u-h).plus(l),_.precision=y,e==null?(Sn=!0,fn(m,y)):m;for(s=o=m=Go(m.minus(Oi),m.plus(Oi),u),f=fn(m.times(m),u),i=3;;){if(o=fn(o.times(f),u),l=s.plus(Go(o,new _(i),u)),io(l.d).slice(0,u)===io(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(F1(_,u+2,y).times(a+""))),s=Go(s,new _(c),u),_.precision=y,e==null?(Sn=!0,fn(s,y)):s;s=l,i+=2}}function z3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=hd(n/yn),t.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yn;r<i;)t.d.push(+e.slice(r,r+=yn));e=e.slice(r),r=yn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Sn&&(t.e>C0||t.e<-C0))throw Error(OP+n)}else t.s=0,t.e=0,t.d=[0];return t}function fn(t,e,n){var r,i,a,o,s,l,u,f,c=t.d;for(o=1,a=c[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=yn,i=e,u=c[f=0];else{if(f=Math.ceil((r+1)/yn),a=c.length,f>=a)return t;for(u=a=c[f],o=1;a>=10;a/=10)o++;r%=yn,i=r-yn+o}if(n!==void 0&&(a=Gl(10,o-i-1),s=u/a%10|0,l=e<0||c[f+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Gl(10,o-i):0:c[f-1])%10&1||n==(t.s<0?8:7))),e<1||!c[0])return l?(a=Xn(t),c.length=1,e=e-a-1,c[0]=Gl(10,(yn-e%yn)%yn),t.e=hd(-e/yn)||0):(c.length=1,c[0]=t.e=t.s=0),t;if(r==0?(c.length=f,a=1,f--):(c.length=f+1,a=Gl(10,yn-r),c[f]=i>0?(u/Gl(10,o-i)%Gl(10,i)|0)*a:0),l)for(;;)if(f==0){(c[0]+=a)==cr&&(c[0]=1,++t.e);break}else{if(c[f]+=a,c[f]!=cr)break;c[f--]=0,a=1}for(r=c.length;c[--r]===0;)c.pop();if(Sn&&(t.e>C0||t.e<-C0))throw Error(OP+Xn(t));return t}function qz(t,e){var n,r,i,a,o,s,l,u,f,c,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Sn?fn(e,m):e;if(l=t.d,c=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(f=o<0,f?(n=l,o=-o,s=c.length):(n=c,r=u,s=l.length),i=Math.max(Math.ceil(m/yn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=c.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=c[i]){f=l[i]<c[i];break}o=0}for(f&&(n=l,l=c,c=n,e.s=-e.s),s=l.length,i=c.length-s;i>0;--i)l[s++]=0;for(i=c.length;i>o;){if(l[--i]<c[i]){for(a=i;a&&l[--a]===0;)l[a]=cr-1;--l[a],l[i]+=cr}l[i]-=c[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Sn?fn(e,m):e):new h(0)}function bu(t,e,n){var r,i=Xn(t),a=io(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ps(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ps(-i-1)+a,n&&(r=n-o)>0&&(a+=Ps(r))):i>=o?(a+=Ps(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ps(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ps(r))),t.s<0?"-"+a:a}function j3(t,e){if(t.length>e)return t.length=e,!0}function Yz(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return z3(o,a.toString())}else if(typeof a!="string")throw Error(uu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,ose.test(a))z3(o,a);else throw Error(uu+a)}if(i.prototype=it,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Yz,i.config=i.set=sse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function sse(t){if(!t||typeof t!="object")throw Error(da+"Object expected");var e,n,r,i=["precision",1,dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(hd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uu+n+": "+r);return this}var RP=Yz(ase);Oi=new RP(1);const ln=RP;function lse(t){return dse(t)||fse(t)||cse(t)||use()}function use(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cse(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function fse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function dse(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hse=function(e){return e},Kz={},Zz=function(e){return e===Kz},$3=function(e){return function n(){return arguments.length===0||arguments.length===1&&Zz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},pse=function t(e,n){return e===1?n:$3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==Kz}).length;return o>=e?n.apply(void 0,i):t(e-o,$3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(c){return Zz(c)?l.shift():c});return n.apply(void 0,lse(f).concat(l))}))})},V_=function(e){return pse(e.length,e)},ME=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},mse=V_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),gse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hse;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},EE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Jz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function vse(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function yse(t,e,n){for(var r=new ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var xse=V_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_se=V_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),bse=V_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const H_={rangeStep:yse,getDigitCount:vse,interpolateNumber:xse,uninterpolateNumber:_se,uninterpolateTruncation:bse};function AE(t){return Mse(t)||wse(t)||Qz(t)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Mse(t){if(Array.isArray(t))return TE(t)}function Up(t,e){return Tse(t)||Ase(t,e)||Qz(t,e)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qz(t,e){if(t){if(typeof t=="string")return TE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TE(t,e)}}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ase(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Tse(t){if(Array.isArray(t))return t}function e4(t){var e=Up(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function t4(t,e,n){if(t.lte(0))return new ln(0);var r=H_.getDigitCount(t.toNumber()),i=new ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ln(Math.ceil(l))}function Pse(t,e,n){var r=1,i=new ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ln(10).pow(H_.getDigitCount(t)-1),i=new ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):n||(i=new ln(Math.floor(t)));var o=Math.floor((e-1)/2),s=gse(mse(function(l){return i.add(new ln(l-o).mul(r)).toNumber()}),ME);return s(0,e)}function n4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=t4(new ln(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ln(0):(o=new ln(t).add(e).div(2),o=o.sub(new ln(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ln(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?n4(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new ln(s).mul(a)),tickMax:o.add(new ln(l).mul(a))})}function Cse(t){var e=Up(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=e4([n,r]),l=Up(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var c=f===1/0?[u].concat(AE(ME(0,i-1).map(function(){return 1/0}))):[].concat(AE(ME(0,i-1).map(function(){return-1/0})),[f]);return n>r?EE(c):c}if(u===f)return Pse(u,i,a);var h=n4(u,f,o,a),m=h.step,g=h.tickMin,_=h.tickMax,y=H_.rangeStep(g,_.add(new ln(.1).mul(m)),m);return n>r?EE(y):y}function Ose(t,e){var n=Up(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=e4([r,i]),s=Up(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(e,2),c=t4(new ln(u).sub(l).div(f-1),a,0),h=[].concat(AE(H_.rangeStep(new ln(l),new ln(u).sub(new ln(.99).mul(c)),c)),[u]);return r>i?EE(h):h}var Rse=Jz(Cse),Ise=Jz(Ose),Nse="Invariant failed";function Su(t,e){throw new Error(Nse)}var Lse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function Dse(t,e){return Bse(t)||Fse(t,e)||Use(t,e)||kse()}function kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Use(t,e){if(t){if(typeof t=="string")return V3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return V3(t,e)}}function V3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bse(t){if(Array.isArray(t))return t}function zse(t,e){if(t==null)return{};var n=jse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function Hse(t,e,n){return e&&Vse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gse(t,e,n){return e=R0(e),Wse(t,r4()?Reflect.construct(e,n||[],R0(t).constructor):e.apply(t,n))}function Wse(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xse(t)}function Xse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r4=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R0(t)}function qse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function i4(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=Yse(t,"string");return Tf(e)=="symbol"?e:e+""}function Yse(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lm=function(t){function e(){return $se(this,e),Gse(this,e,arguments)}return qse(e,t),Hse(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,f=r.xAxis,c=r.yAxis,h=zse(r,Lse),m=jt(h,!1);this.props.direction==="x"&&f.type!=="number"&&Su();var g=l.map(function(_){var y=u(_,s),v=y.x,x=y.y,b=y.value,M=y.errorVal;if(!M)return null;var w=[],E,P;if(Array.isArray(M)){var A=Dse(M,2);E=A[0],P=A[1]}else E=P=M;if(a==="vertical"){var C=f.scale,I=x+i,R=I+o,k=I-o,F=C(b-E),G=C(b+P);w.push({x1:G,y1:R,x2:G,y2:k}),w.push({x1:F,y1:I,x2:G,y2:I}),w.push({x1:F,y1:R,x2:F,y2:k})}else if(a==="horizontal"){var $=c.scale,V=v+i,H=V-o,U=V+o,j=$(b-E),Y=$(b+P);w.push({x1:H,y1:Y,x2:U,y2:Y}),w.push({x1:V,y1:j,x2:V,y2:Y}),w.push({x1:H,y1:j,x2:U,y2:j})}return ne.createElement(Bn,O0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),w.map(function(Z){return ne.createElement("line",O0({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ne.createElement(Bn,{className:"recharts-errorBars"},g)}}])}(ne.Component);i4(Lm,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});i4(Lm,"displayName","ErrorBar");function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function H3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H3(Object(n),!0).forEach(function(r){Kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e,n){return e=Zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return Fp(e)=="symbol"?e:e+""}function Jse(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Ci(n,su);if(!o)return null;var s=su.defaultProps,l=s!==void 0?Al(Al({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,c){var h=c.item,m=c.props,g=m.sectors||m.data||[];return f.concat(g.map(function(_){return{type:o.props.iconType||h.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(f){var c=f.item,h=c.type.defaultProps,m=h!==void 0?Al(Al({},h),c.props):{},g=m.dataKey,_=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:IP(c),value:_||g,payload:m}}),Al(Al(Al({},l),su.getWithHeight(o,i)),{},{payload:u,item:o})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function G3(t){return nle(t)||tle(t)||ele(t)||Qse()}function Qse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ele(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function tle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nle(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t,e,n){return e=rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=ile(t,"string");return Bp(e)=="symbol"?e:e+""}function ile(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(t,e,n){return kt(t)||kt(e)?n:tr(e)?sa(t,e,n):Lt(e)?e(t):n}function Hh(t,e,n,r){var i=tse(t,function(s){return ki(s,e)});if(n==="number"){var a=i.filter(function(s){return He(s)||parseFloat(s)});return a.length?[j_(a),z_(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!kt(s)}):i;return o.map(function(s){return tr(s)||s instanceof Date?s:""})}var ale=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,c=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Na(c-f)!==Na(h-c)){var g=[];if(Na(h-c)===Na(l[1]-l[0])){m=h;var _=c+l[1]-l[0];g[0]=Math.min(_,(_+f)/2),g[1]=Math.max(_,(_+f)/2)}else{m=f;var y=h+l[1]-l[0];g[0]=Math.min(c,(y+c)/2),g[1]=Math.max(c,(y+c)/2)}var v=[Math.min(c,(m+c)/2),Math.max(c,(m+c)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var x=Math.min(f,h),b=Math.max(f,h);if(e>(x+c)/2&&e<=(b+c)/2){o=i[u].index;break}}}else for(var M=0;M<s;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},IP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},ole=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,c=Object.keys(f),h=0,m=c.length;h<m;h++){var g=f[c[h]],_=g.items,y=g.cateAxisId,v=_.filter(function(P){return Vo(P.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Dn(Dn({},x),v[0].props):v[0].props,M=b.barSize,w=b[y];o[w]||(o[w]=[]);var E=kt(M)?n:M;o[w].push({item:v[0],stackList:v.slice(1),barSize:kt(E)?void 0:_u(E,r,0)})}}return o},sle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=_u(n,i,0,!0),f,c=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,g=o.reduce(function(M,w){return M+w.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var _=(i-g)/2>>0,y={offset:_-u,size:0};f=o.reduce(function(M,w){var E={item:w.item,position:{offset:y.offset+y.size+u,size:h?m:w.barSize}},P=[].concat(G3(M),[E]);return y=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:y})}),P},c)}else{var v=_u(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var x=(i-2*v-(l-1)*u)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;f=o.reduce(function(M,w,E){var P=[].concat(G3(M),[{item:w.item,position:{offset:v+(x+u)*E+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:P[P.length-1].position})}),P},c)}return f},lle=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=o4({children:a,legendWidth:l});if(u){var f=i||{},c=f.width,h=f.height,m=u.align,g=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&g==="middle")&&m!=="center"&&He(e[m]))return Dn(Dn({},e),{},uf({},m,e[m]+(c||0)));if((_==="horizontal"||_==="vertical"&&m==="center")&&g!=="middle"&&He(e[g]))return Dn(Dn({},e),{},uf({},g,e[g]+(h||0)))}return e},ule=function(e,n,r){return kt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},s4=function(e,n,r,i,a){var o=n.props.children,s=la(o,Lm).filter(function(u){return ule(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var c=ki(f,r);if(kt(c))return u;var h=Array.isArray(c)?[j_(c),z_(c)]:[c,c],m=l.reduce(function(g,_){var y=ki(f,_,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},cle=function(e,n,r,i,a){var o=n.map(function(s){return s4(e,s,r,a,i)}).filter(function(s){return!kt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},l4=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&s4(e,l,u,i)||Hh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,c=u.length;f<c;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},u4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},c4=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},jo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Na(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(c){var h=a?a.indexOf(c):c;return{coordinate:i(h)+u,value:c,offset:u}});return f.filter(function(c){return!Tm(c.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(c,h){return{coordinate:i(c)+u,value:c,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(c){return{coordinate:i(c)+u,value:c,offset:u}}):i.domain().map(function(c,h){return{coordinate:i(c)+u,value:a?a[c]:c,index:h,offset:u}})},B1=new WeakMap,pv=function(e,n){if(typeof n!="function")return e;B1.has(e)||B1.set(e,new WeakMap);var r=B1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},fle=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Rp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:E0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Vh(),realScaleType:"point"}:a==="category"?{scale:Rp(),realScaleType:"band"}:{scale:E0(),realScaleType:"linear"};if(xu(i)){var l="scale".concat(T_(i));return{scale:(B3[l]||Vh)(),realScaleType:B3[l]?l:"point"}}return Lt(i)?{scale:i}:{scale:Vh(),realScaleType:"point"}},X3=1e-4,dle=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-X3,o=Math.max(i[0],i[1])+X3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},hle=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ple=function(e,n){if(!n||n.length!==2||!He(n[0])||!He(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!He(e[0])||e[0]<r)&&(a[0]=r),(!He(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},mle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Tm(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},gle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Tm(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},vle={sign:mle,expand:Iq,none:xf,silhouette:Nq,wiggle:Lq,positive:gle},yle=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=vle[r],o=Rq().keys(i).value(function(s,l){return+ki(s,l,0)}).order(eE).offset(a);return o(e)},xle=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(c,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Dn(Dn({},h.type.defaultProps),h.props):h.props,_=g.stackId,y=g.hide;if(y)return c;var v=g[r],x=c[v]||{hasStack:!1,stackGroups:{}};if(tr(_)){var b=x.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[_]=b}else x.stackGroups[Pm("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Dn(Dn({},c),{},uf({},v,x))},l),f={};return Object.keys(u).reduce(function(c,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(_,y){var v=m.stackGroups[y];return Dn(Dn({},_),{},uf({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:yle(e,v.items,a)}))},g)}return Dn(Dn({},c),{},uf({},h,m))},f)},_le=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Rse(u,a,s);return e.domain([j_(f),z_(f)]),{niceTicks:f}}if(a&&i==="number"){var c=e.domain(),h=Ise(c,a,s);return{niceTicks:h}}return null};function q3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!kt(i[e.dataKey])){var s=n0(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ki(i,kt(o)?e.dataKey:o);return kt(l)?null:e.scale(l)}var Y3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ki(o,n.dataKey,n.domain[s]);return kt(l)?null:n.scale(l)-a/2+i},ble=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},Sle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(tr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},wle=function(e){return e.reduce(function(n,r){return[j_(r.concat([n[0]]).filter(He)),z_(r.concat([n[1]]).filter(He))]},[1/0,-1/0])},f4=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var c=wle(f.slice(n,r+1));return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},K3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OE=function(e,n,r){if(Lt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(He(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(K3.test(e[0])){var a=+K3.exec(e[0])[1];i[0]=n[0]-a}else Lt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(He(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Z3.test(e[1])){var o=+Z3.exec(e[1])[1];i[1]=n[1]+o}else Lt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},I0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=oP(n,function(c){return c.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},J3=function(e,n,r){return!e||!e.length||$_(e,sa(r,"type.defaultProps.domain"))?n:e},d4=function(e,n){var r=e.type.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,f=r.hide;return Dn(Dn({},jt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:IP(e),value:ki(n,i),type:l,payload:n,chartType:u,hide:f})};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function Q3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(n),!0).forEach(function(r){Mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mle(t,e,n){return e=Ele(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Ale(t,"string");return zp(e)=="symbol"?e:e+""}function Ale(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N0=Math.PI/180,Tle=function(e){return e*180/Math.PI},yr=function(e,n,r,i){return{x:e+Math.cos(-N0*i)*r,y:n+Math.sin(-N0*i)*r}},Ple=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Cle=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Ple({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Tle(u),angleInRadian:u}},Ole=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Rle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},tN=function(e,n){var r=e.x,i=e.y,a=Cle({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Ole(n),c=f.startAngle,h=f.endAngle,m=s,g;if(c<=h){for(;m>h;)m-=360;for(;m<c;)m+=360;g=m>=c&&m<=h}else{for(;m>c;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=c}return g?eN(eN({},n),{},{radius:o,angle:Rle(m,n)}):null};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}var Ile=["offset"];function Nle(t){return Ule(t)||kle(t)||Dle(t)||Lle()}function Lle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dle(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function kle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ule(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fle(t,e){if(t==null)return{};var n=Ble(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ble(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return e=jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=$le(t,"string");return jp(e)=="symbol"?e:e+""}function $le(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}var Vle=function(e){var n=e.value,r=e.formatter,i=kt(e.children)?n:e.children;return Lt(r)?r(i):i},Hle=function(e,n){var r=Na(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Gle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,c=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,_=l.clockWise,y=(c+h)/2,v=Hle(m,g),x=v>=0?1:-1,b,M;i==="insideStart"?(b=m+x*o,M=_):i==="insideEnd"?(b=g-x*o,M=!_):i==="end"&&(b=g+x*o,M=_),M=v<=0?M:!M;var w=yr(u,f,y,b),E=yr(u,f,y,b+(M?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(E.x,",").concat(E.y),A=kt(e.id)?Pm("recharts-radial-line-"):e.id;return ne.createElement("text",$p({},r,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",s)}),ne.createElement("defs",null,ne.createElement("path",{id:A,d:P})),ne.createElement("textPath",{xlinkHref:"#".concat(A)},n))},Wle=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,c=a.endAngle,h=(f+c)/2;if(i==="outside"){var m=yr(o,s,u+r,h),g=m.x,_=m.y;return{x:g,y:_,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,v=yr(o,s,y,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Xle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,f=o.height,c=f>=0?1:-1,h=c*i,m=c>0?"end":"start",g=c>0?"start":"end",_=u>=0?1:-1,y=_*i,v=_>0?"end":"start",x=_>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-c*i,textAnchor:"middle",verticalAnchor:m};return Jn(Jn({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var M={x:s+u/2,y:l+f+h,textAnchor:"middle",verticalAnchor:g};return Jn(Jn({},M),r?{height:Math.max(r.y+r.height-(l+f),0),width:u}:{})}if(a==="left"){var w={x:s-y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"};return Jn(Jn({},w),r?{width:Math.max(w.x-r.x,0),height:f}:{})}if(a==="right"){var E={x:s+u+y,y:l+f/2,textAnchor:x,verticalAnchor:"middle"};return Jn(Jn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:f}:{})}var P=r?{width:u,height:f}:{};return a==="insideLeft"?Jn({x:s+y,y:l+f/2,textAnchor:x,verticalAnchor:"middle"},P):a==="insideRight"?Jn({x:s+u-y,y:l+f/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?Jn({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},P):a==="insideBottom"?Jn({x:s+u/2,y:l+f-h,textAnchor:"middle",verticalAnchor:m},P):a==="insideTopLeft"?Jn({x:s+y,y:l+h,textAnchor:x,verticalAnchor:g},P):a==="insideTopRight"?Jn({x:s+u-y,y:l+h,textAnchor:v,verticalAnchor:g},P):a==="insideBottomLeft"?Jn({x:s+y,y:l+f-h,textAnchor:x,verticalAnchor:m},P):a==="insideBottomRight"?Jn({x:s+u-y,y:l+f-h,textAnchor:v,verticalAnchor:m},P):rd(a)&&(He(a.x)||Zl(a.x))&&(He(a.y)||Zl(a.y))?Jn({x:s+_u(a.x,u),y:l+_u(a.y,f),textAnchor:"end",verticalAnchor:"end"},P):Jn({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},qle=function(e){return"cx"in e&&He(e.cx)};function Lr(t){var e=t.offset,n=e===void 0?5:e,r=Fle(t,Ile),i=Jn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,c=f===void 0?"":f,h=i.textBreakAll;if(!a||kt(s)&&kt(l)&&!z.isValidElement(u)&&!Lt(u))return null;if(z.isValidElement(u))return z.cloneElement(u,i);var m;if(Lt(u)){if(m=z.createElement(u,i),z.isValidElement(m))return m}else m=Vle(i);var g=qle(a),_=jt(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Gle(i,m,_);var y=g?Wle(i):Xle(i);return ne.createElement(y0,$p({className:Gt("recharts-label",c)},_,y,{breakAll:h}),m)}Lr.displayName="Label";var h4=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,c=e.x,h=e.y,m=e.top,g=e.left,_=e.width,y=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(He(_)&&He(y)){if(He(c)&&He(h))return{x:c,y:h,width:_,height:y};if(He(m)&&He(g))return{x:m,y:g,width:_,height:y}}return He(c)&&He(h)?{x:c,y:h,width:0,height:0}:He(n)&&He(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Yle=function(e,n){return e?e===!0?ne.createElement(Lr,{key:"label-implicit",viewBox:n}):tr(e)?ne.createElement(Lr,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===Lr?z.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):Lt(e)?ne.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):rd(e)?ne.createElement(Lr,$p({viewBox:n},e,{key:"label-implicit"})):null:null},Kle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=h4(e),o=la(i,Lr).map(function(l,u){return z.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Yle(e.label,n||a);return[s].concat(Nle(o))};Lr.parseViewBox=h4;Lr.renderCallByParent=Kle;function Zle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jle=Zle;const Qle=an(Jle);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}var eue=["valueAccessor"],tue=["data","dataKey","clockWise","id","textBreakAll"];function nue(t){return oue(t)||aue(t)||iue(t)||rue()}function rue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function aue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oue(t){if(Array.isArray(t))return IE(t)}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return e=lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=uue(t,"string");return Vp(e)=="symbol"?e:e+""}function uue(t,e){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aN(t,e){if(t==null)return{};var n=cue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fue=function(e){return Array.isArray(e.value)?Qle(e.value):e.value};function Js(t){var e=t.valueAccessor,n=e===void 0?fue:e,r=aN(t,eue),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=aN(r,tue);return!i||!i.length?null:ne.createElement(Bn,{className:"recharts-label-list"},i.map(function(f,c){var h=kt(a)?n(f,c):ki(f&&f.payload,a),m=kt(s)?{}:{id:"".concat(s,"-").concat(c)};return ne.createElement(Lr,L0({},jt(f,!0),u,m,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Lr.parseViewBox(kt(o)?f:iN(iN({},f),{},{clockWise:o})),key:"label-".concat(c),index:c}))}))}Js.displayName="LabelList";function due(t,e){return t?t===!0?ne.createElement(Js,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Lt(t)?ne.createElement(Js,{key:"labelList-implicit",data:e,content:t}):rd(t)?ne.createElement(Js,L0({data:e},t,{key:"labelList-implicit"})):null:null}function hue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=la(r,Js).map(function(o,s){return z.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=due(t.label,e);return[a].concat(nue(i))}Js.renderCallByParent=hue;function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function oN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oN(Object(n),!0).forEach(function(r){pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pue(t,e,n){return e=mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=gue(t,"string");return Hp(e)=="symbol"?e:e+""}function gue(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vue=function(e,n){var r=Na(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},mv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,c=Math.asin(l/f)/N0,h=u?a:a+o*c,m=yr(n,r,f,h),g=yr(n,r,i,h),_=u?a-o*c:a,y=yr(n,r,f*Math.cos(c*N0),_);return{center:m,circleTangency:g,lineTangency:y,theta:c}},p4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=vue(o,s),u=o+l,f=yr(n,r,a,o),c=yr(n,r,a,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(c.x,",").concat(c.y,`
  `);if(i>0){var m=yr(n,r,i,o),g=yr(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},yue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,c=Na(f-u),h=mv({cx:n,cy:r,radius:a,angle:u,sign:c,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,_=h.theta,y=mv({cx:n,cy:r,radius:a,angle:f,sign:-c,cornerRadius:o,cornerIsExternal:l}),v=y.circleTangency,x=y.lineTangency,b=y.theta,M=l?Math.abs(u-f):Math.abs(u-f)-_-b;if(M<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):p4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(c<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=mv({cx:n,cy:r,radius:i,angle:u,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=E.circleTangency,A=E.lineTangency,C=E.theta,I=mv({cx:n,cy:r,radius:i,angle:f,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),R=I.circleTangency,k=I.lineTangency,F=I.theta,G=l?Math.abs(u-f):Math.abs(u-f)-C-F;if(G<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(G>180),",").concat(+(c>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},xue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},m4=function(e){var n=sN(sN({},xue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,c=n.endAngle,h=n.className;if(o<a||f===c)return null;var m=Gt("recharts-sector",h),g=o-a,_=_u(s,g,0,!0),y;return _>0&&Math.abs(f-c)<360?y=yue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:c}):y=p4({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:c}),ne.createElement("path",NE({},jt(n,!0),{className:m,d:y,role:"img"}))};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LE.apply(this,arguments)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){_ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ue(t,e,n){return e=bue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=Sue(t,"string");return Gp(e)=="symbol"?e:e+""}function Sue(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cN={curveBasisClosed:_q,curveBasisOpen:bq,curveBasis:xq,curveBumpX:aq,curveBumpY:oq,curveLinearClosed:Sq,curveLinear:C_,curveMonotoneX:wq,curveMonotoneY:Mq,curveNatural:Eq,curveStep:Aq,curveStepAfter:Pq,curveStepBefore:Tq},gv=function(e){return e.x===+e.x&&e.y===+e.y},rh=function(e){return e.x},ih=function(e){return e.y},wue=function(e,n){if(Lt(e))return e;var r="curve".concat(T_(e));return(r==="curveMonotone"||r==="curveBump")&&n?cN["".concat(r).concat(n==="vertical"?"Y":"X")]:cN[r]||C_},Mue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=wue(r,s),c=u?a.filter(function(_){return gv(_)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(_){return gv(_)}):o,g=c.map(function(_,y){return uN(uN({},_),{},{base:m[y]})});return s==="vertical"?h=ov().y(ih).x1(rh).x0(function(_){return _.base.x}):h=ov().x(rh).y1(ih).y0(function(_){return _.base.y}),h.defined(gv).curve(f),h(g)}return s==="vertical"&&He(o)?h=ov().y(ih).x1(rh).x0(o):He(o)?h=ov().x(rh).y1(ih).y0(o):h=mB().x(rh).y(ih),h.defined(gv).curve(f),h(c)},DE=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Mue(e):i;return z.createElement("path",LE({},jt(e,!1),r0(e),{className:Gt("recharts-curve",n),d:o,ref:a}))},g4={exports:{}},Eue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Aue=Eue,Tue=Aue;function v4(){}function y4(){}y4.resetWarningCache=v4;var Pue=function(){function t(r,i,a,o,s,l){if(l!==Tue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y4,resetWarningCache:v4};return n.PropTypes=n,n};g4.exports=Pue();var Cue=g4.exports;const en=an(Cue);var Oue=Object.getOwnPropertyNames,Rue=Object.getOwnPropertySymbols,Iue=Object.prototype.hasOwnProperty;function fN(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function vv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Nue(t){return t!=null?t[Symbol.toStringTag]:void 0}function dN(t){return Oue(t).concat(Rue(t))}var Lue=Object.hasOwn||function(t,e){return Iue.call(t,e)};function ku(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Due="__v",kue="__o",Uue="_owner",hN=Object.getOwnPropertyDescriptor,pN=Object.keys;function Fue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Bue(t,e){return ku(t.getTime(),e.getTime())}function zue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jue(t,e){return t===e}function mN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,c=0;(s=u.next())&&!s.done;){if(i[c]){c++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],l,c,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){f=i[c]=!0;break}c++}if(!f)return!1;l++}return!0}var $ue=ku;function Vue(t,e,n){var r=pN(t),i=r.length;if(pN(e).length!==i)return!1;for(;i-- >0;)if(!x4(t,e,n,r[i]))return!1;return!0}function ah(t,e,n){var r=dN(t),i=r.length;if(dN(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!x4(t,e,n,a)||(o=hN(t,a),s=hN(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function Hue(t,e){return ku(t.valueOf(),e.valueOf())}function Gue(t,e){return t.source===e.source&&t.flags===e.flags}function gN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function Wue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Xue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function x4(t,e,n,r){return(r===Uue||r===kue||r===Due)&&(t.$$typeof||e.$$typeof)?!0:Lue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var que="[object Arguments]",Yue="[object Boolean]",Kue="[object Date]",Zue="[object Error]",Jue="[object Map]",Que="[object Number]",ece="[object Object]",tce="[object RegExp]",nce="[object Set]",rce="[object String]",ice="[object URL]",ace=Array.isArray,vN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yN=Object.assign,oce=Object.prototype.toString.call.bind(Object.prototype.toString);function sce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,c=t.areTypedArraysEqual,h=t.areUrlsEqual,m=t.unknownTagComparators;return function(_,y,v){if(_===y)return!0;if(_==null||y==null)return!1;var x=typeof _;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(_,y,v):x==="function"?i(_,y,v):!1;var b=_.constructor;if(b!==y.constructor)return!1;if(b===Object)return s(_,y,v);if(ace(_))return e(_,y,v);if(vN!=null&&vN(_))return c(_,y,v);if(b===Date)return n(_,y,v);if(b===RegExp)return u(_,y,v);if(b===Map)return a(_,y,v);if(b===Set)return f(_,y,v);var M=oce(_);if(M===Kue)return n(_,y,v);if(M===tce)return u(_,y,v);if(M===Jue)return a(_,y,v);if(M===nce)return f(_,y,v);if(M===ece)return typeof _.then!="function"&&typeof y.then!="function"&&s(_,y,v);if(M===ice)return h(_,y,v);if(M===Zue)return r(_,y,v);if(M===que)return s(_,y,v);if(M===Yue||M===Que||M===rce)return l(_,y,v);if(m){var w=m[M];if(!w){var E=Nue(_);E&&(w=m[E])}if(w)return w(_,y,v)}return!1}}function lce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?ah:Fue,areDatesEqual:Bue,areErrorsEqual:zue,areFunctionsEqual:jue,areMapsEqual:r?fN(mN,ah):mN,areNumbersEqual:$ue,areObjectsEqual:r?ah:Vue,arePrimitiveWrappersEqual:Hue,areRegExpsEqual:Gue,areSetsEqual:r?fN(gN,ah):gN,areTypedArraysEqual:r?ah:Wue,areUrlsEqual:Xue,unknownTagComparators:void 0};if(n&&(i=yN({},i,n(i))),e){var a=vv(i.areArraysEqual),o=vv(i.areMapsEqual),s=vv(i.areObjectsEqual),l=vv(i.areSetsEqual);i=yN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function uce(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function cce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var f=r(),c=f.cache,h=c===void 0?e?new WeakMap:void 0:c,m=f.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var fce=dl();dl({strict:!0});dl({circular:!0});dl({circular:!0,strict:!0});dl({createInternalComparator:function(){return ku}});dl({strict:!0,createInternalComparator:function(){return ku}});dl({circular:!0,createInternalComparator:function(){return ku}});dl({circular:!0,createInternalComparator:function(){return ku},strict:!0});function dl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=lce(t),l=sce(s),u=r?r(l):uce(l);return cce({circular:n,comparator:l,createState:i,equals:u,strict:o})}function dce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function xN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):dce(i)};requestAnimationFrame(r)}function kE(t){"@babel/helpers - typeof";return kE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kE(t)}function hce(t){return vce(t)||gce(t)||mce(t)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return _N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _N(t,e)}}function _N(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vce(t){if(Array.isArray(t))return t}function yce(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=hce(o),l=s[0],u=s.slice(1);if(typeof l=="number"){xN(i.bind(null,u),l);return}i(l),xN(i.bind(null,u));return}kE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){_4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _4(t,e,n){return e=xce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=_ce(t,"string");return Wp(e)==="symbol"?e:String(e)}function _ce(t,e){if(Wp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},Sce=function(e){return e},wce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Gh=function(e,n){return Object.keys(n).reduce(function(r,i){return SN(SN({},r),{},_4({},i,e(i,n[i])))},{})},wN=function(e,n,r){return e.map(function(i){return"".concat(wce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Mce(t,e){return Tce(t)||Ace(t,e)||b4(t,e)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ace(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Tce(t){if(Array.isArray(t))return t}function Pce(t){return Rce(t)||Oce(t)||b4(t)||Cce()}function Cce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b4(t,e){if(t){if(typeof t=="string")return UE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UE(t,e)}}function Oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rce(t){if(Array.isArray(t))return UE(t)}function UE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D0=1e-4,S4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},w4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MN=function(e,n){return function(r){var i=S4(e,n);return w4(i,r)}},Ice=function(e,n){return function(r){var i=S4(e,n),a=[].concat(Pce(i.map(function(o,s){return o*s}).slice(1)),[0]);return w4(a,r)}},EN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=Mce(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var c=MN(i,o),h=MN(a,s),m=Ice(i,o),g=function(v){return v>1?1:v<0?0:v},_=function(v){for(var x=v>1?1:v,b=x,M=0;M<8;++M){var w=c(b)-x,E=m(b);if(Math.abs(w-x)<D0||E<D0)return h(b);b=g(b-w/E)}return h(b)};return _.isStepper=!1,_},Nce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,c,h){var m=-(f-c)*r,g=h*a,_=h+(m-g)*s/1e3,y=h*s/1e3+f;return Math.abs(y-c)<D0&&Math.abs(_)<D0?[c,0]:[y,_]};return l.isStepper=!0,l.dt=s,l},Lce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EN(i);case"spring":return Nce();default:if(i.split("(")[0]==="cubic-bezier")return EN(i)}return typeof i=="function"?i:null};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function AN(t){return Uce(t)||kce(t)||M4(t)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uce(t){if(Array.isArray(t))return BE(t)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){FE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e,n){return e=Fce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fce(t){var e=Bce(t,"string");return Xp(e)==="symbol"?e:String(e)}function Bce(t,e){if(Xp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zce(t,e){return Vce(t)||$ce(t,e)||M4(t,e)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vce(t){if(Array.isArray(t))return t}var k0=function(e,n,r){return e+(n-e)*r},zE=function(e){var n=e.from,r=e.to;return n!==r},Hce=function t(e,n,r){var i=Gh(function(a,o){if(zE(o)){var s=e(o.from,o.to,o.velocity),l=zce(s,2),u=l[0],f=l[1];return gr(gr({},o),{},{from:u,velocity:f})}return o},n);return r<1?Gh(function(a,o){return zE(o)?gr(gr({},o),{},{velocity:k0(o.velocity,i[a].velocity,r),from:k0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Gce=function(t,e,n,r,i){var a=bce(t,e),o=a.reduce(function(y,v){return gr(gr({},y),{},FE({},v,[t[v],e[v]]))},{}),s=a.reduce(function(y,v){return gr(gr({},y),{},FE({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,f,c=function(){return null},h=function(){return Gh(function(v,x){return x.from},s)},m=function(){return!Object.values(s).filter(zE).length},g=function(v){u||(u=v);var x=v-u,b=x/n.dt;s=Hce(n,s,b),i(gr(gr(gr({},t),e),h())),u=v,m()||(l=requestAnimationFrame(c))},_=function(v){f||(f=v);var x=(v-f)/r,b=Gh(function(w,E){return k0.apply(void 0,AN(E).concat([n(x)]))},o);if(i(gr(gr(gr({},t),e),b)),x<1)l=requestAnimationFrame(c);else{var M=Gh(function(w,E){return k0.apply(void 0,AN(E).concat([n(1)]))},o);i(gr(gr(gr({},t),e),M))}};return c=n.isStepper?g:_,function(){return requestAnimationFrame(c),function(){cancelAnimationFrame(l)}}};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var Wce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Xce(t,e){if(t==null)return{};var n=qce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z1(t){return Jce(t)||Zce(t)||Kce(t)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kce(t,e){if(t){if(typeof t=="string")return jE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jE(t,e)}}function Zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jce(t){if(Array.isArray(t))return jE(t)}function jE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){Ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ph(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function tfe(t,e,n){return e&&efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E4(t){var e=nfe(t,"string");return Pf(e)==="symbol"?e:String(e)}function nfe(t,e){if(Pf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$E(t,e)}function $E(t,e){return $E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$E(t,e)}function ife(t){var e=afe();return function(){var r=U0(t),i;if(e){var a=U0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return VE(this,i)}}function VE(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HE(t)}function HE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function afe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}var es=function(t){rfe(n,t);var e=ife(n);function n(r,i){var a;Qce(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,c=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(HE(a)),a.changeStyle=a.changeStyle.bind(HE(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:f}),VE(a);if(c&&c.length)a.state={style:c[0].style};else if(u){if(typeof h=="function")return a.state={style:u},VE(a);a.state={style:l?Ph({},l,u):u}}else a.state={style:{}};return a}return tfe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,c=a.from,h=this.state.style;if(s){if(!o){var m={style:l?Ph({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(m);return}if(!(fce(i.to,f)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=g||u?c:i.to;if(this.state&&h){var y={style:l?Ph({},l,_):_};(l&&h[l]!==_||!l&&h!==_)&&this.setState(y)}this.runAnimation(ba(ba({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,c=i.onAnimationEnd,h=i.onAnimationStart,m=Gce(o,s,Lce(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,f,g,l,c])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,c=u.duration,h=c===void 0?0:c,m=function(_,y,v){if(v===0)return _;var x=y.duration,b=y.easing,M=b===void 0?"ease":b,w=y.style,E=y.properties,P=y.onAnimationEnd,A=v>0?o[v-1]:y,C=E||Object.keys(w);if(typeof M=="function"||M==="spring")return[].concat(z1(_),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:x,easing:M}),x]);var I=wN(C,x,M),R=ba(ba(ba({},A.style),w),{},{transition:I});return[].concat(z1(_),[R,x,P]).filter(Sce)};return this.manager.start([l].concat(z1(o.reduce(m,[f,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yce());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,c=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var _=s?Ph({},s,l):l,y=wN(Object.keys(_),o,u);g.start([f,a,ba(ba({},_),{},{transition:y}),o,c])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Xce(i,Wce),u=z.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var c=function(m){var g=m.props,_=g.style,y=_===void 0?{}:_,v=g.className,x=z.cloneElement(m,ba(ba({},l),{},{style:ba(ba({},y),f),className:v}));return x};return u===1?c(z.Children.only(a)):ne.createElement("div",null,z.Children.map(a,function(h){return c(h)}))}}]),n}(z.PureComponent);es.displayName="Animate";es.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};es.propTypes={from:en.oneOfType([en.object,en.string]),to:en.oneOfType([en.object,en.string]),attributeName:en.string,duration:en.number,begin:en.number,easing:en.oneOfType([en.string,en.func]),steps:en.arrayOf(en.shape({duration:en.number.isRequired,style:en.object.isRequired,easing:en.oneOfType([en.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),en.func]),properties:en.arrayOf("string"),onAnimationEnd:en.func})),children:en.oneOfType([en.node,en.func]),isActive:en.bool,canBegin:en.bool,onAnimationEnd:en.func,shouldReAnimate:en.bool,onAnimationStart:en.func,onAnimationReStart:en.func};function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F0.apply(this,arguments)}function ofe(t,e){return cfe(t)||ufe(t,e)||lfe(t,e)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return CN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CN(t,e)}}function CN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cfe(t){if(Array.isArray(t))return t}function ON(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ON(Object(n),!0).forEach(function(r){ffe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ON(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ffe(t,e,n){return e=dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dfe(t){var e=hfe(t,"string");return qp(e)=="symbol"?e:e+""}function hfe(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var c=[0,0,0,0],h=0,m=4;h<m;h++)c[h]=a[h]>o?o:a[h];f="M".concat(e,",").concat(n+s*c[0]),c[0]>0&&(f+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(n)),f+="L ".concat(e+r-l*c[1],",").concat(n),c[1]>0&&(f+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*c[1])),f+="L ".concat(e+r,",").concat(n+i-s*c[2]),c[2]>0&&(f+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,`,
        `).concat(e+r-l*c[2],",").concat(n+i)),f+="L ".concat(e+l*c[3],",").concat(n+i),c[3]>0&&(f+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*c[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);f="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},pfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),c=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=f&&i>=c&&i<=h}return!1},mfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NP=function(e){var n=RN(RN({},mfe),e),r=z.useRef(),i=z.useState(-1),a=ofe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&s(M)}catch{}},[]);var l=n.x,u=n.y,f=n.width,c=n.height,h=n.radius,m=n.className,g=n.animationEasing,_=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||f===0||c===0)return null;var b=Gt("recharts-rectangle",m);return x?ne.createElement(es,{canBegin:o>0,from:{width:f,height:c,x:l,y:u},to:{width:f,height:c,x:l,y:u},duration:_,animationEasing:g,isActive:x},function(M){var w=M.width,E=M.height,P=M.x,A=M.y;return ne.createElement(es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:_,isActive:v,easing:g},ne.createElement("path",F0({},jt(n,!0),{className:b,d:IN(P,A,w,E,h),ref:r})))}):ne.createElement("path",F0({},jt(n,!0),{className:b,d:IN(l,u,f,c,h)}))};function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(this,arguments)}var LP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Gt("recharts-dot",a);return n===+n&&r===+r&&i===+i?z.createElement("circle",WE({},jt(e,!1),r0(e),{className:o,cx:n,cy:r,r:i})):null};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}var gfe=["x","y","top","left","width","height","className"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(this,arguments)}function NN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NN(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=_fe(t,"string");return Yp(e)=="symbol"?e:e+""}function _fe(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bfe(t,e){if(t==null)return{};var n=Sfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wfe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Mfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,c=f===void 0?0:f,h=e.height,m=h===void 0?0:h,g=e.className,_=bfe(e,gfe),y=vfe({x:r,y:a,top:s,left:u,width:c,height:m},_);return!He(r)||!He(a)||!He(c)||!He(m)||!He(s)||!He(u)?null:ne.createElement("path",XE({},jt(y,!0),{className:Gt("recharts-cross",g),d:wfe(r,a,c,m,s,u)}))},Efe=BB,Afe=Efe(Object.getPrototypeOf,Object),Tfe=Afe,Pfe=as,Cfe=Tfe,Ofe=os,Rfe="[object Object]",Ife=Function.prototype,Nfe=Object.prototype,A4=Ife.toString,Lfe=Nfe.hasOwnProperty,Dfe=A4.call(Object);function kfe(t){if(!Ofe(t)||Pfe(t)!=Rfe)return!1;var e=Cfe(t);if(e===null)return!0;var n=Lfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&A4.call(n)==Dfe}var Ufe=kfe;const Ffe=an(Ufe);var Bfe=as,zfe=os,jfe="[object Boolean]";function $fe(t){return t===!0||t===!1||zfe(t)&&Bfe(t)==jfe}var Vfe=$fe;const Hfe=an(Vfe);function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}function Gfe(t,e){return Yfe(t)||qfe(t,e)||Xfe(t,e)||Wfe()}function Wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(t,e){if(t){if(typeof t=="string")return LN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LN(t,e)}}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yfe(t){if(Array.isArray(t))return t}function DN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DN(Object(n),!0).forEach(function(r){Kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e,n){return e=Zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=Jfe(t,"string");return Kp(e)=="symbol"?e:e+""}function Jfe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UN=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Qfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ede=function(e){var n=kN(kN({},Qfe),e),r=z.useRef(),i=z.useState(-1),a=Gfe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,f=n.upperWidth,c=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,_=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||c!==+c||h!==+h||f===0&&c===0||h===0)return null;var x=Gt("recharts-trapezoid",m);return v?ne.createElement(es,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:f,lowerWidth:c,height:h,x:l,y:u},duration:_,animationEasing:g,isActive:v},function(b){var M=b.upperWidth,w=b.lowerWidth,E=b.height,P=b.x,A=b.y;return ne.createElement(es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:_,easing:g},ne.createElement("path",B0({},jt(n,!0),{className:x,d:UN(P,A,M,w,E),ref:r})))}):ne.createElement("g",null,ne.createElement("path",B0({},jt(n,!0),{className:x,d:UN(l,u,f,c,h)})))},tde=["option","shapeType","propTransformer","activeClassName","isActive"];function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function nde(t,e){if(t==null)return{};var n=rde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(n),!0).forEach(function(r){ide(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ide(t,e,n){return e=ade(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=ode(t,"string");return Zp(e)=="symbol"?e:e+""}function ode(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sde(t,e){return z0(z0({},e),t)}function lde(t,e){return t==="symbols"}function BN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(NP,n);case"trapezoid":return ne.createElement(ede,n);case"sector":return ne.createElement(m4,n);case"symbols":if(lde(e))return ne.createElement(JT,n);break;default:return null}}function ude(t){return z.isValidElement(t)?t.props:t}function cde(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?sde:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=nde(t,tde),u;if(z.isValidElement(e))u=z.cloneElement(e,z0(z0({},l),ude(e)));else if(Lt(e))u=e(l);else if(Ffe(e)&&!Hfe(e)){var f=i(e,l);u=ne.createElement(BN,{shapeType:n,elementProps:f})}else{var c=l;u=ne.createElement(BN,{shapeType:n,elementProps:c})}return s?ne.createElement(Bn,{className:o},u):u}function G_(t,e){return e!=null&&"trapezoids"in t.props}function W_(t,e){return e!=null&&"sectors"in t.props}function Jp(t,e){return e!=null&&"points"in t.props}function fde(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function dde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function hde(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function pde(t,e){var n;return G_(t,e)?n=fde:W_(t,e)?n=dde:Jp(t,e)&&(n=hde),n}function mde(t,e){var n;return G_(t,e)?n="trapezoids":W_(t,e)?n="sectors":Jp(t,e)&&(n="points"),n}function gde(t,e){if(G_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(W_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jp(t,e)?e.payload:{}}function vde(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=mde(n,e),a=gde(n,e),o=r.filter(function(l,u){var f=$_(a,l),c=n.props[i].filter(function(g){var _=pde(n,e);return _(g,e)}),h=n.props[i].indexOf(c[c.length-1]),m=u===h;return f&&m}),s=r.indexOf(o[o.length-1]);return s}var yde=Math.ceil,xde=Math.max;function _de(t,e,n,r){for(var i=-1,a=xde(yde((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var bde=_de,Sde=iz,zN=1/0,wde=17976931348623157e292;function Mde(t){if(!t)return t===0?t:0;if(t=Sde(t),t===zN||t===-zN){var e=t<0?-1:1;return e*wde}return t===t?t:0}var T4=Mde,Ede=bde,Ade=N_,j1=T4;function Tde(t){return function(e,n,r){return r&&typeof r!="number"&&Ade(e,n,r)&&(n=r=void 0),e=j1(e),n===void 0?(n=e,e=0):n=j1(n),r=r===void 0?e<n?1:-1:j1(r),Ede(e,n,r,t)}}var Pde=Tde,Cde=Pde,Ode=Cde(),Rde=Ode;const j0=an(Rde);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function jN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $N(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jN(Object(n),!0).forEach(function(r){P4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P4(t,e,n){return e=Ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=Nde(t,"string");return Qp(e)=="symbol"?e:e+""}function Nde(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lde=["Webkit","Moz","O","ms"],Dde=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Lde.reduce(function(a,o){return $N($N({},a),{},P4({},o+r,n))},{});return i[e]=n,i};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function VN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VN(Object(n),!0).forEach(function(r){Ti(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O4(r.key),r)}}function Ude(t,e,n){return e&&HN(t.prototype,e),n&&HN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fde(t,e,n){return e=V0(e),Bde(t,C4()?Reflect.construct(e,n||[],V0(t).constructor):e.apply(t,n))}function Bde(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zde(t)}function zde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(t)}function jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qE(t,e)}function Ti(t,e,n){return e=O4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O4(t){var e=$de(t,"string");return Cf(e)=="symbol"?e:e+""}function $de(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Vh().domain(j0(0,l)).range([a,a+o-s]),f=u.domain().map(function(c){return u(c)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},GN=function(e){return e.changedTouches&&!!e.changedTouches.length},Of=function(t){function e(n){var r;return kde(this,e),r=Fde(this,e,[n]),Ti(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ti(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ti(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ti(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ti(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ti(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ti(r,"handleSlideDragStart",function(i){var a=GN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return jde(e,t),Ude(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,c=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,c),g=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:g===f?f:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ki(a[r],s,r);return Lt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,c=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,_=r.pageX-a;_>0?_=Math.min(_,u+f-c-s,u+f-c-o):_<0&&(_=Math.max(_,u-o,u-s));var y=this.getIndex({startX:o+_,endX:s+_});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+_,endX:s+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=GN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,c=f.x,h=f.width,m=f.travellerWidth,g=f.onChange,_=f.gap,y=f.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,c+h-m-u):x<0&&(x=Math.max(x,c-u)),v[o]=u+x;var b=this.getIndex(v),M=b.startIndex,w=b.endIndex,E=function(){var A=y.length-1;return o==="startX"&&(s>l?M%_===0:w%_===0)||s<l&&w===A||o==="endX"&&(s>l?w%_===0:M%_===0)||s>l&&w===A};this.setState(Ti(Ti({},o,u+x),"brushMoveStartX",r.pageX),function(){g&&E()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],c=s.indexOf(f);if(c!==-1){var h=c+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ti({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return ne.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,f=r.padding,c=z.Children.only(u);return c?ne.cloneElement(c,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,c=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,_=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),x=$1($1({},jt(this.props,!1)),{},{x:v,y:u,width:f,height:c}),b=m||"Min value: ".concat((a=g[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return ne.createElement(Bn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,c=Math.max(Math.abs(i-r)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:c,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,f=this.state,c=f.startX,h=f.endX,m=5,g={pointerEvents:"none",fill:u};return ne.createElement(Bn,{className:"recharts-brush-texts"},ne.createElement(y0,$0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,h)-m,y:o+s/2},g),this.getTextOfTick(i)),ne.createElement(y0,$0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,h)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,f=r.height,c=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,_=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!i||!i.length||!He(s)||!He(l)||!He(u)||!He(f)||u<=0||f<=0)return null;var b=Gt("recharts-brush",a),M=ne.Children.count(o)===1,w=Dde("userSelect","none");return ne.createElement(Bn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(_||y||v||x||c)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,i):Lt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,f=r.startIndex,c=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return $1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Vde({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:c}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(z.PureComponent);Ti(Of,"displayName","Brush");Ti(Of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Hde=aP;function Gde(t,e){var n;return Hde(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var Wde=Gde,Xde=RB,qde=ul,Yde=Wde,Kde=vi,Zde=N_;function Jde(t,e,n){var r=Kde(t)?Xde:Yde;return n&&Zde(t,e,n)&&(e=void 0),r(t,qde(e))}var Qde=Jde;const ehe=an(Qde);var co=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},WN=QB;function the(t,e,n){e=="__proto__"&&WN?WN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var nhe=the,rhe=nhe,ihe=ZB,ahe=ul;function ohe(t,e){var n={};return e=ahe(e),ihe(t,function(r,i,a){rhe(n,i,e(r,i,a))}),n}var she=ohe;const lhe=an(she);function uhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var che=uhe,fhe=aP;function dhe(t,e){var n=!0;return fhe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var hhe=dhe,phe=che,mhe=hhe,ghe=ul,vhe=vi,yhe=N_;function xhe(t,e,n){var r=vhe(t)?phe:mhe;return n&&yhe(t,e,n)&&(e=void 0),r(t,ghe(e))}var _he=xhe;const R4=an(_he);var bhe=["x","y"];function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){She(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e,n){return e=whe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=Mhe(t,"string");return em(e)=="symbol"?e:e+""}function Mhe(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t,e){if(t==null)return{};var n=Ahe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ahe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function The(t,e){var n=t.x,r=t.y,i=Ehe(t,bhe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),c="".concat(e.width||i.width),h=parseInt(c,10);return oh(oh(oh(oh(oh({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function qN(t){return ne.createElement(cde,YE({shapeType:"rectangle",propTransformer:The,activeClassName:"recharts-active-bar"},t))}var Phe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=He(r)||H7(r);return a?e(r,i):(a||Su(),n)}},Che=["value","background"],I4;function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function Ohe(t,e){if(t==null)return{};var n=Rhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H0.apply(this,arguments)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ihe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function Nhe(t,e,n){return e&&KN(t.prototype,e),n&&KN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lhe(t,e,n){return e=G0(e),Dhe(t,N4()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function Dhe(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return khe(t)}function khe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N4=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function Us(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=Fhe(t,"string");return Rf(e)=="symbol"?e:e+""}function Fhe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var n;Ihe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Lhe(this,e,[].concat(i)),Us(n,"state",{isAnimationFinished:!1}),Us(n,"id",Pm("recharts-bar-")),Us(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Us(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Uhe(e,t),Nhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=jt(this.props,!1);return r&&r.map(function(c,h){var m=h===l,g=m?u:o,_=Gn(Gn(Gn({},f),c),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(Bn,H0({className:"recharts-bar-rectangle"},i0(i.props,c,h),{key:"rectangle-".concat(c==null?void 0:c.x,"-").concat(c==null?void 0:c.y,"-").concat(c==null?void 0:c.value,"-").concat(h)}),ne.createElement(qN,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,c=i.animationId,h=this.state.prevData;return ne.createElement(es,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,_=a.map(function(y,v){var x=h&&h[v];if(x){var b=Ra(x.x,y.x),M=Ra(x.y,y.y),w=Ra(x.width,y.width),E=Ra(x.height,y.height);return Gn(Gn({},y),{},{x:b(g),y:M(g),width:w(g),height:E(g)})}if(o==="horizontal"){var P=Ra(0,y.height),A=P(g);return Gn(Gn({},y),{},{y:y.y+y.height-A,height:A})}var C=Ra(0,y.width),I=C(g);return Gn(Gn({},y),{},{width:I})});return ne.createElement(Bn,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!$_(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=jt(this.props.background,!1);return a.map(function(u,f){u.value;var c=u.background,h=Ohe(u,Che);if(!c)return null;var m=Gn(Gn(Gn(Gn(Gn({},h),{},{fill:"#eee"},c),l),i0(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ne.createElement(qN,H0({key:"background-bar-".concat(f),option:r.props.background,isActive:f===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=la(f,Lm);if(!c)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:ki(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Bn,g,c.map(function(_){return ne.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,f=r.top,c=r.width,h=r.height,m=r.isAnimationActive,g=r.background,_=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=Gt("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,M=x||b,w=kt(_)?this.id:_;return ne.createElement(Bn,{className:v},x||b?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(w)},ne.createElement("rect",{x:x?u:u-c/2,y:b?f:f-h/2,width:x?c:c*2,height:b?h:h*2}))):null,ne.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,w),(!m||y)&&Js.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);I4=Uu;Us(Uu,"displayName","Bar");Us(Uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Us(Uu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,c=t.displayedData,h=t.offset,m=hle(r,n);if(!m)return null;var g=e.layout,_=n.type.defaultProps,y=_!==void 0?Gn(Gn({},_),n.props):n.props,v=y.dataKey,x=y.children,b=y.minPointSize,M=g==="horizontal"?o:a,w=u?M.scale.domain():null,E=ble({numericAxis:M}),P=la(x,oz),A=c.map(function(C,I){var R,k,F,G,$,V;u?R=ple(u[f+I],w):(R=ki(C,v),Array.isArray(R)||(R=[E,R]));var H=Phe(b,I4.defaultProps.minPointSize)(R[1],I);if(g==="horizontal"){var U,j=[o.scale(R[0]),o.scale(R[1])],Y=j[0],Z=j[1];k=Y3({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:C,index:I}),F=(U=Z??Y)!==null&&U!==void 0?U:void 0,G=m.size;var J=Y-Z;if($=Number.isNaN(J)?0:J,V={x:k,y:o.y,width:G,height:o.height},Math.abs(H)>0&&Math.abs($)<Math.abs(H)){var fe=Na($||H)*(Math.abs(H)-Math.abs($));F-=fe,$+=fe}}else{var we=[a.scale(R[0]),a.scale(R[1])],De=we[0],ae=we[1];if(k=De,F=Y3({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:C,index:I}),G=ae-De,$=m.size,V={x:a.x,y:F,width:a.width,height:$},Math.abs(H)>0&&Math.abs(G)<Math.abs(H)){var be=Na(G||H)*(Math.abs(H)-Math.abs(G));G+=be}}return Gn(Gn(Gn({},C),{},{x:k,y:F,width:G,height:$,value:u?R:R[1],payload:C,background:V},P&&P[I]&&P[I].props),{},{tooltipPayload:[d4(n,C)],tooltipPosition:{x:k+G/2,y:F+$/2}})});return Gn({data:A,layout:g},h)});function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Bhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function zhe(t,e,n){return e&&ZN(t.prototype,e),n&&ZN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X_(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=jhe(t,"string");return tm(e)=="symbol"?e:e+""}function jhe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var k4=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(n),c={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ci(u,Uu);return f.reduce(function(m,g){var _=n[g],y=_.orientation,v=_.domain,x=_.padding,b=x===void 0?{}:x,M=_.mirror,w=_.reversed,E="".concat(y).concat(M?"Mirror":""),P,A,C,I,R;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var k=v[1]-v[0],F=1/0,G=_.categoricalDomain.sort(X7);if(G.forEach(function(we,De){De>0&&(F=Math.min((we||0)-(G[De-1]||0),F))}),Number.isFinite(F)){var $=F/k,V=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(P=$*V/2),_.padding==="no-gap"){var H=_u(e.barCategoryGap,$*V),U=$*V/2;P=U-H-(U-H)/V*H}}}i==="xAxis"?A=[r.left+(b.left||0)+(P||0),r.left+r.width-(b.right||0)-(P||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(P||0),r.top+r.height-(b.bottom||0)-(P||0)]:A=_.range,w&&(A=[A[1],A[0]]);var j=fle(_,a,h),Y=j.scale,Z=j.realScaleType;Y.domain(v).range(A),dle(Y);var J=_le(Y,Pa(Pa({},_),{},{realScaleType:Z}));i==="xAxis"?(R=y==="top"&&!M||y==="bottom"&&M,C=r.left,I=c[E]-R*_.height):i==="yAxis"&&(R=y==="left"&&!M||y==="right"&&M,C=c[E]-R*_.width,I=r.top);var fe=Pa(Pa(Pa({},_),J),{},{realScaleType:Z,x:C,y:I,scale:Y,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return fe.bandSize=I0(fe,J),!_.hide&&i==="xAxis"?c[E]+=(R?-1:1)*fe.height:_.hide||(c[E]+=(R?-1:1)*fe.width),Pa(Pa({},m),{},X_({},g,fe))},{})},U4=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},$he=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return U4({x:n,y:r},{x:i,y:a})},F4=function(){function t(e){Bhe(this,t),this.scale=e}return zhe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();X_(F4,"EPS",1e-4);var DP=function(e){var n=Object.keys(e).reduce(function(r,i){return Pa(Pa({},r),{},X_({},i,F4.create(e[i])))},{});return Pa(Pa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return lhe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return R4(i,function(a,o){return n[o].isInRange(a)})}})};function Vhe(t){return(t%180+180)%180}var Hhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vhe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},Ghe=ul,Whe=Cm,Xhe=R_;function qhe(t){return function(e,n,r){var i=Object(e);if(!Whe(e)){var a=Ghe(n);e=Xhe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Yhe=qhe,Khe=T4;function Zhe(t){var e=Khe(t),n=e%1;return e===e?n?e-n:e:0}var Jhe=Zhe,Qhe=GB,epe=ul,tpe=Jhe,npe=Math.max;function rpe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:tpe(n);return i<0&&(i=npe(r+i,0)),Qhe(t,epe(e),i)}var ipe=rpe,ape=Yhe,ope=ipe,spe=ape(ope),lpe=spe;const upe=an(lpe);var cpe=K9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),kP=z.createContext(void 0),UP=z.createContext(void 0),B4=z.createContext(void 0),z4=z.createContext({}),j4=z.createContext(void 0),$4=z.createContext(0),V4=z.createContext(0),QN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=cpe(a);return ne.createElement(kP.Provider,{value:r},ne.createElement(UP.Provider,{value:i},ne.createElement(z4.Provider,{value:a},ne.createElement(B4.Provider,{value:f},ne.createElement(j4.Provider,{value:o},ne.createElement($4.Provider,{value:u},ne.createElement(V4.Provider,{value:l},s)))))))},fpe=function(){return z.useContext(j4)},H4=function(e){var n=z.useContext(kP);n==null&&Su();var r=n[e];return r==null&&Su(),r},dpe=function(){var e=z.useContext(kP);return Is(e)},hpe=function(){var e=z.useContext(UP),n=upe(e,function(r){return R4(r.domain,Number.isFinite)});return n||Is(e)},G4=function(e){var n=z.useContext(UP);n==null&&Su();var r=n[e];return r==null&&Su(),r},ppe=function(){var e=z.useContext(B4);return e},mpe=function(){return z.useContext(z4)},FP=function(){return z.useContext(V4)},BP=function(){return z.useContext($4)};function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function gpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function ype(t,e,n){return e&&vpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpe(t,e,n){return e=W0(e),_pe(t,W4()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function _pe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpe(t)}function bpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function Spe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZE(t,e)}function ZE(t,e){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZE(t,e)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){zP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zP(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=wpe(t,"string");return If(e)=="symbol"?e:e+""}function wpe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Mpe(t,e){return Ppe(t)||Tpe(t,e)||Ape(t,e)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ape(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ppe(t){if(Array.isArray(t))return t}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}var Cpe=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Lt(e)?r=e(n):r=ne.createElement("line",JE({},n,{className:"recharts-reference-line-line"})),r},Ope=function(e,n,r,i,a,o,s,l,u){var f=a.x,c=a.y,h=a.width,m=a.height;if(r){var g=u.y,_=e.y.apply(g,{position:o});if(co(u,"discard")&&!e.y.isInRange(_))return null;var y=[{x:f+h,y:_},{x:f,y:_}];return l==="left"?y.reverse():y}if(n){var v=u.x,x=e.x.apply(v,{position:o});if(co(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:c+m},{x,y:c}];return s==="top"?b.reverse():b}if(i){var M=u.segment,w=M.map(function(E){return e.apply(E,{position:o})});return co(u,"discard")&&ehe(w,function(E){return!e.isInRange(E)})?null:w}return null};function Rpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=fpe(),f=H4(i),c=G4(a),h=ppe();if(!u||!h)return null;Ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=DP({x:f.scale,y:c.scale}),g=tr(e),_=tr(n),y=r&&r.length===2,v=Ope(m,g,_,y,h,t.position,f.orientation,c.orientation,t);if(!v)return null;var x=Mpe(v,2),b=x[0],M=b.x,w=b.y,E=x[1],P=E.x,A=E.y,C=co(t,"hidden")?"url(#".concat(u,")"):void 0,I=tL(tL({clipPath:C},jt(t,!0)),{},{x1:M,y1:w,x2:P,y2:A});return ne.createElement(Bn,{className:Gt("recharts-reference-line",s)},Cpe(o,I),Lr.renderCallByParent(t,$he({x1:M,y1:w,x2:P,y2:A})))}var jP=function(t){function e(){return gpe(this,e),xpe(this,e,arguments)}return Spe(e,t),ype(e,[{key:"render",value:function(){return ne.createElement(Rpe,this.props)}}])}(ne.Component);zP(jP,"displayName","ReferenceLine");zP(jP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Npe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y4(r.key),r)}}function Lpe(t,e,n){return e&&Npe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dpe(t,e,n){return e=X0(e),kpe(t,q4()?Reflect.construct(e,n||[],X0(t).constructor):e.apply(t,n))}function kpe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(t)}function Upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},X0(t)}function Fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eA(t,e)}function q_(t,e,n){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4(t){var e=Bpe(t,"string");return Nf(e)=="symbol"?e:e+""}function Bpe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zpe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=DP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return co(e,"discard")&&!o.isInRange(s)?null:s},Y_=function(t){function e(){return Ipe(this,e),Dpe(this,e,arguments)}return Fpe(e,t),Lpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=tr(i),f=tr(a);if(Ho(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var c=zpe(this.props);if(!c)return null;var h=c.x,m=c.y,g=this.props,_=g.shape,y=g.className,v=co(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=iL(iL({clipPath:v},jt(this.props,!0)),{},{cx:h,cy:m});return ne.createElement(Bn,{className:Gt("recharts-reference-dot",y)},e.renderDot(_,x),Lr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(ne.Component);q_(Y_,"displayName","ReferenceDot");q_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});q_(Y_,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Lt(t)?n=t(e):n=ne.createElement(LP,QE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function tA(){return tA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tA.apply(this,arguments)}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){K_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $pe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function Vpe(t,e,n){return e&&$pe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hpe(t,e,n){return e=q0(e),Gpe(t,K4()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function Gpe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wpe(t)}function Wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function Xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nA(t,e)}function K_(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=qpe(t,"string");return Lf(e)=="symbol"?e:e+""}function qpe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ype=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,c=a.yAxis;if(!f||!c)return null;var h=DP({x:f.scale,y:c.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return co(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:U4(m,g)},Z_=function(t){function e(){return jpe(this,e),Hpe(this,e,arguments)}return Xpe(e,t),Vpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,f=r.clipPathId;Ho(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=tr(i),h=tr(a),m=tr(o),g=tr(s),_=this.props.shape;if(!c&&!h&&!m&&!g&&!_)return null;var y=Ype(c,h,m,g,this.props);if(!y&&!_)return null;var v=co(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ne.createElement(Bn,{className:Gt("recharts-reference-area",l)},e.renderRect(_,oL(oL({clipPath:v},jt(this.props,!0)),y)),Lr.renderCallByParent(this.props,y))}}])}(ne.Component);K_(Z_,"displayName","ReferenceArea");K_(Z_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});K_(Z_,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Lt(t)?n=t(e):n=ne.createElement(NP,tA({},e,{className:"recharts-reference-area-rect"})),n});function J4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Kpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Hhe(r,n)}function Zpe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Y0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function Jpe(t,e){return J4(t,e+1)}function Qpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,c=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:J4(r,u)};var _=l,y,v=function(){return y===void 0&&(y=n(g,_)),y},x=g.coordinate,b=l===0||Y0(t,x,v,f,s);b||(l=0,f=o,u+=1),b&&(f=x+t*(v()/2+i),l+=u)},h;u<=a.length;)if(h=c(),h)return h.v;return[]}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return e=tme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return nm(e)=="symbol"?e:e+""}function nme(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rme(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var m=a[h],g,_=function(){return g===void 0&&(g=n(m,h)),g};if(h===o-1){var y=t*(m.coordinate+t*_()/2-l);a[h]=m=Ir(Ir({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else a[h]=m=Ir(Ir({},m),{},{tickCoord:m.coordinate});var v=Y0(t,m.tickCoord,_,s,l);v&&(l=m.tickCoord-t*(_()/2+i),a[h]=Ir(Ir({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function ime(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=r[s-1],c=n(f,s-1),h=t*(f.coordinate+t*c/2-u);o[s-1]=f=Ir(Ir({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var m=Y0(t,f.tickCoord,function(){return c},l,u);m&&(u=f.tickCoord-t*(c/2+i),o[s-1]=Ir(Ir({},f),{},{isShow:!0}))}for(var g=a?s-1:s,_=function(x){var b=o[x],M,w=function(){return M===void 0&&(M=n(b,x)),M};if(x===0){var E=t*(b.coordinate-t*w()/2-l);o[x]=b=Ir(Ir({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else o[x]=b=Ir(Ir({},b),{},{tickCoord:b.coordinate});var P=Y0(t,b.tickCoord,w,l,u);P&&(l=b.tickCoord+t*(w()/2+i),o[x]=Ir(Ir({},b),{},{isShow:!0}))},y=0;y<g;y++)_(y);return o}function $P(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,c=t.angle;if(!i||!i.length||!r)return[];if(He(l)||cd.isSsr)return Jpe(i,typeof l=="number"&&He(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=f&&m==="width"?$h(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(b,M){var w=Lt(u)?u(b.value,M):b.value;return m==="width"?Kpe($h(w,{fontSize:e,letterSpacing:n}),g,c):$h(w,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Na(i[1].coordinate-i[0].coordinate):1,v=Zpe(a,y,m);return l==="equidistantPreserveStart"?Qpe(y,v,_,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=ime(y,v,_,i,o,l==="preserveStartEnd"):h=rme(y,v,_,i,o),h.filter(function(x){return x.isShow}))}var ame=["viewBox"],ome=["viewBox"],sme=["ticks"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){VP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1(t,e){if(t==null)return{};var n=lme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ume(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e5(r.key),r)}}function cme(t,e,n){return e&&uL(t.prototype,e),n&&uL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fme(t,e,n){return e=K0(e),dme(t,Q4()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function dme(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hme(t)}function hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function pme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rA(t,e)}function VP(t,e,n){return e=e5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e5(t){var e=mme(t,"string");return Df(e)=="symbol"?e:e+""}function mme(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pd=function(t){function e(n){var r;return ume(this,e),r=fme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return pme(e,t),cme(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=V1(r,ame),s=this.props,l=s.viewBox,u=V1(s,ome);return!sf(a,l)||!sf(o,u)||!sf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,c=i.mirror,h=i.tickMargin,m,g,_,y,v,x,b=c?-1:1,M=r.tickSize||f,w=He(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,y=o+ +!c*l,_=y-b*M,x=_-b*h,v=w;break;case"left":_=y=r.coordinate,g=a+ +!c*s,m=g-b*M,v=m-b*h,x=w;break;case"right":_=y=r.coordinate,g=a+ +c*s,m=g+b*M,v=m+b*h,x=w;break;default:m=g=r.coordinate,y=o+ +c*l,_=y+b*M,x=_+b*h,v=w;break}return{line:{x1:m,y1:_,x2:g,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,f=r.axisLine,c=Zn(Zn(Zn({},jt(this.props,!1)),jt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);c=Zn(Zn({},c),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);c=Zn(Zn({},c),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return ne.createElement("line",qc({},c,{className:Gt("recharts-cartesian-axis-line",sa(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,c=s.tickFormatter,h=s.unit,m=$P(Zn(Zn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),y=jt(this.props,!1),v=jt(f,!1),x=Zn(Zn({},y),{},{fill:"none"},jt(l,!1)),b=m.map(function(M,w){var E=o.getTickLineCoord(M),P=E.line,A=E.tick,C=Zn(Zn(Zn(Zn({textAnchor:g,verticalAnchor:_},y),{},{stroke:"none",fill:u},v),A),{},{index:w,payload:M,visibleTicksCount:m.length,tickFormatter:c});return ne.createElement(Bn,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},i0(o.props,M,w)),l&&ne.createElement("line",qc({},x,P,{className:Gt("recharts-cartesian-axis-tick-line",sa(l,"className"))})),f&&e.renderTickItem(f,C,"".concat(Lt(c)?c(M.value,w):M.value).concat(h||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var c=this.props,h=c.ticks,m=V1(c,sme),g=h;return Lt(l)&&(g=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:ne.createElement(Bn,{className:Gt("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Gt(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?o=ne.cloneElement(r,Zn(Zn({},i),{},{className:s})):Lt(r)?o=r(Zn(Zn({},i),{},{className:s})):o=ne.createElement(y0,qc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);VP(pd,"displayName","CartesianAxis");VP(pd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gme=["x1","y1","x2","y2","key"],vme=["offset"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yme(t,e,n){return e=xme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xme(t){var e=_me(t,"string");return wu(e)=="symbol"?e:e+""}function _me(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}function fL(t,e){if(t==null)return{};var n=bme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Sme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function t5(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Lt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=fL(e,gme),u=jt(l,!1);u.offset;var f=fL(u,vme);n=ne.createElement("line",eu({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function wme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dr(Dr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return t5(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Mme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dr(Dr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return t5(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Eme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==f[0]&&f.unshift(0);var c=f.map(function(h,m){var g=!f[m+1],_=g?i+o-h:f[m+1]-h;if(_<=0)return null;var y=m%e.length;return ne.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:_,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Ame(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==f[0]&&f.unshift(0);var c=f.map(function(h,m){var g=!f[m+1],_=g?a+s-h:f[m+1]-h;if(_<=0)return null;var y=m%r.length;return ne.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:_,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Tme=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return c4($P(Dr(Dr(Dr({},pd.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Pme=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return c4($P(Dr(Dr(Dr({},pd.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function iA(t){var e,n,r,i,a,o,s=FP(),l=BP(),u=mpe(),f=Dr(Dr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:sc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:sc.verticalFill,x:He(t.x)?t.x:u.left,y:He(t.y)?t.y:u.top,width:He(t.width)?t.width:u.width,height:He(t.height)?t.height:u.height}),c=f.x,h=f.y,m=f.width,g=f.height,_=f.syncWithTicks,y=f.horizontalValues,v=f.verticalValues,x=dpe(),b=hpe();if(!He(m)||m<=0||!He(g)||g<=0||!He(c)||c!==+c||!He(h)||h!==+h)return null;var M=f.verticalCoordinatesGenerator||Tme,w=f.horizontalCoordinatesGenerator||Pme,E=f.horizontalPoints,P=f.verticalPoints;if((!E||!E.length)&&Lt(w)){var A=y&&y.length,C=w({yAxis:b?Dr(Dr({},b),{},{ticks:A?y:b.ticks}):void 0,width:s,height:l,offset:u},A?!0:_);Ho(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wu(C),"]")),Array.isArray(C)&&(E=C)}if((!P||!P.length)&&Lt(M)){var I=v&&v.length,R=M({xAxis:x?Dr(Dr({},x),{},{ticks:I?v:x.ticks}):void 0,width:s,height:l,offset:u},I?!0:_);Ho(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wu(R),"]")),Array.isArray(R)&&(P=R)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(Sme,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ne.createElement(wme,eu({},f,{offset:u,horizontalPoints:E,xAxis:x,yAxis:b})),ne.createElement(Mme,eu({},f,{offset:u,verticalPoints:P,xAxis:x,yAxis:b})),ne.createElement(Eme,eu({},f,{horizontalPoints:E})),ne.createElement(Ame,eu({},f,{verticalPoints:P})))}iA.displayName="CartesianGrid";var Cme=["type","layout","connectNulls","ref"],Ome=["key"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function dL(t,e){if(t==null)return{};var n=Rme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wh.apply(this,arguments)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lc(t){return Dme(t)||Lme(t)||Nme(t)||Ime()}function Ime(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nme(t,e){if(t){if(typeof t=="string")return aA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aA(t,e)}}function Lme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dme(t){if(Array.isArray(t))return aA(t)}function aA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function Ume(t,e,n){return e&&pL(t.prototype,e),n&&pL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,n){return e=Z0(e),Bme(t,n5()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function Bme(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(t)}function zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}function oA(t,e){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oA(t,e)}function Ca(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=$me(t,"string");return kf(e)=="symbol"?e:e+""}function $me(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dm=function(t){function e(){var n;kme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Fme(this,e,[].concat(i)),Ca(n,"state",{isAnimationFinished:!0,totalLength:0}),Ca(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ca(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(v,x){return v+x});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),c=o%u,h=s-o,m=[],g=0,_=0;g<l.length;_+=l[g],++g)if(_+l[g]>c){m=[].concat(lc(l.slice(0,g)),[c-_]);break}var y=m.length%2===0?[0,h]:[h];return[].concat(lc(e.repeat(l,f)),lc(m),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Ca(n,"id",Pm("recharts-line-")),Ca(n,"pathRef",function(o){n.mainCurve=o}),Ca(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ca(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return jme(e,t),Ume(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,c=la(f,Lm);if(!c)return null;var h=function(_,y){return{x:_.x,y:_.y,value:_.value,errorVal:ki(_.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Bn,m,c.map(function(g){return ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,c=jt(this.props,!1),h=jt(l,!0),m=u.map(function(_,y){var v=Ai(Ai(Ai({key:"dot-".concat(y),r:3},c),h),{},{index:y,cx:_.x,cy:_.y,value:_.value,dataKey:f,payload:_.payload,points:u});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(Bn,Wh({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var c=dL(s,Cme),h=Ai(Ai(Ai({},jt(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:f});return ne.createElement(DE,Wh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,c=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,_=o.width,y=o.height,v=this.state,x=v.prevPoints,b=v.totalLength;return ne.createElement(es,{begin:f,duration:c,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var w=M.t;if(x){var E=x.length/s.length,P=s.map(function(k,F){var G=Math.floor(F*E);if(x[G]){var $=x[G],V=Ra($.x,k.x),H=Ra($.y,k.y);return Ai(Ai({},k),{},{x:V(w),y:H(w)})}if(g){var U=Ra(_*2,k.x),j=Ra(y/2,k.y);return Ai(Ai({},k),{},{x:U(w),y:j(w)})}return Ai(Ai({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(P,r,i)}var A=Ra(0,b),C=A(w),I;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});I=a.getStrokeDasharray(C,b,R)}else I=a.generateSimpleStrokeDasharray(b,C);return a.renderCurveStatically(s,r,i,{strokeDasharray:I})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!$_(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,c=i.top,h=i.left,m=i.width,g=i.height,_=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,b=Gt("recharts-line",l),M=u&&u.allowDataOverflow,w=f&&f.allowDataOverflow,E=M||w,P=kt(y)?this.id:y,A=(r=jt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,I=C===void 0?3:C,R=A.strokeWidth,k=R===void 0?2:R,F=nX(o)?o:{},G=F.clipDot,$=G===void 0?!0:G,V=I*2+k;return ne.createElement(Bn,{className:b},M||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(P)},ne.createElement("rect",{x:M?h:h-m/2,y:w?c:c-g/2,width:M?m:m*2,height:w?g:g*2})),!$&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ne.createElement("rect",{x:h-V/2,y:c-V/2,width:m+V,height:g+V}))):null,!x&&this.renderCurve(E,P),this.renderErrorBar(E,P),(x||o)&&this.renderDots(E,$,P),(!_||v)&&Js.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(lc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(lc(o),lc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ne.isValidElement(r))a=ne.cloneElement(r,i);else if(Lt(r))a=r(i);else{var o=i.key,s=dL(i,Ome),l=Gt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ne.createElement(LP,Wh({key:o},s,{className:l}))}return a}}])}(z.PureComponent);Ca(Dm,"displayName","Line");Ca(Dm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!cd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ca(Dm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,c=l.map(function(h,m){var g=ki(h,o);return f==="horizontal"?{x:q3({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:kt(g)?null:r.scale(g),value:g,payload:h}:{x:kt(g)?null:n.scale(g),y:q3({axis:r,ticks:a,bandSize:s,entry:h,index:m}),value:g,payload:h}});return Ai({points:c,layout:f},u)});function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function Gme(t,e,n){return e&&Hme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wme(t,e,n){return e=J0(e),Xme(t,i5()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(t)}function qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function Yme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sA(t,e)}function a5(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=Kme(t,"string");return Uf(e)=="symbol"?e:e+""}function Kme(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(this,arguments)}function Zme(t){var e=t.xAxisId,n=FP(),r=BP(),i=H4(e);return i==null?null:z.createElement(pd,lA({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return jo(o,!0)}}))}var Ff=function(t){function e(){return Vme(this,e),Wme(this,e,arguments)}return Yme(e,t),Gme(e,[{key:"render",value:function(){return z.createElement(Zme,this.props)}}])}(z.Component);a5(Ff,"displayName","XAxis");a5(Ff,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function Jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function ege(t,e,n){return e&&Qme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tge(t,e,n){return e=Q0(e),nge(t,s5()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function nge(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(t)}function rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function ige(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uA(t,e)}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uA(t,e)}function l5(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=age(t,"string");return Bf(e)=="symbol"?e:e+""}function age(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cA(){return cA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cA.apply(this,arguments)}var oge=function(e){var n=e.yAxisId,r=FP(),i=BP(),a=G4(n);return a==null?null:z.createElement(pd,cA({},a,{className:Gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return jo(s,!0)}}))},zf=function(t){function e(){return Jme(this,e),tge(this,e,arguments)}return ige(e,t),ege(e,[{key:"render",value:function(){return z.createElement(oge,this.props)}}])}(z.Component);l5(zf,"displayName","YAxis");l5(zf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mL(t){return cge(t)||uge(t)||lge(t)||sge()}function sge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lge(t,e){if(t){if(typeof t=="string")return fA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fA(t,e)}}function uge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cge(t){if(Array.isArray(t))return fA(t)}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dA=function(e,n,r,i,a){var o=la(e,jP),s=la(e,Y_),l=[].concat(mL(o),mL(s)),u=la(e,Z_),f="".concat(i,"Id"),c=i[0],h=n;if(l.length&&(h=l.reduce(function(_,y){if(y.props[f]===r&&co(y.props,"extendDomain")&&He(y.props[c])){var v=y.props[c];return[Math.min(_[0],v),Math.max(_[1],v)]}return _},h)),u.length){var m="".concat(c,"1"),g="".concat(c,"2");h=u.reduce(function(_,y){if(y.props[f]===r&&co(y.props,"extendDomain")&&He(y.props[m])&&He(y.props[g])){var v=y.props[m],x=y.props[g];return[Math.min(_[0],v,x),Math.max(_[1],v,x)]}return _},h)}return a&&a.length&&(h=a.reduce(function(_,y){return He(y)?[Math.min(_[0],y),Math.max(_[1],y)]:_},h)),h},c5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,c,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,c||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,c;if(this._eventsCount===0)return u;for(c in f=this._events)e.call(f,c)&&u.push(n?c.slice(1):c);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=n?n+u:u,c=this._events[f];if(!c)return[];if(c.fn)return[c.fn];for(var h=0,m=c.length,g=new Array(m);h<m;h++)g[h]=c[h].fn;return g},s.prototype.listenerCount=function(u){var f=n?n+u:u,c=this._events[f];return c?c.fn?1:c.length:0},s.prototype.emit=function(u,f,c,h,m,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],v=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,c),!0;case 4:return y.fn.call(y.context,f,c,h),!0;case 5:return y.fn.call(y.context,f,c,h,m),!0;case 6:return y.fn.call(y.context,f,c,h,m,g),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var M=y.length,w;for(b=0;b<M;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,c);break;case 4:y[b].fn.call(y[b].context,f,c,h);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y[b].fn.apply(y[b].context,x)}}return!0},s.prototype.on=function(u,f,c){return a(this,u,f,c,!1)},s.prototype.once=function(u,f,c){return a(this,u,f,c,!0)},s.prototype.removeListener=function(u,f,c,h){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===f&&(!h||g.once)&&(!c||g.context===c)&&o(this,m);else{for(var _=0,y=[],v=g.length;_<v;_++)(g[_].fn!==f||h&&!g[_].once||c&&g[_].context!==c)&&y.push(g[_]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(c5);var fge=c5.exports;const dge=an(fge);var H1=new dge,G1="recharts.syncMouseEvents";function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f5(r.key),r)}}function mge(t,e,n){return e&&pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W1(t,e,n){return e=f5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5(t){var e=gge(t,"string");return rm(e)=="symbol"?e:e+""}function gge(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vge=function(){function t(){hge(this,t),W1(this,"activeIndex",0),W1(this,"coordinateList",[]),W1(this,"layout","horizontal")}return mge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,f=n.offset,c=f===void 0?null:f,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=c??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,c=a+l+u,h=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:c,pageY:h})}}}])}();function yge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&He(r)&&He(i))return!0}return!1}function xge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function d5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=yr(e,n,r,i),s=yr(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function _ge(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,c=e.angle,h=yr(s,l,u,c),m=yr(s,l,f,c);r=h.x,i=h.y,a=m.x,o=m.y}else return d5(e);return[{x:r,y:i},{x:a,y:o}]}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){bge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e,n){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sge(t){var e=wge(t,"string");return im(e)=="symbol"?e:e+""}function wge(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mge(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,c=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,_=DE;if(h==="ScatterChart")g=o,_=Mfe;else if(h==="BarChart")g=xge(c,o,l,f),_=NP;else if(c==="radial"){var y=d5(o),v=y.cx,x=y.cy,b=y.radius,M=y.startAngle,w=y.endAngle;g={cx:v,cy:x,startAngle:M,endAngle:w,innerRadius:b,outerRadius:b},_=m4}else g={points:_ge(c,o,l)},_=DE;var E=yv(yv(yv(yv({stroke:"#ccc",pointerEvents:"none"},l),g),jt(m,!1)),{},{payload:s,payloadIndex:u,className:Gt("recharts-tooltip-cursor",m.className)});return z.isValidElement(m)?z.cloneElement(m,E):z.createElement(_,E)}var Ege=["item"],Age=["children","className","width","height","style","compact","title","desc"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function vL(t,e){return Cge(t)||Pge(t,e)||p5(t,e)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Cge(t){if(Array.isArray(t))return t}function yL(t,e){if(t==null)return{};var n=Oge(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ige(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m5(r.key),r)}}function Nge(t,e,n){return e&&Ige(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lge(t,e,n){return e=ex(e),Dge(t,h5()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function Dge(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kge(t)}function kge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function Uge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hA(t,e)}function $f(t){return zge(t)||Bge(t)||p5(t)||Fge()}function Fge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p5(t,e){if(t){if(typeof t=="string")return pA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(t,e)}}function Bge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zge(t){if(Array.isArray(t))return pA(t)}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){bt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bt(t,e,n){return e=m5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5(t){var e=jge(t,"string");return jf(e)=="symbol"?e:e+""}function jge(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ge={xAxis:["bottom","top"],yAxis:["left","right"]},Vge={width:"100%",height:"100%"},g5={x:0,y:0};function xv(t){return t}var Hge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Gge=function(e,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return _e(_e(_e({},i),yr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return _e(_e(_e({},i),yr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return g5},J_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat($f(s),$f(u)):s},[]);return o.length>0?o:e&&e.length&&He(i)&&He(a)?e.slice(i,a+1):[]};function v5(t){return t==="number"?[0,"auto"]:void 0}var mA=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=J_(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var f,c=(f=u.props.data)!==null&&f!==void 0?f:n;c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=c===void 0?s:c;h=n0(m,o.dataKey,i)}else h=c&&c[r]||s[r];return h?[].concat($f(l),[d4(u,h)]):l},[])},_L=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=Hge(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=ale(o,s,u,l);if(f>=0&&u){var c=u[f]&&u[f].value,h=mA(e,n,f,c),m=Gge(r,s,f,a);return{activeTooltipIndex:f,activeLabel:c,activePayload:h,activeCoordinate:m}}return null},Wge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=e.stackOffset,m=u4(f,a);return r.reduce(function(g,_){var y,v=_.type.defaultProps!==void 0?_e(_e({},_.type.defaultProps),_.props):_.props,x=v.type,b=v.dataKey,M=v.allowDataOverflow,w=v.allowDuplicatedCategory,E=v.scale,P=v.ticks,A=v.includeHidden,C=v[o];if(g[C])return g;var I=J_(e.data,{graphicalItems:i.filter(function(J){var fe,we=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o];return we===C}),dataStartIndex:l,dataEndIndex:u}),R=I.length,k,F,G;yge(v.domain,M,x)&&(k=OE(v.domain,null,M),m&&(x==="number"||E!=="auto")&&(G=Hh(I,b,"category")));var $=v5(x);if(!k||k.length===0){var V,H=(V=v.domain)!==null&&V!==void 0?V:$;if(b){if(k=Hh(I,b,x),x==="category"&&m){var U=W7(k);w&&U?(F=k,k=j0(0,R)):w||(k=J3(H,k,_).reduce(function(J,fe){return J.indexOf(fe)>=0?J:[].concat($f(J),[fe])},[]))}else if(x==="category")w?k=k.filter(function(J){return J!==""&&!kt(J)}):k=J3(H,k,_).reduce(function(J,fe){return J.indexOf(fe)>=0||fe===""||kt(fe)?J:[].concat($f(J),[fe])},[]);else if(x==="number"){var j=cle(I,i.filter(function(J){var fe,we,De=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o],ae="hide"in J.props?J.props.hide:(we=J.type.defaultProps)===null||we===void 0?void 0:we.hide;return De===C&&(A||!ae)}),b,a,f);j&&(k=j)}m&&(x==="number"||E!=="auto")&&(G=Hh(I,b,"category"))}else m?k=j0(0,R):s&&s[C]&&s[C].hasStack&&x==="number"?k=h==="expand"?[0,1]:f4(s[C].stackGroups,l,u):k=l4(I,i.filter(function(J){var fe=o in J.props?J.props[o]:J.type.defaultProps[o],we="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return fe===C&&(A||!we)}),x,f,!0);if(x==="number")k=dA(c,k,C,a,P),H&&(k=OE(H,k,M));else if(x==="category"&&H){var Y=H,Z=k.every(function(J){return Y.indexOf(J)>=0});Z&&(k=Y)}}return _e(_e({},g),{},bt({},C,_e(_e({},v),{},{axisType:a,domain:k,categoricalDomain:G,duplicateDomain:F,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:m,layout:f})))},{})},Xge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.layout,c=e.children,h=J_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=u4(f,a),_=-1;return r.reduce(function(y,v){var x=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,b=x[o],M=v5("number");if(!y[b]){_++;var w;return g?w=j0(0,m):s&&s[b]&&s[b].hasStack?(w=f4(s[b].stackGroups,l,u),w=dA(c,w,b,a)):(w=OE(M,l4(h,r.filter(function(E){var P,A,C=o in E.props?E.props[o]:(P=E.type.defaultProps)===null||P===void 0?void 0:P[o],I="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===b&&!I}),"number",f),i.defaultProps.allowDataOverflow),w=dA(c,w,b,a)),_e(_e({},y),{},bt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:sa($ge,"".concat(a,".").concat(_%2),null),domain:w,originalDomain:M,isCategorical:g,layout:f})))}return y},{})},qge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,f=e.children,c="".concat(i,"Id"),h=la(f,a),m={};return h&&h.length?m=Wge(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Xge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:c,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Yge=function(e){var n=Is(e),r=jo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:I0(n,r)}},bL=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ci(n,Of),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Kge=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},SL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,f=r.height,c=r.children,h=r.margin||{},m=Ci(c,Of),g=Ci(c,su),_=Object.keys(l).reduce(function(w,E){var P=l[E],A=P.orientation;return!P.mirror&&!P.hide?_e(_e({},w),{},bt({},A,w[A]+P.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(w,E){var P=o[E],A=P.orientation;return!P.mirror&&!P.hide?_e(_e({},w),{},bt({},A,sa(w,"".concat(A))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=_e(_e({},y),_),x=v.bottom;m&&(v.bottom+=m.props.height||Of.defaultProps.height),g&&n&&(v=lle(v,i,r,n));var b=u-v.left-v.right,M=f-v.top-v.bottom;return _e(_e({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(M,0)})},Jge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},y5=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,c=e.defaultProps,h=function(v,x){var b=x.graphicalItems,M=x.stackGroups,w=x.offset,E=x.updateId,P=x.dataStartIndex,A=x.dataEndIndex,C=v.barSize,I=v.layout,R=v.barGap,k=v.barCategoryGap,F=v.maxBarSize,G=SL(I),$=G.numericAxisName,V=G.cateAxisName,H=Kge(b),U=[];return b.forEach(function(j,Y){var Z=J_(v.data,{graphicalItems:[j],dataStartIndex:P,dataEndIndex:A}),J=j.type.defaultProps!==void 0?_e(_e({},j.type.defaultProps),j.props):j.props,fe=J.dataKey,we=J.maxBarSize,De=J["".concat($,"Id")],ae=J["".concat(V,"Id")],be={},Ae=l.reduce(function(dt,Oe){var W=x["".concat(Oe.axisType,"Map")],D=J["".concat(Oe.axisType,"Id")];W&&W[D]||Oe.axisType==="zAxis"||Su();var Q=W[D];return _e(_e({},dt),{},bt(bt({},Oe.axisType,Q),"".concat(Oe.axisType,"Ticks"),jo(Q)))},be),me=Ae[V],Te=Ae["".concat(V,"Ticks")],Pe=M&&M[De]&&M[De].hasStack&&Sle(j,M[De].stackGroups),pe=Vo(j.type).indexOf("Bar")>=0,Ge=I0(me,Te),ce=[],Se=H&&ole({barSize:C,stackGroups:M,totalSize:Jge(Ae,V)});if(pe){var xe,Ne,q=kt(we)?F:we,ut=(xe=(Ne=I0(me,Te,!0))!==null&&Ne!==void 0?Ne:q)!==null&&xe!==void 0?xe:0;ce=sle({barGap:R,barCategoryGap:k,bandSize:ut!==Ge?ut:Ge,sizeList:Se[ae],maxBarSize:q}),ut!==Ge&&(ce=ce.map(function(dt){return _e(_e({},dt),{},{position:_e(_e({},dt.position),{},{offset:dt.position.offset-ut/2})})}))}var Ve=j&&j.type&&j.type.getComposedData;Ve&&U.push({props:_e(_e({},Ve(_e(_e({},Ae),{},{displayedData:Z,props:v,dataKey:fe,item:j,bandSize:Ge,barPosition:ce,offset:w,stackedData:Pe,layout:I,dataStartIndex:P,dataEndIndex:A}))),{},bt(bt(bt({key:j.key||"item-".concat(Y)},$,Ae[$]),V,Ae[V]),"animationId",E)),childIndex:aX(j,v.children),item:j})}),U},m=function(v,x){var b=v.props,M=v.dataStartIndex,w=v.dataEndIndex,E=v.updateId;if(!HR({props:b}))return null;var P=b.children,A=b.layout,C=b.stackOffset,I=b.data,R=b.reverseStackOrder,k=SL(A),F=k.numericAxisName,G=k.cateAxisName,$=la(P,r),V=xle(I,$,"".concat(F,"Id"),"".concat(G,"Id"),C,R),H=l.reduce(function(J,fe){var we="".concat(fe.axisType,"Map");return _e(_e({},J),{},bt({},we,qge(b,_e(_e({},fe),{},{graphicalItems:$,stackGroups:fe.axisType===F&&V,dataStartIndex:M,dataEndIndex:w}))))},{}),U=Zge(_e(_e({},H),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(H).forEach(function(J){H[J]=f(b,H[J],U,J.replace("Map",""),n)});var j=H["".concat(G,"Map")],Y=Yge(j),Z=h(b,_e(_e({},H),{},{dataStartIndex:M,dataEndIndex:w,updateId:E,graphicalItems:$,stackGroups:V,offset:U}));return _e(_e({formattedGraphicalItems:Z,graphicalItems:$,offset:U,stackGroups:V},Y),H)},g=function(y){function v(x){var b,M,w;return Rge(this,v),w=Lge(this,v,[x]),bt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bt(w,"accessibilityManager",new vge),bt(w,"handleLegendBBoxUpdate",function(E){if(E){var P=w.state,A=P.dataStartIndex,C=P.dataEndIndex,I=P.updateId;w.setState(_e({legendBBox:E},m({props:w.props,dataStartIndex:A,dataEndIndex:C,updateId:I},_e(_e({},w.state),{},{legendBBox:E}))))}}),bt(w,"handleReceiveSyncEvent",function(E,P,A){if(w.props.syncId===E){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),bt(w,"handleBrushChange",function(E){var P=E.startIndex,A=E.endIndex;if(P!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return _e({dataStartIndex:P,dataEndIndex:A},m({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),bt(w,"handleMouseEnter",function(E){var P=w.getMouseInfo(E);if(P){var A=_e(_e({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseEnter;Lt(C)&&C(A,E)}}),bt(w,"triggeredAfterMouseMove",function(E){var P=w.getMouseInfo(E),A=P?_e(_e({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseMove;Lt(C)&&C(A,E)}),bt(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),bt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),bt(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),bt(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var A=w.props.onMouseLeave;Lt(A)&&A(P,E)}),bt(w,"handleOuterEvent",function(E){var P=iX(E),A=sa(w.props,"".concat(P));if(P&&Lt(A)){var C,I;/.*touch.*/i.test(P)?I=w.getMouseInfo(E.changedTouches[0]):I=w.getMouseInfo(E),A((C=I)!==null&&C!==void 0?C:{},E)}}),bt(w,"handleClick",function(E){var P=w.getMouseInfo(E);if(P){var A=_e(_e({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onClick;Lt(C)&&C(A,E)}}),bt(w,"handleMouseDown",function(E){var P=w.props.onMouseDown;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleMouseUp",function(E){var P=w.props.onMouseUp;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),bt(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),bt(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),bt(w,"handleDoubleClick",function(E){var P=w.props.onDoubleClick;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleContextMenu",function(E){var P=w.props.onContextMenu;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&H1.emit(G1,w.props.syncId,E,w.eventEmitterSymbol)}),bt(w,"applySyncEvent",function(E){var P=w.props,A=P.layout,C=P.syncMethod,I=w.state.updateId,R=E.dataStartIndex,k=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(_e({dataStartIndex:R,dataEndIndex:k},m({props:w.props,dataStartIndex:R,dataEndIndex:k,updateId:I},w.state)));else if(E.activeTooltipIndex!==void 0){var F=E.chartX,G=E.chartY,$=E.activeTooltipIndex,V=w.state,H=V.offset,U=V.tooltipTicks;if(!H)return;if(typeof C=="function")$=C(U,E);else if(C==="value"){$=-1;for(var j=0;j<U.length;j++)if(U[j].value===E.activeLabel){$=j;break}}var Y=_e(_e({},H),{},{x:H.left,y:H.top}),Z=Math.min(F,Y.x+Y.width),J=Math.min(G,Y.y+Y.height),fe=U[$]&&U[$].value,we=mA(w.state,w.props.data,$),De=U[$]?{x:A==="horizontal"?U[$].coordinate:Z,y:A==="horizontal"?J:U[$].coordinate}:g5;w.setState(_e(_e({},E),{},{activeLabel:fe,activeCoordinate:De,activePayload:we,activeTooltipIndex:$}))}else w.setState(E)}),bt(w,"renderCursor",function(E){var P,A=w.state,C=A.isTooltipActive,I=A.activeCoordinate,R=A.activePayload,k=A.offset,F=A.activeTooltipIndex,G=A.tooltipAxisBandSize,$=w.getTooltipEventType(),V=(P=E.props.active)!==null&&P!==void 0?P:C,H=w.props.layout,U=E.key||"_recharts-cursor";return ne.createElement(Mge,{key:U,activeCoordinate:I,activePayload:R,activeTooltipIndex:F,chartName:n,element:E,isActive:V,layout:H,offset:k,tooltipAxisBandSize:G,tooltipEventType:$})}),bt(w,"renderPolarAxis",function(E,P,A){var C=sa(E,"type.axisType"),I=sa(w.state,"".concat(C,"Map")),R=E.type.defaultProps,k=R!==void 0?_e(_e({},R),E.props):E.props,F=I&&I[k["".concat(C,"Id")]];return z.cloneElement(E,_e(_e({},F),{},{className:Gt(C,F.className),key:E.key||"".concat(P,"-").concat(A),ticks:jo(F,!0)}))}),bt(w,"renderPolarGrid",function(E){var P=E.props,A=P.radialLines,C=P.polarAngles,I=P.polarRadius,R=w.state,k=R.radiusAxisMap,F=R.angleAxisMap,G=Is(k),$=Is(F),V=$.cx,H=$.cy,U=$.innerRadius,j=$.outerRadius;return z.cloneElement(E,{polarAngles:Array.isArray(C)?C:jo($,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(I)?I:jo(G,!0).map(function(Y){return Y.coordinate}),cx:V,cy:H,innerRadius:U,outerRadius:j,key:E.key||"polar-grid",radialLines:A})}),bt(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,P=w.props,A=P.children,C=P.width,I=P.height,R=w.props.margin||{},k=C-(R.left||0)-(R.right||0),F=o4({children:A,formattedGraphicalItems:E,legendWidth:k,legendContent:u});if(!F)return null;var G=F.item,$=yL(F,Ege);return z.cloneElement(G,_e(_e({},$),{},{chartWidth:C,chartHeight:I,margin:R,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),bt(w,"renderTooltip",function(){var E,P=w.props,A=P.children,C=P.accessibilityLayer,I=Ci(A,Ta);if(!I)return null;var R=w.state,k=R.isTooltipActive,F=R.activeCoordinate,G=R.activePayload,$=R.activeLabel,V=R.offset,H=(E=I.props.active)!==null&&E!==void 0?E:k;return z.cloneElement(I,{viewBox:_e(_e({},V),{},{x:V.left,y:V.top}),active:H,label:$,payload:H?G:[],coordinate:F,accessibilityLayer:C})}),bt(w,"renderBrush",function(E){var P=w.props,A=P.margin,C=P.data,I=w.state,R=I.offset,k=I.dataStartIndex,F=I.dataEndIndex,G=I.updateId;return z.cloneElement(E,{key:E.key||"_recharts-brush",onChange:pv(w.handleBrushChange,E.props.onChange),data:C,x:He(E.props.x)?E.props.x:R.left,y:He(E.props.y)?E.props.y:R.top+R.height+R.brushBottom-(A.bottom||0),width:He(E.props.width)?E.props.width:R.width,startIndex:k,endIndex:F,updateId:"brush-".concat(G)})}),bt(w,"renderReferenceElement",function(E,P,A){if(!E)return null;var C=w,I=C.clipPathId,R=w.state,k=R.xAxisMap,F=R.yAxisMap,G=R.offset,$=E.type.defaultProps||{},V=E.props,H=V.xAxisId,U=H===void 0?$.xAxisId:H,j=V.yAxisId,Y=j===void 0?$.yAxisId:j;return z.cloneElement(E,{key:E.key||"".concat(P,"-").concat(A),xAxis:k[U],yAxis:F[Y],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:I})}),bt(w,"renderActivePoints",function(E){var P=E.item,A=E.activePoint,C=E.basePoint,I=E.childIndex,R=E.isRange,k=[],F=P.props.key,G=P.item.type.defaultProps!==void 0?_e(_e({},P.item.type.defaultProps),P.item.props):P.item.props,$=G.activeDot,V=G.dataKey,H=_e(_e({index:I,dataKey:V,cx:A.x,cy:A.y,r:4,fill:IP(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},jt($,!1)),r0($));return k.push(v.renderActiveDot($,H,"".concat(F,"-activePoint-").concat(I))),C?k.push(v.renderActiveDot($,_e(_e({},H),{},{cx:C.x,cy:C.y}),"".concat(F,"-basePoint-").concat(I))):R&&k.push(null),k}),bt(w,"renderGraphicChild",function(E,P,A){var C=w.filterFormatItem(E,P,A);if(!C)return null;var I=w.getTooltipEventType(),R=w.state,k=R.isTooltipActive,F=R.tooltipAxis,G=R.activeTooltipIndex,$=R.activeLabel,V=w.props.children,H=Ci(V,Ta),U=C.props,j=U.points,Y=U.isRange,Z=U.baseLine,J=C.item.type.defaultProps!==void 0?_e(_e({},C.item.type.defaultProps),C.item.props):C.item.props,fe=J.activeDot,we=J.hide,De=J.activeBar,ae=J.activeShape,be=!!(!we&&k&&H&&(fe||De||ae)),Ae={};I!=="axis"&&H&&H.props.trigger==="click"?Ae={onClick:pv(w.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&(Ae={onMouseLeave:pv(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:pv(w.handleItemMouseEnter,E.props.onMouseEnter)});var me=z.cloneElement(E,_e(_e({},C.props),Ae));function Te(Oe){return typeof F.dataKey=="function"?F.dataKey(Oe.payload):null}if(be)if(G>=0){var Pe,pe;if(F.dataKey&&!F.allowDuplicatedCategory){var Ge=typeof F.dataKey=="function"?Te:"payload.".concat(F.dataKey.toString());Pe=n0(j,Ge,$),pe=Y&&Z&&n0(Z,Ge,$)}else Pe=j==null?void 0:j[G],pe=Y&&Z&&Z[G];if(ae||De){var ce=E.props.activeIndex!==void 0?E.props.activeIndex:G;return[z.cloneElement(E,_e(_e(_e({},C.props),Ae),{},{activeIndex:ce})),null,null]}if(!kt(Pe))return[me].concat($f(w.renderActivePoints({item:C,activePoint:Pe,basePoint:pe,childIndex:G,isRange:Y})))}else{var Se,xe=(Se=w.getItemByXY(w.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:me},Ne=xe.graphicalItem,q=Ne.item,ut=q===void 0?E:q,Ve=Ne.childIndex,dt=_e(_e(_e({},C.props),Ae),{},{activeIndex:Ve});return[z.cloneElement(ut,dt),null,null]}return Y?[me,null,null]:[me,null]}),bt(w,"renderCustomized",function(E,P,A){return z.cloneElement(E,_e(_e({key:"recharts-customized-".concat(A)},w.props),w.state))}),bt(w,"renderMap",{CartesianGrid:{handler:xv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:xv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:xv},YAxis:{handler:xv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Pm("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=az(w.triggeredAfterMouseMove,(M=x.throttleDelay)!==null&&M!==void 0?M:1e3/60),w.state={},w}return Uge(v,y),Nge(v,[{key:"componentDidMount",value:function(){var b,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,M=b.children,w=b.data,E=b.height,P=b.layout,A=Ci(M,Ta);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,R=mA(this.state,w,C,I),k=this.state.tooltipTicks[C].coordinate,F=(this.state.offset.top+E)/2,G=P==="horizontal",$=G?{x:k,y:F}:{y:k,x:F},V=this.state.formattedGraphicalItems.find(function(U){var j=U.item;return j.type.name==="Scatter"});V&&($=_e(_e({},$),V.props.points[C].tooltipPosition),R=V.props.points[C].tooltipPayload);var H={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:I,activePayload:R,activeCoordinate:$};this.setState(H),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){GM([Ci(b.children,Ta)],[Ci(this.props.children,Ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Ci(this.props.children,Ta);if(b&&typeof b.props.shared=="boolean"){var M=b.props.shared?"axis":"item";return s.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var M=this.container,w=M.getBoundingClientRect(),E=Rre(w),P={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},A=w.width/M.offsetWidth||1,C=this.inRange(P.chartX,P.chartY,A);if(!C)return null;var I=this.state,R=I.xAxisMap,k=I.yAxisMap,F=this.getTooltipEventType(),G=_L(this.state,this.props.data,this.props.layout,C);if(F!=="axis"&&R&&k){var $=Is(R).scale,V=Is(k).scale,H=$&&$.invert?$.invert(P.chartX):null,U=V&&V.invert?V.invert(P.chartY):null;return _e(_e({},P),{},{xValue:H,yValue:U},G)}return G?_e(_e({},P),G):null}},{key:"inRange",value:function(b,M){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,P=b/w,A=M/w;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,I=P>=C.left&&P<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return I?{x:P,y:A}:null}var R=this.state,k=R.angleAxisMap,F=R.radiusAxisMap;if(k&&F){var G=Is(k);return tN({x:P,y:A},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,M=this.getTooltipEventType(),w=Ci(b,Ta),E={};w&&M==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=r0(this.props,this.handleOuterEvent);return _e(_e({},P),E)}},{key:"addListener",value:function(){H1.on(G1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){H1.removeListener(G1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,M,w){for(var E=this.state.formattedGraphicalItems,P=0,A=E.length;P<A;P++){var C=E[P];if(C.item===b||C.props.key===b.key||M===Vo(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,M=this.state.offset,w=M.left,E=M.top,P=M.height,A=M.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:b},ne.createElement("rect",{x:w,y:E,height:P,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(M,w){var E=vL(w,2),P=E[0],A=E[1];return _e(_e({},M),{},bt({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(M,w){var E=vL(w,2),P=E[0],A=E[1];return _e(_e({},M),{},bt({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[b])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(b){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[b])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(b){var M=this.state,w=M.formattedGraphicalItems,E=M.activeItem;if(w&&w.length)for(var P=0,A=w.length;P<A;P++){var C=w[P],I=C.props,R=C.item,k=R.type.defaultProps!==void 0?_e(_e({},R.type.defaultProps),R.props):R.props,F=Vo(R.type);if(F==="Bar"){var G=(I.data||[]).find(function(U){return pfe(b,U)});if(G)return{graphicalItem:C,payload:G}}else if(F==="RadialBar"){var $=(I.data||[]).find(function(U){return tN(b,U)});if($)return{graphicalItem:C,payload:$}}else if(G_(C,E)||W_(C,E)||Jp(C,E)){var V=vde({graphicalItem:C,activeTooltipItem:E,itemData:k.data}),H=k.activeIndex===void 0?V:k.activeIndex;return{graphicalItem:_e(_e({},C),{},{childIndex:H}),payload:Jp(C,E)?k.data[V]:C.props.data[V]}}}return null}},{key:"render",value:function(){var b=this;if(!HR(this))return null;var M=this.props,w=M.children,E=M.className,P=M.width,A=M.height,C=M.style,I=M.compact,R=M.title,k=M.desc,F=yL(M,Age),G=jt(F,!1);if(I)return ne.createElement(QN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(XM,Yc({},G,{width:P,height:A,title:R,desc:k}),this.renderClipPath(),WR(w,this.renderMap)));if(this.props.accessibilityLayer){var $,V;G.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,G.role=(V=this.props.role)!==null&&V!==void 0?V:"application",G.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},G.onFocus=function(){b.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ne.createElement(QN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Yc({className:Gt("recharts-wrapper",E),style:_e({position:"relative",cursor:"default",width:P,height:A},C)},H,{ref:function(j){b.container=j}}),ne.createElement(XM,Yc({},G,{width:P,height:A,title:R,desc:k,style:Vge}),this.renderClipPath(),WR(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);bt(g,"displayName",n),bt(g,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),bt(g,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,M=y.children,w=y.width,E=y.height,P=y.layout,A=y.stackOffset,C=y.margin,I=v.dataStartIndex,R=v.dataEndIndex;if(v.updateId===void 0){var k=bL(y);return _e(_e(_e({},k),{},{updateId:0},m(_e(_e({props:y},k),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:E,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:M})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||E!==v.prevHeight||P!==v.prevLayout||A!==v.prevStackOffset||!sf(C,v.prevMargin)){var F=bL(y),G={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=_e(_e({},_L(v,b,P)),{},{updateId:v.updateId+1}),V=_e(_e(_e({},F),G),$);return _e(_e(_e({},V),m(_e({props:y},V),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:E,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:M})}if(!GM(M,v.prevChildren)){var H,U,j,Y,Z=Ci(M,Of),J=Z&&(H=(U=Z.props)===null||U===void 0?void 0:U.startIndex)!==null&&H!==void 0?H:I,fe=Z&&(j=(Y=Z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&j!==void 0?j:R,we=J!==I||fe!==R,De=!kt(b),ae=De&&!we?v.updateId:v.updateId+1;return _e(_e({updateId:ae},m(_e(_e({props:y},v),{},{updateId:ae,dataStartIndex:J,dataEndIndex:fe}),v)),{},{prevChildren:M,dataStartIndex:J,dataEndIndex:fe})}return null}),bt(g,"renderActiveDot",function(y,v,x){var b;return z.isValidElement(y)?b=z.cloneElement(y,v):Lt(y)?b=y(v):b=ne.createElement(LP,v),ne.createElement(Bn,{className:"recharts-active-dot",key:x},b)});var _=z.forwardRef(function(v,x){return ne.createElement(g,Yc({},v,{ref:x}))});return _.displayName=g.displayName,_},Qge=y5({chartName:"LineChart",GraphicalChild:Dm,axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:zf}],formatAxisMap:k4}),eve=y5({chartName:"BarChart",GraphicalChild:Uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:zf}],formatAxisMap:k4});function tve({address:t}){const[e,n]=z.useState([]),[r,i]=z.useState(null),[a,o]=z.useState(null),[s,l]=z.useState([]),[u,f]=z.useState(!1),[c,h]=z.useState(null);z.useEffect(()=>{if(!t){n([]),i(null),o(null),l([]),h(null);return}let A=!1;const C=new AbortController;async function I(){f(!0),h(null);try{const R="https://polycopy.onrender.com",F=await(await fetch(`${R}/users/${t}/trades`,{signal:C.signal,credentials:"include"})).json();A||n(Array.isArray(F==null?void 0:F.trades)?F.trades:[]);const $=await(await fetch(`${R}/users/${t}/portfolio`,{signal:C.signal,credentials:"include"})).json();A||i(typeof($==null?void 0:$.portfolioValue)=="number"?$.portfolioValue:null);const H=await(await fetch(`${R}/users/${t}/pnl`,{signal:C.signal,credentials:"include"})).json();A||o(typeof(H==null?void 0:H.pnl)=="number"?H.pnl:null);const j=await(await fetch(`${R}/users/${t}/open-orders`,{signal:C.signal,credentials:"include"})).json();A||l(Array.isArray(j==null?void 0:j.openOrders)?j.openOrders:[])}catch(R){A||h(R instanceof Error?R.message:"Unknown error")}finally{A||f(!1)}}return I(),()=>{A=!0,C.abort()}},[t]);const{openPositions:m,tradeHistory:g}=z.useMemo(()=>{let A=[],C=[];if(Array.isArray(e)){C=e.map(R=>{var k,F;return{date:R.created_at||R.createdAt||R.timestamp||"",market:typeof R.market=="string"?R.market:((k=R.market)==null?void 0:k.question)||((F=R.market)==null?void 0:F.title)||R.marketId||R.market_id||"",side:R.side||R.type||"",size:R.amount||R.size||R.shares||"",price:R.price,pnl:0}});const I={};e.forEach(R=>{var F,G;const k=typeof R.market=="string"?R.market:((F=R.market)==null?void 0:F.question)||((G=R.market)==null?void 0:G.title)||R.marketId||R.market_id||"";I[k]||(I[k]={market:k,position:0,pnl:0,status:"Open"}),I[k].position+=Number(R.amount||R.size||R.shares||0)}),A=Object.values(I)}return{openPositions:A,tradeHistory:C}},[e]),_=m.length,y=s.length,v=g.length;function x(A,C={maximumFractionDigits:2}){return A==null||isNaN(A)?"":A.toLocaleString(void 0,C)}const b=({text:A,children:C})=>L.jsxs("span",{className:"relative group cursor-help",children:[C,L.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-slate-800 text-xs text-slate-100 px-2 py-1 rounded shadow-lg z-10 whitespace-nowrap",children:A})]}),M=z.useMemo(()=>{let A=0;return e.map((C,I)=>(A+=0,{date:C.created_at||C.createdAt||C.timestamp||I,pnl:A}))},[e]),w=z.useMemo(()=>{const A={};return e.forEach(C=>{const I=C.created_at||C.createdAt||C.timestamp,R=I?new Date(I).toLocaleDateString():"Unknown";A[R]=(A[R]||0)+Number(C.amount||C.size||C.shares||0)}),Object.entries(A).map(([C,I])=>({day:C,volume:I}))},[e]),E=()=>L.jsxs("div",{className:"w-full h-48 bg-slate-900/60 rounded mb-4 p-2",children:[L.jsx("h4",{className:"text-xs text-slate-400 mb-1",children:"PnL Over Time"}),L.jsx(VI,{width:"100%",height:"90%",children:L.jsxs(Qge,{data:M,margin:{top:10,right:20,left:0,bottom:0},children:[L.jsx(iA,{strokeDasharray:"3 3",stroke:"#334155"}),L.jsx(Ff,{dataKey:"date",tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(zf,{tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(Ta,{contentStyle:{background:"#1e293b",border:"none",color:"#fff"}}),L.jsx(Dm,{type:"monotone",dataKey:"pnl",stroke:"#34d399",strokeWidth:2,dot:!1})]})})]}),P=()=>L.jsxs("div",{className:"w-full h-48 bg-slate-900/60 rounded mb-4 p-2",children:[L.jsx("h4",{className:"text-xs text-slate-400 mb-1",children:"Trade Volume Per Day"}),L.jsx(VI,{width:"100%",height:"90%",children:L.jsxs(eve,{data:w,margin:{top:10,right:20,left:0,bottom:0},children:[L.jsx(iA,{strokeDasharray:"3 3",stroke:"#334155"}),L.jsx(Ff,{dataKey:"day",tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(zf,{tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(Ta,{contentStyle:{background:"#1e293b",border:"none",color:"#fff"}}),L.jsx(Uu,{dataKey:"volume",fill:"#60a5fa"}),L.jsx(su,{})]})})]});return L.jsxs("section",{className:"card p-6 space-y-10 mt-6 shadow-2xl border border-slate-800 bg-gradient-to-b from-slate-900/80 to-slate-900/60",children:[L.jsx("h2",{className:"text-lg font-semibold text-white",children:"Trader Dashboard"}),L.jsxs("p",{className:"text-sm text-slate-400 mb-4",children:["Portfolio and PnL for ",L.jsx("span",{className:"font-mono",children:t})]}),L.jsxs("div",{className:"flex flex-wrap gap-6 mb-2",children:[L.jsx(b,{text:"Total realized and unrealized profit/loss",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:`text-2xl font-bold ${a!==null&&a<0?"text-rose-400":"text-emerald-400"}`,children:x(a)}),L.jsx("span",{className:"text-xs text-slate-400",children:"Total PnL"})]})}),L.jsx(b,{text:"Number of markets with open positions",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:_}),L.jsx("span",{className:"text-xs text-slate-400",children:"Open Positions"})]})}),L.jsx(b,{text:"Current total portfolio value (USD)",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:x(r,{style:"currency",currency:"USD",maximumFractionDigits:2})}),L.jsx("span",{className:"text-xs text-slate-400",children:"Portfolio Value"})]})}),L.jsx(b,{text:"Number of open orders",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:y}),L.jsx("span",{className:"text-xs text-slate-400",children:"Open Orders"})]})}),L.jsx(b,{text:"Number of trades in history",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:v}),L.jsx("span",{className:"text-xs text-slate-400",children:"Trade History"})]})})]}),L.jsx(E,{}),L.jsx(P,{}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Open Positions"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm mb-4 border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Position"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"PnL"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),L.jsx("tbody",{children:m.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.position}),L.jsx("td",{className:`px-3 py-2 text-right font-semibold ${A.pnl>=0?"text-emerald-400":"text-rose-400"}`,children:A.pnl}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.status})]},C))})]})})]}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Open Orders"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm mb-4 border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),L.jsx("tbody",{children:s.length===0?L.jsx("tr",{children:L.jsx("td",{colSpan:5,className:"text-center text-slate-500 py-2",children:"No open orders"})}):s.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.size}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.price}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.status})]},C))})]})})]}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Trade History"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"PnL"})]})}),L.jsx("tbody",{children:g.length===0?L.jsx("tr",{children:L.jsx("td",{colSpan:6,className:"text-center text-slate-500 py-2",children:"No trade history"})}):g.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:typeof A.date=="number"?new Date(A.date).toLocaleString():A.date}),L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.size}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.price}),L.jsx("td",{className:`px-3 py-2 text-right font-semibold ${A.pnl>=0?"text-emerald-400":"text-rose-400"}`,children:A.pnl})]},C))})]})})]}),u&&L.jsx("div",{className:"text-slate-400 text-center",children:"Loading"}),c&&L.jsx("div",{className:"text-rose-400 text-center",children:c})]})}function nve(t){if(t===null)return"";const e=Math.abs(t);return e>=1e9?`${t<0?"-":""}$${(e/1e9).toFixed(1)}B`:e>=1e6?`${t<0?"-":""}$${(e/1e6).toFixed(1)}M`:e>=1e3?`${t<0?"-":""}$${(e/1e3).toFixed(1)}K`:`${t<0?"-":""}$${e.toFixed(0)}`}function rve({value:t,onChange:e,onSubmit:n,suggestions:r,selectedAddress:i=null,isSearching:a=!1,searchError:o=null}){const[s,l]=z.useState(!1),[u,f]=z.useState(null),c=z.useMemo(()=>{const x=t.trim().toLowerCase();if(x.length<2)return[];const b=Array.isArray(r)?r:[],M=new Map;return b.forEach(w=>{var R,k,F,G,$,V;if(!w||typeof w.address!="string")return;const E=w.address.toLowerCase();if(M.has(E))return;const P=((k=(R=w.displayName)==null?void 0:R.toLowerCase)==null?void 0:k.call(R))??"",A=((G=(F=w.username)==null?void 0:F.toLowerCase)==null?void 0:G.call(F))??"",C=((V=($=w.pseudonym)==null?void 0:$.toLowerCase)==null?void 0:V.call($))??"";(P.includes(x)||A.includes(x)||C.includes(x)||E.includes(x))&&M.set(E,w)}),Array.from(M.values()).slice(0,12)},[r,t]);z.useEffect(()=>{f(null)},[t,c.length]);const h=x=>{e(x.address),n(x.address),l(!1),f(null)},m=x=>{if(["ArrowDown","ArrowUp","Enter","Escape"].includes(x.key)){if(x.key==="Escape"){l(!1),f(null);return}if(x.key==="Enter"){if(x.preventDefault(),u!==null&&c[u]){h(c[u]);return}n(t),l(!1);return}x.preventDefault(),c.length&&(l(!0),f(b=>b===null?x.key==="ArrowDown"?0:c.length-1:x.key==="ArrowDown"?(b+1)%c.length:x.key==="ArrowUp"?(b-1+c.length)%c.length:b))}},g=x=>{if(x.preventDefault(),u!==null&&c[u]){h(c[u]);return}n(t),l(!1)},y=t.trim().length>=2,v=s&&y;return L.jsxs("form",{onSubmit:g,className:"relative z-[200] group flex flex-col gap-3",children:[L.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[L.jsxs("div",{className:"relative flex-1",children:[L.jsx("input",{type:"text",value:t,onChange:x=>{const b=x.target.value;e(b),s||l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),120),onKeyDown:m,placeholder:"Search by wallet or username",className:"w-full rounded-2xl border border-slate-700/70 bg-slate-900/80 px-5 py-4 text-base text-white placeholder:text-slate-500 focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/40"}),v&&L.jsx("div",{className:"absolute left-0 right-0 top-full z-[210] mt-2 overflow-hidden rounded-2xl border border-slate-700/60 bg-slate-950/95 shadow-xl shadow-slate-950/40 backdrop-blur",children:c.length>0?L.jsxs(L.Fragment,{children:[L.jsx("ul",{className:"divide-y divide-slate-800/60",children:c.map((x,b)=>{const M=b===u,w=i?x.address===i:!1,E=(x.displayName||x.address).toLowerCase(),P=Number.isFinite(Number(x.rank))?Number(x.rank):null,A=x.username&&x.username.toLowerCase()!==E?x.username:null,C=x.pseudonym&&x.pseudonym.toLowerCase()!==E&&(!A||x.pseudonym.toLowerCase()!==A.toLowerCase())?x.pseudonym:null;return L.jsx("li",{children:L.jsxs("button",{type:"button",onMouseDown:I=>I.preventDefault(),onClick:()=>h(x),className:`flex w-full flex-col gap-1 px-4 py-3 text-left transition ${M?"bg-primary/15 text-white":w?"bg-slate-900/80 text-white":"bg-transparent text-slate-200 hover:bg-slate-900/60"}`,children:[L.jsxs("div",{className:"flex items-center justify-between gap-3",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[x.avatarUrl&&L.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-full border border-slate-800 bg-slate-900",children:L.jsx("img",{src:x.avatarUrl,alt:`${x.displayName} avatar`,className:"h-full w-full object-cover",loading:"lazy"})}),L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"text-sm font-medium text-slate-200",children:x.displayName}),A&&L.jsxs("span",{className:"text-xs text-slate-400",children:["@",A]})]})]}),L.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[P!==null&&L.jsxs("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:["#",P]}),L.jsx("span",{className:`text-xs font-semibold ${x.pnl===null?"text-slate-400":x.pnl>=0?"text-emerald-300":"text-rose-300"}`,children:nve(x.pnl)})]})]}),L.jsxs("div",{className:"flex flex-col gap-0.5",children:[C&&L.jsxs("span",{className:"text-xs text-slate-400",children:["AKA ",C]}),L.jsx("span",{className:"text-xs text-slate-500 break-all",children:x.address})]})]})},x.address)})}),o&&L.jsx("div",{className:"border-t border-slate-800/50 px-4 py-2 text-xs text-rose-300",children:"Trader lookup is temporarily unavailable."})]}):L.jsxs("div",{className:"space-y-1 px-4 py-3 text-sm text-slate-400",children:[L.jsx("p",{children:a?"Searching traders":o?"Trader lookup is temporarily unavailable.":"No users found."}),o&&L.jsx("p",{className:"text-xs text-rose-300",children:"Try again in a few moments or paste a wallet address directly."})]})})]}),L.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-2xl bg-primary px-6 py-4 text-sm font-semibold text-white shadow-lg shadow-primary/20 transition hover:bg-primary/90",children:"Track trader"})]}),L.jsx("p",{className:"text-sm text-slate-400",children:"Paste a Polymarket wallet or start typing to search for traders."})]})}/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Q_="183",ive={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ave={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},x5=0,gA=1,_5=2,ove=3,b5=0,cf=1,Xh=2,tu=3,ts=0,Yr=1,ro=2,fo=0,cu=1,vA=2,yA=3,xA=4,S5=5,sve=6,Ns=100,w5=101,M5=102,E5=103,A5=104,T5=200,P5=201,C5=202,O5=203,tx=204,nx=205,R5=206,I5=207,N5=208,L5=209,D5=210,k5=211,U5=212,F5=213,B5=214,rx=0,ix=1,ax=2,Mu=3,ox=4,sx=5,lx=6,ux=7,km=0,z5=1,j5=2,ua=0,HP=1,GP=2,WP=3,eb=4,XP=5,qP=6,YP=7,_A="attached",$5="detached",tb=300,po=301,tl=302,qh=303,Yh=304,md=306,am=1e3,di=1001,om=1002,zn=1003,KP=1004,lve=1004,Kc=1005,uve=1005,dn=1006,Kh=1007,cve=1007,ao=1008,fve=1008,Gr=1009,ZP=1010,JP=1011,Vf=1012,nb=1013,ha=1014,kr=1015,Ba=1016,rb=1017,ib=1018,Hf=1020,QP=35902,eC=35899,tC=1021,nC=1022,Ur=1023,mo=1026,Fs=1027,ab=1028,Um=1029,Eu=1030,ob=1031,dve=1032,sb=1033,Zh=33776,Jh=33777,Qh=33778,ep=33779,cx=35840,fx=35841,dx=35842,hx=35843,px=36196,mx=37492,gx=37496,vx=37488,yx=37489,xx=37490,_x=37491,bx=37808,Sx=37809,wx=37810,Mx=37811,Ex=37812,Ax=37813,Tx=37814,Px=37815,Cx=37816,Ox=37817,Rx=37818,Ix=37819,Nx=37820,Lx=37821,Dx=36492,kx=36494,Ux=36495,Fx=36283,Bx=36284,zx=36285,jx=36286,V5=2200,H5=2201,G5=2202,sm=2300,$x=2301,Ty=2302,bA=2303,nu=2400,ru=2401,lm=2402,lb=2500,rC=2501,hve=0,pve=1,mve=2,W5=3200,gve=3201,vve=3202,yve=3203,hl=0,X5=1,Do="",oi="srgb",Au="srgb-linear",um="linear",tn="srgb",xve="",_ve="rg",bve="ga",Sve=0,Wl=7680,wve=7681,Mve=7682,Eve=7683,Ave=34055,Tve=34056,Pve=5386,Cve=512,Ove=513,Rve=514,Ive=515,Nve=516,Lve=517,Dve=518,SA=519,q5=512,Y5=513,K5=514,ub=515,Z5=516,J5=517,cb=518,Q5=519,cm=35044,kve=35048,Uve=35040,Fve=35045,Bve=35049,zve=35041,jve=35046,$ve=35050,Vve=35042,Hve="100",wA="300 es",Ii=2e3,Tu=2001,Gve={COMPUTE:"compute",RENDER:"render"},Wve={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Xve={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},qve={TEXTURE_COMPARE:"depthTextureCompare"};function Yve(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Kve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zc(t,e){return new Kve[t](e)}function ej(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function tj(){const t=fm("canvas");return t.style.display="block",t}const wL={};let nl=null;function Zve(t){nl=t}function Jve(){return nl}function dm(...t){const e="THREE."+t.shift();nl?nl("log",e,...t):console.log(e,...t)}function nj(t){const e=t[0];if(typeof e=="string"&&e.startsWith("TSL:")){const n=t[1];n&&n.isStackTrace?t[0]+=" "+n.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function We(...t){t=nj(t);const e="THREE."+t.shift();if(nl)nl("warn",e,...t);else{const n=t[0];n&&n.isStackTrace?console.warn(n.getError(e)):console.warn(e,...t)}}function mt(...t){t=nj(t);const e="THREE."+t.shift();if(nl)nl("error",e,...t);else{const n=t[0];n&&n.isStackTrace?console.error(n.getError(e)):console.error(e,...t)}}function hm(...t){const e=t.join(" ");e in wL||(wL[e]=!0,We(...t))}function Qve(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}const eye={[rx]:ix,[ax]:lx,[ox]:ux,[Mu]:sx,[ix]:rx,[lx]:ax,[ux]:ox,[sx]:Mu};class vo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}const Cr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ML=1234567;const fu=Math.PI/180,Gf=180/Math.PI;function Li(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cr[t&255]+Cr[t>>8&255]+Cr[t>>16&255]+Cr[t>>24&255]+"-"+Cr[e&255]+Cr[e>>8&255]+"-"+Cr[e>>16&15|64]+Cr[e>>24&255]+"-"+Cr[n&63|128]+Cr[n>>8&255]+"-"+Cr[n>>16&255]+Cr[n>>24&255]+Cr[r&255]+Cr[r>>8&255]+Cr[r>>16&255]+Cr[r>>24&255]).toLowerCase()}function St(t,e,n){return Math.max(e,Math.min(n,t))}function iC(t,e){return(t%e+e)%e}function tye(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function nye(t,e,n){return t!==e?(n-t)/(e-t):0}function tp(t,e,n){return(1-n)*t+n*e}function rye(t,e,n,r){return tp(t,e,1-Math.exp(-n*r))}function iye(t,e=1){return e-Math.abs(iC(t,e*2)-e)}function aye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function oye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function sye(t,e){return t+Math.floor(Math.random()*(e-t+1))}function lye(t,e){return t+Math.random()*(e-t)}function uye(t){return t*(.5-Math.random())}function cye(t){t!==void 0&&(ML=t);let e=ML+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function fye(t){return t*fu}function dye(t){return t*Gf}function hye(t){return(t&t-1)===0&&t!==0}function pye(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function mye(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function gye(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),f=o((e+r)/2),c=a((e-r)/2),h=o((e-r)/2),m=a((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(s*f,l*c,l*h,s*u);break;case"YZY":t.set(l*h,s*f,l*c,s*u);break;case"ZXZ":t.set(l*c,l*h,s*f,s*u);break;case"XZX":t.set(s*f,l*g,l*m,s*u);break;case"YXY":t.set(l*m,s*f,l*g,s*u);break;case"ZYZ":t.set(l*g,l*m,s*f,s*u);break;default:We("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Wr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ct(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const vye={DEG2RAD:fu,RAD2DEG:Gf,generateUUID:Li,clamp:St,euclideanModulo:iC,mapLinear:tye,inverseLerp:nye,lerp:tp,damp:rye,pingpong:iye,smoothstep:aye,smootherstep:oye,randInt:sye,randFloat:lye,randFloatSpread:uye,seededRandom:cye,degToRad:fye,radToDeg:dye,isPowerOfTwo:hye,ceilPowerOfTwo:pye,floorPowerOfTwo:mye,setQuaternionFromProperEuler:gye,normalize:Ct,denormalize:Wr};class Ee{constructor(e=0,n=0){Ee.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],f=r[i+2],c=r[i+3],h=a[o+0],m=a[o+1],g=a[o+2],_=a[o+3];if(c!==_||l!==h||u!==m||f!==g){let y=l*h+u*m+f*g+c*_;y<0&&(h=-h,m=-m,g=-g,_=-_,y=-y);let v=1-s;if(y<.9995){const x=Math.acos(y),b=Math.sin(x);v=Math.sin(v*x)/b,s=Math.sin(s*x)/b,l=l*v+h*s,u=u*v+m*s,f=f*v+g*s,c=c*v+_*s}else{l=l*v+h*s,u=u*v+m*s,f=f*v+g*s,c=c*v+_*s;const x=1/Math.sqrt(l*l+u*u+f*f+c*c);l*=x,u*=x,f*=x,c*=x}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=c}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],f=r[i+3],c=a[o],h=a[o+1],m=a[o+2],g=a[o+3];return e[n]=s*g+f*c+l*m-u*h,e[n+1]=l*g+f*h+u*c-s*m,e[n+2]=u*g+f*m+s*h-l*c,e[n+3]=f*g-s*c-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),f=s(i/2),c=s(a/2),h=l(r/2),m=l(i/2),g=l(a/2);switch(o){case"XYZ":this._x=h*f*c+u*m*g,this._y=u*m*c-h*f*g,this._z=u*f*g+h*m*c,this._w=u*f*c-h*m*g;break;case"YXZ":this._x=h*f*c+u*m*g,this._y=u*m*c-h*f*g,this._z=u*f*g-h*m*c,this._w=u*f*c+h*m*g;break;case"ZXY":this._x=h*f*c-u*m*g,this._y=u*m*c+h*f*g,this._z=u*f*g+h*m*c,this._w=u*f*c-h*m*g;break;case"ZYX":this._x=h*f*c-u*m*g,this._y=u*m*c+h*f*g,this._z=u*f*g-h*m*c,this._w=u*f*c+h*m*g;break;case"YZX":this._x=h*f*c+u*m*g,this._y=u*m*c+h*f*g,this._z=u*f*g-h*m*c,this._w=u*f*c-h*m*g;break;case"XZY":this._x=h*f*c-u*m*g,this._y=u*m*c-h*f*g,this._z=u*f*g+h*m*c,this._w=u*f*c+h*m*g;break;default:We("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],f=n[6],c=n[10],h=r+s+c;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(f-l)*m,this._y=(a-u)*m,this._z=(o-i)*m}else if(r>s&&r>c){const m=2*Math.sqrt(1+r-s-c);this._w=(f-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(a+u)/m}else if(s>c){const m=2*Math.sqrt(1+s-r-c);this._w=(a-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+f)/m}else{const m=2*Math.sqrt(1+c-r-s);this._w=(o-i)/m,this._x=(a+u)/m,this._y=(l+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(St(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*s+i*u-a*l,this._y=i*f+o*l+a*s-r*u,this._z=a*f+o*u+r*l-i*s,this._w=o*f-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){let r=e._x,i=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,a=-a,o=-o,s=-s);let l=1-n;if(s<.9995){const u=Math.acos(s),f=Math.sin(u);l=Math.sin(l*u)/f,n=Math.sin(n*u)/f,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(EL.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(EL.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),f=2*(s*n-a*i),c=2*(a*r-o*n);return this.x=n+l*u+o*c-s*f,this.y=r+l*f+s*u-a*c,this.z=i+l*c+a*f-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this.z=St(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this.z=St(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return X1.copy(this).projectOnVector(e),this.sub(X1)}reflect(e){return this.sub(X1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const X1=new X,EL=new Kr;class Pt{constructor(e,n,r,i,a,o,s,l,u){Pt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=s,f[3]=n,f[4]=a,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],f=r[4],c=r[7],h=r[2],m=r[5],g=r[8],_=i[0],y=i[3],v=i[6],x=i[1],b=i[4],M=i[7],w=i[2],E=i[5],P=i[8];return a[0]=o*_+s*x+l*w,a[3]=o*y+s*b+l*E,a[6]=o*v+s*M+l*P,a[1]=u*_+f*x+c*w,a[4]=u*y+f*b+c*E,a[7]=u*v+f*M+c*P,a[2]=h*_+m*x+g*w,a[5]=h*y+m*b+g*E,a[8]=h*v+m*M+g*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*s*u-r*a*f+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=f*o-s*u,h=s*l-f*a,m=u*a-o*l,g=n*c+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/g;return e[0]=c*_,e[1]=(i*u-f*r)*_,e[2]=(s*r-i*o)*_,e[3]=h*_,e[4]=(f*n-i*l)*_,e[5]=(i*a-s*n)*_,e[6]=m*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*a)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(q1.makeScale(e,n)),this}rotate(e){return this.premultiply(q1.makeRotation(-e)),this}translate(e,n){return this.premultiply(q1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const q1=new Pt,AL=new Pt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),TL=new Pt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yye(){const t={enabled:!0,workingColorSpace:Au,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===tn&&(i.r=Wo(i.r),i.g=Wo(i.g),i.b=Wo(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===tn&&(i.r=ff(i.r),i.g=ff(i.g),i.b=ff(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Do?um:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return hm("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return hm("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Au]:{primaries:e,whitePoint:r,transfer:um,toXYZ:AL,fromXYZ:TL,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:oi},outputColorSpaceConfig:{drawingBufferColorSpace:oi}},[oi]:{primaries:e,whitePoint:r,transfer:tn,toXYZ:AL,fromXYZ:TL,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:oi}}}),t}const zt=yye();function Wo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ff(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let uc;class rj{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{uc===void 0&&(uc=fm("canvas")),uc.width=e.width,uc.height=e.height;const i=uc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=uc}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=fm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Wo(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Wo(n[r]/255)*255):n[r]=Wo(n[r]);return{data:n,width:e.width,height:e.height}}else return We("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let xye=0;class Bs{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xye++}),this.uuid=Li(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(Y1(i[o].image)):a.push(Y1(i[o]))}else a=Y1(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function Y1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?rj.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(We("Texture: Unable to serialize Texture."),{})}let _ye=0;const K1=new X;class Cn extends vo{constructor(e=Cn.DEFAULT_IMAGE,n=Cn.DEFAULT_MAPPING,r=di,i=di,a=dn,o=ao,s=Ur,l=Gr,u=Cn.DEFAULT_ANISOTROPY,f=Do){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_ye++}),this.uuid=Li(),this.name="",this.source=new Bs(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ee(0,0),this.repeat=new Ee(1,1),this.center=new Ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(K1).x}get height(){return this.source.getSize(K1).y}get depth(){return this.source.getSize(K1).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){We(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){We(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==tb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case am:e.x=e.x-Math.floor(e.x);break;case di:e.x=e.x<0?0:1;break;case om:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case am:e.y=e.y-Math.floor(e.y);break;case di:e.y=e.y<0?0:1;break;case om:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Cn.DEFAULT_IMAGE=null;Cn.DEFAULT_MAPPING=tb;Cn.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,n=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],f=l[4],c=l[8],h=l[1],m=l[5],g=l[9],_=l[2],y=l[6],v=l[10];if(Math.abs(f-h)<.01&&Math.abs(c-_)<.01&&Math.abs(g-y)<.01){if(Math.abs(f+h)<.1&&Math.abs(c+_)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,M=(m+1)/2,w=(v+1)/2,E=(f+h)/4,P=(c+_)/4,A=(g+y)/4;return b>M&&b>w?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=E/r,a=P/r):M>w?M<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),r=E/i,a=A/i):w<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(w),r=P/a,i=A/a),this.set(r,i,a,n),this}let x=Math.sqrt((y-g)*(y-g)+(c-_)*(c-_)+(h-f)*(h-f));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(c-_)/x,this.z=(h-f)/x,this.w=Math.acos((u+m+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this.z=St(this.z,e.z,n.z),this.w=St(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this.z=St(this.z,e,n),this.w=St(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class aC extends vo{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:dn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new cn(0,0,e,n),this.scissorTest=!1,this.viewport=new cn(0,0,e,n),this.textures=[];const i={width:e,height:n,depth:r.depth},a=new Cn(i),o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:dn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Bs(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class gi extends aC{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fb extends Cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bye extends gi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fb(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class db extends Cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=di,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Sye extends gi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new db(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class wt{constructor(e,n,r,i,a,o,s,l,u,f,c,h,m,g,_,y){wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,f,c,h,m,g,_,y)}set(e,n,r,i,a,o,s,l,u,f,c,h,m,g,_,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=a,v[5]=o,v[9]=s,v[13]=l,v[2]=u,v[6]=f,v[10]=c,v[14]=h,v[3]=m,v[7]=g,v[11]=_,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/cc.setFromMatrixColumn(e,0).length(),a=1/cc.setFromMatrixColumn(e,1).length(),o=1/cc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(a),c=Math.sin(a);if(e.order==="XYZ"){const h=o*f,m=o*c,g=s*f,_=s*c;n[0]=l*f,n[4]=-l*c,n[8]=u,n[1]=m+g*u,n[5]=h-_*u,n[9]=-s*l,n[2]=_-h*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*f,m=l*c,g=u*f,_=u*c;n[0]=h+_*s,n[4]=g*s-m,n[8]=o*u,n[1]=o*c,n[5]=o*f,n[9]=-s,n[2]=m*s-g,n[6]=_+h*s,n[10]=o*l}else if(e.order==="ZXY"){const h=l*f,m=l*c,g=u*f,_=u*c;n[0]=h-_*s,n[4]=-o*c,n[8]=g+m*s,n[1]=m+g*s,n[5]=o*f,n[9]=_-h*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const h=o*f,m=o*c,g=s*f,_=s*c;n[0]=l*f,n[4]=g*u-m,n[8]=h*u+_,n[1]=l*c,n[5]=_*u+h,n[9]=m*u-g,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*u,g=s*l,_=s*u;n[0]=l*f,n[4]=_-h*c,n[8]=g*c+m,n[1]=c,n[5]=o*f,n[9]=-s*f,n[2]=-u*f,n[6]=m*c+g,n[10]=h-_*c}else if(e.order==="XZY"){const h=o*l,m=o*u,g=s*l,_=s*u;n[0]=l*f,n[4]=-c,n[8]=u*f,n[1]=h*c+_,n[5]=o*f,n[9]=m*c-g,n[2]=g*c-m,n[6]=s*f,n[10]=_*c+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wye,e,Mye)}lookAt(e,n,r){const i=this.elements;return Mi.subVectors(e,n),Mi.lengthSq()===0&&(Mi.z=1),Mi.normalize(),xs.crossVectors(r,Mi),xs.lengthSq()===0&&(Math.abs(r.z)===1?Mi.x+=1e-4:Mi.z+=1e-4,Mi.normalize(),xs.crossVectors(r,Mi)),xs.normalize(),_v.crossVectors(Mi,xs),i[0]=xs.x,i[4]=_v.x,i[8]=Mi.x,i[1]=xs.y,i[5]=_v.y,i[9]=Mi.y,i[2]=xs.z,i[6]=_v.z,i[10]=Mi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],f=r[1],c=r[5],h=r[9],m=r[13],g=r[2],_=r[6],y=r[10],v=r[14],x=r[3],b=r[7],M=r[11],w=r[15],E=i[0],P=i[4],A=i[8],C=i[12],I=i[1],R=i[5],k=i[9],F=i[13],G=i[2],$=i[6],V=i[10],H=i[14],U=i[3],j=i[7],Y=i[11],Z=i[15];return a[0]=o*E+s*I+l*G+u*U,a[4]=o*P+s*R+l*$+u*j,a[8]=o*A+s*k+l*V+u*Y,a[12]=o*C+s*F+l*H+u*Z,a[1]=f*E+c*I+h*G+m*U,a[5]=f*P+c*R+h*$+m*j,a[9]=f*A+c*k+h*V+m*Y,a[13]=f*C+c*F+h*H+m*Z,a[2]=g*E+_*I+y*G+v*U,a[6]=g*P+_*R+y*$+v*j,a[10]=g*A+_*k+y*V+v*Y,a[14]=g*C+_*F+y*H+v*Z,a[3]=x*E+b*I+M*G+w*U,a[7]=x*P+b*R+M*$+w*j,a[11]=x*A+b*k+M*V+w*Y,a[15]=x*C+b*F+M*H+w*Z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],f=e[2],c=e[6],h=e[10],m=e[14],g=e[3],_=e[7],y=e[11],v=e[15],x=l*m-u*h,b=s*m-u*c,M=s*h-l*c,w=o*m-u*f,E=o*h-l*f,P=o*c-s*f;return n*(_*x-y*b+v*M)-r*(g*x-y*w+v*E)+i*(g*b-_*w+v*P)-a*(g*M-_*E+y*P)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],m=e[11],g=e[12],_=e[13],y=e[14],v=e[15],x=n*s-r*o,b=n*l-i*o,M=n*u-a*o,w=r*l-i*s,E=r*u-a*s,P=i*u-a*l,A=f*_-c*g,C=f*y-h*g,I=f*v-m*g,R=c*y-h*_,k=c*v-m*_,F=h*v-m*y,G=x*F-b*k+M*R+w*I-E*C+P*A;if(G===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const $=1/G;return e[0]=(s*F-l*k+u*R)*$,e[1]=(i*k-r*F-a*R)*$,e[2]=(_*P-y*E+v*w)*$,e[3]=(h*E-c*P-m*w)*$,e[4]=(l*I-o*F-u*C)*$,e[5]=(n*F-i*I+a*C)*$,e[6]=(y*M-g*P-v*b)*$,e[7]=(f*P-h*M+m*b)*$,e[8]=(o*k-s*I+u*A)*$,e[9]=(r*I-n*k-a*A)*$,e[10]=(g*E-_*M+v*x)*$,e[11]=(c*M-f*E-m*x)*$,e[12]=(s*C-o*R-l*A)*$,e[13]=(n*R-r*C+i*A)*$,e[14]=(_*b-g*w-y*x)*$,e[15]=(f*w-c*b+h*x)*$,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,f=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,f*s+r,f*l-i*o,0,u*l-i*s,f*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,f=o+o,c=s+s,h=a*u,m=a*f,g=a*c,_=o*f,y=o*c,v=s*c,x=l*u,b=l*f,M=l*c,w=r.x,E=r.y,P=r.z;return i[0]=(1-(_+v))*w,i[1]=(m+M)*w,i[2]=(g-b)*w,i[3]=0,i[4]=(m-M)*E,i[5]=(1-(h+v))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(g+b)*P,i[9]=(y-x)*P,i[10]=(1-(h+_))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;e.x=i[12],e.y=i[13],e.z=i[14];const a=this.determinant();if(a===0)return r.set(1,1,1),n.identity(),this;let o=cc.set(i[0],i[1],i[2]).length();const s=cc.set(i[4],i[5],i[6]).length(),l=cc.set(i[8],i[9],i[10]).length();a<0&&(o=-o),Sa.copy(this);const u=1/o,f=1/s,c=1/l;return Sa.elements[0]*=u,Sa.elements[1]*=u,Sa.elements[2]*=u,Sa.elements[4]*=f,Sa.elements[5]*=f,Sa.elements[6]*=f,Sa.elements[8]*=c,Sa.elements[9]*=c,Sa.elements[10]*=c,n.setFromRotationMatrix(Sa),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,i,a,o,s=Ii,l=!1){const u=this.elements,f=2*a/(n-e),c=2*a/(r-i),h=(n+e)/(n-e),m=(r+i)/(r-i);let g,_;if(l)g=a/(o-a),_=o*a/(o-a);else if(s===Ii)g=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(s===Tu)g=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=f,u[4]=0,u[8]=h,u[12]=0,u[1]=0,u[5]=c,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=Ii,l=!1){const u=this.elements,f=2/(n-e),c=2/(r-i),h=-(n+e)/(n-e),m=-(r+i)/(r-i);let g,_;if(l)g=1/(o-a),_=o/(o-a);else if(s===Ii)g=-2/(o-a),_=-(o+a)/(o-a);else if(s===Tu)g=-1/(o-a),_=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=f,u[4]=0,u[8]=0,u[12]=h,u[1]=0,u[5]=c,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=g,u[14]=_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const cc=new X,Sa=new wt,wye=new X(0,0,0),Mye=new X(1,1,1),xs=new X,_v=new X,Mi=new X,PL=new wt,CL=new Kr;class Ui{constructor(e=0,n=0,r=0,i=Ui.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],f=i[9],c=i[2],h=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(St(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,m),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-St(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,a),this._z=0);break;case"ZXY":this._x=Math.asin(St(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-St(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(St(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-St(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-f,m),this._y=0);break;default:We("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return PL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return CL.setFromEuler(this),this.setFromQuaternion(CL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ui.DEFAULT_ORDER="XYZ";class du{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Eye=0;const OL=new X,fc=new Kr,To=new wt,bv=new X,sh=new X,Aye=new X,Tye=new Kr,RL=new X(1,0,0),IL=new X(0,1,0),NL=new X(0,0,1),LL={type:"added"},Pye={type:"removed"},dc={type:"childadded",child:null},Z1={type:"childremoved",child:null};class Wt extends vo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Eye++}),this.uuid=Li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DEFAULT_UP.clone();const e=new X,n=new Ui,r=new Kr,i=new X(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new wt},normalMatrix:{value:new Pt}}),this.matrix=new wt,this.matrixWorld=new wt,this.matrixAutoUpdate=Wt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new du,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return fc.setFromAxisAngle(e,n),this.quaternion.multiply(fc),this}rotateOnWorldAxis(e,n){return fc.setFromAxisAngle(e,n),this.quaternion.premultiply(fc),this}rotateX(e){return this.rotateOnAxis(RL,e)}rotateY(e){return this.rotateOnAxis(IL,e)}rotateZ(e){return this.rotateOnAxis(NL,e)}translateOnAxis(e,n){return OL.copy(e).applyQuaternion(this.quaternion),this.position.add(OL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(RL,e)}translateY(e){return this.translateOnAxis(IL,e)}translateZ(e){return this.translateOnAxis(NL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(To.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?bv.copy(e):bv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?To.lookAt(sh,bv,this.up):To.lookAt(bv,sh,this.up),this.quaternion.setFromRotationMatrix(To),i&&(To.extractRotation(i.matrixWorld),fc.setFromRotationMatrix(To),this.quaternion.premultiply(fc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(mt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(LL),dc.child=e,this.dispatchEvent(dc),dc.child=null):mt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Pye),Z1.child=e,this.dispatchEvent(Z1),Z1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),To.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),To.multiply(e.parent.matrixWorld)),e.applyMatrix4(To),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(LL),dc.child=e,this.dispatchEvent(dc),dc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,e,Aye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sh,Tye,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const n=e.x,r=e.y,i=e.z,a=this.matrix.elements;a[12]+=n-a[0]*n-a[4]*r-a[8]*i,a[13]+=r-a[1]*n-a[5]*r-a[9]*i,a[14]+=i-a[2]*n-a[6]*r-a[10]*i}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),this.static!==!1&&(i.static=this.static),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.pivot!==null&&(i.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(i.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(i.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const c=l[u];a(e.shapes,c)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),c=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),c.length>0&&(r.shapes=c),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(s){const l=[];for(const u in s){const f=s[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Wt.DEFAULT_UP=new X(0,1,0);Wt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class Jc extends Wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Cye={type:"move"};class Py{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Jc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Jc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Jc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const y=n.getJointPose(_,r),v=this._getHandJoint(u,_);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const f=u.joints["index-finger-tip"],c=u.joints["thumb-tip"],h=f.position.distanceTo(c.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Cye)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Jc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const ij={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_s={h:0,s:0,l:0},Sv={h:0,s:0,l:0};function J1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=oi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zt.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=zt.workingColorSpace){return this.r=e,this.g=n,this.b=r,zt.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=zt.workingColorSpace){if(e=iC(e,1),n=St(n,0,1),r=St(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=J1(o,a,e+1/3),this.g=J1(o,a,e),this.b=J1(o,a,e-1/3)}return zt.colorSpaceToWorking(this,i),this}setStyle(e,n=oi){function r(a){a!==void 0&&parseFloat(a)<1&&We("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:We("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);We("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=oi){const r=ij[e.toLowerCase()];return r!==void 0?this.setHex(r,n):We("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wo(e.r),this.g=Wo(e.g),this.b=Wo(e.b),this}copyLinearToSRGB(e){return this.r=ff(e.r),this.g=ff(e.g),this.b=ff(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=oi){return zt.workingToColorSpace(Or.copy(this),e),Math.round(St(Or.r*255,0,255))*65536+Math.round(St(Or.g*255,0,255))*256+Math.round(St(Or.b*255,0,255))}getHexString(e=oi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=zt.workingColorSpace){zt.workingToColorSpace(Or.copy(this),n);const r=Or.r,i=Or.g,a=Or.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const f=(s+o)/2;if(s===o)l=0,u=0;else{const c=o-s;switch(u=f<=.5?c/(o+s):c/(2-o-s),o){case r:l=(i-a)/c+(i<a?6:0);break;case i:l=(a-r)/c+2;break;case a:l=(r-i)/c+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=zt.workingColorSpace){return zt.workingToColorSpace(Or.copy(this),n),e.r=Or.r,e.g=Or.g,e.b=Or.b,e}getStyle(e=oi){zt.workingToColorSpace(Or.copy(this),e);const n=Or.r,r=Or.g,i=Or.b;return e!==oi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(_s),this.setHSL(_s.h+e,_s.s+n,_s.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_s),e.getHSL(Sv);const r=tp(_s.h,Sv.h,n),i=tp(_s.s,Sv.s,n),a=tp(_s.l,Sv.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Or=new et;et.NAMES=ij;class hb{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new hb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class pb{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new pb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Vx extends Wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ui,this.environmentIntensity=1,this.environmentRotation=new Ui,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const wa=new X,Po=new X,Q1=new X,Co=new X,hc=new X,pc=new X,DL=new X,ew=new X,tw=new X,nw=new X,rw=new cn,iw=new cn,aw=new cn;class ui{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),wa.subVectors(e,n),i.cross(wa);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){wa.subVectors(i,n),Po.subVectors(r,n),Q1.subVectors(e,n);const o=wa.dot(wa),s=wa.dot(Po),l=wa.dot(Q1),u=Po.dot(Po),f=Po.dot(Q1),c=o*u-s*s;if(c===0)return a.set(0,0,0),null;const h=1/c,m=(u*l-s*f)*h,g=(o*f-s*l)*h;return a.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Co)===null?!1:Co.x>=0&&Co.y>=0&&Co.x+Co.y<=1}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,Co)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Co.x),l.addScaledVector(o,Co.y),l.addScaledVector(s,Co.z),l)}static getInterpolatedAttribute(e,n,r,i,a,o){return rw.setScalar(0),iw.setScalar(0),aw.setScalar(0),rw.fromBufferAttribute(e,n),iw.fromBufferAttribute(e,r),aw.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(rw,a.x),o.addScaledVector(iw,a.y),o.addScaledVector(aw,a.z),o}static isFrontFacing(e,n,r,i){return wa.subVectors(r,n),Po.subVectors(e,n),wa.cross(Po).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wa.subVectors(this.c,this.b),Po.subVectors(this.a,this.b),wa.cross(Po).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ui.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ui.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return ui.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return ui.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ui.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;hc.subVectors(i,r),pc.subVectors(a,r),ew.subVectors(e,r);const l=hc.dot(ew),u=pc.dot(ew);if(l<=0&&u<=0)return n.copy(r);tw.subVectors(e,i);const f=hc.dot(tw),c=pc.dot(tw);if(f>=0&&c<=f)return n.copy(i);const h=l*c-f*u;if(h<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(hc,o);nw.subVectors(e,a);const m=hc.dot(nw),g=pc.dot(nw);if(g>=0&&m<=g)return n.copy(a);const _=m*u-l*g;if(_<=0&&u>=0&&g<=0)return s=u/(u-g),n.copy(r).addScaledVector(pc,s);const y=f*g-m*c;if(y<=0&&c-f>=0&&m-g>=0)return DL.subVectors(a,i),s=(c-f)/(c-f+(m-g)),n.copy(i).addScaledVector(DL,s);const v=1/(y+_+h);return o=_*v,s=h*v,n.copy(r).addScaledVector(hc,o).addScaledVector(pc,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class Fr{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ma.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ma.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ma.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Ma):Ma.fromBufferAttribute(a,o),Ma.applyMatrix4(e.matrixWorld),this.expandByPoint(Ma);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),wv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),wv.copy(r.boundingBox)),wv.applyMatrix4(e.matrixWorld),this.union(wv)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ma),Ma.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lh),Mv.subVectors(this.max,lh),mc.subVectors(e.a,lh),gc.subVectors(e.b,lh),vc.subVectors(e.c,lh),bs.subVectors(gc,mc),Ss.subVectors(vc,gc),Tl.subVectors(mc,vc);let n=[0,-bs.z,bs.y,0,-Ss.z,Ss.y,0,-Tl.z,Tl.y,bs.z,0,-bs.x,Ss.z,0,-Ss.x,Tl.z,0,-Tl.x,-bs.y,bs.x,0,-Ss.y,Ss.x,0,-Tl.y,Tl.x,0];return!ow(n,mc,gc,vc,Mv)||(n=[1,0,0,0,1,0,0,0,1],!ow(n,mc,gc,vc,Mv))?!1:(Ev.crossVectors(bs,Ss),n=[Ev.x,Ev.y,Ev.z],ow(n,mc,gc,vc,Mv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ma).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ma).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Oo=[new X,new X,new X,new X,new X,new X,new X,new X],Ma=new X,wv=new Fr,mc=new X,gc=new X,vc=new X,bs=new X,Ss=new X,Tl=new X,lh=new X,Mv=new X,Ev=new X,Pl=new X;function ow(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){Pl.fromArray(t,a);const s=i.x*Math.abs(Pl.x)+i.y*Math.abs(Pl.y)+i.z*Math.abs(Pl.z),l=e.dot(Pl),u=n.dot(Pl),f=r.dot(Pl);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>s)return!1}return!0}const ko=Oye();function Oye(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,f=0;for(;!(u&8388608);)u<<=1,f-=8388608;u&=-8388609,f+=947912704,a[l]=u|f}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function ai(t){Math.abs(t)>65504&&We("DataUtils.toHalfFloat(): Value out of range."),t=St(t,-65504,65504),ko.floatView[0]=t;const e=ko.uint32View[0],n=e>>23&511;return ko.baseTable[n]+((e&8388607)>>ko.shiftTable[n])}function Ch(t){const e=t>>10;return ko.uint32View[0]=ko.mantissaTable[ko.offsetTable[e]+(t&1023)]+ko.exponentTable[e],ko.floatView[0]}class Rye{static toHalfFloat(e){return ai(e)}static fromHalfFloat(e){return Ch(e)}}const Hn=new X,Av=new Ee;let Iye=0;class Qt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Iye++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=cm,this.updateRanges=[],this.gpuType=kr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Av.fromBufferAttribute(this,n),Av.applyMatrix3(e),this.setXY(n,Av.x,Av.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix3(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix4(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyNormalMatrix(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.transformDirection(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Wr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ct(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Wr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Wr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Wr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Wr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cm&&(e.usage=this.usage),e}}class Nye extends Qt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Lye extends Qt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Dye extends Qt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class kye extends Qt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class oC extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Uye extends Qt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class sC extends Qt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Fye extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ch(this.array[e*this.itemSize]);return this.normalized&&(n=Wr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize]=ai(n),this}getY(e){let n=Ch(this.array[e*this.itemSize+1]);return this.normalized&&(n=Wr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+1]=ai(n),this}getZ(e){let n=Ch(this.array[e*this.itemSize+2]);return this.normalized&&(n=Wr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+2]=ai(n),this}getW(e){let n=Ch(this.array[e*this.itemSize+3]);return this.normalized&&(n=Wr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+3]=ai(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this.array[e+3]=ai(a),this}}class at extends Qt{constructor(e,n,r){super(new Float32Array(e),n,r)}}const Bye=new Fr,uh=new X,sw=new X;class _r{constructor(e=new X,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Bye.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;uh.subVectors(e,this.center);const n=uh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(uh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(sw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(uh.copy(e.center).add(sw)),this.expandByPoint(uh.copy(e.center).sub(sw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let zye=0;const ea=new wt,lw=new Wt,yc=new X,Ei=new Fr,ch=new Fr,ur=new X;class Et extends vo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:zye++}),this.uuid=Li(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Yve(e)?sC:oC)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Pt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ea.makeRotationFromQuaternion(e),this.applyMatrix4(ea),this}rotateX(e){return ea.makeRotationX(e),this.applyMatrix4(ea),this}rotateY(e){return ea.makeRotationY(e),this.applyMatrix4(ea),this}rotateZ(e){return ea.makeRotationZ(e),this.applyMatrix4(ea),this}translate(e,n,r){return ea.makeTranslation(e,n,r),this.applyMatrix4(ea),this}scale(e,n,r){return ea.makeScale(e,n,r),this.applyMatrix4(ea),this}lookAt(e){return lw.lookAt(e),lw.updateMatrix(),this.applyMatrix4(lw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yc).negate(),this.translate(yc.x,yc.y,yc.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new at(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&We("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){mt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Ei.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,Ei.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,Ei.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(Ei.min),this.boundingBox.expandByPoint(Ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&mt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){mt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(Ei.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];ch.setFromBufferAttribute(s),this.morphTargetsRelative?(ur.addVectors(Ei.min,ch.min),Ei.expandByPoint(ur),ur.addVectors(Ei.max,ch.max),Ei.expandByPoint(ur)):(Ei.expandByPoint(ch.min),Ei.expandByPoint(ch.max))}Ei.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)ur.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(ur));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,f=s.count;u<f;u++)ur.fromBufferAttribute(s,u),l&&(yc.fromBufferAttribute(e,u),ur.add(yc)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&mt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){mt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let A=0;A<r.count;A++)s[A]=new X,l[A]=new X;const u=new X,f=new X,c=new X,h=new Ee,m=new Ee,g=new Ee,_=new X,y=new X;function v(A,C,I){u.fromBufferAttribute(r,A),f.fromBufferAttribute(r,C),c.fromBufferAttribute(r,I),h.fromBufferAttribute(a,A),m.fromBufferAttribute(a,C),g.fromBufferAttribute(a,I),f.sub(u),c.sub(u),m.sub(h),g.sub(h);const R=1/(m.x*g.y-g.x*m.y);isFinite(R)&&(_.copy(f).multiplyScalar(g.y).addScaledVector(c,-m.y).multiplyScalar(R),y.copy(c).multiplyScalar(m.x).addScaledVector(f,-g.x).multiplyScalar(R),s[A].add(_),s[C].add(_),s[I].add(_),l[A].add(y),l[C].add(y),l[I].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let A=0,C=x.length;A<C;++A){const I=x[A],R=I.start,k=I.count;for(let F=R,G=R+k;F<G;F+=3)v(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const b=new X,M=new X,w=new X,E=new X;function P(A){w.fromBufferAttribute(i,A),E.copy(w);const C=s[A];b.copy(C),b.sub(w.multiplyScalar(w.dot(C))).normalize(),M.crossVectors(E,C);const R=M.dot(l[A])<0?-1:1;o.setXYZW(A,b.x,b.y,b.z,R)}for(let A=0,C=x.length;A<C;++A){const I=x[A],R=I.start,k=I.count;for(let F=R,G=R+k;F<G;F+=3)P(e.getX(F+0)),P(e.getX(F+1)),P(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new X,a=new X,o=new X,s=new X,l=new X,u=new X,f=new X,c=new X;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),_=e.getX(h+1),y=e.getX(h+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,_),o.fromBufferAttribute(n,y),f.subVectors(o,a),c.subVectors(i,a),f.cross(c),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,y),s.add(f),l.add(f),u.add(f),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let h=0,m=n.count;h<m;h+=3)i.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),f.subVectors(o,a),c.subVectors(i,a),f.cross(c),r.setXYZ(h+0,f.x,f.y,f.z),r.setXYZ(h+1,f.x,f.y,f.z),r.setXYZ(h+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ur.fromBufferAttribute(e,n),ur.normalize(),e.setXYZ(n,ur.x,ur.y,ur.z)}toNonIndexed(){function e(s,l){const u=s.array,f=s.itemSize,c=s.normalized,h=new u.constructor(l.length*f);let m=0,g=0;for(let _=0,y=l.length;_<y;_++){s.isInterleavedBufferAttribute?m=l[_]*s.data.stride+s.offset:m=l[_]*f;for(let v=0;v<f;v++)h[g++]=u[m++]}return new Qt(h,f,c)}if(this.index===null)return We("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Et,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let f=0,c=u.length;f<c;f++){const h=u[f],m=e(h,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let c=0,h=u.length;c<h;c++){const m=u[c];f.push(m.toJSON(e.data))}f.length>0&&(i[l]=f,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const a=e.morphAttributes;for(const u in a){const f=[],c=a[u];for(let h=0,m=c.length;h<m;h++)f.push(c[h].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const c=o[u];this.addGroup(c.start,c.count,c.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class mb{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=cm,this.updateRanges=[],this.version=0,this.uuid=Li()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new X;class Pu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyMatrix4(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyNormalMatrix(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.transformDirection(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Wr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ct(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Wr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Wr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Wr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Wr(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){dm("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Qt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){dm("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let jye=0;class Sr extends vo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:jye++}),this.uuid=Li(),this.name="",this.type="Material",this.blending=cu,this.side=ts,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tx,this.blendDst=nx,this.blendEquation=Ns,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new et(0,0,0),this.blendAlpha=0,this.depthFunc=Mu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=SA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wl,this.stencilZFail=Wl,this.stencilZPass=Wl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){We(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){We(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cu&&(r.blending=this.blending),this.side!==ts&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==tx&&(r.blendSrc=this.blendSrc),this.blendDst!==nx&&(r.blendDst=this.blendDst),this.blendEquation!==Ns&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Mu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==SA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Wl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Wl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class lC extends Sr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let xc;const fh=new X,_c=new X,bc=new X,Sc=new Ee,dh=new Ee,aj=new wt,Tv=new X,hh=new X,Pv=new X,kL=new Ee,uw=new Ee,UL=new Ee;class oj extends Wt{constructor(e=new lC){if(super(),this.isSprite=!0,this.type="Sprite",xc===void 0){xc=new Et;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new mb(n,5);xc.setIndex([0,1,2,0,2,3]),xc.setAttribute("position",new Pu(r,3,0,!1)),xc.setAttribute("uv",new Pu(r,2,3,!1))}this.geometry=xc,this.material=e,this.center=new Ee(.5,.5),this.count=1}raycast(e,n){e.camera===null&&mt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_c.setFromMatrixScale(this.matrixWorld),aj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_c.multiplyScalar(-bc.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;Cv(Tv.set(-.5,-.5,0),bc,o,_c,i,a),Cv(hh.set(.5,-.5,0),bc,o,_c,i,a),Cv(Pv.set(.5,.5,0),bc,o,_c,i,a),kL.set(0,0),uw.set(1,0),UL.set(1,1);let s=e.ray.intersectTriangle(Tv,hh,Pv,!1,fh);if(s===null&&(Cv(hh.set(-.5,.5,0),bc,o,_c,i,a),uw.set(0,1),s=e.ray.intersectTriangle(Tv,Pv,hh,!1,fh),s===null))return;const l=e.ray.origin.distanceTo(fh);l<e.near||l>e.far||n.push({distance:l,point:fh.clone(),uv:ui.getInterpolation(fh,Tv,hh,Pv,kL,uw,UL,new Ee),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Cv(t,e,n,r,i,a){Sc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(dh.x=a*Sc.x-i*Sc.y,dh.y=i*Sc.x+a*Sc.y):dh.copy(Sc),t.copy(e),t.x+=dh.x,t.y+=dh.y,t.applyMatrix4(aj)}const Ov=new X,FL=new X;class sj extends Wt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ov.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ov);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ov.setFromMatrixPosition(e.matrixWorld),FL.setFromMatrixPosition(this.matrixWorld);const r=Ov.distanceTo(FL)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Ro=new X,cw=new X,Rv=new X,ws=new X,fw=new X,Iv=new X,dw=new X;class gd{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ro)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ro.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ro.copy(this.origin).addScaledVector(this.direction,n),Ro.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){cw.copy(e).add(n).multiplyScalar(.5),Rv.copy(n).sub(e).normalize(),ws.copy(this.origin).sub(cw);const a=e.distanceTo(n)*.5,o=-this.direction.dot(Rv),s=ws.dot(this.direction),l=-ws.dot(Rv),u=ws.lengthSq(),f=Math.abs(1-o*o);let c,h,m,g;if(f>0)if(c=o*l-s,h=o*s-l,g=a*f,c>=0)if(h>=-g)if(h<=g){const _=1/f;c*=_,h*=_,m=c*(c+o*h+2*s)+h*(o*c+h+2*l)+u}else h=a,c=Math.max(0,-(o*h+s)),m=-c*c+h*(h+2*l)+u;else h=-a,c=Math.max(0,-(o*h+s)),m=-c*c+h*(h+2*l)+u;else h<=-g?(c=Math.max(0,-(-o*a+s)),h=c>0?-a:Math.min(Math.max(-a,-l),a),m=-c*c+h*(h+2*l)+u):h<=g?(c=0,h=Math.min(Math.max(-a,-l),a),m=h*(h+2*l)+u):(c=Math.max(0,-(o*a+s)),h=c>0?a:Math.min(Math.max(-a,-l),a),m=-c*c+h*(h+2*l)+u);else h=o>0?-a:a,c=Math.max(0,-(o*h+s)),m=-c*c+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,c),i&&i.copy(cw).addScaledVector(Rv,h),m}intersectSphere(e,n){Ro.subVectors(e.center,this.origin);const r=Ro.dot(this.direction),i=Ro.dot(Ro)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,f=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),f>=0?(a=(e.min.y-h.y)*f,o=(e.max.y-h.y)*f):(a=(e.max.y-h.y)*f,o=(e.min.y-h.y)*f),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),c>=0?(s=(e.min.z-h.z)*c,l=(e.max.z-h.z)*c):(s=(e.max.z-h.z)*c,l=(e.min.z-h.z)*c),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ro)!==null}intersectTriangle(e,n,r,i,a){fw.subVectors(n,e),Iv.subVectors(r,e),dw.crossVectors(fw,Iv);let o=this.direction.dot(dw),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;ws.subVectors(this.origin,e);const l=s*this.direction.dot(Iv.crossVectors(ws,Iv));if(l<0)return null;const u=s*this.direction.dot(fw.cross(ws));if(u<0||l+u>o)return null;const f=-s*ws.dot(dw);return f<0?null:this.at(f/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pl extends Sr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const BL=new wt,Cl=new gd,Nv=new _r,zL=new X,Lv=new X,Dv=new X,kv=new X,hw=new X,Uv=new X,jL=new X,Fv=new X;class qn extends Wt{constructor(e=new Et,n=new pl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){Uv.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const f=s[l],c=a[l];f!==0&&(hw.fromBufferAttribute(c,e),o?Uv.addScaledVector(hw,f):Uv.addScaledVector(hw.sub(n),f))}n.add(Uv)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Nv.copy(r.boundingSphere),Nv.applyMatrix4(a),Cl.copy(e.ray).recast(e.near),!(Nv.containsPoint(Cl.origin)===!1&&(Cl.intersectSphere(Nv,zL)===null||Cl.origin.distanceToSquared(zL)>(e.far-e.near)**2))&&(BL.copy(a).invert(),Cl.copy(e.ray).applyMatrix4(BL),!(r.boundingBox!==null&&Cl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Cl)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,f=a.attributes.uv1,c=a.attributes.normal,h=a.groups,m=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,_=h.length;g<_;g++){const y=h[g],v=o[y.materialIndex],x=Math.max(y.start,m.start),b=Math.min(s.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,w=b;M<w;M+=3){const E=s.getX(M),P=s.getX(M+1),A=s.getX(M+2);i=Bv(this,v,e,r,u,f,c,E,P,A),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(s.count,m.start+m.count);for(let y=g,v=_;y<v;y+=3){const x=s.getX(y),b=s.getX(y+1),M=s.getX(y+2);i=Bv(this,o,e,r,u,f,c,x,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,_=h.length;g<_;g++){const y=h[g],v=o[y.materialIndex],x=Math.max(y.start,m.start),b=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,w=b;M<w;M+=3){const E=M,P=M+1,A=M+2;i=Bv(this,v,e,r,u,f,c,E,P,A),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let y=g,v=_;y<v;y+=3){const x=y,b=y+1,M=y+2;i=Bv(this,o,e,r,u,f,c,x,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function $ye(t,e,n,r,i,a,o,s){let l;if(e.side===Yr?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===ts,s),l===null)return null;Fv.copy(s),Fv.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Fv);return u<n.near||u>n.far?null:{distance:u,point:Fv.clone(),object:t}}function Bv(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,Lv),t.getVertexPosition(l,Dv),t.getVertexPosition(u,kv);const f=$ye(t,e,n,r,Lv,Dv,kv,jL);if(f){const c=new X;ui.getBarycoord(jL,Lv,Dv,kv,c),i&&(f.uv=ui.getInterpolatedAttribute(i,s,l,u,c,new Ee)),a&&(f.uv1=ui.getInterpolatedAttribute(a,s,l,u,c,new Ee)),o&&(f.normal=ui.getInterpolatedAttribute(o,s,l,u,c,new X),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new X,materialIndex:0};ui.getNormal(Lv,Dv,kv,h.normal),f.face=h,f.barycoord=c}return f}const $L=new X,VL=new cn,HL=new cn,Vye=new X,GL=new wt,zv=new X,pw=new _r,WL=new wt,mw=new gd;class lj extends qn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=_A,this.bindMatrix=new wt,this.bindMatrixInverse=new wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,zv),this.boundingBox.expandByPoint(zv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new _r),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,zv),this.boundingSphere.expandByPoint(zv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pw.copy(this.boundingSphere),pw.applyMatrix4(i),e.ray.intersectsSphere(pw)!==!1&&(WL.copy(i).invert(),mw.copy(e.ray).applyMatrix4(WL),!(this.boundingBox!==null&&mw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,mw)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===_A?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$5?this.bindMatrixInverse.copy(this.bindMatrix).invert():We("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;VL.fromBufferAttribute(i.attributes.skinIndex,e),HL.fromBufferAttribute(i.attributes.skinWeight,e),$L.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=HL.getComponent(a);if(o!==0){const s=VL.getComponent(a);GL.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Vye.copy($L).applyMatrix4(GL),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class uC extends Wt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ua extends Cn{constructor(e=null,n=1,r=1,i,a,o,s,l,u=zn,f=zn,c,h){super(null,o,s,l,u,f,i,a,c,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const XL=new wt,Hye=new wt;class gb{constructor(e=[],n=[]){this.uuid=Li(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){We("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new wt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:Hye;XL.multiplyMatrices(s,n[a]),XL.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new gb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ua(n,e,e,Ur,kr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(We("Skeleton: No bone found with UUID:",a),o=new uC),this.bones.push(o),this.boneInverses.push(new wt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Wf extends Qt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const wc=new wt,qL=new wt,jv=[],YL=new Fr,Gye=new wt,ph=new qn,mh=new _r;class uj extends qn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Wf(new Float32Array(r*16),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Gye)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Fr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,wc),YL.copy(e.boundingBox).applyMatrix4(wc),this.boundingBox.union(YL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new _r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,wc),mh.copy(e.boundingSphere).applyMatrix4(wc),this.boundingSphere.union(mh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.previousInstanceMatrix!==null&&(this.previousInstanceMatrix=e.previousInstanceMatrix.clone()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ph.geometry=this.geometry,ph.material=this.material,ph.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mh.copy(this.boundingSphere),mh.applyMatrix4(r),e.ray.intersectsSphere(mh)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,wc),qL.multiplyMatrices(r,wc),ph.matrixWorld=qL,ph.raycast(e,jv);for(let o=0,s=jv.length;o<s;o++){const l=jv[o];l.instanceId=a,l.object=this,n.push(l)}jv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Wf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ua(new Float32Array(i*this.count),i,this.count,ab,kr));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const gw=new X,Wye=new X,Xye=new Pt;class Cs{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=gw.subVectors(r,n).cross(Wye.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(gw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Xye.getNormalMatrix(e),i=this.coplanarPoint(gw).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ol=new _r,qye=new Ee(.5,.5),$v=new X;class vd{constructor(e=new Cs,n=new Cs,r=new Cs,i=new Cs,a=new Cs,o=new Cs){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ii,r=!1){const i=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],f=a[4],c=a[5],h=a[6],m=a[7],g=a[8],_=a[9],y=a[10],v=a[11],x=a[12],b=a[13],M=a[14],w=a[15];if(i[0].setComponents(u-o,m-f,v-g,w-x).normalize(),i[1].setComponents(u+o,m+f,v+g,w+x).normalize(),i[2].setComponents(u+s,m+c,v+_,w+b).normalize(),i[3].setComponents(u-s,m-c,v-_,w-b).normalize(),r)i[4].setComponents(l,h,y,M).normalize(),i[5].setComponents(u-l,m-h,v-y,w-M).normalize();else if(i[4].setComponents(u-l,m-h,v-y,w-M).normalize(),n===Ii)i[5].setComponents(u+l,m+h,v+y,w+M).normalize();else if(n===Tu)i[5].setComponents(l,h,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ol.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ol.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ol)}intersectsSprite(e){Ol.center.set(0,0,0);const n=qye.distanceTo(e.center);return Ol.radius=.7071067811865476+n,Ol.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ol)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if($v.x=i.normal.x>0?e.max.x:e.min.x,$v.y=i.normal.y>0?e.max.y:e.min.y,$v.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint($v)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Za=new wt,Ja=new vd;class vb{constructor(){this.coordinateSystem=Ii}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.containsPoint(e))return!0}return!1}clone(){return new vb}}function vw(t,e){return t-e}function Yye(t,e){return t.z-e.z}function Kye(t,e){return e.z-t.z}class Zye{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const ii=new wt,Jye=new et(1,1,1),KL=new vd,Qye=new vb,Vv=new Fr,Rl=new _r,gh=new X,ZL=new X,e0e=new X,yw=new Zye,Rr=new qn,Hv=[];function t0e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Il(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class cj extends qn{constructor(e,n,r=n*2,i){super(new Et,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Ua(n,e,e,Ur,kr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Ua(n,e,e,Um,ha);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Ua(n,e,e,Ur,kr);r.colorSpace=zt.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,f=new s.constructor(r*l),c=new Qt(f,l,u);n.setAttribute(a,c)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Qt(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,ii),this.getBoundingBoxAt(a,Vv).applyMatrix4(ii),e.union(Vv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,ii),this.getBoundingSphereAt(a,Rl).applyMatrix4(ii),e.union(Rl)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(vw),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;ii.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(Jye.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(vw),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),s=this._geometryInfo[e];if(i&&o.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const c=n.getAttribute(f),h=r.getAttribute(f);t0e(c,h,l);const m=c.itemSize;for(let g=c.count,_=u;g<_;g++){const y=l+g;for(let v=0;v<m;v++)h.setComponent(y,v,0)}h.needsUpdate=!0,h.addUpdateRange(l*m,u*m)}if(i){const f=s.indexStart,c=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let h=0;h<o.count;h++)a.setX(f+h,l+o.getX(h));for(let h=o.count,m=c;h<m;h++)a.setX(f+h,l);a.needsUpdate=!0,a.addUpdateRange(f,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,s)=>s).sort((o,s)=>r[o].vertexStart-r[s].vertexStart),a=this.geometry;for(let o=0,s=r.length;o<s;o++){const l=i[o],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==n){const{indexStart:f,vertexStart:c,reservedIndexCount:h}=u,m=a.index,g=m.array,_=e-c;for(let y=f;y<f+h;y++)g[y]=g[y]+_;m.array.copyWithin(n,f,f+h),m.addUpdateRange(n,h),m.needsUpdate=!0,u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:f,reservedVertexCount:c}=u,h=a.attributes;for(const m in h){const g=h[m],{array:_,itemSize:y}=g;_.copyWithin(e*y,f*y,(f+c)*y),g.addUpdateRange(e*y,c*y),g.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart}}return this._nextIndexStart=n,this._nextVertexStart=e,this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Fr,o=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let f=l;o&&(f=o.getX(f)),a.expandByPoint(gh.fromBufferAttribute(s,f))}i.boundingBox=a}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new _r;this.getBoundingBoxAt(e,Vv),Vv.getCenter(a.center);const o=r.index,s=r.attributes.position;let l=0;for(let u=i.start,f=i.start+i.count;u<f;u++){let c=u;o&&(c=o.getX(c)),gh.fromBufferAttribute(s,c),l=Math.max(l,a.center.distanceToSquared(gh))}a.radius=Math.sqrt(l),i.boundingSphere=a}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(vw);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Il(this._multiDrawCounts,i),Il(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Il(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Il(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Il(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Et,this._initializeGeometry(a));const o=this.geometry;a.index&&Il(a.index.array,o.index.array);for(const s in a.attributes)Il(a.attributes[s].array,o.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Rr.material=this.material,Rr.geometry.index=o.index,Rr.geometry.attributes=o.attributes,Rr.geometry.boundingBox===null&&(Rr.geometry.boundingBox=new Fr),Rr.geometry.boundingSphere===null&&(Rr.geometry.boundingSphere=new _r);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,f=i[u];Rr.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(s,Rr.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Rr.geometry.boundingBox),this.getBoundingSphereAt(u,Rr.geometry.boundingSphere),Rr.raycast(e,Hv);for(let c=0,h=Hv.length;c<h;c++){const m=Hv[c];m.object=this,m.batchId=s,n.push(m)}Hv.length=0}Rr.material=null,Rr.geometry.index=null,Rr.geometry.attributes={},Rr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex();let s=o===null?1:o.array.BYTES_PER_ELEMENT,l=1;a.wireframe&&(l=2,s=i.attributes.position.count>65535?4:2);const u=this._instanceInfo,f=this._multiDrawStarts,c=this._multiDrawCounts,h=this._geometryInfo,m=this.perObjectFrustumCulled,g=this._indirectTexture,_=g.image.data,y=r.isArrayCamera?Qye:KL;m&&!r.isArrayCamera&&(ii.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),KL.setFromProjectionMatrix(ii,r.coordinateSystem,r.reversedDepth));let v=0;if(this.sortObjects){ii.copy(this.matrixWorld).invert(),gh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ii),ZL.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ii);for(let M=0,w=u.length;M<w;M++)if(u[M].visible&&u[M].active){const E=u[M].geometryIndex;this.getMatrixAt(M,ii),this.getBoundingSphereAt(E,Rl).applyMatrix4(ii);let P=!1;if(m&&(P=!y.intersectsSphere(Rl,r)),!P){const A=h[E],C=e0e.subVectors(Rl.center,gh).dot(ZL);yw.push(A.start,A.count,C,M)}}const x=yw.list,b=this.customSort;b===null?x.sort(a.transparent?Kye:Yye):b.call(this,x,r);for(let M=0,w=x.length;M<w;M++){const E=x[M];f[v]=E.start*s*l,c[v]=E.count*l,_[v]=E.index,v++}yw.reset()}else for(let x=0,b=u.length;x<b;x++)if(u[x].visible&&u[x].active){const M=u[x].geometryIndex;let w=!1;if(m&&(this.getMatrixAt(x,ii),this.getBoundingSphereAt(M,Rl).applyMatrix4(ii),w=!y.intersectsSphere(Rl,r)),!w){const E=h[M];f[v]=E.start*s*l,c[v]=E.count*l,_[v]=x,v++}}g.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Qr extends Sr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hx=new X,Gx=new X,JL=new wt,vh=new gd,Gv=new _r,xw=new X,QL=new X;class rl extends Wt{constructor(e=new Et,n=new Qr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)Hx.fromBufferAttribute(n,i-1),Gx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Hx.distanceTo(Gx);e.setAttribute("lineDistance",new at(r,1))}else We("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Gv.copy(r.boundingSphere),Gv.applyMatrix4(i),Gv.radius+=a,e.ray.intersectsSphere(Gv)===!1)return;JL.copy(i).invert(),vh.copy(e.ray).applyMatrix4(JL);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,f=r.index,h=r.attributes.position;if(f!==null){const m=Math.max(0,o.start),g=Math.min(f.count,o.start+o.count);for(let _=m,y=g-1;_<y;_+=u){const v=f.getX(_),x=f.getX(_+1),b=Wv(this,e,vh,l,v,x,_);b&&n.push(b)}if(this.isLineLoop){const _=f.getX(g-1),y=f.getX(m),v=Wv(this,e,vh,l,_,y,g-1);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let _=m,y=g-1;_<y;_+=u){const v=Wv(this,e,vh,l,_,_+1,_);v&&n.push(v)}if(this.isLineLoop){const _=Wv(this,e,vh,l,g-1,m,g-1);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function Wv(t,e,n,r,i,a,o){const s=t.geometry.attributes.position;if(Hx.fromBufferAttribute(s,i),Gx.fromBufferAttribute(s,a),n.distanceSqToSegment(Hx,Gx,xw,QL)>r)return;xw.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(xw);if(!(u<e.near||u>e.far))return{distance:u,point:QL.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const eD=new X,tD=new X;class yo extends rl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)eD.fromBufferAttribute(n,i),tD.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+eD.distanceTo(tD);e.setAttribute("lineDistance",new at(r,1))}else We("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class fj extends rl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class cC extends Sr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const nD=new wt,MA=new gd,Xv=new _r,qv=new X;class dj extends Wt{constructor(e=new Et,n=new cC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Xv.copy(r.boundingSphere),Xv.applyMatrix4(i),Xv.radius+=a,e.ray.intersectsSphere(Xv)===!1)return;nD.copy(i).invert(),MA.copy(e.ray).applyMatrix4(nD);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,c=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=h,_=m;g<_;g++){const y=u.getX(g);qv.fromBufferAttribute(c,y),rD(qv,y,l,i,e,n,this)}}else{const h=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=h,_=m;g<_;g++)qv.fromBufferAttribute(c,g),rD(qv,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function rD(t,e,n,r,i,a,o){const s=MA.distanceSqToPoint(t);if(s<n){const l=new X;MA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class hj extends Cn{constructor(e,n,r,i,a=dn,o=dn,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const f=this;function c(){f.needsUpdate=!0,f._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(c))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class n0e extends hj{constructor(e,n,r,i,a,o,s,l){super({},e,n,r,i,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class r0e extends Cn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=zn,this.minFilter=zn,this.generateMipmaps=!1,this.needsUpdate=!0}}class yb extends Cn{constructor(e,n,r,i,a,o,s,l,u,f,c,h){super(null,o,s,l,u,f,i,a,c,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class i0e extends yb{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=di,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class a0e extends yb{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,po),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Fm extends Cn{constructor(e=[],n=po,r,i,a,o,s,l,u,f){super(e,n,r,i,a,o,s,l,u,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class o0e extends Cn{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Cu extends Cn{constructor(e,n,r=ha,i,a,o,s=zn,l=zn,u,f=mo,c=1){if(f!==mo&&f!==Fs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:c};super(h,i,a,o,s,l,f,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Bs(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class pj extends Cu{constructor(e,n=ha,r=po,i,a,o=zn,s=zn,l,u=mo){const f={width:e,height:e,depth:1},c=[f,f,f,f,f,f];super(e,e,n,r,i,a,o,s,l,u),this.image=c,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class fC extends Cn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Fu extends Et{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],f=[],c=[];let h=0,m=0;g("z","y","x",-1,-1,r,n,e,o,a,0),g("z","y","x",1,-1,r,n,-e,o,a,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(f,3)),this.setAttribute("uv",new at(c,2));function g(_,y,v,x,b,M,w,E,P,A,C){const I=M/P,R=w/A,k=M/2,F=w/2,G=E/2,$=P+1,V=A+1;let H=0,U=0;const j=new X;for(let Y=0;Y<V;Y++){const Z=Y*R-F;for(let J=0;J<$;J++){const fe=J*I-k;j[_]=fe*x,j[y]=Z*b,j[v]=G,u.push(j.x,j.y,j.z),j[_]=0,j[y]=0,j[v]=E>0?1:-1,f.push(j.x,j.y,j.z),c.push(J/P),c.push(1-Y/A),H+=1}}for(let Y=0;Y<A;Y++)for(let Z=0;Z<P;Z++){const J=h+Z+$*Y,fe=h+Z+$*(Y+1),we=h+(Z+1)+$*(Y+1),De=h+(Z+1)+$*Y;l.push(J,fe,De),l.push(fe,we,De),U+=6}s.addGroup(m,U,C),m+=U,h+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class xb extends Et{constructor(e=1,n=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:a},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],f=n/2,c=Math.PI/2*e,h=n,m=2*c+h,g=r*2+a,_=i+1,y=new X,v=new X;for(let x=0;x<=g;x++){let b=0,M=0,w=0,E=0;if(x<=r){const C=x/r,I=C*Math.PI/2;M=-f-e*Math.cos(I),w=e*Math.sin(I),E=-e*Math.cos(I),b=C*c}else if(x<=r+a){const C=(x-r)/a;M=-f+C*n,w=e,E=0,b=c+C*h}else{const C=(x-r-a)/r,I=C*Math.PI/2;M=f+e*Math.sin(I),w=e*Math.cos(I),E=e*Math.sin(I),b=c+h+C*c}const P=Math.max(0,Math.min(1,b/m));let A=0;x===0?A=.5/i:x===g&&(A=-.5/i);for(let C=0;C<=i;C++){const I=C/i,R=I*Math.PI*2,k=Math.sin(R),F=Math.cos(R);v.x=-w*F,v.y=M,v.z=w*k,s.push(v.x,v.y,v.z),y.set(-w*F,E,w*k),y.normalize(),l.push(y.x,y.y,y.z),u.push(I+A,P)}if(x>0){const C=(x-1)*_;for(let I=0;I<i;I++){const R=C+I,k=C+I+1,F=x*_+I,G=x*_+I+1;o.push(R,k,F),o.push(k,G,F)}}}this.setIndex(o),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class _b extends Et{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new X,f=new Ee;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let c=0,h=3;c<=n;c++,h+=3){const m=r+c/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),s.push(0,0,1),f.x=(o[h]/e+1)/2,f.y=(o[h+1]/e+1)/2,l.push(f.x,f.y)}for(let c=1;c<=n;c++)a.push(c,c+1,0);this.setIndex(a),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _b(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Bm extends Et{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const f=[],c=[],h=[],m=[];let g=0;const _=[],y=r/2;let v=0;x(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(f),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(h,3)),this.setAttribute("uv",new at(m,2));function x(){const M=new X,w=new X;let E=0;const P=(n-e)/r;for(let A=0;A<=a;A++){const C=[],I=A/a,R=I*(n-e)+e;for(let k=0;k<=i;k++){const F=k/i,G=F*l+s,$=Math.sin(G),V=Math.cos(G);w.x=R*$,w.y=-I*r+y,w.z=R*V,c.push(w.x,w.y,w.z),M.set($,P,V).normalize(),h.push(M.x,M.y,M.z),m.push(F,1-I),C.push(g++)}_.push(C)}for(let A=0;A<i;A++)for(let C=0;C<a;C++){const I=_[C][A],R=_[C+1][A],k=_[C+1][A+1],F=_[C][A+1];(e>0||C!==0)&&(f.push(I,R,F),E+=3),(n>0||C!==a-1)&&(f.push(R,k,F),E+=3)}u.addGroup(v,E,0),v+=E}function b(M){const w=g,E=new Ee,P=new X;let A=0;const C=M===!0?e:n,I=M===!0?1:-1;for(let k=1;k<=i;k++)c.push(0,y*I,0),h.push(0,I,0),m.push(.5,.5),g++;const R=g;for(let k=0;k<=i;k++){const G=k/i*l+s,$=Math.cos(G),V=Math.sin(G);P.x=C*V,P.y=y*I,P.z=C*$,c.push(P.x,P.y,P.z),h.push(0,I,0),E.x=$*.5+.5,E.y=V*.5*I+.5,m.push(E.x,E.y),g++}for(let k=0;k<i;k++){const F=w+k,G=R+k;M===!0?f.push(G,G+1,F):f.push(G+1,G,F),A+=3}u.addGroup(v,A,M===!0?1:2),v+=A}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zm extends Bm{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new zm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ml extends Et{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),f(),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(a.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(x){const b=new X,M=new X,w=new X;for(let E=0;E<n.length;E+=3)m(n[E+0],b),m(n[E+1],M),m(n[E+2],w),l(b,M,w,x)}function l(x,b,M,w){const E=w+1,P=[];for(let A=0;A<=E;A++){P[A]=[];const C=x.clone().lerp(M,A/E),I=b.clone().lerp(M,A/E),R=E-A;for(let k=0;k<=R;k++)k===0&&A===E?P[A][k]=C:P[A][k]=C.clone().lerp(I,k/R)}for(let A=0;A<E;A++)for(let C=0;C<2*(E-A)-1;C++){const I=Math.floor(C/2);C%2===0?(h(P[A][I+1]),h(P[A+1][I]),h(P[A][I])):(h(P[A][I+1]),h(P[A+1][I+1]),h(P[A+1][I]))}}function u(x){const b=new X;for(let M=0;M<a.length;M+=3)b.x=a[M+0],b.y=a[M+1],b.z=a[M+2],b.normalize().multiplyScalar(x),a[M+0]=b.x,a[M+1]=b.y,a[M+2]=b.z}function f(){const x=new X;for(let b=0;b<a.length;b+=3){x.x=a[b+0],x.y=a[b+1],x.z=a[b+2];const M=y(x)/2/Math.PI+.5,w=v(x)/Math.PI+.5;o.push(M,1-w)}g(),c()}function c(){for(let x=0;x<o.length;x+=6){const b=o[x+0],M=o[x+2],w=o[x+4],E=Math.max(b,M,w),P=Math.min(b,M,w);E>.9&&P<.1&&(b<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),w<.2&&(o[x+4]+=1))}}function h(x){a.push(x.x,x.y,x.z)}function m(x,b){const M=x*3;b.x=e[M+0],b.y=e[M+1],b.z=e[M+2]}function g(){const x=new X,b=new X,M=new X,w=new X,E=new Ee,P=new Ee,A=new Ee;for(let C=0,I=0;C<a.length;C+=9,I+=6){x.set(a[C+0],a[C+1],a[C+2]),b.set(a[C+3],a[C+4],a[C+5]),M.set(a[C+6],a[C+7],a[C+8]),E.set(o[I+0],o[I+1]),P.set(o[I+2],o[I+3]),A.set(o[I+4],o[I+5]),w.copy(x).add(b).add(M).divideScalar(3);const R=y(w);_(E,I+0,x,R),_(P,I+2,b,R),_(A,I+4,M,R)}}function _(x,b,M,w){w<0&&x.x===1&&(o[b]=x.x-1),M.x===0&&M.z===0&&(o[b]=w/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ml(e.vertices,e.indices,e.radius,e.detail)}}class bb extends ml{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new bb(e.radius,e.detail)}}const Yv=new X,Kv=new X,_w=new X,Zv=new ui;class mj extends Et{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(fu*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],f=["a","b","c"],c=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:_,b:y,c:v}=Zv;if(_.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),v.fromBufferAttribute(s,u[2]),Zv.getNormal(_w),c[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,c[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,c[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(c[0]===c[1]||c[1]===c[2]||c[2]===c[0]))for(let x=0;x<3;x++){const b=(x+1)%3,M=c[x],w=c[b],E=Zv[f[x]],P=Zv[f[b]],A=`${M}_${w}`,C=`${w}_${M}`;C in h&&h[C]?(_w.dot(h[C].normal)<=a&&(m.push(E.x,E.y,E.z),m.push(P.x,P.y,P.z)),h[C]=null):A in h||(h[A]={index0:u[x],index1:u[b],normal:_w.clone()})}}for(const g in h)if(h[g]){const{index0:_,index1:y}=h[g];Yv.fromBufferAttribute(s,_),Kv.fromBufferAttribute(s,y),m.push(Yv.x,Yv.y,Yv.z),m.push(Kv.x,Kv.y,Kv.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ja{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){We("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const f=r[i],h=r[i+1]-f,m=(o-f)/h;return(i+m)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new Ee:new X);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new X,i=[],a=[],o=[],s=new X,l=new wt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new X)}a[0]=new X,o[0]=new X;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),c=Math.abs(i[0].y),h=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),c<=u&&(u=c,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let m=1;m<=e;m++){if(a[m]=a[m-1].clone(),o[m]=o[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(St(i[m-1].dot(i[m]),-1,1));a[m].applyMatrix4(l.makeRotationAxis(s,g))}o[m].crossVectors(i[m],a[m])}if(n===!0){let m=Math.acos(St(a[0].dot(a[e]),-1,1));m/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(m=-m);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Sb extends ja{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Ee){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const f=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*f-m*c+this.aX,u=h*c+m*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class gj extends Sb{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function dC(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,f,c){let h=(o-a)/u-(s-a)/(u+f)+(s-o)/f,m=(s-o)/f-(l-o)/(f+c)+(l-s)/c;h*=f,m*=f,i(o,s,h,m)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const Jv=new X,bw=new dC,Sw=new dC,ww=new dC;class vj extends ja{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,f;this.closed||s>0?u=i[(s-1)%a]:(Jv.subVectors(i[0],i[1]).add(i[0]),u=Jv);const c=i[s%a],h=i[(s+1)%a];if(this.closed||s+2<a?f=i[(s+2)%a]:(Jv.subVectors(i[a-1],i[a-2]).add(i[a-1]),f=Jv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(c),m),_=Math.pow(c.distanceToSquared(h),m),y=Math.pow(h.distanceToSquared(f),m);_<1e-4&&(_=1),g<1e-4&&(g=_),y<1e-4&&(y=_),bw.initNonuniformCatmullRom(u.x,c.x,h.x,f.x,g,_,y),Sw.initNonuniformCatmullRom(u.y,c.y,h.y,f.y,g,_,y),ww.initNonuniformCatmullRom(u.z,c.z,h.z,f.z,g,_,y)}else this.curveType==="catmullrom"&&(bw.initCatmullRom(u.x,c.x,h.x,f.x,this.tension),Sw.initCatmullRom(u.y,c.y,h.y,f.y,this.tension),ww.initCatmullRom(u.z,c.z,h.z,f.z,this.tension));return r.set(bw.calc(l),Sw.calc(l),ww.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function iD(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function s0e(t,e){const n=1-t;return n*n*e}function l0e(t,e){return 2*(1-t)*t*e}function u0e(t,e){return t*t*e}function np(t,e,n,r){return s0e(t,e)+l0e(t,n)+u0e(t,r)}function c0e(t,e){const n=1-t;return n*n*n*e}function f0e(t,e){const n=1-t;return 3*n*n*t*e}function d0e(t,e){return 3*(1-t)*t*t*e}function h0e(t,e){return t*t*t*e}function rp(t,e,n,r,i){return c0e(t,e)+f0e(t,n)+d0e(t,r)+h0e(t,i)}class hC extends ja{constructor(e=new Ee,n=new Ee,r=new Ee,i=new Ee){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ee){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(rp(e,i.x,a.x,o.x,s.x),rp(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yj extends ja{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(rp(e,i.x,a.x,o.x,s.x),rp(e,i.y,a.y,o.y,s.y),rp(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pC extends ja{constructor(e=new Ee,n=new Ee){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ee){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ee){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xj extends ja{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new X){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mC extends ja{constructor(e=new Ee,n=new Ee,r=new Ee){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ee){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(np(e,i.x,a.x,o.x),np(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gC extends ja{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(np(e,i.x,a.x,o.x),np(e,i.y,a.y,o.y),np(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vC extends ja{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ee){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],c=i[o>i.length-3?i.length-1:o+2];return r.set(iD(s,l.x,u.x,f.x,c.x),iD(s,l.y,u.y,f.y,c.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ee().fromArray(i))}return this}}var Wx=Object.freeze({__proto__:null,ArcCurve:gj,CatmullRomCurve3:vj,CubicBezierCurve:hC,CubicBezierCurve3:yj,EllipseCurve:Sb,LineCurve:pC,LineCurve3:xj,QuadraticBezierCurve:mC,QuadraticBezierCurve3:gC,SplineCurve:vC});class _j extends ja{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Wx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Wx[i.type]().fromJSON(i))}return this}}class Xx extends _j{constructor(e){super(),this.type="Path",this.currentPoint=new Ee,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new pC(this.currentPoint.clone(),new Ee(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new mC(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new hC(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i),new Ee(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new vC(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new Sb(e,n,r,i,a,o,s,l);if(this.curves.length>0){const c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hu extends Xx{constructor(e){super(e),this.uuid=Li(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Xx().fromJSON(i))}return this}}function p0e(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=bj(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(r&&(a=x0e(t,e,a,n)),t.length>80*n){s=t[0],l=t[1];let f=s,c=l;for(let h=n;h<i;h+=n){const m=t[h],g=t[h+1];m<s&&(s=m),g<l&&(l=g),m>f&&(f=m),g>c&&(c=g)}u=Math.max(f-s,c-l),u=u!==0?32767/u:0}return pm(a,o,n,s,l,u,0),o}function bj(t,e,n,r,i){let a;if(i===O0e(t,e,n,r)>0)for(let o=e;o<n;o+=r)a=aD(o/r|0,t[o],t[o+1],a);else for(let o=n-r;o>=e;o-=r)a=aD(o/r|0,t[o],t[o+1],a);return a&&Xf(a,a.next)&&(gm(a),a=a.next),a}function Ou(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Xf(n,n.next)||Tn(n.prev,n,n.next)===0)){if(gm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function pm(t,e,n,r,i,a,o){if(!t)return;!o&&a&&M0e(t,r,i,a);let s=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(a?g0e(t,r,i,a):m0e(t)){e.push(l.i,t.i,u.i),gm(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=v0e(Ou(t),e),pm(t,e,n,r,i,a,2)):o===2&&y0e(t,e,n,r,i,a):pm(Ou(t),e,n,r,i,a,1);break}}}function m0e(t){const e=t.prev,n=t,r=t.next;if(Tn(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,f=Math.min(i,a,o),c=Math.min(s,l,u),h=Math.max(i,a,o),m=Math.max(s,l,u);let g=r.next;for(;g!==e;){if(g.x>=f&&g.x<=h&&g.y>=c&&g.y<=m&&Oh(i,s,a,l,o,u,g.x,g.y)&&Tn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function g0e(t,e,n,r){const i=t.prev,a=t,o=t.next;if(Tn(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,f=i.y,c=a.y,h=o.y,m=Math.min(s,l,u),g=Math.min(f,c,h),_=Math.max(s,l,u),y=Math.max(f,c,h),v=EA(m,g,e,n,r),x=EA(_,y,e,n,r);let b=t.prevZ,M=t.nextZ;for(;b&&b.z>=v&&M&&M.z<=x;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Oh(s,f,l,c,u,h,b.x,b.y)&&Tn(b.prev,b,b.next)>=0||(b=b.prevZ,M.x>=m&&M.x<=_&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Oh(s,f,l,c,u,h,M.x,M.y)&&Tn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;b&&b.z>=v;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Oh(s,f,l,c,u,h,b.x,b.y)&&Tn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=_&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Oh(s,f,l,c,u,h,M.x,M.y)&&Tn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function v0e(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Xf(r,i)&&wj(r,n,n.next,i)&&mm(r,i)&&mm(i,r)&&(e.push(r.i,n.i,i.i),gm(n),gm(n.next),n=t=i),n=n.next}while(n!==t);return Ou(n)}function y0e(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&T0e(o,s)){let l=Mj(o,s);o=Ou(o,o.next),l=Ou(l,l.next),pm(o,e,n,r,i,a,0),pm(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function x0e(t,e,n,r){const i=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=bj(t,s,l,r,!1);u===u.next&&(u.steiner=!0),i.push(A0e(u))}i.sort(_0e);for(let a=0;a<i.length;a++)n=b0e(i[a],n);return n}function _0e(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function b0e(t,e){const n=S0e(t,e);if(!n)return e;const r=Mj(n,t);return Ou(r,r.next),Ou(n,n.next)}function S0e(t,e){let n=e;const r=t.x,i=t.y;let a=-1/0,o;if(Xf(t,n))return n;do{if(Xf(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const c=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=r&&c>a&&(a=c,o=n.x<n.next.x?n:n.next,c===r))return o}n=n.next}while(n!==e);if(!o)return null;const s=o,l=o.x,u=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Sj(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)){const c=Math.abs(i-n.y)/(r-n.x);mm(n,t)&&(c<f||c===f&&(n.x>o.x||n.x===o.x&&w0e(o,n)))&&(o=n,f=c)}n=n.next}while(n!==s);return o}function w0e(t,e){return Tn(t.prev,t,e.prev)<0&&Tn(e.next,t,t.next)<0}function M0e(t,e,n,r){let i=t;do i.z===0&&(i.z=EA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,E0e(i)}function E0e(t){let e,n=1;do{let r=t,i;t=null;let a=null;for(e=0;r;){e++;let o=r,s=0;for(let u=0;u<n&&(s++,o=o.nextZ,!!o);u++);let l=n;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(e>1);return t}function EA(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function A0e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Sj(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Oh(t,e,n,r,i,a,o,s){return!(t===o&&e===s)&&Sj(t,e,n,r,i,a,o,s)}function T0e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!P0e(t,e)&&(mm(t,e)&&mm(e,t)&&C0e(t,e)&&(Tn(t.prev,t,e.prev)||Tn(t,e.prev,e))||Xf(t,e)&&Tn(t.prev,t,t.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Xf(t,e){return t.x===e.x&&t.y===e.y}function wj(t,e,n,r){const i=ey(Tn(t,e,n)),a=ey(Tn(t,e,r)),o=ey(Tn(n,r,t)),s=ey(Tn(n,r,e));return!!(i!==a&&o!==s||i===0&&Qv(t,n,e)||a===0&&Qv(t,r,e)||o===0&&Qv(n,t,r)||s===0&&Qv(n,e,r))}function Qv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ey(t){return t>0?1:t<0?-1:0}function P0e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&wj(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function mm(t,e){return Tn(t.prev,t,t.next)<0?Tn(t,e,t.next)>=0&&Tn(t,t.prev,e)>=0:Tn(t,e,t.prev)<0||Tn(t,t.next,e)<0}function C0e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Mj(t,e){const n=AA(t.i,t.x,t.y),r=AA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function aD(t,e,n,r){const i=AA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function gm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function AA(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function O0e(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class R0e{static triangulate(e,n,r=2){return p0e(e,n,r)}}class La{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return La.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];oD(e),sD(r,e);let o=e.length;n.forEach(oD);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,sD(r,n[l]);const s=R0e.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function oD(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function sD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class wb extends Et{constructor(e=new hu([new Ee(.5,.5),new Ee(-.5,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,c=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:I0e;let b,M=!1,w,E,P,A;if(v){b=v.getSpacedPoints(f),M=!0,h=!1;const ce=v.isCatmullRomCurve3?v.closed:!1;w=v.computeFrenetFrames(f,ce),E=new X,P=new X,A=new X}h||(y=0,m=0,g=0,_=0);const C=s.extractPoints(u);let I=C.shape;const R=C.holes;if(!La.isClockWise(I)){I=I.reverse();for(let ce=0,Se=R.length;ce<Se;ce++){const xe=R[ce];La.isClockWise(xe)&&(R[ce]=xe.reverse())}}function F(ce){const xe=10000000000000001e-36;let Ne=ce[0];for(let q=1;q<=ce.length;q++){const ut=q%ce.length,Ve=ce[ut],dt=Ve.x-Ne.x,Oe=Ve.y-Ne.y,W=dt*dt+Oe*Oe,D=Math.max(Math.abs(Ve.x),Math.abs(Ve.y),Math.abs(Ne.x),Math.abs(Ne.y)),Q=xe*D*D;if(W<=Q){ce.splice(ut,1),q--;continue}Ne=Ve}}F(I),R.forEach(F);const G=R.length,$=I;for(let ce=0;ce<G;ce++){const Se=R[ce];I=I.concat(Se)}function V(ce,Se,xe){return Se||mt("ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(Se,xe)}const H=I.length;function U(ce,Se,xe){let Ne,q,ut;const Ve=ce.x-Se.x,dt=ce.y-Se.y,Oe=xe.x-ce.x,W=xe.y-ce.y,D=Ve*Ve+dt*dt,Q=Ve*W-dt*Oe;if(Math.abs(Q)>Number.EPSILON){const he=Math.sqrt(D),Me=Math.sqrt(Oe*Oe+W*W),ge=Se.x-dt/he,nt=Se.y+Ve/he,Be=xe.x-W/Me,ht=xe.y+Oe/Me,yt=((Be-ge)*W-(ht-nt)*Oe)/(Ve*W-dt*Oe);Ne=ge+Ve*yt-ce.x,q=nt+dt*yt-ce.y;const Ce=Ne*Ne+q*q;if(Ce<=2)return new Ee(Ne,q);ut=Math.sqrt(Ce/2)}else{let he=!1;Ve>Number.EPSILON?Oe>Number.EPSILON&&(he=!0):Ve<-Number.EPSILON?Oe<-Number.EPSILON&&(he=!0):Math.sign(dt)===Math.sign(W)&&(he=!0),he?(Ne=-dt,q=Ve,ut=Math.sqrt(D)):(Ne=Ve,q=dt,ut=Math.sqrt(D/2))}return new Ee(Ne/ut,q/ut)}const j=[];for(let ce=0,Se=$.length,xe=Se-1,Ne=ce+1;ce<Se;ce++,xe++,Ne++)xe===Se&&(xe=0),Ne===Se&&(Ne=0),j[ce]=U($[ce],$[xe],$[Ne]);const Y=[];let Z,J=j.concat();for(let ce=0,Se=G;ce<Se;ce++){const xe=R[ce];Z=[];for(let Ne=0,q=xe.length,ut=q-1,Ve=Ne+1;Ne<q;Ne++,ut++,Ve++)ut===q&&(ut=0),Ve===q&&(Ve=0),Z[Ne]=U(xe[Ne],xe[ut],xe[Ve]);Y.push(Z),J=J.concat(Z)}let fe;if(y===0)fe=La.triangulateShape($,R);else{const ce=[],Se=[];for(let xe=0;xe<y;xe++){const Ne=xe/y,q=m*Math.cos(Ne*Math.PI/2),ut=g*Math.sin(Ne*Math.PI/2)+_;for(let Ve=0,dt=$.length;Ve<dt;Ve++){const Oe=V($[Ve],j[Ve],ut);me(Oe.x,Oe.y,-q),Ne===0&&ce.push(Oe)}for(let Ve=0,dt=G;Ve<dt;Ve++){const Oe=R[Ve];Z=Y[Ve];const W=[];for(let D=0,Q=Oe.length;D<Q;D++){const he=V(Oe[D],Z[D],ut);me(he.x,he.y,-q),Ne===0&&W.push(he)}Ne===0&&Se.push(W)}}fe=La.triangulateShape(ce,Se)}const we=fe.length,De=g+_;for(let ce=0;ce<H;ce++){const Se=h?V(I[ce],J[ce],De):I[ce];M?(P.copy(w.normals[0]).multiplyScalar(Se.x),E.copy(w.binormals[0]).multiplyScalar(Se.y),A.copy(b[0]).add(P).add(E),me(A.x,A.y,A.z)):me(Se.x,Se.y,0)}for(let ce=1;ce<=f;ce++)for(let Se=0;Se<H;Se++){const xe=h?V(I[Se],J[Se],De):I[Se];M?(P.copy(w.normals[ce]).multiplyScalar(xe.x),E.copy(w.binormals[ce]).multiplyScalar(xe.y),A.copy(b[ce]).add(P).add(E),me(A.x,A.y,A.z)):me(xe.x,xe.y,c/f*ce)}for(let ce=y-1;ce>=0;ce--){const Se=ce/y,xe=m*Math.cos(Se*Math.PI/2),Ne=g*Math.sin(Se*Math.PI/2)+_;for(let q=0,ut=$.length;q<ut;q++){const Ve=V($[q],j[q],Ne);me(Ve.x,Ve.y,c+xe)}for(let q=0,ut=R.length;q<ut;q++){const Ve=R[q];Z=Y[q];for(let dt=0,Oe=Ve.length;dt<Oe;dt++){const W=V(Ve[dt],Z[dt],Ne);M?me(W.x,W.y+b[f-1].y,b[f-1].x+xe):me(W.x,W.y,c+xe)}}}ae(),be();function ae(){const ce=i.length/3;if(h){let Se=0,xe=H*Se;for(let Ne=0;Ne<we;Ne++){const q=fe[Ne];Te(q[2]+xe,q[1]+xe,q[0]+xe)}Se=f+y*2,xe=H*Se;for(let Ne=0;Ne<we;Ne++){const q=fe[Ne];Te(q[0]+xe,q[1]+xe,q[2]+xe)}}else{for(let Se=0;Se<we;Se++){const xe=fe[Se];Te(xe[2],xe[1],xe[0])}for(let Se=0;Se<we;Se++){const xe=fe[Se];Te(xe[0]+H*f,xe[1]+H*f,xe[2]+H*f)}}r.addGroup(ce,i.length/3-ce,0)}function be(){const ce=i.length/3;let Se=0;Ae($,Se),Se+=$.length;for(let xe=0,Ne=R.length;xe<Ne;xe++){const q=R[xe];Ae(q,Se),Se+=q.length}r.addGroup(ce,i.length/3-ce,1)}function Ae(ce,Se){let xe=ce.length;for(;--xe>=0;){const Ne=xe;let q=xe-1;q<0&&(q=ce.length-1);for(let ut=0,Ve=f+y*2;ut<Ve;ut++){const dt=H*ut,Oe=H*(ut+1),W=Se+Ne+dt,D=Se+q+dt,Q=Se+q+Oe,he=Se+Ne+Oe;Pe(W,D,Q,he)}}}function me(ce,Se,xe){l.push(ce),l.push(Se),l.push(xe)}function Te(ce,Se,xe){pe(ce),pe(Se),pe(xe);const Ne=i.length/3,q=x.generateTopUV(r,i,Ne-3,Ne-2,Ne-1);Ge(q[0]),Ge(q[1]),Ge(q[2])}function Pe(ce,Se,xe,Ne){pe(ce),pe(Se),pe(Ne),pe(Se),pe(xe),pe(Ne);const q=i.length/3,ut=x.generateSideWallUV(r,i,q-6,q-3,q-2,q-1);Ge(ut[0]),Ge(ut[1]),Ge(ut[3]),Ge(ut[1]),Ge(ut[2]),Ge(ut[3])}function pe(ce){i.push(l[ce*3+0]),i.push(l[ce*3+1]),i.push(l[ce*3+2])}function Ge(ce){a.push(ce.x),a.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return N0e(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Wx[i.type]().fromJSON(i)),new wb(r,e.options)}}const I0e={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new Ee(a,o),new Ee(s,l),new Ee(u,f)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],c=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],_=e[a*3],y=e[a*3+1],v=e[a*3+2];return Math.abs(s-f)<Math.abs(o-u)?[new Ee(o,1-l),new Ee(u,1-c),new Ee(h,1-g),new Ee(_,1-v)]:[new Ee(s,1-l),new Ee(f,1-c),new Ee(m,1-g),new Ee(y,1-v)]}};function N0e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Mb extends ml{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Mb(e.radius,e.detail)}}class Eb extends Et{constructor(e=[new Ee(0,-.5),new Ee(.5,0),new Ee(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=St(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],f=1/n,c=new X,h=new Ee,m=new X,g=new X,_=new X;let y=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-y,m.z=v*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:y=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-y,m.z=v*0,g.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(g)}for(let x=0;x<=n;x++){const b=r+x*f*i,M=Math.sin(b),w=Math.cos(b);for(let E=0;E<=e.length-1;E++){c.x=e[E].x*M,c.y=e[E].y,c.z=e[E].x*w,o.push(c.x,c.y,c.z),h.x=x/n,h.y=E/(e.length-1),s.push(h.x,h.y);const P=l[3*E+0]*M,A=l[3*E+1],C=l[3*E+0]*w;u.push(P,A,C)}}for(let x=0;x<n;x++)for(let b=0;b<e.length-1;b++){const M=b+x*e.length,w=M,E=M+e.length,P=M+e.length+1,A=M+1;a.push(w,E,A),a.push(P,A,E)}this.setIndex(a),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(s,2)),this.setAttribute("normal",new at(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eb(e.points,e.segments,e.phiStart,e.phiLength)}}class jm extends ml{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new jm(e.radius,e.detail)}}class yd extends Et{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,f=l+1,c=e/s,h=n/l,m=[],g=[],_=[],y=[];for(let v=0;v<f;v++){const x=v*h-o;for(let b=0;b<u;b++){const M=b*c-a;g.push(M,-x,0),_.push(0,0,1),y.push(b/s),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<s;x++){const b=x+u*v,M=x+u*(v+1),w=x+1+u*(v+1),E=x+1+u*v;m.push(b,M,E),m.push(M,w,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yd(e.width,e.height,e.widthSegments,e.heightSegments)}}class Ab extends Et{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],f=[];let c=e;const h=(n-e)/i,m=new X,g=new Ee;for(let _=0;_<=i;_++){for(let y=0;y<=r;y++){const v=a+y/r*o;m.x=c*Math.cos(v),m.y=c*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,f.push(g.x,g.y)}c+=h}for(let _=0;_<i;_++){const y=_*(r+1);for(let v=0;v<r;v++){const x=v+y,b=x,M=x+r+1,w=x+r+2,E=x+1;s.push(b,M,E),s.push(M,w,E)}}this.setIndex(s),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ab(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Tb extends Et{constructor(e=new hu([new Ee(0,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(s,l,f),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(o,2));function u(f){const c=i.length/3,h=f.extractPoints(n);let m=h.shape;const g=h.holes;La.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,v=g.length;y<v;y++){const x=g[y];La.isClockWise(x)===!0&&(g[y]=x.reverse())}const _=La.triangulateShape(m,g);for(let y=0,v=g.length;y<v;y++){const x=g[y];m=m.concat(x)}for(let y=0,v=m.length;y<v;y++){const x=m[y];i.push(x.x,x.y,0),a.push(0,0,1),o.push(x.x,x.y)}for(let y=0,v=_.length;y<v;y++){const x=_[y],b=x[0]+c,M=x[1]+c,w=x[2]+c;r.push(b,M,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return L0e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new Tb(r,e.curveSegments)}}function L0e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class $m extends Et{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const f=[],c=new X,h=new X,m=[],g=[],_=[],y=[];for(let v=0;v<=r;v++){const x=[],b=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let w=0;w<=n;w++){const E=w/n;c.x=-e*Math.cos(i+E*a)*Math.sin(o+b*s),c.y=e*Math.cos(o+b*s),c.z=e*Math.sin(i+E*a)*Math.sin(o+b*s),g.push(c.x,c.y,c.z),h.copy(c).normalize(),_.push(h.x,h.y,h.z),y.push(E+M,1-b),x.push(u++)}f.push(x)}for(let v=0;v<r;v++)for(let x=0;x<n;x++){const b=f[v][x+1],M=f[v][x],w=f[v+1][x],E=f[v+1][x+1];(v!==0||o>0)&&m.push(b,M,E),(v!==r-1||l<Math.PI)&&m.push(M,w,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $m(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Pb extends ml{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Pb(e.radius,e.detail)}}class Cb extends Et{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2,o=0,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a,thetaStart:o,thetaLength:s},r=Math.floor(r),i=Math.floor(i);const l=[],u=[],f=[],c=[],h=new X,m=new X,g=new X;for(let _=0;_<=r;_++){const y=o+_/r*s;for(let v=0;v<=i;v++){const x=v/i*a;m.x=(e+n*Math.cos(y))*Math.cos(x),m.y=(e+n*Math.cos(y))*Math.sin(x),m.z=n*Math.sin(y),u.push(m.x,m.y,m.z),h.x=e*Math.cos(x),h.y=e*Math.sin(x),g.subVectors(m,h).normalize(),f.push(g.x,g.y,g.z),c.push(v/i),c.push(_/r)}}for(let _=1;_<=r;_++)for(let y=1;y<=i;y++){const v=(i+1)*_+y-1,x=(i+1)*(_-1)+y-1,b=(i+1)*(_-1)+y,M=(i+1)*_+y;l.push(v,x,M),l.push(x,b,M)}this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(f,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ob extends Et{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],f=[],c=new X,h=new X,m=new X,g=new X,_=new X,y=new X,v=new X;for(let b=0;b<=r;++b){const M=b/r*a*Math.PI*2;x(M,a,o,e,m),x(M+.01,a,o,e,g),y.subVectors(g,m),v.addVectors(g,m),_.crossVectors(y,v),v.crossVectors(_,y),_.normalize(),v.normalize();for(let w=0;w<=i;++w){const E=w/i*Math.PI*2,P=-n*Math.cos(E),A=n*Math.sin(E);c.x=m.x+(P*v.x+A*_.x),c.y=m.y+(P*v.y+A*_.y),c.z=m.z+(P*v.z+A*_.z),l.push(c.x,c.y,c.z),h.subVectors(c,m).normalize(),u.push(h.x,h.y,h.z),f.push(b/r),f.push(w/i)}}for(let b=1;b<=r;b++)for(let M=1;M<=i;M++){const w=(i+1)*(b-1)+(M-1),E=(i+1)*b+(M-1),P=(i+1)*b+M,A=(i+1)*(b-1)+M;s.push(w,E,A),s.push(E,P,A)}this.setIndex(s),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2));function x(b,M,w,E,P){const A=Math.cos(b),C=Math.sin(b),I=w/M*b,R=Math.cos(I);P.x=E*(2+R)*.5*A,P.y=E*(2+R)*C*.5,P.z=E*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ob(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Rb extends Et{constructor(e=new gC(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new X,l=new X,u=new Ee;let f=new X;const c=[],h=[],m=[],g=[];_(),this.setIndex(g),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(h,3)),this.setAttribute("uv",new at(m,2));function _(){for(let b=0;b<n;b++)y(b);y(a===!1?n:0),x(),v()}function y(b){f=e.getPointAt(b/n,f);const M=o.normals[b],w=o.binormals[b];for(let E=0;E<=i;E++){const P=E/i*Math.PI*2,A=Math.sin(P),C=-Math.cos(P);l.x=C*M.x+A*w.x,l.y=C*M.y+A*w.y,l.z=C*M.z+A*w.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=f.x+r*l.x,s.y=f.y+r*l.y,s.z=f.z+r*l.z,c.push(s.x,s.y,s.z)}}function v(){for(let b=1;b<=n;b++)for(let M=1;M<=i;M++){const w=(i+1)*(b-1)+(M-1),E=(i+1)*b+(M-1),P=(i+1)*b+M,A=(i+1)*(b-1)+M;g.push(w,E,A),g.push(E,P,A)}}function x(){for(let b=0;b<=n;b++)for(let M=0;M<=i;M++)u.x=b/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Rb(new Wx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ej extends Et{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new X,a=new X;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const c=l[u],h=c.start,m=c.count;for(let g=h,_=h+m;g<_;g+=3)for(let y=0;y<3;y++){const v=s.getX(g+y),x=s.getX(g+(y+1)%3);i.fromBufferAttribute(o,v),a.fromBufferAttribute(o,x),lD(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const f=3*s+u,c=3*s+(u+1)%3;i.fromBufferAttribute(o,f),a.fromBufferAttribute(o,c),lD(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new at(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function lD(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var uD=Object.freeze({__proto__:null,BoxGeometry:Fu,CapsuleGeometry:xb,CircleGeometry:_b,ConeGeometry:zm,CylinderGeometry:Bm,DodecahedronGeometry:bb,EdgesGeometry:mj,ExtrudeGeometry:wb,IcosahedronGeometry:Mb,LatheGeometry:Eb,OctahedronGeometry:jm,PlaneGeometry:yd,PolyhedronGeometry:ml,RingGeometry:Ab,ShapeGeometry:Tb,SphereGeometry:$m,TetrahedronGeometry:Pb,TorusGeometry:Cb,TorusKnotGeometry:Ob,TubeGeometry:Rb,WireframeGeometry:Ej});class Aj extends Sr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}function qf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(We("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vr(t){const e={};for(let n=0;n<t.length;n++){const r=qf(t[n]);for(const i in r)e[i]=r[i]}return e}function D0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Tj(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:zt.workingColorSpace}const yC={clone:qf,merge:Vr};var k0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,U0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fi extends Sr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=k0e,this.fragmentShader=U0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qf(e.uniforms),this.uniformsGroups=D0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class xC extends Fi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ib extends Sr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pj extends Ib{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return St(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Cj extends Sr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=km,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oj extends Sr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Rj extends Sr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Ij extends Sr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=km,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _C extends Sr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=W5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class bC extends Sr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Nj extends Sr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lj extends Qr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function iu(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Dj(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function TA(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function SC(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function F0e(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],f=u.getValueSize(),c=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){c.push(u.times[m]);for(let _=0;_<f;++_)h.push(u.values[m*f+_])}}c.length!==0&&(u.times=iu(c,u.times.constructor),u.values=iu(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function B0e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===s.name&&v.ValueTypeName===l});if(u===void 0)continue;let f=0;const c=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=c/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=s.times.length-1;let _;if(a<=s.times[0]){const v=f,x=c-f;_=s.values.slice(v,x)}else if(a>=s.times[g]){const v=g*c+f,x=v+c-f;_=s.values.slice(v,x)}else{const v=s.createInterpolant(),x=f,b=c-f;v.evaluate(a),_=v.resultBuffer.slice(x,b)}l==="quaternion"&&new Kr().fromArray(_).normalize().conjugate().toArray(_);const y=u.times.length;for(let v=0;v<y;++v){const x=v*m+h;if(l==="quaternion")Kr.multiplyQuaternionsFlat(u.values,x,_,0,u.values,x);else{const b=m-h*2;for(let M=0;M<b;++M)u.values[x+M]-=_[M]}}}return t.blendMode=rC,t}class z0e{static convertArray(e,n){return iu(e,n)}static isTypedArray(e){return ej(e)}static getKeyframeOrder(e){return Dj(e)}static sortedArray(e,n,r){return TA(e,n,r)}static flattenJSON(e,n,r,i){SC(e,n,r,i)}static subclip(e,n,r,i,a=30){return F0e(e,n,r,i,a)}static makeClipAdditive(e,n=0,r=e,i=30){return B0e(e,n,r,i)}}class xd{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class kj extends xd{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nu,endingEnd:nu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case ru:a=e,s=2*n-r;break;case lm:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ru:o=e,l=2*r-n;break;case lm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,f=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),_=g*g,y=_*g,v=-h*y+2*h*_-h*g,x=(1+h)*y+(-1.5-2*h)*_+(-.5+h)*g+1,b=(-1-m)*y+(1.5+m)*_+.5*g,M=m*y-m*_;for(let w=0;w!==s;++w)a[w]=v*o[f+w]+x*o[u+w]+b*o[l+w]+M*o[c+w];return a}}class wC extends xd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,f=(r-n)/(i-n),c=1-f;for(let h=0;h!==s;++h)a[h]=o[u+h]*c+o[l+h]*f;return a}}class Uj extends xd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Fj extends xd{interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,f=this.settings||this.DefaultSettings_,c=f.inTangents,h=f.outTangents;if(!c||!h){const _=(r-n)/(i-n),y=1-_;for(let v=0;v!==s;++v)a[v]=o[u+v]*y+o[l+v]*_;return a}const m=s*2,g=e-1;for(let _=0;_!==s;++_){const y=o[u+_],v=o[l+_],x=g*m+_*2,b=h[x],M=h[x+1],w=e*m+_*2,E=c[w],P=c[w+1];let A=(r-n)/(i-n),C,I,R,k,F;for(let G=0;G<8;G++){C=A*A,I=C*A,R=1-A,k=R*R,F=k*R;const V=F*n+3*k*A*b+3*R*C*E+I*i-r;if(Math.abs(V)<1e-10)break;const H=3*k*(b-n)+6*R*A*(E-b)+3*C*(i-E);if(Math.abs(H)<1e-10)break;A=A-V/H,A=Math.max(0,Math.min(1,A))}a[_]=F*y+3*k*A*M+3*R*C*P+I*v}return a}}class ga{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=iu(n,this.TimeBufferType),this.values=iu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:iu(e.times,Array),values:iu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Uj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new wC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){const n=new Fj(this.times,this.values,this.getValueSize(),e);return this.settings&&(n.settings=this.settings),n}setInterpolation(e){let n;switch(e){case sm:n=this.InterpolantFactoryMethodDiscrete;break;case $x:n=this.InterpolantFactoryMethodLinear;break;case Ty:n=this.InterpolantFactoryMethodSmooth;break;case bA:n=this.InterpolantFactoryMethodBezier;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return We("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sm;case this.InterpolantFactoryMethodLinear:return $x;case this.InterpolantFactoryMethodSmooth:return Ty;case this.InterpolantFactoryMethodBezier:return bA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(mt("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(mt("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){mt("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){mt("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&ej(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){mt("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Ty,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],f=e[s+1];if(u!==f&&(s!==1||u!==e[0]))if(i)l=!0;else{const c=s*r,h=c-r,m=c+r;for(let g=0;g!==r;++g){const _=n[c+g];if(_!==n[h+g]||_!==n[m+g]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const c=s*r,h=o*r;for(let m=0;m!==r;++m)n[h+m]=n[c+m]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ga.prototype.ValueTypeName="";ga.prototype.TimeBufferType=Float32Array;ga.prototype.ValueBufferType=Float32Array;ga.prototype.DefaultInterpolation=$x;class Bu extends ga{constructor(e,n,r){super(e,n,r)}}Bu.prototype.ValueTypeName="bool";Bu.prototype.ValueBufferType=Array;Bu.prototype.DefaultInterpolation=sm;Bu.prototype.InterpolantFactoryMethodLinear=void 0;Bu.prototype.InterpolantFactoryMethodSmooth=void 0;class MC extends ga{constructor(e,n,r,i){super(e,n,r,i)}}MC.prototype.ValueTypeName="color";class vm extends ga{constructor(e,n,r,i){super(e,n,r,i)}}vm.prototype.ValueTypeName="number";class Bj extends xd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let f=u+s;u!==f;u+=4)Kr.slerpFlat(a,0,o,u-s,o,u,l);return a}}class Vm extends ga{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new Bj(this.times,this.values,this.getValueSize(),e)}}Vm.prototype.ValueTypeName="quaternion";Vm.prototype.InterpolantFactoryMethodSmooth=void 0;class zu extends ga{constructor(e,n,r){super(e,n,r)}}zu.prototype.ValueTypeName="string";zu.prototype.ValueBufferType=Array;zu.prototype.DefaultInterpolation=sm;zu.prototype.InterpolantFactoryMethodLinear=void 0;zu.prototype.InterpolantFactoryMethodSmooth=void 0;class ym extends ga{constructor(e,n,r,i){super(e,n,r,i)}}ym.prototype.ValueTypeName="vector";class xm{constructor(e="",n=-1,r=[],i=lb){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Li(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push($0e(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=r.length;a!==o;++a)n.push(ga.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const f=Dj(l);l=TA(l,1,f),u=TA(u,1,f),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new vm(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],f=u.name.match(a);if(f&&f.length>1){const c=f[1];let h=i[c];h||(i[c]=h=[]),h.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(We("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return mt("AnimationClip: No animation in JSONLoader data."),null;const r=function(c,h,m,g,_){if(m.length!==0){const y=[],v=[];SC(m,y,v,g),y.length!==0&&_.push(new c(h,y,v))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let c=0;c<u.length;c++){const h=u[c].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let _=0;_<h[g].morphTargets.length;_++)m[h[g].morphTargets[_]]=-1;for(const _ in m){const y=[],v=[];for(let x=0;x!==h[g].morphTargets.length;++x){const b=h[g];y.push(b.time),v.push(b.morphTarget===_?1:0)}i.push(new vm(".morphTargetInfluence["+_+"]",y,v))}l=m.length*o}else{const m=".bones["+n[c].name+"]";r(ym,m+".position",h,"pos",i),r(Vm,m+".quaternion",h,"rot",i),r(ym,m+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function j0e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vm;case"vector":case"vector2":case"vector3":case"vector4":return ym;case"color":return MC;case"quaternion":return Vm;case"bool":case"boolean":return Bu;case"string":return zu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function $0e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=j0e(t.type);if(t.times===void 0){const n=[],r=[];SC(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const oo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(cD(t)||(this.files[t]=e))},get:function(t){if(this.enabled!==!1&&!cD(t))return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function cD(t){try{const e=t.slice(t.indexOf(":")+1);return new URL(e).protocol==="blob:"}catch{return!1}}class EC{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(f){s++,a===!1&&i.onStart!==void 0&&i.onStart(f,o,s),a=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,c){return u.push(f,c),this},this.removeHandler=function(f){const c=u.indexOf(f);return c!==-1&&u.splice(c,2),this},this.getHandler=function(f){for(let c=0,h=u.length;c<h;c+=2){const m=u[c],g=u[c+1];if(m.global&&(m.lastIndex=0),m.test(f))return g}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const zj=new EC;class yi{constructor(e){this.manager=e!==void 0?e:zj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}yi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Io={};class V0e extends Error{constructor(e,n){super(e),this.response=n}}class ns extends yi{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=oo.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Io[e]!==void 0){Io[e].push({onLoad:n,onProgress:r,onError:i});return}Io[e]=[],Io[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&We("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=Io[e],c=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let _=0;const y=new ReadableStream({start(v){x();function x(){c.read().then(({done:b,value:M})=>{if(b)v.close();else{_+=M.byteLength;const w=new ProgressEvent("progress",{lengthComputable:g,loaded:_,total:m});for(let E=0,P=f.length;E<P;E++){const A=f[E];A.onProgress&&A.onProgress(w)}v.enqueue(M),x()}},b=>{v.error(b)})}}});return new Response(y)}else throw new V0e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,s));case"json":return u.json();default:if(s==="")return u.text();{const c=/charset="?([^;"\s]*)"?/i.exec(s),h=c&&c[1]?c[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{oo.add(`file:${e}`,u);const f=Io[e];delete Io[e];for(let c=0,h=f.length;c<h;c++){const m=f[c];m.onLoad&&m.onLoad(u)}}).catch(u=>{const f=Io[e];if(f===void 0)throw this.manager.itemError(e),u;delete Io[e];for(let c=0,h=f.length;c<h;c++){const m=f[c];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class H0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=xm.parse(e[r]);n.push(i)}return n}}class G0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new yb,l=new ns(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function f(c){l.load(e[c],function(h){const m=a.parse(h,!0);o[c]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=dn),s.image=o,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let c=0,h=e.length;c<h;++c)f(c);else l.load(e,function(c){const h=a.parse(c,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let _=0;_<h.mipmapCount;_++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+_]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=dn),s.format=h.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}const Mc=new WeakMap;class _m extends yi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=oo.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0);else{let c=Mc.get(o);c===void 0&&(c=[],Mc.set(o,c)),c.push({onLoad:n,onError:i})}return o}const s=fm("img");function l(){f(),n&&n(this);const c=Mc.get(this)||[];for(let h=0;h<c.length;h++){const m=c[h];m.onLoad&&m.onLoad(this)}Mc.delete(this),a.manager.itemEnd(e)}function u(c){f(),i&&i(c),oo.remove(`image:${e}`);const h=Mc.get(this)||[];for(let m=0;m<h.length;m++){const g=h[m];g.onError&&g.onError(c)}Mc.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),oo.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class W0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=new Fm;a.colorSpace=oi;const o=new _m(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(f){a.images[u]=f,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class X0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new Ua,s=new ns(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(f){if(i!==void 0)i(f);else{f(f);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:di,o.wrapT=u.wrapT!==void 0?u.wrapT:di,o.magFilter=u.magFilter!==void 0?u.magFilter:dn,o.minFilter=u.minFilter!==void 0?u.minFilter:dn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ao),u.mipmapCount===1&&(o.minFilter=dn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class q0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=new Cn,o=new _m(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class gl extends Wt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class jj extends gl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const Mw=new wt,fD=new X,dD=new X;class AC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ee(512,512),this.mapType=Gr,this.map=null,this.mapPass=null,this.matrix=new wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vd,this._frameExtents=new Ee(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;fD.setFromMatrixPosition(e.matrixWorld),n.position.copy(fD),dD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(dD),n.updateMatrixWorld(),Mw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Mw,n.coordinateSystem,n.reversedDepth),n.coordinateSystem===Tu||n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Mw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const ty=new X,ny=new Kr,Qa=new X;class Hm extends Wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wt,this.projectionMatrix=new wt,this.projectionMatrixInverse=new wt,this.coordinateSystem=Ii,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(ty,ny,Qa),Qa.x===1&&Qa.y===1&&Qa.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(ty,ny,Qa.set(1,1,1)).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorld.decompose(ty,ny,Qa),Qa.x===1&&Qa.y===1&&Qa.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(ty,ny,Qa.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const Ms=new X,hD=new Ee,pD=new Ee;let dr=class extends Hm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gf*2*Math.atan(Math.tan(fu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ms.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ms.x,Ms.y).multiplyScalar(-e/Ms.z),Ms.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ms.x,Ms.y).multiplyScalar(-e/Ms.z)}getViewSize(e,n){return this.getViewBounds(e,hD,pD),n.subVectors(pD,hD)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(fu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};class Y0e extends AC{constructor(){super(new dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Gf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class $j extends gl{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Y0e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class K0e extends AC{constructor(){super(new dr(90,1,.5,500)),this.isPointLightShadow=!0}}class Vj extends gl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new K0e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class _d extends Hm{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=f*this.view.offsetY,l=s-f*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class Z0e extends AC{constructor(){super(new _d(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Hj extends gl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.shadow=new Z0e}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class Gj extends gl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Wj extends gl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class TC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class Xj extends gl{constructor(e=new TC,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Nb extends yi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new ns(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&We("MaterialLoader: Undefined texture",a),n[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new et().setHex(o.value);break;case"v2":i.uniforms[a].value=new Ee().fromArray(o.value);break;case"v3":i.uniforms[a].value=new X().fromArray(o.value);break;case"v4":i.uniforms[a].value=new cn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Pt().fromArray(o.value);break;case"m4":i.uniforms[a].value=new wt().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ee().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ee().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Nb.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Aj,SpriteMaterial:lC,RawShaderMaterial:xC,ShaderMaterial:Fi,PointsMaterial:cC,MeshPhysicalMaterial:Pj,MeshStandardMaterial:Ib,MeshPhongMaterial:Cj,MeshToonMaterial:Oj,MeshNormalMaterial:Rj,MeshLambertMaterial:Ij,MeshDepthMaterial:_C,MeshDistanceMaterial:bC,MeshBasicMaterial:pl,MeshMatcapMaterial:Nj,LineDashedMaterial:Lj,LineBasicMaterial:Qr,Material:Sr};return new n[e]}}class PA{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class qj extends Et{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Yj extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],v=a(m,y.buffer),x=Zc(y.type,v),b=new mb(x,y.stride);return b.uuid=y.uuid,n[g]=b,b}function a(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],v=new Uint32Array(y).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new qj:new Et,s=e.data.index;if(s!==void 0){const m=Zc(s.type,s.array);o.setIndex(new Qt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let _;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);_=new Pu(y,g.itemSize,g.offset,g.normalized)}else{const y=Zc(g.type,g.array),v=g.isInstancedBufferAttribute?Wf:Qt;_=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),g.usage!==void 0&&_.setUsage(g.usage),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],_=[];for(let y=0,v=g.length;y<v;y++){const x=g[y];let b;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);b=new Pu(M,x.itemSize,x.offset,x.normalized)}else{const M=Zc(x.type,x.array);b=new Qt(M,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),_.push(b)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let m=0,g=c.length;m!==g;++m){const _=c[m];o.addGroup(_.start,_.count,_.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new _r().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class J0e extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?PA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new ns(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(c){i!==void 0&&i(c),c("ObjectLoader: Can't parse "+e+".",c.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),mt("ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?PA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new ns(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n);let s;try{s=JSON.parse(o)}catch(u){throw new Error("ObjectLoader: Can't parse "+e+". "+u.message)}const l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),this.bindLightTargets(u),n!==void 0){let c=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){c=!0;break}c===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new hu().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new gb().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Yj;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in uD?s=uD[l.type].fromJSON(l,n):We(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new Nb;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=xm.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:Zc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new EC(n);a=new _m(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const c=e[u],h=c.url;if(Array.isArray(h)){const m=[];for(let g=0,_=h.length;g<_;g++){const y=h[g],v=s(y);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Ua(v.data,v.width,v.height)))}i[c.uuid]=new Bs(m)}else{const m=s(c.url);i[c.uuid]=new Bs(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:Zc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new _m(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let c=0,h=u.length;c<h;c++){const m=u[c],g=await a(m);g!==null&&(g instanceof HTMLImageElement?f.push(g):f.push(new Ua(g.data,g.width,g.height)))}r[l.uuid]=new Bs(f)}else{const f=await a(l.url);r[l.uuid]=new Bs(f)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(We("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&We('ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&We("ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let f;Array.isArray(u)?(f=new Fm,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new Ua:f=new Cn,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=s.uuid,s.name!==void 0&&(f.name=s.name),s.mapping!==void 0&&(f.mapping=r(s.mapping,Q0e)),s.channel!==void 0&&(f.channel=s.channel),s.offset!==void 0&&f.offset.fromArray(s.offset),s.repeat!==void 0&&f.repeat.fromArray(s.repeat),s.center!==void 0&&f.center.fromArray(s.center),s.rotation!==void 0&&(f.rotation=s.rotation),s.wrap!==void 0&&(f.wrapS=r(s.wrap[0],mD),f.wrapT=r(s.wrap[1],mD)),s.format!==void 0&&(f.format=s.format),s.internalFormat!==void 0&&(f.internalFormat=s.internalFormat),s.type!==void 0&&(f.type=s.type),s.colorSpace!==void 0&&(f.colorSpace=s.colorSpace),s.minFilter!==void 0&&(f.minFilter=r(s.minFilter,gD)),s.magFilter!==void 0&&(f.magFilter=r(s.magFilter,gD)),s.anisotropy!==void 0&&(f.anisotropy=s.anisotropy),s.flipY!==void 0&&(f.flipY=s.flipY),s.generateMipmaps!==void 0&&(f.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(f.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(f.compareFunction=s.compareFunction),s.userData!==void 0&&(f.userData=s.userData),i[s.uuid]=f}return i}parseObject(e,n,r,i,a){let o;function s(h){return n[h]===void 0&&We("ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,_=h.length;g<_;g++){const y=h[g];r[y]===void 0&&We("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[h]===void 0&&We("ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&We("ObjectLoader: Undefined texture",h),i[h]}let f,c;switch(e.type){case"Scene":o=new Vx,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new pb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new hb(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new dr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new _d(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Gj(e.color,e.intensity);break;case"DirectionalLight":o=new Hj(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Vj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Wj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new $j(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new jj(e.color,e.groundColor,e.intensity);break;case"LightProbe":const h=new TC().fromArray(e.sh);o=new Xj(h,e.intensity);break;case"SkinnedMesh":f=s(e.geometry),c=l(e.material),o=new lj(f,c),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=s(e.geometry),c=l(e.material),o=new qn(f,c);break;case"InstancedMesh":f=s(e.geometry),c=l(e.material);const m=e.count,g=e.instanceMatrix,_=e.instanceColor;o=new uj(f,c,m),o.instanceMatrix=new Wf(new Float32Array(g.array),16),_!==void 0&&(o.instanceColor=new Wf(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":f=s(e.geometry),c=l(e.material),o=new cj(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,c),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let v=null,x=null;return y.boundingBox!==void 0&&(v=new Fr().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(x=new _r().fromJSON(y.boundingSphere)),{...y,boundingBox:v,boundingSphere:x}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new _r().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Fr().fromJSON(e.boundingBox));break;case"LOD":o=new sj;break;case"Line":o=new rl(s(e.geometry),l(e.material));break;case"LineLoop":o=new fj(s(e.geometry),l(e.material));break;case"LineSegments":o=new yo(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new dj(s(e.geometry),l(e.material));break;case"Sprite":o=new oj(l(e.material));break;case"Group":o=new Jc;break;case"Bone":o=new uC;break;default:o=new Wt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.pivot!==void 0&&(o.pivot=new X().fromArray(e.pivot)),e.morphTargetDictionary!==void 0&&(o.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),e.morphTargetInfluences!==void 0&&(o.morphTargetInfluences=e.morphTargetInfluences.slice()),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.static!==void 0&&(o.static=e.static),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],n,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],_=o.getObjectByProperty("uuid",g.object);_!==void 0&&o.addLevel(_,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?We("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Wt}})}}const Q0e={UVMapping:tb,CubeReflectionMapping:po,CubeRefractionMapping:tl,EquirectangularReflectionMapping:qh,EquirectangularRefractionMapping:Yh,CubeUVReflectionMapping:md},mD={RepeatWrapping:am,ClampToEdgeWrapping:di,MirroredRepeatWrapping:om},gD={NearestFilter:zn,NearestMipmapNearestFilter:KP,NearestMipmapLinearFilter:Kc,LinearFilter:dn,LinearMipmapNearestFilter:Kh,LinearMipmapLinearFilter:ao},Ew=new WeakMap;class exe extends yi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&We("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&We("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=oo.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{if(Ew.has(o)===!0)i&&i(Ew.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return oo.add(`image-bitmap:${e}`,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Ew.set(l,u),oo.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});oo.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let ry;class PC{static getContext(){return ry===void 0&&(ry=new(window.AudioContext||window.webkitAudioContext)),ry}static setContext(e){ry=e}}class txe extends yi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);PC.getContext().decodeAudioData(u,function(c){n(c)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):mt(l),a.manager.itemError(e)}}}const vD=new wt,yD=new wt,Nl=new wt;class nxe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Nl.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(fu*n.fov*.5)/n.zoom;let s,l;yD.elements[12]=-i,vD.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,Nl.elements[0]=2*n.near/(l-s),Nl.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Nl),s=-o*n.aspect-a,l=o*n.aspect-a,Nl.elements[0]=2*n.near/(l-s),Nl.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Nl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vD)}}const Ec=-90,Ac=1;class Kj extends Wt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new dr(Ec,Ac,e,n);i.layers=this.layers,this.add(i);const a=new dr(Ec,Ac,e,n);a.layers=this.layers,this.add(a);const o=new dr(Ec,Ac,e,n);o.layers=this.layers,this.add(o);const s=new dr(Ec,Ac,e,n);s.layers=this.layers,this.add(s);const l=new dr(Ec,Ac,e,n);l.layers=this.layers,this.add(l);const u=new dr(Ec,Ac,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===Ii)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Tu)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,f]=this.children,c=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1;let y=!1;e.isWebGLRenderer===!0?y=e.state.buffers.depth.getReversed():y=e.reversedDepthBuffer,e.setRenderTarget(r,0,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,a),e.setRenderTarget(r,1,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,o),e.setRenderTarget(r,2,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,s),e.setRenderTarget(r,3,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,l),e.setRenderTarget(r,4,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,u),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,f),e.setRenderTarget(c,h,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Zj extends dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Jj{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=rxe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function rxe(){this._document.hidden===!1&&this.reset()}const Ll=new X,Aw=new Kr,ixe=new X,Dl=new X,kl=new X;class axe extends Wt{constructor(){super(),this.type="AudioListener",this.context=PC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new Jj}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e),this._timer.update();const n=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(Ll,Aw,ixe),Dl.set(0,0,-1).applyQuaternion(Aw),kl.set(0,1,0).applyQuaternion(Aw),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ll.x,r),n.positionY.linearRampToValueAtTime(Ll.y,r),n.positionZ.linearRampToValueAtTime(Ll.z,r),n.forwardX.linearRampToValueAtTime(Dl.x,r),n.forwardY.linearRampToValueAtTime(Dl.y,r),n.forwardZ.linearRampToValueAtTime(Dl.z,r),n.upX.linearRampToValueAtTime(kl.x,r),n.upY.linearRampToValueAtTime(kl.y,r),n.upZ.linearRampToValueAtTime(kl.z,r)}else n.setPosition(Ll.x,Ll.y,Ll.z),n.setOrientation(Dl.x,Dl.y,Dl.z,kl.x,kl.y,kl.z)}}class Qj extends Wt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){We("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(We("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(We("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ul=new X,xD=new Kr,oxe=new X,Fl=new X;class sxe extends Qj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ul,xD,oxe),Fl.set(0,0,1).applyQuaternion(xD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ul.x,r),n.positionY.linearRampToValueAtTime(Ul.y,r),n.positionZ.linearRampToValueAtTime(Ul.z,r),n.orientationX.linearRampToValueAtTime(Fl.x,r),n.orientationY.linearRampToValueAtTime(Fl.y,r),n.orientationZ.linearRampToValueAtTime(Fl.z,r)}else n.setPosition(Ul.x,Ul.y,Ul.z),n.setOrientation(Fl.x,Fl.y,Fl.z)}}class lxe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class e${constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Kr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;Kr.multiplyQuaternionsFlat(e,o,e,n,e,r),Kr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const CC="\\[\\]\\.:\\/",uxe=new RegExp("["+CC+"]","g"),OC="[^"+CC+"]",cxe="[^"+CC.replace("\\.","")+"]",fxe=/((?:WC+[\/:])*)/.source.replace("WC",OC),dxe=/(WCOD+)?/.source.replace("WCOD",cxe),hxe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OC),pxe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OC),mxe=new RegExp("^"+fxe+dxe+hxe+pxe+"$"),gxe=["material","materials","bones","map"];class vxe{constructor(e,n,r){const i=r||Vt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vt{constructor(e,n,r){this.path=n,this.parsedPath=r||Vt.parseTrackName(n),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,n,r):new Vt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(uxe,"")}static parseTrackName(e){const n=mxe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);gxe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){We("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){mt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){mt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){mt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){mt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){mt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){mt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){mt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;mt("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){mt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){mt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=vxe;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class yxe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Li(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let f=0,c=arguments.length;f!==c;++f){const h=arguments[f],m=h.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(h);for(let _=0,y=o;_!==y;++_)a[_].push(new Vt(h,r[_],i[_]))}else if(g<u){s=e[g];const _=--u,y=e[_];n[y.uuid]=g,e[g]=y,n[m]=_,e[_]=h;for(let v=0,x=o;v!==x;++v){const b=a[v],M=b[_];let w=b[g];b[g]=M,w===void 0&&(w=new Vt(h,r[v],i[v])),b[_]=w}}else e[g]!==s&&mt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=a){const c=a++,h=e[c];n[h.uuid]=f,e[f]=h,n[u]=c,e[c]=l;for(let m=0,g=i;m!==g;++m){const _=r[m],y=_[c],v=_[f];_[f]=y,_[c]=v}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],f=u.uuid,c=n[f];if(c!==void 0)if(delete n[f],c<a){const h=--a,m=e[h],g=--o,_=e[g];n[m.uuid]=c,e[c]=m,n[_.uuid]=h,e[h]=_,e.pop();for(let y=0,v=i;y!==v;++y){const x=r[y],b=x[h],M=x[g];x[c]=b,x[h]=M,x.pop()}}else{const h=--o,m=e[h];h>0&&(n[m.uuid]=c),e[c]=m,e.pop();for(let g=0,_=i;g!==_;++g){const y=r[g];y[c]=y[h],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,c=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(c);for(let h=f,m=l.length;h!==m;++h){const g=l[h];c[h]=new Vt(g,e,n)}return c}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class t${constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:nu,endingEnd:nu};for(let u=0;u!==o;++u){const f=a[u].createInterpolant(null);s[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=H5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case rC:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(o),u[f].accumulateAdditive(s);break;case lb:default:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(o),u[f].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===G5;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===V5){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=ru,i.endingEnd=ru):(e?i.endingStart=this.zeroSlopeAtStart?ru:nu:i.endingStart=lm,n?i.endingEnd=this.zeroSlopeAtEnd?ru:nu:i.endingEnd=lm)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const xxe=new Float32Array(1);class _xe extends vo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let c=0;c!==a;++c){const h=i[c],m=h.name;let g=f[m];if(g!==void 0)++g.referenceCount,o[c]=g;else{if(g=o[c],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const _=n&&n._propertyBindings[c].binding.parsedPath;g=new e$(Vt.create(r,m,_),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[c]=g}s[c].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const c=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new wC(new Float32Array(2),new Float32Array(2),1,xxe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?xm.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=lb),l!==void 0){const c=l.actionByRoot[a];if(c!==void 0&&c.blendMode===r)return c;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new t$(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,s,a),f}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?xm.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const f=u._cacheIndex,c=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=f,n[f]=c,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class bxe extends aC{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new db(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class RC{constructor(e){this.value=e}clone(){return new RC(this.value.clone===void 0?this.value:this.value.clone())}}let Sxe=0;class wxe extends vo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Sxe++}),this.name="",this.usage=cm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Mxe extends mb{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Exe{constructor(e,n,r,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const _D=new wt;class n${constructor(e,n,r=0,i=1/0){this.ray=new gd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new du,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):mt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return _D.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_D),this}intersectObject(e,n=!0,r=[]){return CA(e,this,r,n),r.sort(bD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)CA(e[i],this,r,n);return r.sort(bD),r}}function bD(t,e){return t.distance-e.distance}function CA(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const a=t.children;for(let o=0,s=a.length;o<s;o++)CA(a[o],e,n,!0)}}class r${constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,We("THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.")}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class Axe{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=St(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(St(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Txe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class IC{constructor(e,n,r,i){IC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=i,this}}const SD=new Ee;class Pxe{constructor(e=new Ee(1/0,1/0),n=new Ee(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=SD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,SD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wD=new X,iy=new X,Tc=new X,Pc=new X,Tw=new X,Cxe=new X,Oxe=new X;class Rxe{constructor(e=new X,n=new X){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){wD.subVectors(e,this.start),iy.subVectors(this.end,this.start);const r=iy.dot(iy);let a=iy.dot(wD)/r;return n&&(a=St(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=Cxe,r=Oxe){const i=10000000000000001e-32;let a,o;const s=this.start,l=e.start,u=this.end,f=e.end;Tc.subVectors(u,s),Pc.subVectors(f,l),Tw.subVectors(s,l);const c=Tc.dot(Tc),h=Pc.dot(Pc),m=Pc.dot(Tw);if(c<=i&&h<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(c<=i)a=0,o=m/h,o=St(o,0,1);else{const g=Tc.dot(Tw);if(h<=i)o=0,a=St(-g/c,0,1);else{const _=Tc.dot(Pc),y=c*h-_*_;y!==0?a=St((_*m-g*h)/y,0,1):a=0,o=(_*a+m)/h,o<0?(o=0,a=St(-g/c,0,1)):o>1&&(o=1,a=St((_-g)/c,0,1))}}return n.copy(s).addScaledVector(Tc,a),r.copy(l).addScaledVector(Pc,o),n.distanceToSquared(r)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const MD=new X;class Ixe extends Wt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Et,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,f=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new at(i,3));const a=new Qr({fog:!1,toneMapped:!1});this.cone=new yo(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),MD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(MD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Es=new X,ay=new wt,Pw=new wt;class Nxe extends yo{constructor(e){const n=i$(e),r=new Et,i=[],a=[];for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(a,3));const o=new Qr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new et(255),l=new et(65280);this.setColors(s,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Pw.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(ay.multiplyMatrices(Pw,s.matrixWorld),Es.setFromMatrixPosition(ay),i.setXYZ(o,Es.x,Es.y,Es.z),ay.multiplyMatrices(Pw,s.parent.matrixWorld),Es.setFromMatrixPosition(ay),i.setXYZ(o+1,Es.x,Es.y,Es.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function i$(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...i$(t.children[n]));return e}class Lxe extends qn{constructor(e,n,r){const i=new $m(n,4,2),a=new pl({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Dxe=new X,ED=new et,AD=new et;class kxe extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new jm(n);i.rotateY(Math.PI*.5),this.material=new pl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Qt(o,3)),this.add(new qn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");ED.copy(this.light.color),AD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?ED:AD;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Dxe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Uxe extends yo{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let h=0,m=0,g=-s;h<=n;h++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const _=h===a?r:i;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const f=new Et;f.setAttribute("position",new at(l,3)),f.setAttribute("color",new at(u,3));const c=new Qr({vertexColors:!0,toneMapped:!1});super(f,c),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fxe extends yo{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new et(a),o=new et(o);const s=[],l=[];if(n>1)for(let c=0;c<n;c++){const h=c/n*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;s.push(0,0,0),s.push(m,0,g);const _=c&1?a:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let c=0;c<r;c++){const h=c&1?a:o,m=e-e/r*c;for(let g=0;g<i;g++){let _=g/i*(Math.PI*2),y=Math.sin(_)*m,v=Math.cos(_)*m;s.push(y,0,v),l.push(h.r,h.g,h.b),_=(g+1)/i*(Math.PI*2),y=Math.sin(_)*m,v=Math.cos(_)*m,s.push(y,0,v),l.push(h.r,h.g,h.b)}}const u=new Et;u.setAttribute("position",new at(s,3)),u.setAttribute("color",new at(l,3));const f=new Qr({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const TD=new X,oy=new X,PD=new X;class Bxe extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Et;i.setAttribute("position",new at([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Qr({fog:!1,toneMapped:!1});this.lightPlane=new rl(i,a),this.add(this.lightPlane),i=new Et,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new rl(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),TD.setFromMatrixPosition(this.light.matrixWorld),oy.setFromMatrixPosition(this.light.target.matrixWorld),PD.subVectors(oy,TD),this.lightPlane.lookAt(oy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oy),this.targetLine.scale.z=PD.length()}}const sy=new X,Nn=new Hm;class zxe extends yo{constructor(e){const n=new Et,r=new Qr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,_){l(g),l(_)}function l(g){i.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new at(i,3)),n.setAttribute("color",new at(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),f=new et(16711680),c=new et(43775),h=new et(16777215),m=new et(3355443);this.setColors(u,f,c,h,m)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let a,o;if(Nn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Ii)a=-1,o=1;else if(this.camera.coordinateSystem===Tu)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Un("c",n,e,Nn,0,0,a),Un("t",n,e,Nn,0,0,o),Un("n1",n,e,Nn,-r,-i,a),Un("n2",n,e,Nn,r,-i,a),Un("n3",n,e,Nn,-r,i,a),Un("n4",n,e,Nn,r,i,a),Un("f1",n,e,Nn,-r,-i,o),Un("f2",n,e,Nn,r,-i,o),Un("f3",n,e,Nn,-r,i,o),Un("f4",n,e,Nn,r,i,o),Un("u1",n,e,Nn,r*.7,i*1.1,a),Un("u2",n,e,Nn,-r*.7,i*1.1,a),Un("u3",n,e,Nn,0,i*2,a),Un("cf1",n,e,Nn,-r,0,o),Un("cf2",n,e,Nn,r,0,o),Un("cf3",n,e,Nn,0,-i,o),Un("cf4",n,e,Nn,0,i,o),Un("cn1",n,e,Nn,-r,0,a),Un("cn2",n,e,Nn,r,0,a),Un("cn3",n,e,Nn,0,-i,a),Un("cn4",n,e,Nn,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Un(t,e,n,r,i,a,o){sy.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,f=s.length;u<f;u++)l.setXYZ(s[u],sy.x,sy.y,sy.z)}}const ly=new Fr;class jxe extends yo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Et;a.setIndex(new Qt(r,1)),a.setAttribute("position",new Qt(i,3)),super(a,new Qr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ly.setFromObject(this.object),ly.isEmpty())return;const e=ly.min,n=ly.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $xe extends yo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Et;a.setIndex(new Qt(r,1)),a.setAttribute("position",new at(i,3)),super(a,new Qr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Vxe extends rl{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Et;o.setAttribute("position",new at(a,3)),o.computeBoundingSphere(),super(o,new Qr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Et;l.setAttribute("position",new at(s,3)),l.computeBoundingSphere(),this.add(new qn(l,new pl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const CD=new X;let uy,Cw;class Hxe extends Wt{constructor(e=new X(0,0,1),n=new X(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",uy===void 0&&(uy=new Et,uy.setAttribute("position",new at([0,0,0,0,1,0],3)),Cw=new zm(.5,1,5,1),Cw.translate(0,-.5,0)),this.position.copy(n),this.line=new rl(uy,new Qr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qn(Cw,new pl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{CD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(CD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Gxe extends yo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Et;i.setAttribute("position",new at(n,3)),i.setAttribute("color",new at(r,3));const a=new Qr({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new et,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wxe{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Xx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const x=[];for(let b=0,M=v.length;b<M;b++){const w=v[b],E=new hu;E.curves=w.curves,x.push(E)}return x}function r(v,x){const b=x.length;let M=!1;for(let w=b-1,E=0;E<b;w=E++){let P=x[w],A=x[E],C=A.x-P.x,I=A.y-P.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(P=x[E],C=-C,A=x[w],I=-I),v.y<P.y||v.y>A.y)continue;if(v.y===P.y){if(v.x===P.x)return!0}else{const R=I*(v.x-P.x)-C*(v.y-P.y);if(R===0)return!0;if(R<0)continue;M=!M}}else{if(v.y!==P.y)continue;if(A.x<=v.x&&v.x<=P.x||P.x<=v.x&&v.x<=A.x)return!0}}return M}const i=La.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new hu,l.curves=s.curves,u.push(l),u;let f=!i(a[0].getPoints());f=e?!f:f;const c=[],h=[];let m=[],g=0,_;h[g]=void 0,m[g]=[];for(let v=0,x=a.length;v<x;v++)s=a[v],_=s.getPoints(),o=i(_),o=e?!o:o,o?(!f&&h[g]&&g++,h[g]={s:new hu,p:_},h[g].s.curves=s.curves,f&&g++,m[g]=[]):m[g].push({h:s,p:_[0]});if(!h[0])return n(a);if(h.length>1){let v=!1,x=0;for(let b=0,M=h.length;b<M;b++)c[b]=[];for(let b=0,M=h.length;b<M;b++){const w=m[b];for(let E=0;E<w.length;E++){const P=w[E];let A=!0;for(let C=0;C<h.length;C++)r(P.p,h[C].p)&&(b!==C&&x++,A?(A=!1,c[C].push(P)):v=!0);A&&c[b].push(P)}}x>0&&v===!1&&(m=c)}let y;for(let v=0,x=h.length;v<x;v++){l=h[v].s,u.push(l),y=m[v];for(let b=0,M=y.length;b<M;b++)l.holes.push(y[b].h)}return u}}class Xxe extends vo{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){We("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function qxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Yxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Kxe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function OA(t,e,n,r){const i=Zxe(r);switch(n){case tC:return t*e;case ab:return t*e/i.components*i.byteLength;case Um:return t*e/i.components*i.byteLength;case Eu:return t*e*2/i.components*i.byteLength;case ob:return t*e*2/i.components*i.byteLength;case nC:return t*e*3/i.components*i.byteLength;case Ur:return t*e*4/i.components*i.byteLength;case sb:return t*e*4/i.components*i.byteLength;case Zh:case Jh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Qh:case ep:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case fx:case hx:return Math.max(t,16)*Math.max(e,8)/4;case cx:case dx:return Math.max(t,8)*Math.max(e,8)/2;case px:case mx:case vx:case yx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case gx:case xx:case _x:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Sx:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case wx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Mx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Ex:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Ax:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Tx:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Px:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Cx:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Ox:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Rx:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ix:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Nx:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Lx:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Dx:case kx:case Ux:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Fx:case Bx:return Math.ceil(t/4)*Math.ceil(e/4)*8;case zx:case jx:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Zxe(t){switch(t){case Gr:case ZP:return{byteLength:1,components:1};case Vf:case JP:case Ba:return{byteLength:2,components:1};case rb:case ib:return{byteLength:2,components:4};case ha:case nb:case kr:return{byteLength:4,components:1};case QP:case eC:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Jxe{static contain(e,n){return qxe(e,n)}static cover(e,n){return Yxe(e,n)}static fill(e){return Kxe(e)}static getByteLength(e,n,r,i){return OA(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Q_}}));typeof window<"u"&&(window.__THREE__?We("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Q_);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function a$(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Qxe(t){const e=new WeakMap;function n(s,l){const u=s.array,f=s.usage,c=u.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,u,f),s.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=t.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:c}}function r(s,l,u){const f=l.array,c=l.updateRanges;if(t.bindBuffer(u,s),c.length===0)t.bufferSubData(u,0,f);else{c.sort((m,g)=>m.start-g.start);let h=0;for(let m=1;m<c.length;m++){const g=c[h],_=c[m];_.start<=g.start+g.count+1?g.count=Math.max(g.count,_.start+_.count-g.start):(++h,c[h]=_)}c.length=h+1;for(let m=0,g=c.length;m<g;m++){const _=c[m];t.bufferSubData(u,_.start*f.BYTES_PER_ELEMENT,f,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const f=e.get(s);(!f||f.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}var e_e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,t_e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,n_e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,r_e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,i_e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,a_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,o_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,s_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,l_e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,u_e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,c_e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,f_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,d_e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,h_e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,p_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,m_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,g_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,v_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,y_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,x_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,__e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,b_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,S_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,w_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,M_e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,E_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,A_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,T_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,P_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,C_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,O_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",R_e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,I_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,N_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,L_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,D_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,k_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,U_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,F_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,B_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,z_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,j_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,V_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,H_e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,G_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,W_e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,X_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,q_e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Y_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,K_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Z_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,J_e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Q_e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ebe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tbe=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nbe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rbe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ibe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,abe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,obe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,sbe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lbe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,ube=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cbe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fbe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dbe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,hbe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pbe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,mbe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,gbe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,vbe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ybe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xbe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_be=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bbe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Sbe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,wbe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Mbe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ebe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Abe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Tbe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Pbe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,Cbe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Obe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rbe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ibe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Nbe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Lbe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dbe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,kbe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ube=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Fbe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Bbe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zbe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,jbe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$be=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Vbe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Hbe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Gbe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Wbe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Xbe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,qbe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ybe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Zbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Jbe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qbe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,eSe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,nSe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iSe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oSe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,sSe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lSe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,uSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,cSe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fSe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dSe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pSe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mSe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gSe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vSe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ySe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xSe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_Se=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,bSe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SSe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,MSe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ESe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ASe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,PSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CSe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,OSe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,RSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ISe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rt={alphahash_fragment:e_e,alphahash_pars_fragment:t_e,alphamap_fragment:n_e,alphamap_pars_fragment:r_e,alphatest_fragment:i_e,alphatest_pars_fragment:a_e,aomap_fragment:o_e,aomap_pars_fragment:s_e,batching_pars_vertex:l_e,batching_vertex:u_e,begin_vertex:c_e,beginnormal_vertex:f_e,bsdfs:d_e,iridescence_fragment:h_e,bumpmap_pars_fragment:p_e,clipping_planes_fragment:m_e,clipping_planes_pars_fragment:g_e,clipping_planes_pars_vertex:v_e,clipping_planes_vertex:y_e,color_fragment:x_e,color_pars_fragment:__e,color_pars_vertex:b_e,color_vertex:S_e,common:w_e,cube_uv_reflection_fragment:M_e,defaultnormal_vertex:E_e,displacementmap_pars_vertex:A_e,displacementmap_vertex:T_e,emissivemap_fragment:P_e,emissivemap_pars_fragment:C_e,colorspace_fragment:O_e,colorspace_pars_fragment:R_e,envmap_fragment:I_e,envmap_common_pars_fragment:N_e,envmap_pars_fragment:L_e,envmap_pars_vertex:D_e,envmap_physical_pars_fragment:W_e,envmap_vertex:k_e,fog_vertex:U_e,fog_pars_vertex:F_e,fog_fragment:B_e,fog_pars_fragment:z_e,gradientmap_pars_fragment:j_e,lightmap_pars_fragment:$_e,lights_lambert_fragment:V_e,lights_lambert_pars_fragment:H_e,lights_pars_begin:G_e,lights_toon_fragment:X_e,lights_toon_pars_fragment:q_e,lights_phong_fragment:Y_e,lights_phong_pars_fragment:K_e,lights_physical_fragment:Z_e,lights_physical_pars_fragment:J_e,lights_fragment_begin:Q_e,lights_fragment_maps:ebe,lights_fragment_end:tbe,logdepthbuf_fragment:nbe,logdepthbuf_pars_fragment:rbe,logdepthbuf_pars_vertex:ibe,logdepthbuf_vertex:abe,map_fragment:obe,map_pars_fragment:sbe,map_particle_fragment:lbe,map_particle_pars_fragment:ube,metalnessmap_fragment:cbe,metalnessmap_pars_fragment:fbe,morphinstance_vertex:dbe,morphcolor_vertex:hbe,morphnormal_vertex:pbe,morphtarget_pars_vertex:mbe,morphtarget_vertex:gbe,normal_fragment_begin:vbe,normal_fragment_maps:ybe,normal_pars_fragment:xbe,normal_pars_vertex:_be,normal_vertex:bbe,normalmap_pars_fragment:Sbe,clearcoat_normal_fragment_begin:wbe,clearcoat_normal_fragment_maps:Mbe,clearcoat_pars_fragment:Ebe,iridescence_pars_fragment:Abe,opaque_fragment:Tbe,packing:Pbe,premultiplied_alpha_fragment:Cbe,project_vertex:Obe,dithering_fragment:Rbe,dithering_pars_fragment:Ibe,roughnessmap_fragment:Nbe,roughnessmap_pars_fragment:Lbe,shadowmap_pars_fragment:Dbe,shadowmap_pars_vertex:kbe,shadowmap_vertex:Ube,shadowmask_pars_fragment:Fbe,skinbase_vertex:Bbe,skinning_pars_vertex:zbe,skinning_vertex:jbe,skinnormal_vertex:$be,specularmap_fragment:Vbe,specularmap_pars_fragment:Hbe,tonemapping_fragment:Gbe,tonemapping_pars_fragment:Wbe,transmission_fragment:Xbe,transmission_pars_fragment:qbe,uv_pars_fragment:Ybe,uv_pars_vertex:Kbe,uv_vertex:Zbe,worldpos_vertex:Jbe,background_vert:Qbe,background_frag:eSe,backgroundCube_vert:tSe,backgroundCube_frag:nSe,cube_vert:rSe,cube_frag:iSe,depth_vert:aSe,depth_frag:oSe,distance_vert:sSe,distance_frag:lSe,equirect_vert:uSe,equirect_frag:cSe,linedashed_vert:fSe,linedashed_frag:dSe,meshbasic_vert:hSe,meshbasic_frag:pSe,meshlambert_vert:mSe,meshlambert_frag:gSe,meshmatcap_vert:vSe,meshmatcap_frag:ySe,meshnormal_vert:xSe,meshnormal_frag:_Se,meshphong_vert:bSe,meshphong_frag:SSe,meshphysical_vert:wSe,meshphysical_frag:MSe,meshtoon_vert:ESe,meshtoon_frag:ASe,points_vert:TSe,points_frag:PSe,shadow_vert:CSe,shadow_frag:OSe,sprite_vert:RSe,sprite_frag:ISe},qe={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pt},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pt}},envmap:{envMap:{value:null},envMapRotation:{value:new Pt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pt},normalScale:{value:new Ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0},uvTransform:{value:new Pt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pt},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0}}},ra={basic:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:Rt.meshbasic_vert,fragmentShader:Rt.meshbasic_frag},lambert:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},envMapIntensity:{value:1}}]),vertexShader:Rt.meshlambert_vert,fragmentShader:Rt.meshlambert_frag},phong:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphong_vert,fragmentShader:Rt.meshphong_frag},standard:{uniforms:Vr([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag},toon:{uniforms:Vr([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:Rt.meshtoon_vert,fragmentShader:Rt.meshtoon_frag},matcap:{uniforms:Vr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:Rt.meshmatcap_vert,fragmentShader:Rt.meshmatcap_frag},points:{uniforms:Vr([qe.points,qe.fog]),vertexShader:Rt.points_vert,fragmentShader:Rt.points_frag},dashed:{uniforms:Vr([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rt.linedashed_vert,fragmentShader:Rt.linedashed_frag},depth:{uniforms:Vr([qe.common,qe.displacementmap]),vertexShader:Rt.depth_vert,fragmentShader:Rt.depth_frag},normal:{uniforms:Vr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:Rt.meshnormal_vert,fragmentShader:Rt.meshnormal_frag},sprite:{uniforms:Vr([qe.sprite,qe.fog]),vertexShader:Rt.sprite_vert,fragmentShader:Rt.sprite_frag},background:{uniforms:{uvTransform:{value:new Pt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rt.background_vert,fragmentShader:Rt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pt}},vertexShader:Rt.backgroundCube_vert,fragmentShader:Rt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rt.cube_vert,fragmentShader:Rt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rt.equirect_vert,fragmentShader:Rt.equirect_frag},distance:{uniforms:Vr([qe.common,qe.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rt.distance_vert,fragmentShader:Rt.distance_frag},shadow:{uniforms:Vr([qe.lights,qe.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:Rt.shadow_vert,fragmentShader:Rt.shadow_frag}};ra.physical={uniforms:Vr([ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pt},clearcoatNormalScale:{value:new Ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pt},transmissionSamplerSize:{value:new Ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pt},anisotropyVector:{value:new Ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pt}}]),vertexShader:Rt.meshphysical_vert,fragmentShader:Rt.meshphysical_frag};const cy={r:0,b:0,g:0},Bl=new Ui,NSe=new wt;function LSe(t,e,n,r,i,a){const o=new et(0);let s=i===!0?0:1,l,u,f=null,c=0,h=null;function m(x){let b=x.isScene===!0?x.background:null;if(b&&b.isTexture){const M=x.backgroundBlurriness>0;b=e.get(b,M)}return b}function g(x){let b=!1;const M=m(x);M===null?y(o,s):M&&M.isColor&&(y(M,1),b=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?n.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(x,b){const M=m(b);M&&(M.isCubeTexture||M.mapping===md)?(u===void 0&&(u=new qn(new Fu(1,1,1),new Fi({name:"BackgroundCubeMaterial",uniforms:qf(ra.backgroundCube.uniforms),vertexShader:ra.backgroundCube.vertexShader,fragmentShader:ra.backgroundCube.fragmentShader,side:Yr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Bl.copy(b.backgroundRotation),Bl.x*=-1,Bl.y*=-1,Bl.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Bl.y*=-1,Bl.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(NSe.makeRotationFromEuler(Bl)),u.material.toneMapped=zt.getTransfer(M.colorSpace)!==tn,(f!==M||c!==M.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=M,c=M.version,h=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(l===void 0&&(l=new qn(new yd(2,2),new Fi({name:"BackgroundMaterial",uniforms:qf(ra.background.uniforms),vertexShader:ra.background.vertexShader,fragmentShader:ra.background.fragmentShader,side:ts,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=M,l.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,l.material.toneMapped=zt.getTransfer(M.colorSpace)!==tn,M.matrixAutoUpdate===!0&&M.updateMatrix(),l.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||c!==M.version||h!==t.toneMapping)&&(l.material.needsUpdate=!0,f=M,c=M.version,h=t.toneMapping),l.layers.enableAll(),x.unshift(l,l.geometry,l.material,0,0,null))}function y(x,b){x.getRGB(cy,Tj(t)),n.buffers.color.setClear(cy.r,cy.g,cy.b,b,a)}function v(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return o},setClearColor:function(x,b=1){o.set(x),s=b,y(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(x){s=x,y(o,s)},render:g,addToRenderList:_,dispose:v}}function DSe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,o=!1;function s(R,k,F,G,$){let V=!1;const H=c(R,G,F,k);a!==H&&(a=H,u(a.object)),V=m(R,G,F,$),V&&g(R,G,F,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(V||o)&&(o=!1,M(R,k,F,G),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function l(){return t.createVertexArray()}function u(R){return t.bindVertexArray(R)}function f(R){return t.deleteVertexArray(R)}function c(R,k,F,G){const $=G.wireframe===!0;let V=r[k.id];V===void 0&&(V={},r[k.id]=V);const H=R.isInstancedMesh===!0?R.id:0;let U=V[H];U===void 0&&(U={},V[H]=U);let j=U[F.id];j===void 0&&(j={},U[F.id]=j);let Y=j[$];return Y===void 0&&(Y=h(l()),j[$]=Y),Y}function h(R){const k=[],F=[],G=[];for(let $=0;$<n;$++)k[$]=0,F[$]=0,G[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:F,attributeDivisors:G,object:R,attributes:{},index:null}}function m(R,k,F,G){const $=a.attributes,V=k.attributes;let H=0;const U=F.getAttributes();for(const j in U)if(U[j].location>=0){const Z=$[j];let J=V[j];if(J===void 0&&(j==="instanceMatrix"&&R.instanceMatrix&&(J=R.instanceMatrix),j==="instanceColor"&&R.instanceColor&&(J=R.instanceColor)),Z===void 0||Z.attribute!==J||J&&Z.data!==J.data)return!0;H++}return a.attributesNum!==H||a.index!==G}function g(R,k,F,G){const $={},V=k.attributes;let H=0;const U=F.getAttributes();for(const j in U)if(U[j].location>=0){let Z=V[j];Z===void 0&&(j==="instanceMatrix"&&R.instanceMatrix&&(Z=R.instanceMatrix),j==="instanceColor"&&R.instanceColor&&(Z=R.instanceColor));const J={};J.attribute=Z,Z&&Z.data&&(J.data=Z.data),$[j]=J,H++}a.attributes=$,a.attributesNum=H,a.index=G}function _(){const R=a.newAttributes;for(let k=0,F=R.length;k<F;k++)R[k]=0}function y(R){v(R,0)}function v(R,k){const F=a.newAttributes,G=a.enabledAttributes,$=a.attributeDivisors;F[R]=1,G[R]===0&&(t.enableVertexAttribArray(R),G[R]=1),$[R]!==k&&(t.vertexAttribDivisor(R,k),$[R]=k)}function x(){const R=a.newAttributes,k=a.enabledAttributes;for(let F=0,G=k.length;F<G;F++)k[F]!==R[F]&&(t.disableVertexAttribArray(F),k[F]=0)}function b(R,k,F,G,$,V,H){H===!0?t.vertexAttribIPointer(R,k,F,$,V):t.vertexAttribPointer(R,k,F,G,$,V)}function M(R,k,F,G){_();const $=G.attributes,V=F.getAttributes(),H=k.defaultAttributeValues;for(const U in V){const j=V[U];if(j.location>=0){let Y=$[U];if(Y===void 0&&(U==="instanceMatrix"&&R.instanceMatrix&&(Y=R.instanceMatrix),U==="instanceColor"&&R.instanceColor&&(Y=R.instanceColor)),Y!==void 0){const Z=Y.normalized,J=Y.itemSize,fe=e.get(Y);if(fe===void 0)continue;const we=fe.buffer,De=fe.type,ae=fe.bytesPerElement,be=De===t.INT||De===t.UNSIGNED_INT||Y.gpuType===nb;if(Y.isInterleavedBufferAttribute){const Ae=Y.data,me=Ae.stride,Te=Y.offset;if(Ae.isInstancedInterleavedBuffer){for(let Pe=0;Pe<j.locationSize;Pe++)v(j.location+Pe,Ae.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Pe=0;Pe<j.locationSize;Pe++)y(j.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,we);for(let Pe=0;Pe<j.locationSize;Pe++)b(j.location+Pe,J/j.locationSize,De,Z,me*ae,(Te+J/j.locationSize*Pe)*ae,be)}else{if(Y.isInstancedBufferAttribute){for(let Ae=0;Ae<j.locationSize;Ae++)v(j.location+Ae,Y.meshPerAttribute);R.isInstancedMesh!==!0&&G._maxInstanceCount===void 0&&(G._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Ae=0;Ae<j.locationSize;Ae++)y(j.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,we);for(let Ae=0;Ae<j.locationSize;Ae++)b(j.location+Ae,J/j.locationSize,De,Z,J*ae,J/j.locationSize*Ae*ae,be)}}else if(H!==void 0){const Z=H[U];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(j.location,Z);break;case 3:t.vertexAttrib3fv(j.location,Z);break;case 4:t.vertexAttrib4fv(j.location,Z);break;default:t.vertexAttrib1fv(j.location,Z)}}}}x()}function w(){C();for(const R in r){const k=r[R];for(const F in k){const G=k[F];for(const $ in G){const V=G[$];for(const H in V)f(V[H].object),delete V[H];delete G[$]}}delete r[R]}}function E(R){if(r[R.id]===void 0)return;const k=r[R.id];for(const F in k){const G=k[F];for(const $ in G){const V=G[$];for(const H in V)f(V[H].object),delete V[H];delete G[$]}}delete r[R.id]}function P(R){for(const k in r){const F=r[k];for(const G in F){const $=F[G];if($[R.id]===void 0)continue;const V=$[R.id];for(const H in V)f(V[H].object),delete V[H];delete $[R.id]}}}function A(R){for(const k in r){const F=r[k],G=R.isInstancedMesh===!0?R.id:0,$=F[G];if($!==void 0){for(const V in $){const H=$[V];for(const U in H)f(H[U].object),delete H[U];delete $[V]}delete F[G],Object.keys(F).length===0&&delete r[k]}}}function C(){I(),o=!0,a!==i&&(a=i,u(a.object))}function I(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:C,resetDefaultState:I,dispose:w,releaseStatesOfGeometry:E,releaseStatesOfObject:A,releaseStatesOfProgram:P,initAttributes:_,enableAttribute:y,disableUnusedAttributes:x}}function kSe(t,e,n){let r;function i(u){r=u}function a(u,f){t.drawArrays(r,u,f),n.update(f,r,1)}function o(u,f,c){c!==0&&(t.drawArraysInstanced(r,u,f,c),n.update(f,r,c))}function s(u,f,c){if(c===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,f,0,c);let m=0;for(let g=0;g<c;g++)m+=f[g];n.update(m,r,1)}function l(u,f,c,h){if(c===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<u.length;g++)o(u[g],f[g],h[g]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,f,0,h,0,c);let g=0;for(let _=0;_<c;_++)g+=f[_]*h[_];n.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function USe(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(P){return!(P!==Ur&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const A=P===Ba&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Gr&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==kr&&!A)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const f=l(u);f!==u&&(We("WebGLRenderer:",u,"not supported, using",f,"instead."),u=f);const c=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=t.getParameter(t.MAX_SAMPLES),E=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:c,reversedDepthBuffer:h,maxTextures:m,maxVertexTextures:g,maxTextureSize:_,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:b,maxFragmentUniforms:M,maxSamples:w,samples:E}}function FSe(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new Cs,s=new Pt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,h){const m=c.length!==0||h||r!==0||i;return i=h,r=c.length,m},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(c,h){n=f(c,h,0)},this.setState=function(c,h,m){const g=c.clippingPlanes,_=c.clipIntersection,y=c.clipShadows,v=t.get(c);if(!i||g===null||g.length===0||a&&!y)a?f(null):u();else{const x=a?0:r,b=x*4;let M=v.clippingState||null;l.value=M,M=f(g,h,b,m);for(let w=0;w!==b;++w)M[w]=n[w];v.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(c,h,m,g){const _=c!==null?c.length:0;let y=null;if(_!==0){if(y=l.value,g!==!0||y===null){const v=m+_*4,x=h.matrixWorldInverse;s.getNormalMatrix(x),(y===null||y.length<v)&&(y=new Float32Array(v));for(let b=0,M=m;b!==_;++b,M+=4)o.copy(c[b]).applyMatrix4(x,s),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,y}}const zs=4,OD=[.125,.215,.35,.446,.526,.582],Xl=20,BSe=256,yh=new _d,RD=new et;let Ow=null,Rw=0,Iw=0,Nw=!1;const zSe=new X;class RA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,a={}){const{size:o=256,position:s=zSe}=a;Ow=this._renderer.getRenderTarget(),Rw=this._renderer.getActiveCubeFace(),Iw=this._renderer.getActiveMipmapLevel(),Nw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ND(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Ow,Rw,Iw),this._renderer.xr.enabled=Nw,e.scissorTest=!1,Cc(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===po||e.mapping===tl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ow=this._renderer.getRenderTarget(),Rw=this._renderer.getActiveCubeFace(),Iw=this._renderer.getActiveMipmapLevel(),Nw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:Ba,format:Ur,colorSpace:Au,depthBuffer:!1},i=ID(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ID(e,n,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=jSe(a)),this._blurMaterial=VSe(a,e,n),this._ggxMaterial=$Se(a,e,n)}return i}_compileMaterial(e){const n=new qn(new Et,e);this._renderer.compile(n,yh)}_sceneToCubeUV(e,n,r,i,a){const l=new dr(90,1,n,r),u=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],c=this._renderer,h=c.autoClear,m=c.toneMapping;c.getClearColor(RD),c.toneMapping=ua,c.autoClear=!1,c.state.buffers.depth.getReversed()&&(c.setRenderTarget(i),c.clearDepth(),c.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new qn(new Fu,new pl({name:"PMREM.Background",side:Yr,depthWrite:!1,depthTest:!1})));const _=this._backgroundBox,y=_.material;let v=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,v=!0):(y.color.copy(RD),v=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(l.up.set(0,u[b],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+f[b],a.y,a.z)):M===1?(l.up.set(0,0,u[b]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+f[b],a.z)):(l.up.set(0,u[b],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+f[b]));const w=this._cubeSize;Cc(i,M*w,b>2?w:0,w,w),c.setRenderTarget(i),v&&c.render(_,l),c.render(e,l)}c.toneMapping=m,c.autoClear=h,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===po||e.mapping===tl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=LD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ND());const a=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;Cc(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,yh)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[r];s.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),f=n/(this._lodMeshes.length-1),c=Math.sqrt(u*u-f*f),h=0+u*1.25,m=c*h,{_lodMax:g}=this,_=this._sizeLods[r],y=3*_*(r>g-zs?r-g+zs:0),v=4*(this._cubeSize-_);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=g-n,Cc(a,y,v,3*_,2*_),i.setRenderTarget(a),i.render(s,yh),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=g-r,Cc(e,y,v,3*_,2*_),i.setRenderTarget(e),i.render(s,yh)}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&mt("blur direction must be either latitudinal or longitudinal!");const f=3,c=this._lodMeshes[i];c.material=u;const h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*m):2*Math.PI/(2*Xl-1),_=a/g,y=isFinite(a)?1+Math.floor(f*_):Xl;y>Xl&&We(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xl}`);const v=[];let x=0;for(let P=0;P<Xl;++P){const A=P/_,C=Math.exp(-A*A/2);v.push(C),P===0?x+=C:P<y&&(x+=2*C)}for(let P=0;P<v.length;P++)v[P]=v[P]/x;h.envMap.value=e.texture,h.samples.value=y,h.weights.value=v,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:b}=this;h.dTheta.value=g,h.mipInt.value=b-r;const M=this._sizeLods[i],w=3*M*(i>b-zs?i-b+zs:0),E=4*(this._cubeSize-M);Cc(n,w,E,3*M,2*M),l.setRenderTarget(n),l.render(c,yh)}}function jSe(t){const e=[],n=[],r=[];let i=t;const a=t-zs+1+OD.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);e.push(s);let l=1/s;o>t-zs?l=OD[o-t+zs-1]:o===0&&(l=0),n.push(l);const u=1/(s-2),f=-u,c=1+u,h=[f,f,c,f,c,c,f,f,c,c,f,c],m=6,g=6,_=3,y=2,v=1,x=new Float32Array(_*g*m),b=new Float32Array(y*g*m),M=new Float32Array(v*g*m);for(let E=0;E<m;E++){const P=E%3*2/3-1,A=E>2?0:-1,C=[P,A,0,P+2/3,A,0,P+2/3,A+1,0,P,A,0,P+2/3,A+1,0,P,A+1,0];x.set(C,_*g*E),b.set(h,y*g*E);const I=[E,E,E,E,E,E];M.set(I,v*g*E)}const w=new Et;w.setAttribute("position",new Qt(x,_)),w.setAttribute("uv",new Qt(b,y)),w.setAttribute("faceIndex",new Qt(M,v)),r.push(new qn(w,null)),i>zs&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function ID(t,e,n){const r=new gi(t,e,n);return r.texture.mapping=md,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cc(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function $Se(t,e,n){return new Fi({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:BSe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Lb(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function VSe(t,e,n){const r=new Float32Array(Xl),i=new X(0,1,0);return new Fi({name:"SphericalGaussianBlur",defines:{n:Xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Lb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function ND(){return new Fi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Lb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function LD(){return new Fi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Lb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function Lb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}class NC extends gi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Fm(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fu(5,5,5),a=new Fi({name:"CubemapFromEquirect",uniforms:qf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Yr,blending:fo});a.uniforms.tEquirect.value=n;const o=new qn(i,a),s=n.minFilter;return n.minFilter===ao&&(n.minFilter=dn),new Kj(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}function HSe(t){let e=new WeakMap,n=new WeakMap,r=null;function i(h,m=!1){return h==null?null:m?o(h):a(h)}function a(h){if(h&&h.isTexture){const m=h.mapping;if(m===qh||m===Yh)if(e.has(h)){const g=e.get(h).texture;return s(g,h.mapping)}else{const g=h.image;if(g&&g.height>0){const _=new NC(g.height);return _.fromEquirectangularTexture(t,h),e.set(h,_),h.addEventListener("dispose",u),s(_.texture,h.mapping)}else return null}}return h}function o(h){if(h&&h.isTexture){const m=h.mapping,g=m===qh||m===Yh,_=m===po||m===tl;if(g||_){let y=n.get(h);const v=y!==void 0?y.texture.pmremVersion:0;if(h.isRenderTargetTexture&&h.pmremVersion!==v)return r===null&&(r=new RA(t)),y=g?r.fromEquirectangular(h,y):r.fromCubemap(h,y),y.texture.pmremVersion=h.pmremVersion,n.set(h,y),y.texture;if(y!==void 0)return y.texture;{const x=h.image;return g&&x&&x.height>0||_&&x&&l(x)?(r===null&&(r=new RA(t)),y=g?r.fromEquirectangular(h):r.fromCubemap(h),y.texture.pmremVersion=h.pmremVersion,n.set(h,y),h.addEventListener("dispose",f),y.texture):null}}}return h}function s(h,m){return m===qh?h.mapping=po:m===Yh&&(h.mapping=tl),h}function l(h){let m=0;const g=6;for(let _=0;_<g;_++)h[_]!==void 0&&m++;return m===g}function u(h){const m=h.target;m.removeEventListener("dispose",u);const g=e.get(m);g!==void 0&&(e.delete(m),g.dispose())}function f(h){const m=h.target;m.removeEventListener("dispose",f);const g=n.get(m);g!==void 0&&(n.delete(m),g.dispose())}function c(){e=new WeakMap,n=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:c}}function GSe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&hm("WebGLRenderer: "+r+" extension not supported."),i}}}function WSe(t,e,n,r){const i={},a=new WeakMap;function o(c){const h=c.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);h.removeEventListener("dispose",o),delete i[h.id];const m=a.get(h);m&&(e.remove(m),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(c,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(c){const h=c.attributes;for(const m in h)e.update(h[m],t.ARRAY_BUFFER)}function u(c){const h=[],m=c.index,g=c.attributes.position;let _=0;if(g===void 0)return;if(m!==null){const x=m.array;_=m.version;for(let b=0,M=x.length;b<M;b+=3){const w=x[b+0],E=x[b+1],P=x[b+2];h.push(w,E,E,P,P,w)}}else{const x=g.array;_=g.version;for(let b=0,M=x.length/3-1;b<M;b+=3){const w=b+0,E=b+1,P=b+2;h.push(w,E,E,P,P,w)}}const y=new(g.count>=65535?sC:oC)(h,1);y.version=_;const v=a.get(c);v&&e.remove(v),a.set(c,y)}function f(c){const h=a.get(c);if(h){const m=c.index;m!==null&&h.version<m.version&&u(c)}else u(c);return a.get(c)}return{get:s,update:l,getWireframeAttribute:f}}function XSe(t,e,n){let r;function i(h){r=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,m){t.drawElements(r,m,a,h*o),n.update(m,r,1)}function u(h,m,g){g!==0&&(t.drawElementsInstanced(r,m,a,h*o,g),n.update(m,r,g))}function f(h,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,a,h,0,g);let y=0;for(let v=0;v<g;v++)y+=m[v];n.update(y,r,1)}function c(h,m,g,_){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<h.length;v++)u(h[v]/o,m[v],_[v]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,a,h,0,_,0,g);let v=0;for(let x=0;x<g;x++)v+=m[x]*_[x];n.update(v,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=f,this.renderMultiDrawInstances=c}function qSe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:mt("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function YSe(t,e,n){const r=new WeakMap,i=new cn;function a(o,s,l){const u=o.morphTargetInfluences,f=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,c=f!==void 0?f.length:0;let h=r.get(s);if(h===void 0||h.count!==c){let I=function(){A.dispose(),r.delete(s),s.removeEventListener("dispose",I)};var m=I;h!==void 0&&h.texture.dispose();const g=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,v=s.morphAttributes.position||[],x=s.morphAttributes.normal||[],b=s.morphAttributes.color||[];let M=0;g===!0&&(M=1),_===!0&&(M=2),y===!0&&(M=3);let w=s.attributes.position.count*M,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const P=new Float32Array(w*E*4*c),A=new fb(P,w,E,c);A.type=kr,A.needsUpdate=!0;const C=M*4;for(let R=0;R<c;R++){const k=v[R],F=x[R],G=b[R],$=w*E*4*R;for(let V=0;V<k.count;V++){const H=V*C;g===!0&&(i.fromBufferAttribute(k,V),P[$+H+0]=i.x,P[$+H+1]=i.y,P[$+H+2]=i.z,P[$+H+3]=0),_===!0&&(i.fromBufferAttribute(F,V),P[$+H+4]=i.x,P[$+H+5]=i.y,P[$+H+6]=i.z,P[$+H+7]=0),y===!0&&(i.fromBufferAttribute(G,V),P[$+H+8]=i.x,P[$+H+9]=i.y,P[$+H+10]=i.z,P[$+H+11]=G.itemSize===4?i.w:1)}}h={count:c,texture:A,size:new Ee(w,E)},r.set(s,h),s.addEventListener("dispose",I)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<u.length;y++)g+=u[y];const _=s.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:a}}function KSe(t,e,n,r,i){let a=new WeakMap;function o(u){const f=i.render.frame,c=u.geometry,h=e.get(u,c);if(a.get(h)!==f&&(e.update(h),a.set(h,f)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),a.get(u)!==f&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),a.set(u,f))),u.isSkinnedMesh){const m=u.skeleton;a.get(m)!==f&&(m.update(),a.set(m,f))}return h}function s(){a=new WeakMap}function l(u){const f=u.target;f.removeEventListener("dispose",l),r.releaseStatesOfObject(f),n.remove(f.instanceMatrix),f.instanceColor!==null&&n.remove(f.instanceColor)}return{update:o,dispose:s}}const ZSe={[HP]:"LINEAR_TONE_MAPPING",[GP]:"REINHARD_TONE_MAPPING",[WP]:"CINEON_TONE_MAPPING",[eb]:"ACES_FILMIC_TONE_MAPPING",[qP]:"AGX_TONE_MAPPING",[YP]:"NEUTRAL_TONE_MAPPING",[XP]:"CUSTOM_TONE_MAPPING"};function JSe(t,e,n,r,i){const a=new gi(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),o=new gi(e,n,{type:Ba,depthBuffer:!1,stencilBuffer:!1}),s=new Et;s.setAttribute("position",new at([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new at([0,2,0,0,2,0],2));const l=new xC({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new qn(s,l),f=new _d(-1,1,1,-1,0,1);let c=null,h=null,m=!1,g,_=null,y=[],v=!1;this.setSize=function(x,b){a.setSize(x,b),o.setSize(x,b);for(let M=0;M<y.length;M++){const w=y[M];w.setSize&&w.setSize(x,b)}},this.setEffects=function(x){y=x,v=y.length>0&&y[0].isRenderPass===!0;const b=a.width,M=a.height;for(let w=0;w<y.length;w++){const E=y[w];E.setSize&&E.setSize(b,M)}},this.begin=function(x,b){if(m||x.toneMapping===ua&&y.length===0)return!1;if(_=b,b!==null){const M=b.width,w=b.height;(a.width!==M||a.height!==w)&&this.setSize(M,w)}return v===!1&&x.setRenderTarget(a),g=x.toneMapping,x.toneMapping=ua,!0},this.hasRenderPass=function(){return v},this.end=function(x,b){x.toneMapping=g,m=!0;let M=a,w=o;for(let E=0;E<y.length;E++){const P=y[E];if(P.enabled!==!1&&(P.render(x,w,M,b),P.needsSwap!==!1)){const A=M;M=w,w=A}}if(c!==x.outputColorSpace||h!==x.toneMapping){c=x.outputColorSpace,h=x.toneMapping,l.defines={},zt.getTransfer(c)===tn&&(l.defines.SRGB_TRANSFER="");const E=ZSe[h];E&&(l.defines[E]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=M.texture,x.setRenderTarget(_),x.render(u,f),_=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const o$=new Cn,IA=new Cu(1,1),s$=new fb,l$=new db,u$=new Fm,DD=[],kD=[],UD=new Float32Array(16),FD=new Float32Array(9),BD=new Float32Array(4);function bd(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=DD[i];if(a===void 0&&(a=new Float32Array(i),DD[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function rr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Db(t,e){let n=kD[e];n===void 0&&(n=new Int32Array(e),kD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function QSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function e1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2fv(this.addr,e),rr(n,e)}}function t1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(nr(n,e))return;t.uniform3fv(this.addr,e),rr(n,e)}}function n1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4fv(this.addr,e),rr(n,e)}}function r1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;BD.set(r),t.uniformMatrix2fv(this.addr,!1,BD),rr(n,r)}}function i1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;FD.set(r),t.uniformMatrix3fv(this.addr,!1,FD),rr(n,r)}}function a1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;UD.set(r),t.uniformMatrix4fv(this.addr,!1,UD),rr(n,r)}}function o1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function s1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2iv(this.addr,e),rr(n,e)}}function l1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3iv(this.addr,e),rr(n,e)}}function u1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4iv(this.addr,e),rr(n,e)}}function c1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function f1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2uiv(this.addr,e),rr(n,e)}}function d1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3uiv(this.addr,e),rr(n,e)}}function h1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4uiv(this.addr,e),rr(n,e)}}function p1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(IA.compareFunction=n.isReversedDepthBuffer()?cb:ub,a=IA):a=o$,n.setTexture2D(e||a,i)}function m1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||l$,i)}function g1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||u$,i)}function v1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||s$,i)}function y1e(t){switch(t){case 5126:return QSe;case 35664:return e1e;case 35665:return t1e;case 35666:return n1e;case 35674:return r1e;case 35675:return i1e;case 35676:return a1e;case 5124:case 35670:return o1e;case 35667:case 35671:return s1e;case 35668:case 35672:return l1e;case 35669:case 35673:return u1e;case 5125:return c1e;case 36294:return f1e;case 36295:return d1e;case 36296:return h1e;case 35678:case 36198:case 36298:case 36306:case 35682:return p1e;case 35679:case 36299:case 36307:return m1e;case 35680:case 36300:case 36308:case 36293:return g1e;case 36289:case 36303:case 36311:case 36292:return v1e}}function x1e(t,e){t.uniform1fv(this.addr,e)}function _1e(t,e){const n=bd(e,this.size,2);t.uniform2fv(this.addr,n)}function b1e(t,e){const n=bd(e,this.size,3);t.uniform3fv(this.addr,n)}function S1e(t,e){const n=bd(e,this.size,4);t.uniform4fv(this.addr,n)}function w1e(t,e){const n=bd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function M1e(t,e){const n=bd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function E1e(t,e){const n=bd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function A1e(t,e){t.uniform1iv(this.addr,e)}function T1e(t,e){t.uniform2iv(this.addr,e)}function P1e(t,e){t.uniform3iv(this.addr,e)}function C1e(t,e){t.uniform4iv(this.addr,e)}function O1e(t,e){t.uniform1uiv(this.addr,e)}function R1e(t,e){t.uniform2uiv(this.addr,e)}function I1e(t,e){t.uniform3uiv(this.addr,e)}function N1e(t,e){t.uniform4uiv(this.addr,e)}function L1e(t,e,n){const r=this.cache,i=e.length,a=Db(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));let o;this.type===t.SAMPLER_2D_SHADOW?o=IA:o=o$;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||o,a[s])}function D1e(t,e,n){const r=this.cache,i=e.length,a=Db(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||l$,a[o])}function k1e(t,e,n){const r=this.cache,i=e.length,a=Db(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||u$,a[o])}function U1e(t,e,n){const r=this.cache,i=e.length,a=Db(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||s$,a[o])}function F1e(t){switch(t){case 5126:return x1e;case 35664:return _1e;case 35665:return b1e;case 35666:return S1e;case 35674:return w1e;case 35675:return M1e;case 35676:return E1e;case 5124:case 35670:return A1e;case 35667:case 35671:return T1e;case 35668:case 35672:return P1e;case 35669:case 35673:return C1e;case 5125:return O1e;case 36294:return R1e;case 36295:return I1e;case 36296:return N1e;case 35678:case 36198:case 36298:case 36306:case 35682:return L1e;case 35679:case 36299:case 36307:return D1e;case 35680:case 36300:case 36308:case 36293:return k1e;case 36289:case 36303:case 36311:case 36292:return U1e}}class B1e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=y1e(n.type)}}class z1e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=F1e(n.type)}}class j1e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const Lw=/(\w+)(\])?(\[|\.)?/g;function zD(t,e){t.seq.push(e),t.map[e.id]=e}function $1e(t,e,n){const r=t.name,i=r.length;for(Lw.lastIndex=0;;){const a=Lw.exec(r),o=Lw.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){zD(n,u===void 0?new B1e(s,t,e):new z1e(s,t,e));break}else{let c=n.map[s];c===void 0&&(c=new j1e(s),zD(n,c)),n=c}}}class Cy{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(n,o),l=e.getUniformLocation(n,s.name);$1e(s,l,this)}const i=[],a=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(o):a.push(o);i.length>0&&(this.seq=i.concat(a))}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function jD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const V1e=37297;let H1e=0;function G1e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}const $D=new Pt;function W1e(t){zt._getMatrix($D,zt.workingColorSpace,t);const e=`mat3( ${$D.elements.map(n=>n.toFixed(4))} )`;switch(zt.getTransfer(t)){case um:return[e,"LinearTransferOETF"];case tn:return[e,"sRGBTransferOETF"];default:return We("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function VD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+G1e(t.getShaderSource(e),s)}else return a}function X1e(t,e){const n=W1e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const q1e={[HP]:"Linear",[GP]:"Reinhard",[WP]:"Cineon",[eb]:"ACESFilmic",[qP]:"AgX",[YP]:"Neutral",[XP]:"Custom"};function Y1e(t,e){const n=q1e[e];return n===void 0?(We("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const fy=new X;function K1e(){zt.getLuminanceCoefficients(fy);const t=fy.x.toFixed(4),e=fy.y.toFixed(4),n=fy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Z1e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Rh).join(`
`)}function J1e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Q1e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function Rh(t){return t!==""}function HD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function GD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ewe=/^[ \t]*#include +<([\w\d./]+)>/gm;function NA(t){return t.replace(ewe,nwe)}const twe=new Map;function nwe(t,e){let n=Rt[e];if(n===void 0){const r=twe.get(e);if(r!==void 0)n=Rt[r],We('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return NA(n)}const rwe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function WD(t){return t.replace(rwe,iwe)}function iwe(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function XD(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const awe={[cf]:"SHADOWMAP_TYPE_PCF",[tu]:"SHADOWMAP_TYPE_VSM"};function owe(t){return awe[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const swe={[po]:"ENVMAP_TYPE_CUBE",[tl]:"ENVMAP_TYPE_CUBE",[md]:"ENVMAP_TYPE_CUBE_UV"};function lwe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":swe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const uwe={[tl]:"ENVMAP_MODE_REFRACTION"};function cwe(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":uwe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const fwe={[km]:"ENVMAP_BLENDING_MULTIPLY",[z5]:"ENVMAP_BLENDING_MIX",[j5]:"ENVMAP_BLENDING_ADD"};function dwe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":fwe[t.combine]||"ENVMAP_BLENDING_NONE"}function hwe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function pwe(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=owe(n),u=lwe(n),f=cwe(n),c=dwe(n),h=hwe(n),m=Z1e(n),g=J1e(a),_=i.createProgram();let y,v,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Rh).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Rh).join(`
`),v.length>0&&(v+=`
`)):(y=[XD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Rh).join(`
`),v=[XD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+c:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas||n.batchingColor?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ua?"#define TONE_MAPPING":"",n.toneMapping!==ua?Rt.tonemapping_pars_fragment:"",n.toneMapping!==ua?Y1e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Rt.colorspace_pars_fragment,X1e("linearToOutputTexel",n.outputColorSpace),K1e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Rh).join(`
`)),o=NA(o),o=HD(o,n),o=GD(o,n),s=NA(s),s=HD(s,n),s=GD(s,n),o=WD(o),s=WD(s),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===wA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===wA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=x+y+o,M=x+v+s,w=jD(i,i.VERTEX_SHADER,b),E=jD(i,i.FRAGMENT_SHADER,M);i.attachShader(_,w),i.attachShader(_,E),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function P(R){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(_)||"",F=i.getShaderInfoLog(w)||"",G=i.getShaderInfoLog(E)||"",$=k.trim(),V=F.trim(),H=G.trim();let U=!0,j=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(U=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,w,E);else{const Y=VD(i,w,"vertex"),Z=VD(i,E,"fragment");mt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+$+`
`+Y+`
`+Z)}else $!==""?We("WebGLProgram: Program Info Log:",$):(V===""||H==="")&&(j=!1);j&&(R.diagnostics={runnable:U,programLog:$,vertexShader:{log:V,prefix:y},fragmentShader:{log:H,prefix:v}})}i.deleteShader(w),i.deleteShader(E),A=new Cy(i,_),C=Q1e(i,_)}let A;this.getUniforms=function(){return A===void 0&&P(this),A};let C;this.getAttributes=function(){return C===void 0&&P(this),C};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(_,V1e)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=H1e++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=E,this}let mwe=0;class gwe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new vwe(e),n.set(e,r)),r}}class vwe{constructor(e){this.id=mwe++,this.code=e,this.usedTimes=0}}function ywe(t,e,n,r,i,a){const o=new du,s=new gwe,l=new Set,u=[],f=new Map,c=r.logarithmicDepthBuffer;let h=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(A){return l.add(A),A===0?"uv":`uv${A}`}function _(A,C,I,R,k){const F=R.fog,G=k.geometry,$=A.isMeshStandardMaterial||A.isMeshLambertMaterial||A.isMeshPhongMaterial?R.environment:null,V=A.isMeshStandardMaterial||A.isMeshLambertMaterial&&!A.envMap||A.isMeshPhongMaterial&&!A.envMap,H=e.get(A.envMap||$,V),U=H&&H.mapping===md?H.image.height:null,j=m[A.type];A.precision!==null&&(h=r.getMaxPrecision(A.precision),h!==A.precision&&We("WebGLProgram.getParameters:",A.precision,"not supported, using",h,"instead."));const Y=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,Z=Y!==void 0?Y.length:0;let J=0;G.morphAttributes.position!==void 0&&(J=1),G.morphAttributes.normal!==void 0&&(J=2),G.morphAttributes.color!==void 0&&(J=3);let fe,we,De,ae;if(j){const Xt=ra[j];fe=Xt.vertexShader,we=Xt.fragmentShader}else fe=A.vertexShader,we=A.fragmentShader,s.update(A),De=s.getVertexShaderID(A),ae=s.getFragmentShaderID(A);const be=t.getRenderTarget(),Ae=t.state.buffers.depth.getReversed(),me=k.isInstancedMesh===!0,Te=k.isBatchedMesh===!0,Pe=!!A.map,pe=!!A.matcap,Ge=!!H,ce=!!A.aoMap,Se=!!A.lightMap,xe=!!A.bumpMap,Ne=!!A.normalMap,q=!!A.displacementMap,ut=!!A.emissiveMap,Ve=!!A.metalnessMap,dt=!!A.roughnessMap,Oe=A.anisotropy>0,W=A.clearcoat>0,D=A.dispersion>0,Q=A.iridescence>0,he=A.sheen>0,Me=A.transmission>0,ge=Oe&&!!A.anisotropyMap,nt=W&&!!A.clearcoatMap,Be=W&&!!A.clearcoatNormalMap,ht=W&&!!A.clearcoatRoughnessMap,yt=Q&&!!A.iridescenceMap,Ce=Q&&!!A.iridescenceThicknessMap,ke=he&&!!A.sheenColorMap,lt=he&&!!A.sheenRoughnessMap,ct=!!A.specularMap,Je=!!A.specularColorMap,Ot=!!A.specularIntensityMap,ee=Me&&!!A.transmissionMap,je=Me&&!!A.thicknessMap,Ue=!!A.gradientMap,tt=!!A.alphaMap,Re=A.alphaTest>0,ve=!!A.alphaHash,st=!!A.extensions;let Mt=ua;A.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Mt=t.toneMapping);const nn={shaderID:j,shaderType:A.type,shaderName:A.name,vertexShader:fe,fragmentShader:we,defines:A.defines,customVertexShaderID:De,customFragmentShaderID:ae,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:h,batching:Te,batchingColor:Te&&k._colorsTexture!==null,instancing:me,instancingColor:me&&k.instanceColor!==null,instancingMorph:me&&k.morphTexture!==null,outputColorSpace:be===null?t.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:Au,alphaToCoverage:!!A.alphaToCoverage,map:Pe,matcap:pe,envMap:Ge,envMapMode:Ge&&H.mapping,envMapCubeUVHeight:U,aoMap:ce,lightMap:Se,bumpMap:xe,normalMap:Ne,displacementMap:q,emissiveMap:ut,normalMapObjectSpace:Ne&&A.normalMapType===X5,normalMapTangentSpace:Ne&&A.normalMapType===hl,metalnessMap:Ve,roughnessMap:dt,anisotropy:Oe,anisotropyMap:ge,clearcoat:W,clearcoatMap:nt,clearcoatNormalMap:Be,clearcoatRoughnessMap:ht,dispersion:D,iridescence:Q,iridescenceMap:yt,iridescenceThicknessMap:Ce,sheen:he,sheenColorMap:ke,sheenRoughnessMap:lt,specularMap:ct,specularColorMap:Je,specularIntensityMap:Ot,transmission:Me,transmissionMap:ee,thicknessMap:je,gradientMap:Ue,opaque:A.transparent===!1&&A.blending===cu&&A.alphaToCoverage===!1,alphaMap:tt,alphaTest:Re,alphaHash:ve,combine:A.combine,mapUv:Pe&&g(A.map.channel),aoMapUv:ce&&g(A.aoMap.channel),lightMapUv:Se&&g(A.lightMap.channel),bumpMapUv:xe&&g(A.bumpMap.channel),normalMapUv:Ne&&g(A.normalMap.channel),displacementMapUv:q&&g(A.displacementMap.channel),emissiveMapUv:ut&&g(A.emissiveMap.channel),metalnessMapUv:Ve&&g(A.metalnessMap.channel),roughnessMapUv:dt&&g(A.roughnessMap.channel),anisotropyMapUv:ge&&g(A.anisotropyMap.channel),clearcoatMapUv:nt&&g(A.clearcoatMap.channel),clearcoatNormalMapUv:Be&&g(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&g(A.clearcoatRoughnessMap.channel),iridescenceMapUv:yt&&g(A.iridescenceMap.channel),iridescenceThicknessMapUv:Ce&&g(A.iridescenceThicknessMap.channel),sheenColorMapUv:ke&&g(A.sheenColorMap.channel),sheenRoughnessMapUv:lt&&g(A.sheenRoughnessMap.channel),specularMapUv:ct&&g(A.specularMap.channel),specularColorMapUv:Je&&g(A.specularColorMap.channel),specularIntensityMapUv:Ot&&g(A.specularIntensityMap.channel),transmissionMapUv:ee&&g(A.transmissionMap.channel),thicknessMapUv:je&&g(A.thicknessMap.channel),alphaMapUv:tt&&g(A.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(Ne||Oe),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,pointsUvs:k.isPoints===!0&&!!G.attributes.uv&&(Pe||tt),fog:!!F,useFog:A.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:A.wireframe===!1&&(A.flatShading===!0||G.attributes.normal===void 0&&Ne===!1&&(A.isMeshLambertMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isMeshPhysicalMaterial)),sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:c,reversedDepthBuffer:Ae,skinning:k.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:J,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:Mt,decodeVideoTexture:Pe&&A.map.isVideoTexture===!0&&zt.getTransfer(A.map.colorSpace)===tn,decodeVideoTextureEmissive:ut&&A.emissiveMap.isVideoTexture===!0&&zt.getTransfer(A.emissiveMap.colorSpace)===tn,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===ro,flipSided:A.side===Yr,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:st&&A.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(st&&A.extensions.multiDraw===!0||Te)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return nn.vertexUv1s=l.has(1),nn.vertexUv2s=l.has(2),nn.vertexUv3s=l.has(3),l.clear(),nn}function y(A){const C=[];if(A.shaderID?C.push(A.shaderID):(C.push(A.customVertexShaderID),C.push(A.customFragmentShaderID)),A.defines!==void 0)for(const I in A.defines)C.push(I),C.push(A.defines[I]);return A.isRawShaderMaterial===!1&&(v(C,A),x(C,A),C.push(t.outputColorSpace)),C.push(A.customProgramCacheKey),C.join()}function v(A,C){A.push(C.precision),A.push(C.outputColorSpace),A.push(C.envMapMode),A.push(C.envMapCubeUVHeight),A.push(C.mapUv),A.push(C.alphaMapUv),A.push(C.lightMapUv),A.push(C.aoMapUv),A.push(C.bumpMapUv),A.push(C.normalMapUv),A.push(C.displacementMapUv),A.push(C.emissiveMapUv),A.push(C.metalnessMapUv),A.push(C.roughnessMapUv),A.push(C.anisotropyMapUv),A.push(C.clearcoatMapUv),A.push(C.clearcoatNormalMapUv),A.push(C.clearcoatRoughnessMapUv),A.push(C.iridescenceMapUv),A.push(C.iridescenceThicknessMapUv),A.push(C.sheenColorMapUv),A.push(C.sheenRoughnessMapUv),A.push(C.specularMapUv),A.push(C.specularColorMapUv),A.push(C.specularIntensityMapUv),A.push(C.transmissionMapUv),A.push(C.thicknessMapUv),A.push(C.combine),A.push(C.fogExp2),A.push(C.sizeAttenuation),A.push(C.morphTargetsCount),A.push(C.morphAttributeCount),A.push(C.numDirLights),A.push(C.numPointLights),A.push(C.numSpotLights),A.push(C.numSpotLightMaps),A.push(C.numHemiLights),A.push(C.numRectAreaLights),A.push(C.numDirLightShadows),A.push(C.numPointLightShadows),A.push(C.numSpotLightShadows),A.push(C.numSpotLightShadowsWithMaps),A.push(C.numLightProbes),A.push(C.shadowMapType),A.push(C.toneMapping),A.push(C.numClippingPlanes),A.push(C.numClipIntersection),A.push(C.depthPacking)}function x(A,C){o.disableAll(),C.instancing&&o.enable(0),C.instancingColor&&o.enable(1),C.instancingMorph&&o.enable(2),C.matcap&&o.enable(3),C.envMap&&o.enable(4),C.normalMapObjectSpace&&o.enable(5),C.normalMapTangentSpace&&o.enable(6),C.clearcoat&&o.enable(7),C.iridescence&&o.enable(8),C.alphaTest&&o.enable(9),C.vertexColors&&o.enable(10),C.vertexAlphas&&o.enable(11),C.vertexUv1s&&o.enable(12),C.vertexUv2s&&o.enable(13),C.vertexUv3s&&o.enable(14),C.vertexTangents&&o.enable(15),C.anisotropy&&o.enable(16),C.alphaHash&&o.enable(17),C.batching&&o.enable(18),C.dispersion&&o.enable(19),C.batchingColor&&o.enable(20),C.gradientMap&&o.enable(21),A.push(o.mask),o.disableAll(),C.fog&&o.enable(0),C.useFog&&o.enable(1),C.flatShading&&o.enable(2),C.logarithmicDepthBuffer&&o.enable(3),C.reversedDepthBuffer&&o.enable(4),C.skinning&&o.enable(5),C.morphTargets&&o.enable(6),C.morphNormals&&o.enable(7),C.morphColors&&o.enable(8),C.premultipliedAlpha&&o.enable(9),C.shadowMapEnabled&&o.enable(10),C.doubleSided&&o.enable(11),C.flipSided&&o.enable(12),C.useDepthPacking&&o.enable(13),C.dithering&&o.enable(14),C.transmission&&o.enable(15),C.sheen&&o.enable(16),C.opaque&&o.enable(17),C.pointsUvs&&o.enable(18),C.decodeVideoTexture&&o.enable(19),C.decodeVideoTextureEmissive&&o.enable(20),C.alphaToCoverage&&o.enable(21),A.push(o.mask)}function b(A){const C=m[A.type];let I;if(C){const R=ra[C];I=yC.clone(R.uniforms)}else I=A.uniforms;return I}function M(A,C){let I=f.get(C);return I!==void 0?++I.usedTimes:(I=new pwe(t,C,A,i),u.push(I),f.set(C,I)),I}function w(A){if(--A.usedTimes===0){const C=u.indexOf(A);u[C]=u[u.length-1],u.pop(),f.delete(A.cacheKey),A.destroy()}}function E(A){s.remove(A)}function P(){s.dispose()}return{getParameters:_,getProgramCacheKey:y,getUniforms:b,acquireProgram:M,releaseProgram:w,releaseShaderCache:E,programs:u,dispose:P}}function xwe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function r(o){t.delete(o)}function i(o,s,l){t.get(o)[s]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function _we(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.materialVariant!==e.materialVariant?t.materialVariant-e.materialVariant:t.z!==e.z?t.z-e.z:t.id-e.id}function qD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function YD(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(h){let m=0;return h.isInstancedMesh&&(m+=2),h.isSkinnedMesh&&(m+=1),m}function s(h,m,g,_,y,v){let x=t[e];return x===void 0?(x={id:h.id,object:h,geometry:m,material:g,materialVariant:o(h),groupOrder:_,renderOrder:h.renderOrder,z:y,group:v},t[e]=x):(x.id=h.id,x.object=h,x.geometry=m,x.material=g,x.materialVariant=o(h),x.groupOrder=_,x.renderOrder=h.renderOrder,x.z=y,x.group=v),e++,x}function l(h,m,g,_,y,v){const x=s(h,m,g,_,y,v);g.transmission>0?r.push(x):g.transparent===!0?i.push(x):n.push(x)}function u(h,m,g,_,y,v){const x=s(h,m,g,_,y,v);g.transmission>0?r.unshift(x):g.transparent===!0?i.unshift(x):n.unshift(x)}function f(h,m){n.length>1&&n.sort(h||_we),r.length>1&&r.sort(m||qD),i.length>1&&i.sort(m||qD)}function c(){for(let h=e,m=t.length;h<m;h++){const g=t[h];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:l,unshift:u,finish:c,sort:f}}function bwe(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new YD,t.set(r,[o])):i>=a.length?(o=new YD,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Swe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new et};break;case"SpotLight":n={position:new X,direction:new X,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function wwe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Mwe=0;function Ewe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Awe(t){const e=new Swe,n=wwe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new X);const i=new X,a=new wt,o=new wt;function s(u){let f=0,c=0,h=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let m=0,g=0,_=0,y=0,v=0,x=0,b=0,M=0,w=0,E=0,P=0;u.sort(Ewe);for(let C=0,I=u.length;C<I;C++){const R=u[C],k=R.color,F=R.intensity,G=R.distance;let $=null;if(R.shadow&&R.shadow.map&&(R.shadow.map.texture.format===Eu?$=R.shadow.map.texture:$=R.shadow.map.depthTexture||R.shadow.map.texture),R.isAmbientLight)f+=k.r*F,c+=k.g*F,h+=k.b*F;else if(R.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(R.sh.coefficients[V],F);P++}else if(R.isDirectionalLight){const V=e.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity),R.castShadow){const H=R.shadow,U=n.get(R);U.shadowIntensity=H.intensity,U.shadowBias=H.bias,U.shadowNormalBias=H.normalBias,U.shadowRadius=H.radius,U.shadowMapSize=H.mapSize,r.directionalShadow[m]=U,r.directionalShadowMap[m]=$,r.directionalShadowMatrix[m]=R.shadow.matrix,x++}r.directional[m]=V,m++}else if(R.isSpotLight){const V=e.get(R);V.position.setFromMatrixPosition(R.matrixWorld),V.color.copy(k).multiplyScalar(F),V.distance=G,V.coneCos=Math.cos(R.angle),V.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),V.decay=R.decay,r.spot[_]=V;const H=R.shadow;if(R.map&&(r.spotLightMap[w]=R.map,w++,H.updateMatrices(R),R.castShadow&&E++),r.spotLightMatrix[_]=H.matrix,R.castShadow){const U=n.get(R);U.shadowIntensity=H.intensity,U.shadowBias=H.bias,U.shadowNormalBias=H.normalBias,U.shadowRadius=H.radius,U.shadowMapSize=H.mapSize,r.spotShadow[_]=U,r.spotShadowMap[_]=$,M++}_++}else if(R.isRectAreaLight){const V=e.get(R);V.color.copy(k).multiplyScalar(F),V.halfWidth.set(R.width*.5,0,0),V.halfHeight.set(0,R.height*.5,0),r.rectArea[y]=V,y++}else if(R.isPointLight){const V=e.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity),V.distance=R.distance,V.decay=R.decay,R.castShadow){const H=R.shadow,U=n.get(R);U.shadowIntensity=H.intensity,U.shadowBias=H.bias,U.shadowNormalBias=H.normalBias,U.shadowRadius=H.radius,U.shadowMapSize=H.mapSize,U.shadowCameraNear=H.camera.near,U.shadowCameraFar=H.camera.far,r.pointShadow[g]=U,r.pointShadowMap[g]=$,r.pointShadowMatrix[g]=R.shadow.matrix,b++}r.point[g]=V,g++}else if(R.isHemisphereLight){const V=e.get(R);V.skyColor.copy(R.color).multiplyScalar(F),V.groundColor.copy(R.groundColor).multiplyScalar(F),r.hemi[v]=V,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_FLOAT_1,r.rectAreaLTC2=qe.LTC_FLOAT_2):(r.rectAreaLTC1=qe.LTC_HALF_1,r.rectAreaLTC2=qe.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=c,r.ambient[2]=h;const A=r.hash;(A.directionalLength!==m||A.pointLength!==g||A.spotLength!==_||A.rectAreaLength!==y||A.hemiLength!==v||A.numDirectionalShadows!==x||A.numPointShadows!==b||A.numSpotShadows!==M||A.numSpotMaps!==w||A.numLightProbes!==P)&&(r.directional.length=m,r.spot.length=_,r.rectArea.length=y,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=M+w-E,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=P,A.directionalLength=m,A.pointLength=g,A.spotLength=_,A.rectAreaLength=y,A.hemiLength=v,A.numDirectionalShadows=x,A.numPointShadows=b,A.numSpotShadows=M,A.numSpotMaps=w,A.numLightProbes=P,r.version=Mwe++)}function l(u,f){let c=0,h=0,m=0,g=0,_=0;const y=f.matrixWorldInverse;for(let v=0,x=u.length;v<x;v++){const b=u[v];if(b.isDirectionalLight){const M=r.directional[c];M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),c++}else if(b.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(b.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),o.identity(),a.copy(b.matrixWorld),a.premultiply(y),o.extractRotation(a),M.halfWidth.set(b.width*.5,0,0),M.halfHeight.set(0,b.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const M=r.point[h];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),h++}else if(b.isHemisphereLight){const M=r.hemi[_];M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(y),_++}}}return{setup:s,setupView:l,state:r}}function KD(t){const e=new Awe(t),n=[],r=[];function i(f){u.camera=f,n.length=0,r.length=0}function a(f){n.push(f)}function o(f){r.push(f)}function s(){e.setup(n)}function l(f){e.setupView(n,f)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function Twe(t){let e=new WeakMap;function n(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new KD(t),e.set(i,[s])):a>=o.length?(s=new KD(t),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const Pwe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Cwe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Owe=[new X(1,0,0),new X(-1,0,0),new X(0,1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1)],Rwe=[new X(0,-1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1),new X(0,-1,0),new X(0,-1,0)],ZD=new wt,xh=new X,Dw=new X;function Iwe(t,e,n){let r=new vd;const i=new Ee,a=new Ee,o=new cn,s=new _C,l=new bC,u={},f=n.maxTextureSize,c={[ts]:Yr,[Yr]:ts,[ro]:ro},h=new Fi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ee},radius:{value:4}},vertexShader:Pwe,fragmentShader:Cwe}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Et;g.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new qn(g,h),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=cf;let v=this.type;this.render=function(E,P,A){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;this.type===Xh&&(We("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=cf);const C=t.getRenderTarget(),I=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),k=t.state;k.setBlending(fo),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const F=v!==this.type;F&&P.traverse(function(G){G.material&&(Array.isArray(G.material)?G.material.forEach($=>$.needsUpdate=!0):G.material.needsUpdate=!0)});for(let G=0,$=E.length;G<$;G++){const V=E[G],H=V.shadow;if(H===void 0){We("WebGLShadowMap:",V,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const U=H.getFrameExtents();i.multiply(U),a.copy(H.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(a.x=Math.floor(f/U.x),i.x=a.x*U.x,H.mapSize.x=a.x),i.y>f&&(a.y=Math.floor(f/U.y),i.y=a.y*U.y,H.mapSize.y=a.y));const j=t.state.buffers.depth.getReversed();if(H.camera._reversedDepth=j,H.map===null||F===!0){if(H.map!==null&&(H.map.depthTexture!==null&&(H.map.depthTexture.dispose(),H.map.depthTexture=null),H.map.dispose()),this.type===tu){if(V.isPointLight){We("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}H.map=new gi(i.x,i.y,{format:Eu,type:Ba,minFilter:dn,magFilter:dn,generateMipmaps:!1}),H.map.texture.name=V.name+".shadowMap",H.map.depthTexture=new Cu(i.x,i.y,kr),H.map.depthTexture.name=V.name+".shadowMapDepth",H.map.depthTexture.format=mo,H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=zn,H.map.depthTexture.magFilter=zn}else V.isPointLight?(H.map=new NC(i.x),H.map.depthTexture=new pj(i.x,ha)):(H.map=new gi(i.x,i.y),H.map.depthTexture=new Cu(i.x,i.y,ha)),H.map.depthTexture.name=V.name+".shadowMap",H.map.depthTexture.format=mo,this.type===cf?(H.map.depthTexture.compareFunction=j?cb:ub,H.map.depthTexture.minFilter=dn,H.map.depthTexture.magFilter=dn):(H.map.depthTexture.compareFunction=null,H.map.depthTexture.minFilter=zn,H.map.depthTexture.magFilter=zn);H.camera.updateProjectionMatrix()}const Y=H.map.isWebGLCubeRenderTarget?6:1;for(let Z=0;Z<Y;Z++){if(H.map.isWebGLCubeRenderTarget)t.setRenderTarget(H.map,Z),t.clear();else{Z===0&&(t.setRenderTarget(H.map),t.clear());const J=H.getViewport(Z);o.set(a.x*J.x,a.y*J.y,a.x*J.z,a.y*J.w),k.viewport(o)}if(V.isPointLight){const J=H.camera,fe=H.matrix,we=V.distance||J.far;we!==J.far&&(J.far=we,J.updateProjectionMatrix()),xh.setFromMatrixPosition(V.matrixWorld),J.position.copy(xh),Dw.copy(J.position),Dw.add(Owe[Z]),J.up.copy(Rwe[Z]),J.lookAt(Dw),J.updateMatrixWorld(),fe.makeTranslation(-xh.x,-xh.y,-xh.z),ZD.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),H._frustum.setFromProjectionMatrix(ZD,J.coordinateSystem,J.reversedDepth)}else H.updateMatrices(V);r=H.getFrustum(),M(P,A,H.camera,V,this.type)}H.isPointLightShadow!==!0&&this.type===tu&&x(H,A),H.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(C,I,R)};function x(E,P){const A=e.update(_);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new gi(i.x,i.y,{format:Eu,type:Ba})),h.uniforms.shadow_pass.value=E.map.depthTexture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(P,null,A,h,_,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(P,null,A,m,_,null)}function b(E,P,A,C){let I=null;const R=A.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(R!==void 0)I=R;else if(I=A.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const k=I.uuid,F=P.uuid;let G=u[k];G===void 0&&(G={},u[k]=G);let $=G[F];$===void 0&&($=I.clone(),G[F]=$,P.addEventListener("dispose",w)),I=$}if(I.visible=P.visible,I.wireframe=P.wireframe,C===tu?I.side=P.shadowSide!==null?P.shadowSide:P.side:I.side=P.shadowSide!==null?P.shadowSide:c[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,A.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const k=t.properties.get(I);k.light=A}return I}function M(E,P,A,C,I){if(E.visible===!1)return;if(E.layers.test(P.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&I===tu)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,E.matrixWorld);const F=e.update(E),G=E.material;if(Array.isArray(G)){const $=F.groups;for(let V=0,H=$.length;V<H;V++){const U=$[V],j=G[U.materialIndex];if(j&&j.visible){const Y=b(E,j,C,I);E.onBeforeShadow(t,E,P,A,F,Y,U),t.renderBufferDirect(A,null,F,Y,E,U),E.onAfterShadow(t,E,P,A,F,Y,U)}}}else if(G.visible){const $=b(E,G,C,I);E.onBeforeShadow(t,E,P,A,F,$,null),t.renderBufferDirect(A,null,F,$,E,null),E.onAfterShadow(t,E,P,A,F,$,null)}}const k=E.children;for(let F=0,G=k.length;F<G;F++)M(k[F],P,A,C,I)}function w(E){E.target.removeEventListener("dispose",w);for(const A in u){const C=u[A],I=E.target.uuid;I in C&&(C[I].dispose(),delete C[I])}}}function Nwe(t,e){function n(){let ee=!1;const je=new cn;let Ue=null;const tt=new cn(0,0,0,0);return{setMask:function(Re){Ue!==Re&&!ee&&(t.colorMask(Re,Re,Re,Re),Ue=Re)},setLocked:function(Re){ee=Re},setClear:function(Re,ve,st,Mt,nn){nn===!0&&(Re*=Mt,ve*=Mt,st*=Mt),je.set(Re,ve,st,Mt),tt.equals(je)===!1&&(t.clearColor(Re,ve,st,Mt),tt.copy(je))},reset:function(){ee=!1,Ue=null,tt.set(-1,0,0,0)}}}function r(){let ee=!1,je=!1,Ue=null,tt=null,Re=null;return{setReversed:function(ve){if(je!==ve){const st=e.get("EXT_clip_control");ve?st.clipControlEXT(st.LOWER_LEFT_EXT,st.ZERO_TO_ONE_EXT):st.clipControlEXT(st.LOWER_LEFT_EXT,st.NEGATIVE_ONE_TO_ONE_EXT),je=ve;const Mt=Re;Re=null,this.setClear(Mt)}},getReversed:function(){return je},setTest:function(ve){ve?be(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(ve){Ue!==ve&&!ee&&(t.depthMask(ve),Ue=ve)},setFunc:function(ve){if(je&&(ve=eye[ve]),tt!==ve){switch(ve){case rx:t.depthFunc(t.NEVER);break;case ix:t.depthFunc(t.ALWAYS);break;case ax:t.depthFunc(t.LESS);break;case Mu:t.depthFunc(t.LEQUAL);break;case ox:t.depthFunc(t.EQUAL);break;case sx:t.depthFunc(t.GEQUAL);break;case lx:t.depthFunc(t.GREATER);break;case ux:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tt=ve}},setLocked:function(ve){ee=ve},setClear:function(ve){Re!==ve&&(Re=ve,je&&(ve=1-ve),t.clearDepth(ve))},reset:function(){ee=!1,Ue=null,tt=null,Re=null,je=!1}}}function i(){let ee=!1,je=null,Ue=null,tt=null,Re=null,ve=null,st=null,Mt=null,nn=null;return{setTest:function(Xt){ee||(Xt?be(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(Xt){je!==Xt&&!ee&&(t.stencilMask(Xt),je=Xt)},setFunc:function(Xt,ji,va){(Ue!==Xt||tt!==ji||Re!==va)&&(t.stencilFunc(Xt,ji,va),Ue=Xt,tt=ji,Re=va)},setOp:function(Xt,ji,va){(ve!==Xt||st!==ji||Mt!==va)&&(t.stencilOp(Xt,ji,va),ve=Xt,st=ji,Mt=va)},setLocked:function(Xt){ee=Xt},setClear:function(Xt){nn!==Xt&&(t.clearStencil(Xt),nn=Xt)},reset:function(){ee=!1,je=null,Ue=null,tt=null,Re=null,ve=null,st=null,Mt=null,nn=null}}}const a=new n,o=new r,s=new i,l=new WeakMap,u=new WeakMap;let f={},c={},h=new WeakMap,m=[],g=null,_=!1,y=null,v=null,x=null,b=null,M=null,w=null,E=null,P=new et(0,0,0),A=0,C=!1,I=null,R=null,k=null,F=null,G=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,H=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(U)[1]),V=H>=1):U.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),V=H>=2);let j=null,Y={};const Z=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),fe=new cn().fromArray(Z),we=new cn().fromArray(J);function De(ee,je,Ue,tt){const Re=new Uint8Array(4),ve=t.createTexture();t.bindTexture(ee,ve),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let st=0;st<Ue;st++)ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY?t.texImage3D(je,0,t.RGBA,1,1,tt,0,t.RGBA,t.UNSIGNED_BYTE,Re):t.texImage2D(je+st,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Re);return ve}const ae={};ae[t.TEXTURE_2D]=De(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=De(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=De(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=De(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),be(t.DEPTH_TEST),o.setFunc(Mu),xe(!1),Ne(gA),be(t.CULL_FACE),ce(fo);function be(ee){f[ee]!==!0&&(t.enable(ee),f[ee]=!0)}function Ae(ee){f[ee]!==!1&&(t.disable(ee),f[ee]=!1)}function me(ee,je){return c[ee]!==je?(t.bindFramebuffer(ee,je),c[ee]=je,ee===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=je),ee===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=je),!0):!1}function Te(ee,je){let Ue=m,tt=!1;if(ee){Ue=h.get(je),Ue===void 0&&(Ue=[],h.set(je,Ue));const Re=ee.textures;if(Ue.length!==Re.length||Ue[0]!==t.COLOR_ATTACHMENT0){for(let ve=0,st=Re.length;ve<st;ve++)Ue[ve]=t.COLOR_ATTACHMENT0+ve;Ue.length=Re.length,tt=!0}}else Ue[0]!==t.BACK&&(Ue[0]=t.BACK,tt=!0);tt&&t.drawBuffers(Ue)}function Pe(ee){return g!==ee?(t.useProgram(ee),g=ee,!0):!1}const pe={[Ns]:t.FUNC_ADD,[w5]:t.FUNC_SUBTRACT,[M5]:t.FUNC_REVERSE_SUBTRACT};pe[E5]=t.MIN,pe[A5]=t.MAX;const Ge={[T5]:t.ZERO,[P5]:t.ONE,[C5]:t.SRC_COLOR,[tx]:t.SRC_ALPHA,[D5]:t.SRC_ALPHA_SATURATE,[N5]:t.DST_COLOR,[R5]:t.DST_ALPHA,[O5]:t.ONE_MINUS_SRC_COLOR,[nx]:t.ONE_MINUS_SRC_ALPHA,[L5]:t.ONE_MINUS_DST_COLOR,[I5]:t.ONE_MINUS_DST_ALPHA,[k5]:t.CONSTANT_COLOR,[U5]:t.ONE_MINUS_CONSTANT_COLOR,[F5]:t.CONSTANT_ALPHA,[B5]:t.ONE_MINUS_CONSTANT_ALPHA};function ce(ee,je,Ue,tt,Re,ve,st,Mt,nn,Xt){if(ee===fo){_===!0&&(Ae(t.BLEND),_=!1);return}if(_===!1&&(be(t.BLEND),_=!0),ee!==S5){if(ee!==y||Xt!==C){if((v!==Ns||M!==Ns)&&(t.blendEquation(t.FUNC_ADD),v=Ns,M=Ns),Xt)switch(ee){case cu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case vA:t.blendFunc(t.ONE,t.ONE);break;case yA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case xA:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:mt("WebGLState: Invalid blending: ",ee);break}else switch(ee){case cu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case vA:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case yA:mt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case xA:mt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:mt("WebGLState: Invalid blending: ",ee);break}x=null,b=null,w=null,E=null,P.set(0,0,0),A=0,y=ee,C=Xt}return}Re=Re||je,ve=ve||Ue,st=st||tt,(je!==v||Re!==M)&&(t.blendEquationSeparate(pe[je],pe[Re]),v=je,M=Re),(Ue!==x||tt!==b||ve!==w||st!==E)&&(t.blendFuncSeparate(Ge[Ue],Ge[tt],Ge[ve],Ge[st]),x=Ue,b=tt,w=ve,E=st),(Mt.equals(P)===!1||nn!==A)&&(t.blendColor(Mt.r,Mt.g,Mt.b,nn),P.copy(Mt),A=nn),y=ee,C=!1}function Se(ee,je){ee.side===ro?Ae(t.CULL_FACE):be(t.CULL_FACE);let Ue=ee.side===Yr;je&&(Ue=!Ue),xe(Ue),ee.blending===cu&&ee.transparent===!1?ce(fo):ce(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),o.setFunc(ee.depthFunc),o.setTest(ee.depthTest),o.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const tt=ee.stencilWrite;s.setTest(tt),tt&&(s.setMask(ee.stencilWriteMask),s.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),s.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),ut(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?be(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(ee){I!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),I=ee)}function Ne(ee){ee!==x5?(be(t.CULL_FACE),ee!==R&&(ee===gA?t.cullFace(t.BACK):ee===_5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),R=ee}function q(ee){ee!==k&&(V&&t.lineWidth(ee),k=ee)}function ut(ee,je,Ue){ee?(be(t.POLYGON_OFFSET_FILL),(F!==je||G!==Ue)&&(F=je,G=Ue,o.getReversed()&&(je=-je),t.polygonOffset(je,Ue))):Ae(t.POLYGON_OFFSET_FILL)}function Ve(ee){ee?be(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function dt(ee){ee===void 0&&(ee=t.TEXTURE0+$-1),j!==ee&&(t.activeTexture(ee),j=ee)}function Oe(ee,je,Ue){Ue===void 0&&(j===null?Ue=t.TEXTURE0+$-1:Ue=j);let tt=Y[Ue];tt===void 0&&(tt={type:void 0,texture:void 0},Y[Ue]=tt),(tt.type!==ee||tt.texture!==je)&&(j!==Ue&&(t.activeTexture(Ue),j=Ue),t.bindTexture(ee,je||ae[ee]),tt.type=ee,tt.texture=je)}function W(){const ee=Y[j];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function D(){try{t.compressedTexImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Q(){try{t.compressedTexImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function he(){try{t.texSubImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Me(){try{t.texSubImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ge(){try{t.compressedTexSubImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function nt(){try{t.compressedTexSubImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Be(){try{t.texStorage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ht(){try{t.texStorage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function yt(){try{t.texImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Ce(){try{t.texImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ke(ee){fe.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),fe.copy(ee))}function lt(ee){we.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),we.copy(ee))}function ct(ee,je){let Ue=u.get(je);Ue===void 0&&(Ue=new WeakMap,u.set(je,Ue));let tt=Ue.get(ee);tt===void 0&&(tt=t.getUniformBlockIndex(je,ee.name),Ue.set(ee,tt))}function Je(ee,je){const tt=u.get(je).get(ee);l.get(je)!==tt&&(t.uniformBlockBinding(je,tt,ee.__bindingPointIndex),l.set(je,tt))}function Ot(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},j=null,Y={},c={},h=new WeakMap,m=[],g=null,_=!1,y=null,v=null,x=null,b=null,M=null,w=null,E=null,P=new et(0,0,0),A=0,C=!1,I=null,R=null,k=null,F=null,G=null,fe.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:be,disable:Ae,bindFramebuffer:me,drawBuffers:Te,useProgram:Pe,setBlending:ce,setMaterial:Se,setFlipSided:xe,setCullFace:Ne,setLineWidth:q,setPolygonOffset:ut,setScissorTest:Ve,activeTexture:dt,bindTexture:Oe,unbindTexture:W,compressedTexImage2D:D,compressedTexImage3D:Q,texImage2D:yt,texImage3D:Ce,updateUBOMapping:ct,uniformBlockBinding:Je,texStorage2D:Be,texStorage3D:ht,texSubImage2D:he,texSubImage3D:Me,compressedTexSubImage2D:ge,compressedTexSubImage3D:nt,scissor:ke,viewport:lt,reset:Ot}}function Lwe(t,e,n,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ee,f=new WeakMap;let c;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(W,D){return m?new OffscreenCanvas(W,D):fm("canvas")}function _(W,D,Q){let he=1;const Me=Oe(W);if((Me.width>Q||Me.height>Q)&&(he=Q/Math.max(Me.width,Me.height)),he<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const ge=Math.floor(he*Me.width),nt=Math.floor(he*Me.height);c===void 0&&(c=g(ge,nt));const Be=D?g(ge,nt):c;return Be.width=ge,Be.height=nt,Be.getContext("2d").drawImage(W,0,0,ge,nt),We("WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+ge+"x"+nt+")."),Be}else return"data"in W&&We("WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),W;return W}function y(W){return W.generateMipmaps}function v(W){t.generateMipmap(W)}function x(W){return W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?t.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(W,D,Q,he,Me=!1){if(W!==null){if(t[W]!==void 0)return t[W];We("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let ge=D;if(D===t.RED&&(Q===t.FLOAT&&(ge=t.R32F),Q===t.HALF_FLOAT&&(ge=t.R16F),Q===t.UNSIGNED_BYTE&&(ge=t.R8)),D===t.RED_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.R8UI),Q===t.UNSIGNED_SHORT&&(ge=t.R16UI),Q===t.UNSIGNED_INT&&(ge=t.R32UI),Q===t.BYTE&&(ge=t.R8I),Q===t.SHORT&&(ge=t.R16I),Q===t.INT&&(ge=t.R32I)),D===t.RG&&(Q===t.FLOAT&&(ge=t.RG32F),Q===t.HALF_FLOAT&&(ge=t.RG16F),Q===t.UNSIGNED_BYTE&&(ge=t.RG8)),D===t.RG_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RG8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RG16UI),Q===t.UNSIGNED_INT&&(ge=t.RG32UI),Q===t.BYTE&&(ge=t.RG8I),Q===t.SHORT&&(ge=t.RG16I),Q===t.INT&&(ge=t.RG32I)),D===t.RGB_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RGB8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RGB16UI),Q===t.UNSIGNED_INT&&(ge=t.RGB32UI),Q===t.BYTE&&(ge=t.RGB8I),Q===t.SHORT&&(ge=t.RGB16I),Q===t.INT&&(ge=t.RGB32I)),D===t.RGBA_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RGBA8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RGBA16UI),Q===t.UNSIGNED_INT&&(ge=t.RGBA32UI),Q===t.BYTE&&(ge=t.RGBA8I),Q===t.SHORT&&(ge=t.RGBA16I),Q===t.INT&&(ge=t.RGBA32I)),D===t.RGB&&(Q===t.UNSIGNED_INT_5_9_9_9_REV&&(ge=t.RGB9_E5),Q===t.UNSIGNED_INT_10F_11F_11F_REV&&(ge=t.R11F_G11F_B10F)),D===t.RGBA){const nt=Me?um:zt.getTransfer(he);Q===t.FLOAT&&(ge=t.RGBA32F),Q===t.HALF_FLOAT&&(ge=t.RGBA16F),Q===t.UNSIGNED_BYTE&&(ge=nt===tn?t.SRGB8_ALPHA8:t.RGBA8),Q===t.UNSIGNED_SHORT_4_4_4_4&&(ge=t.RGBA4),Q===t.UNSIGNED_SHORT_5_5_5_1&&(ge=t.RGB5_A1)}return(ge===t.R16F||ge===t.R32F||ge===t.RG16F||ge===t.RG32F||ge===t.RGBA16F||ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function M(W,D){let Q;return W?D===null||D===ha||D===Hf?Q=t.DEPTH24_STENCIL8:D===kr?Q=t.DEPTH32F_STENCIL8:D===Vf&&(Q=t.DEPTH24_STENCIL8,We("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===ha||D===Hf?Q=t.DEPTH_COMPONENT24:D===kr?Q=t.DEPTH_COMPONENT32F:D===Vf&&(Q=t.DEPTH_COMPONENT16),Q}function w(W,D){return y(W)===!0||W.isFramebufferTexture&&W.minFilter!==zn&&W.minFilter!==dn?Math.log2(Math.max(D.width,D.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?D.mipmaps.length:1}function E(W){const D=W.target;D.removeEventListener("dispose",E),A(D),D.isVideoTexture&&f.delete(D)}function P(W){const D=W.target;D.removeEventListener("dispose",P),I(D)}function A(W){const D=r.get(W);if(D.__webglInit===void 0)return;const Q=W.source,he=h.get(Q);if(he){const Me=he[D.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&C(W),Object.keys(he).length===0&&h.delete(Q)}r.remove(W)}function C(W){const D=r.get(W);t.deleteTexture(D.__webglTexture);const Q=W.source,he=h.get(Q);delete he[D.__cacheKey],o.memory.textures--}function I(W){const D=r.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),r.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(D.__webglFramebuffer[he]))for(let Me=0;Me<D.__webglFramebuffer[he].length;Me++)t.deleteFramebuffer(D.__webglFramebuffer[he][Me]);else t.deleteFramebuffer(D.__webglFramebuffer[he]);D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer[he])}else{if(Array.isArray(D.__webglFramebuffer))for(let he=0;he<D.__webglFramebuffer.length;he++)t.deleteFramebuffer(D.__webglFramebuffer[he]);else t.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&t.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let he=0;he<D.__webglColorRenderbuffer.length;he++)D.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(D.__webglColorRenderbuffer[he]);D.__webglDepthRenderbuffer&&t.deleteRenderbuffer(D.__webglDepthRenderbuffer)}const Q=W.textures;for(let he=0,Me=Q.length;he<Me;he++){const ge=r.get(Q[he]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),o.memory.textures--),r.remove(Q[he])}r.remove(W)}let R=0;function k(){R=0}function F(){const W=R;return W>=i.maxTextures&&We("WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),R+=1,W}function G(W){const D=[];return D.push(W.wrapS),D.push(W.wrapT),D.push(W.wrapR||0),D.push(W.magFilter),D.push(W.minFilter),D.push(W.anisotropy),D.push(W.internalFormat),D.push(W.format),D.push(W.type),D.push(W.generateMipmaps),D.push(W.premultiplyAlpha),D.push(W.flipY),D.push(W.unpackAlignment),D.push(W.colorSpace),D.join()}function $(W,D){const Q=r.get(W);if(W.isVideoTexture&&Ve(W),W.isRenderTargetTexture===!1&&W.isExternalTexture!==!0&&W.version>0&&Q.__version!==W.version){const he=W.image;if(he===null)We("WebGLRenderer: Texture marked for update but no image data found.");else if(he.complete===!1)We("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(Q,W,D);return}}else W.isExternalTexture&&(Q.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Q.__webglTexture,t.TEXTURE0+D)}function V(W,D){const Q=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&Q.__version!==W.version){ae(Q,W,D);return}else W.isExternalTexture&&(Q.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Q.__webglTexture,t.TEXTURE0+D)}function H(W,D){const Q=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&Q.__version!==W.version){ae(Q,W,D);return}n.bindTexture(t.TEXTURE_3D,Q.__webglTexture,t.TEXTURE0+D)}function U(W,D){const Q=r.get(W);if(W.isCubeDepthTexture!==!0&&W.version>0&&Q.__version!==W.version){be(Q,W,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+D)}const j={[am]:t.REPEAT,[di]:t.CLAMP_TO_EDGE,[om]:t.MIRRORED_REPEAT},Y={[zn]:t.NEAREST,[KP]:t.NEAREST_MIPMAP_NEAREST,[Kc]:t.NEAREST_MIPMAP_LINEAR,[dn]:t.LINEAR,[Kh]:t.LINEAR_MIPMAP_NEAREST,[ao]:t.LINEAR_MIPMAP_LINEAR},Z={[q5]:t.NEVER,[Q5]:t.ALWAYS,[Y5]:t.LESS,[ub]:t.LEQUAL,[K5]:t.EQUAL,[cb]:t.GEQUAL,[Z5]:t.GREATER,[J5]:t.NOTEQUAL};function J(W,D){if(D.type===kr&&e.has("OES_texture_float_linear")===!1&&(D.magFilter===dn||D.magFilter===Kh||D.magFilter===Kc||D.magFilter===ao||D.minFilter===dn||D.minFilter===Kh||D.minFilter===Kc||D.minFilter===ao)&&We("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(W,t.TEXTURE_WRAP_S,j[D.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,j[D.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,j[D.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,Y[D.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,Y[D.minFilter]),D.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,Z[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===zn||D.minFilter!==Kc&&D.minFilter!==ao||D.type===kr&&e.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||r.get(D).__currentAnisotropy){const Q=e.get("EXT_texture_filter_anisotropic");t.texParameterf(W,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy}}}function fe(W,D){let Q=!1;W.__webglInit===void 0&&(W.__webglInit=!0,D.addEventListener("dispose",E));const he=D.source;let Me=h.get(he);Me===void 0&&(Me={},h.set(he,Me));const ge=G(D);if(ge!==W.__cacheKey){Me[ge]===void 0&&(Me[ge]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Me[ge].usedTimes++;const nt=Me[W.__cacheKey];nt!==void 0&&(Me[W.__cacheKey].usedTimes--,nt.usedTimes===0&&C(D)),W.__cacheKey=ge,W.__webglTexture=Me[ge].texture}return Q}function we(W,D,Q){return Math.floor(Math.floor(W/Q)/D)}function De(W,D,Q,he){const ge=W.updateRanges;if(ge.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,D.width,D.height,Q,he,D.data);else{ge.sort((Ce,ke)=>Ce.start-ke.start);let nt=0;for(let Ce=1;Ce<ge.length;Ce++){const ke=ge[nt],lt=ge[Ce],ct=ke.start+ke.count,Je=we(lt.start,D.width,4),Ot=we(ke.start,D.width,4);lt.start<=ct+1&&Je===Ot&&we(lt.start+lt.count-1,D.width,4)===Je?ke.count=Math.max(ke.count,lt.start+lt.count-ke.start):(++nt,ge[nt]=lt)}ge.length=nt+1;const Be=t.getParameter(t.UNPACK_ROW_LENGTH),ht=t.getParameter(t.UNPACK_SKIP_PIXELS),yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,D.width);for(let Ce=0,ke=ge.length;Ce<ke;Ce++){const lt=ge[Ce],ct=Math.floor(lt.start/4),Je=Math.ceil(lt.count/4),Ot=ct%D.width,ee=Math.floor(ct/D.width),je=Je,Ue=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ot),t.pixelStorei(t.UNPACK_SKIP_ROWS,ee),n.texSubImage2D(t.TEXTURE_2D,0,Ot,ee,je,Ue,Q,he,D.data)}W.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Be),t.pixelStorei(t.UNPACK_SKIP_PIXELS,ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,yt)}}function ae(W,D,Q){let he=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(he=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(he=t.TEXTURE_3D);const Me=fe(W,D),ge=D.source;n.bindTexture(he,W.__webglTexture,t.TEXTURE0+Q);const nt=r.get(ge);if(ge.version!==nt.__version||Me===!0){n.activeTexture(t.TEXTURE0+Q);const Be=zt.getPrimaries(zt.workingColorSpace),ht=D.colorSpace===Do?null:zt.getPrimaries(D.colorSpace),yt=D.colorSpace===Do||Be===ht?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Ce=_(D.image,!1,i.maxTextureSize);Ce=dt(D,Ce);const ke=a.convert(D.format,D.colorSpace),lt=a.convert(D.type);let ct=b(D.internalFormat,ke,lt,D.colorSpace,D.isVideoTexture);J(he,D);let Je;const Ot=D.mipmaps,ee=D.isVideoTexture!==!0,je=nt.__version===void 0||Me===!0,Ue=ge.dataReady,tt=w(D,Ce);if(D.isDepthTexture)ct=M(D.format===Fs,D.type),je&&(ee?n.texStorage2D(t.TEXTURE_2D,1,ct,Ce.width,Ce.height):n.texImage2D(t.TEXTURE_2D,0,ct,Ce.width,Ce.height,0,ke,lt,null));else if(D.isDataTexture)if(Ot.length>0){ee&&je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ot[0].width,Ot[0].height);for(let Re=0,ve=Ot.length;Re<ve;Re++)Je=Ot[Re],ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,Je.width,Je.height,ke,lt,Je.data):n.texImage2D(t.TEXTURE_2D,Re,ct,Je.width,Je.height,0,ke,lt,Je.data);D.generateMipmaps=!1}else ee?(je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ce.width,Ce.height),Ue&&De(D,Ce,ke,lt)):n.texImage2D(t.TEXTURE_2D,0,ct,Ce.width,Ce.height,0,ke,lt,Ce.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ee&&je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,ct,Ot[0].width,Ot[0].height,Ce.depth);for(let Re=0,ve=Ot.length;Re<ve;Re++)if(Je=Ot[Re],D.format!==Ur)if(ke!==null)if(ee){if(Ue)if(D.layerUpdates.size>0){const st=OA(Je.width,Je.height,D.format,D.type);for(const Mt of D.layerUpdates){const nn=Je.data.subarray(Mt*st/Je.data.BYTES_PER_ELEMENT,(Mt+1)*st/Je.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,Mt,Je.width,Je.height,1,ke,nn)}D.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,Je.width,Je.height,Ce.depth,ke,Je.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Re,ct,Je.width,Je.height,Ce.depth,0,Je.data,0,0);else We("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ee?Ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,Je.width,Je.height,Ce.depth,ke,lt,Je.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Re,ct,Je.width,Je.height,Ce.depth,0,ke,lt,Je.data)}else{ee&&je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ot[0].width,Ot[0].height);for(let Re=0,ve=Ot.length;Re<ve;Re++)Je=Ot[Re],D.format!==Ur?ke!==null?ee?Ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,Re,0,0,Je.width,Je.height,ke,Je.data):n.compressedTexImage2D(t.TEXTURE_2D,Re,ct,Je.width,Je.height,0,Je.data):We("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,Je.width,Je.height,ke,lt,Je.data):n.texImage2D(t.TEXTURE_2D,Re,ct,Je.width,Je.height,0,ke,lt,Je.data)}else if(D.isDataArrayTexture)if(ee){if(je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,ct,Ce.width,Ce.height,Ce.depth),Ue)if(D.layerUpdates.size>0){const Re=OA(Ce.width,Ce.height,D.format,D.type);for(const ve of D.layerUpdates){const st=Ce.data.subarray(ve*Re/Ce.data.BYTES_PER_ELEMENT,(ve+1)*Re/Ce.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ve,Ce.width,Ce.height,1,ke,lt,st)}D.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ce.width,Ce.height,Ce.depth,ke,lt,Ce.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ct,Ce.width,Ce.height,Ce.depth,0,ke,lt,Ce.data);else if(D.isData3DTexture)ee?(je&&n.texStorage3D(t.TEXTURE_3D,tt,ct,Ce.width,Ce.height,Ce.depth),Ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ce.width,Ce.height,Ce.depth,ke,lt,Ce.data)):n.texImage3D(t.TEXTURE_3D,0,ct,Ce.width,Ce.height,Ce.depth,0,ke,lt,Ce.data);else if(D.isFramebufferTexture){if(je)if(ee)n.texStorage2D(t.TEXTURE_2D,tt,ct,Ce.width,Ce.height);else{let Re=Ce.width,ve=Ce.height;for(let st=0;st<tt;st++)n.texImage2D(t.TEXTURE_2D,st,ct,Re,ve,0,ke,lt,null),Re>>=1,ve>>=1}}else if(Ot.length>0){if(ee&&je){const Re=Oe(Ot[0]);n.texStorage2D(t.TEXTURE_2D,tt,ct,Re.width,Re.height)}for(let Re=0,ve=Ot.length;Re<ve;Re++)Je=Ot[Re],ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,ke,lt,Je):n.texImage2D(t.TEXTURE_2D,Re,ct,ke,lt,Je);D.generateMipmaps=!1}else if(ee){if(je){const Re=Oe(Ce);n.texStorage2D(t.TEXTURE_2D,tt,ct,Re.width,Re.height)}Ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke,lt,Ce)}else n.texImage2D(t.TEXTURE_2D,0,ct,ke,lt,Ce);y(D)&&v(he),nt.__version=ge.version,D.onUpdate&&D.onUpdate(D)}W.__version=D.version}function be(W,D,Q){if(D.image.length!==6)return;const he=fe(W,D),Me=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+Q);const ge=r.get(Me);if(Me.version!==ge.__version||he===!0){n.activeTexture(t.TEXTURE0+Q);const nt=zt.getPrimaries(zt.workingColorSpace),Be=D.colorSpace===Do?null:zt.getPrimaries(D.colorSpace),ht=D.colorSpace===Do||nt===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const yt=D.isCompressedTexture||D.image[0].isCompressedTexture,Ce=D.image[0]&&D.image[0].isDataTexture,ke=[];for(let ve=0;ve<6;ve++)!yt&&!Ce?ke[ve]=_(D.image[ve],!0,i.maxCubemapSize):ke[ve]=Ce?D.image[ve].image:D.image[ve],ke[ve]=dt(D,ke[ve]);const lt=ke[0],ct=a.convert(D.format,D.colorSpace),Je=a.convert(D.type),Ot=b(D.internalFormat,ct,Je,D.colorSpace),ee=D.isVideoTexture!==!0,je=ge.__version===void 0||he===!0,Ue=Me.dataReady;let tt=w(D,lt);J(t.TEXTURE_CUBE_MAP,D);let Re;if(yt){ee&&je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,Ot,lt.width,lt.height);for(let ve=0;ve<6;ve++){Re=ke[ve].mipmaps;for(let st=0;st<Re.length;st++){const Mt=Re[st];D.format!==Ur?ct!==null?ee?Ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,0,0,Mt.width,Mt.height,ct,Mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,Ot,Mt.width,Mt.height,0,Mt.data):We("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,0,0,Mt.width,Mt.height,ct,Je,Mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,Ot,Mt.width,Mt.height,0,ct,Je,Mt.data)}}}else{if(Re=D.mipmaps,ee&&je){Re.length>0&&tt++;const ve=Oe(ke[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,Ot,ve.width,ve.height)}for(let ve=0;ve<6;ve++)if(Ce){ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ke[ve].width,ke[ve].height,ct,Je,ke[ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Ot,ke[ve].width,ke[ve].height,0,ct,Je,ke[ve].data);for(let st=0;st<Re.length;st++){const nn=Re[st].image[ve].image;ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,0,0,nn.width,nn.height,ct,Je,nn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,Ot,nn.width,nn.height,0,ct,Je,nn.data)}}else{ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ct,Je,ke[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Ot,ct,Je,ke[ve]);for(let st=0;st<Re.length;st++){const Mt=Re[st];ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,0,0,ct,Je,Mt.image[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,Ot,ct,Je,Mt.image[ve])}}}y(D)&&v(t.TEXTURE_CUBE_MAP),ge.__version=Me.version,D.onUpdate&&D.onUpdate(D)}W.__version=D.version}function Ae(W,D,Q,he,Me,ge){const nt=a.convert(Q.format,Q.colorSpace),Be=a.convert(Q.type),ht=b(Q.internalFormat,nt,Be,Q.colorSpace),yt=r.get(D),Ce=r.get(Q);if(Ce.__renderTarget=D,!yt.__hasExternalTextures){const ke=Math.max(1,D.width>>ge),lt=Math.max(1,D.height>>ge);Me===t.TEXTURE_3D||Me===t.TEXTURE_2D_ARRAY?n.texImage3D(Me,ge,ht,ke,lt,D.depth,0,nt,Be,null):n.texImage2D(Me,ge,ht,ke,lt,0,nt,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,he,Me,Ce.__webglTexture,0,q(D)):(Me===t.TEXTURE_2D||Me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,he,Me,Ce.__webglTexture,ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function me(W,D,Q){if(t.bindRenderbuffer(t.RENDERBUFFER,W),D.depthBuffer){const he=D.depthTexture,Me=he&&he.isDepthTexture?he.type:null,ge=M(D.stencilBuffer,Me),nt=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;ut(D)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(D),ge,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(D),ge,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ge,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,nt,t.RENDERBUFFER,W)}else{const he=D.textures;for(let Me=0;Me<he.length;Me++){const ge=he[Me],nt=a.convert(ge.format,ge.colorSpace),Be=a.convert(ge.type),ht=b(ge.internalFormat,nt,Be,ge.colorSpace);ut(D)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(D),ht,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(D),ht,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ht,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Te(W,D,Q){const he=D.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=r.get(D.depthTexture);if(Me.__renderTarget=D,(!Me.__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),he){if(Me.__webglInit===void 0&&(Me.__webglInit=!0,D.depthTexture.addEventListener("dispose",E)),Me.__webglTexture===void 0){Me.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture),J(t.TEXTURE_CUBE_MAP,D.depthTexture);const yt=a.convert(D.depthTexture.format),Ce=a.convert(D.depthTexture.type);let ke;D.depthTexture.format===mo?ke=t.DEPTH_COMPONENT24:D.depthTexture.format===Fs&&(ke=t.DEPTH24_STENCIL8);for(let lt=0;lt<6;lt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,ke,D.width,D.height,0,yt,Ce,null)}}else $(D.depthTexture,0);const ge=Me.__webglTexture,nt=q(D),Be=he?t.TEXTURE_CUBE_MAP_POSITIVE_X+Q:t.TEXTURE_2D,ht=D.depthTexture.format===Fs?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(D.depthTexture.format===mo)ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ht,Be,ge,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,ht,Be,ge,0);else if(D.depthTexture.format===Fs)ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ht,Be,ge,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,ht,Be,ge,0);else throw new Error("Unknown depthTexture format")}function Pe(W){const D=r.get(W),Q=W.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==W.depthTexture){const he=W.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),he){const Me=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,he.removeEventListener("dispose",Me)};he.addEventListener("dispose",Me),D.__depthDisposeCallback=Me}D.__boundDepthTexture=he}if(W.depthTexture&&!D.__autoAllocateDepthBuffer)if(Q)for(let he=0;he<6;he++)Te(D.__webglFramebuffer[he],W,he);else{const he=W.texture.mipmaps;he&&he.length>0?Te(D.__webglFramebuffer[0],W,0):Te(D.__webglFramebuffer,W,0)}else if(Q){D.__webglDepthbuffer=[];for(let he=0;he<6;he++)if(n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[he]),D.__webglDepthbuffer[he]===void 0)D.__webglDepthbuffer[he]=t.createRenderbuffer(),me(D.__webglDepthbuffer[he],W,!1);else{const Me=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=D.__webglDepthbuffer[he];t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,ge)}}else{const he=W.texture.mipmaps;if(he&&he.length>0?n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=t.createRenderbuffer(),me(D.__webglDepthbuffer,W,!1);else{const Me=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=D.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,ge)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function pe(W,D,Q){const he=r.get(W);D!==void 0&&Ae(he.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Q!==void 0&&Pe(W)}function Ge(W){const D=W.texture,Q=r.get(W),he=r.get(D);W.addEventListener("dispose",P);const Me=W.textures,ge=W.isWebGLCubeRenderTarget===!0,nt=Me.length>1;if(nt||(he.__webglTexture===void 0&&(he.__webglTexture=t.createTexture()),he.__version=D.version,o.memory.textures++),ge){Q.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer[Be]=[];for(let ht=0;ht<D.mipmaps.length;ht++)Q.__webglFramebuffer[Be][ht]=t.createFramebuffer()}else Q.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer=[];for(let Be=0;Be<D.mipmaps.length;Be++)Q.__webglFramebuffer[Be]=t.createFramebuffer()}else Q.__webglFramebuffer=t.createFramebuffer();if(nt)for(let Be=0,ht=Me.length;Be<ht;Be++){const yt=r.get(Me[Be]);yt.__webglTexture===void 0&&(yt.__webglTexture=t.createTexture(),o.memory.textures++)}if(W.samples>0&&ut(W)===!1){Q.__webglMultisampledFramebuffer=t.createFramebuffer(),Q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let Be=0;Be<Me.length;Be++){const ht=Me[Be];Q.__webglColorRenderbuffer[Be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Q.__webglColorRenderbuffer[Be]);const yt=a.convert(ht.format,ht.colorSpace),Ce=a.convert(ht.type),ke=b(ht.internalFormat,yt,Ce,ht.colorSpace,W.isXRRenderTarget===!0),lt=q(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,lt,ke,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Be,t.RENDERBUFFER,Q.__webglColorRenderbuffer[Be])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(Q.__webglDepthRenderbuffer=t.createRenderbuffer(),me(Q.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture),J(t.TEXTURE_CUBE_MAP,D);for(let Be=0;Be<6;Be++)if(D.mipmaps&&D.mipmaps.length>0)for(let ht=0;ht<D.mipmaps.length;ht++)Ae(Q.__webglFramebuffer[Be][ht],W,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ht);else Ae(Q.__webglFramebuffer[Be],W,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);y(D)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(nt){for(let Be=0,ht=Me.length;Be<ht;Be++){const yt=Me[Be],Ce=r.get(yt);let ke=t.TEXTURE_2D;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(ke=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ke,Ce.__webglTexture),J(ke,yt),Ae(Q.__webglFramebuffer,W,yt,t.COLOR_ATTACHMENT0+Be,ke,0),y(yt)&&v(ke)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Be=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,he.__webglTexture),J(Be,D),D.mipmaps&&D.mipmaps.length>0)for(let ht=0;ht<D.mipmaps.length;ht++)Ae(Q.__webglFramebuffer[ht],W,D,t.COLOR_ATTACHMENT0,Be,ht);else Ae(Q.__webglFramebuffer,W,D,t.COLOR_ATTACHMENT0,Be,0);y(D)&&v(Be),n.unbindTexture()}W.depthBuffer&&Pe(W)}function ce(W){const D=W.textures;for(let Q=0,he=D.length;Q<he;Q++){const Me=D[Q];if(y(Me)){const ge=x(W),nt=r.get(Me).__webglTexture;n.bindTexture(ge,nt),v(ge),n.unbindTexture()}}}const Se=[],xe=[];function Ne(W){if(W.samples>0){if(ut(W)===!1){const D=W.textures,Q=W.width,he=W.height;let Me=t.COLOR_BUFFER_BIT;const ge=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=r.get(W),Be=D.length>1;if(Be)for(let yt=0;yt<D.length;yt++)n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const ht=W.texture.mipmaps;ht&&ht.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let yt=0;yt<D.length;yt++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Me|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Me|=t.STENCIL_BUFFER_BIT)),Be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,nt.__webglColorRenderbuffer[yt]);const Ce=r.get(D[yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ce,0)}t.blitFramebuffer(0,0,Q,he,0,0,Q,he,Me,t.NEAREST),l===!0&&(Se.length=0,xe.length=0,Se.push(t.COLOR_ATTACHMENT0+yt),W.depthBuffer&&W.resolveDepthBuffer===!1&&(Se.push(ge),xe.push(ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,xe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Se))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Be)for(let yt=0;yt<D.length;yt++){n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,nt.__webglColorRenderbuffer[yt]);const Ce=r.get(D[yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,Ce,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&l){const D=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[D])}}}function q(W){return Math.min(i.maxSamples,W.samples)}function ut(W){const D=r.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Ve(W){const D=o.render.frame;f.get(W)!==D&&(f.set(W,D),W.update())}function dt(W,D){const Q=W.colorSpace,he=W.format,Me=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||Q!==Au&&Q!==Do&&(zt.getTransfer(Q)===tn?(he!==Ur||Me!==Gr)&&We("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):mt("WebGLTextures: Unsupported texture color space:",Q)),D}function Oe(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(u.width=W.naturalWidth||W.width,u.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(u.width=W.displayWidth,u.height=W.displayHeight):(u.width=W.width,u.height=W.height),u}this.allocateTextureUnit=F,this.resetTextureUnits=k,this.setTexture2D=$,this.setTexture2DArray=V,this.setTexture3D=H,this.setTextureCube=U,this.rebindTextures=pe,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=ut,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function c$(t,e){function n(r,i=Do){let a;const o=zt.getTransfer(i);if(r===Gr)return t.UNSIGNED_BYTE;if(r===rb)return t.UNSIGNED_SHORT_4_4_4_4;if(r===ib)return t.UNSIGNED_SHORT_5_5_5_1;if(r===QP)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===eC)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===ZP)return t.BYTE;if(r===JP)return t.SHORT;if(r===Vf)return t.UNSIGNED_SHORT;if(r===nb)return t.INT;if(r===ha)return t.UNSIGNED_INT;if(r===kr)return t.FLOAT;if(r===Ba)return t.HALF_FLOAT;if(r===tC)return t.ALPHA;if(r===nC)return t.RGB;if(r===Ur)return t.RGBA;if(r===mo)return t.DEPTH_COMPONENT;if(r===Fs)return t.DEPTH_STENCIL;if(r===ab)return t.RED;if(r===Um)return t.RED_INTEGER;if(r===Eu)return t.RG;if(r===ob)return t.RG_INTEGER;if(r===sb)return t.RGBA_INTEGER;if(r===Zh||r===Jh||r===Qh||r===ep)if(o===tn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Zh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Jh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Qh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ep)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Zh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Jh)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Qh)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ep)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===cx||r===fx||r===dx||r===hx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===cx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===fx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===dx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===hx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===px||r===mx||r===gx||r===vx||r===yx||r===xx||r===_x)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===px||r===mx)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===gx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===vx)return a.COMPRESSED_R11_EAC;if(r===yx)return a.COMPRESSED_SIGNED_R11_EAC;if(r===xx)return a.COMPRESSED_RG11_EAC;if(r===_x)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===bx||r===Sx||r===wx||r===Mx||r===Ex||r===Ax||r===Tx||r===Px||r===Cx||r===Ox||r===Rx||r===Ix||r===Nx||r===Lx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===bx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Sx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===wx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Mx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Ex)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Ax)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Tx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Px)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Cx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Ox)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Rx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ix)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Nx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Lx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Dx||r===kx||r===Ux)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===Dx)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===kx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Ux)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Fx||r===Bx||r===zx||r===jx)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===Fx)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Bx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===zx)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===jx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Hf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Dwe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,kwe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Uwe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new fC(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Fi({vertexShader:Dwe,fragmentShader:kwe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new qn(new yd(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Fwe extends vo{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,f=null,c=null,h=null,m=null,g=null;const _=typeof XRWebGLBinding<"u",y=new Uwe,v={},x=n.getContextAttributes();let b=null,M=null;const w=[],E=[],P=new Ee;let A=null;const C=new dr;C.viewport=new cn;const I=new dr;I.viewport=new cn;const R=[C,I],k=new Zj;let F=null,G=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let be=w[ae];return be===void 0&&(be=new Py,w[ae]=be),be.getTargetRaySpace()},this.getControllerGrip=function(ae){let be=w[ae];return be===void 0&&(be=new Py,w[ae]=be),be.getGripSpace()},this.getHand=function(ae){let be=w[ae];return be===void 0&&(be=new Py,w[ae]=be),be.getHandSpace()};function $(ae){const be=E.indexOf(ae.inputSource);if(be===-1)return;const Ae=w[be];Ae!==void 0&&(Ae.update(ae.inputSource,ae.frame,u||o),Ae.dispatchEvent({type:ae.type,data:ae.inputSource}))}function V(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",H);for(let ae=0;ae<w.length;ae++){const be=E[ae];be!==null&&(E[ae]=null,w[ae].disconnect(be))}F=null,G=null,y.reset();for(const ae in v)delete v[ae];e.setRenderTarget(b),m=null,h=null,c=null,i=null,M=null,De.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,r.isPresenting===!0&&We("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){s=ae,r.isPresenting===!0&&We("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return c===null&&_&&(c=new XRWebGLBinding(i,n)),c},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",V),i.addEventListener("inputsourceschange",H),x.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(P),_&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,me=null,Te=null;x.depth&&(Te=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ae=x.stencil?Fs:mo,me=x.stencil?Hf:ha);const Pe={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:a};c=this.getBinding(),h=c.createProjectionLayer(Pe),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),M=new gi(h.textureWidth,h.textureHeight,{format:Ur,type:Gr,depthTexture:new Cu(h.textureWidth,h.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Ae={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(i,n,Ae),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new gi(m.framebufferWidth,m.framebufferHeight,{format:Ur,type:Gr,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),De.setContext(i),De.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function H(ae){for(let be=0;be<ae.removed.length;be++){const Ae=ae.removed[be],me=E.indexOf(Ae);me>=0&&(E[me]=null,w[me].disconnect(Ae))}for(let be=0;be<ae.added.length;be++){const Ae=ae.added[be];let me=E.indexOf(Ae);if(me===-1){for(let Pe=0;Pe<w.length;Pe++)if(Pe>=E.length){E.push(Ae),me=Pe;break}else if(E[Pe]===null){E[Pe]=Ae,me=Pe;break}if(me===-1)break}const Te=w[me];Te&&Te.connect(Ae)}}const U=new X,j=new X;function Y(ae,be,Ae){U.setFromMatrixPosition(be.matrixWorld),j.setFromMatrixPosition(Ae.matrixWorld);const me=U.distanceTo(j),Te=be.projectionMatrix.elements,Pe=Ae.projectionMatrix.elements,pe=Te[14]/(Te[10]-1),Ge=Te[14]/(Te[10]+1),ce=(Te[9]+1)/Te[5],Se=(Te[9]-1)/Te[5],xe=(Te[8]-1)/Te[0],Ne=(Pe[8]+1)/Pe[0],q=pe*xe,ut=pe*Ne,Ve=me/(-xe+Ne),dt=Ve*-xe;if(be.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(dt),ae.translateZ(Ve),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),Te[10]===-1)ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse);else{const Oe=pe+Ve,W=Ge+Ve,D=q-dt,Q=ut+(me-dt),he=ce*Ge/W*Oe,Me=Se*Ge/W*Oe;ae.projectionMatrix.makePerspective(D,Q,he,Me,Oe,W),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function Z(ae,be){be===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(be.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let be=ae.near,Ae=ae.far;y.texture!==null&&(y.depthNear>0&&(be=y.depthNear),y.depthFar>0&&(Ae=y.depthFar)),k.near=I.near=C.near=be,k.far=I.far=C.far=Ae,(F!==k.near||G!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),F=k.near,G=k.far),k.layers.mask=ae.layers.mask|6,C.layers.mask=k.layers.mask&-5,I.layers.mask=k.layers.mask&-3;const me=ae.parent,Te=k.cameras;Z(k,me);for(let Pe=0;Pe<Te.length;Pe++)Z(Te[Pe],me);Te.length===2?Y(k,C,I):k.projectionMatrix.copy(C.projectionMatrix),J(ae,k,me)};function J(ae,be,Ae){Ae===null?ae.matrix.copy(be.matrixWorld):(ae.matrix.copy(Ae.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(be.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Gf*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(ae){l=ae,h!==null&&(h.fixedFoveation=ae),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ae)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(k)},this.getCameraTexture=function(ae){return v[ae]};let fe=null;function we(ae,be){if(f=be.getViewerPose(u||o),g=be,f!==null){const Ae=f.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let me=!1;Ae.length!==k.cameras.length&&(k.cameras.length=0,me=!0);for(let Ge=0;Ge<Ae.length;Ge++){const ce=Ae[Ge];let Se=null;if(m!==null)Se=m.getViewport(ce);else{const Ne=c.getViewSubImage(h,ce);Se=Ne.viewport,Ge===0&&(e.setRenderTargetTextures(M,Ne.colorTexture,Ne.depthStencilTexture),e.setRenderTarget(M))}let xe=R[Ge];xe===void 0&&(xe=new dr,xe.layers.enable(Ge),xe.viewport=new cn,R[Ge]=xe),xe.matrix.fromArray(ce.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(ce.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(Se.x,Se.y,Se.width,Se.height),Ge===0&&(k.matrix.copy(xe.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),me===!0&&k.cameras.push(xe)}const Te=i.enabledFeatures;if(Te&&Te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&_){c=r.getBinding();const Ge=c.getDepthInformation(Ae[0]);Ge&&Ge.isValid&&Ge.texture&&y.init(Ge,i.renderState)}if(Te&&Te.includes("camera-access")&&_){e.state.unbindTexture(),c=r.getBinding();for(let Ge=0;Ge<Ae.length;Ge++){const ce=Ae[Ge].camera;if(ce){let Se=v[ce];Se||(Se=new fC,v[ce]=Se);const xe=c.getCameraImage(ce);Se.sourceTexture=xe}}}}for(let Ae=0;Ae<w.length;Ae++){const me=E[Ae],Te=w[Ae];me!==null&&Te!==void 0&&Te.update(me,be,u||o)}fe&&fe(ae,be),be.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:be}),g=null}const De=new a$;De.setAnimationLoop(we),this.setAnimationLoop=function(ae){fe=ae},this.dispose=function(){}}}const zl=new Ui,Bwe=new wt;function zwe(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,Tj(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,x,b,M){v.isMeshBasicMaterial?a(y,v):v.isMeshLambertMaterial?(a(y,v),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)):v.isMeshToonMaterial?(a(y,v),c(y,v)):v.isMeshPhongMaterial?(a(y,v),f(y,v),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)):v.isMeshStandardMaterial?(a(y,v),h(y,v),v.isMeshPhysicalMaterial&&m(y,v,M)):v.isMeshMatcapMaterial?(a(y,v),g(y,v)):v.isMeshDepthMaterial?a(y,v):v.isMeshDistanceMaterial?(a(y,v),_(y,v)):v.isMeshNormalMaterial?a(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&s(y,v)):v.isPointsMaterial?l(y,v,x,b):v.isSpriteMaterial?u(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const x=e.get(v),b=x.envMap,M=x.envMapRotation;b&&(y.envMap.value=b,zl.copy(M),zl.x*=-1,zl.y*=-1,zl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(zl.y*=-1,zl.z*=-1),y.envMapRotation.value.setFromMatrix4(Bwe.makeRotationFromEuler(zl)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function s(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,x,b){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*x,y.scale.value=b*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function f(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function c(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function h(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function m(y,v,x){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Yr&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function _(y,v){const x=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function jwe(t,e,n,r){let i={},a={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,b){const M=b.program;r.uniformBlockBinding(x,M)}function u(x,b){let M=i[x.id];M===void 0&&(g(x),M=f(x),i[x.id]=M,x.addEventListener("dispose",y));const w=b.program;r.updateUBOMapping(x,w);const E=e.render.frame;a[x.id]!==E&&(h(x),a[x.id]=E)}function f(x){const b=c();x.__bindingPointIndex=b;const M=t.createBuffer(),w=x.__size,E=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,w,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,M),M}function c(){for(let x=0;x<s;x++)if(o.indexOf(x)===-1)return o.push(x),x;return mt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const b=i[x.id],M=x.uniforms,w=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let E=0,P=M.length;E<P;E++){const A=Array.isArray(M[E])?M[E]:[M[E]];for(let C=0,I=A.length;C<I;C++){const R=A[C];if(m(R,E,C,w)===!0){const k=R.__offset,F=Array.isArray(R.value)?R.value:[R.value];let G=0;for(let $=0;$<F.length;$++){const V=F[$],H=_(V);typeof V=="number"||typeof V=="boolean"?(R.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,k+G,R.__data)):V.isMatrix3?(R.__data[0]=V.elements[0],R.__data[1]=V.elements[1],R.__data[2]=V.elements[2],R.__data[3]=0,R.__data[4]=V.elements[3],R.__data[5]=V.elements[4],R.__data[6]=V.elements[5],R.__data[7]=0,R.__data[8]=V.elements[6],R.__data[9]=V.elements[7],R.__data[10]=V.elements[8],R.__data[11]=0):(V.toArray(R.__data,G),G+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(x,b,M,w){const E=x.value,P=b+"_"+M;if(w[P]===void 0)return typeof E=="number"||typeof E=="boolean"?w[P]=E:w[P]=E.clone(),!0;{const A=w[P];if(typeof E=="number"||typeof E=="boolean"){if(A!==E)return w[P]=E,!0}else if(A.equals(E)===!1)return A.copy(E),!0}return!1}function g(x){const b=x.uniforms;let M=0;const w=16;for(let P=0,A=b.length;P<A;P++){const C=Array.isArray(b[P])?b[P]:[b[P]];for(let I=0,R=C.length;I<R;I++){const k=C[I],F=Array.isArray(k.value)?k.value:[k.value];for(let G=0,$=F.length;G<$;G++){const V=F[G],H=_(V),U=M%w,j=U%H.boundary,Y=U+j;M+=j,Y!==0&&w-Y<H.storage&&(M+=w-Y),k.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,M+=H.storage}}}const E=M%w;return E>0&&(M+=w-E),x.__size=M,x.__cache={},this}function _(x){const b={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?We("WebGLRenderer: Texture samplers can not be part of an uniforms group."):We("WebGLRenderer: Unsupported uniform value type.",x),b}function y(x){const b=x.target;b.removeEventListener("dispose",y);const M=o.indexOf(b.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function v(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},a={}}return{bind:l,update:u,dispose:v}}const $we=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let eo=null;function Vwe(){return eo===null&&(eo=new Ua($we,16,16,Eu,Ba),eo.name="DFG_LUT",eo.minFilter=dn,eo.magFilter=dn,eo.wrapS=di,eo.wrapT=di,eo.generateMipmaps=!1,eo.needsUpdate=!0),eo}class f${constructor(e={}){const{canvas:n=tj(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:c=!1,reversedDepthBuffer:h=!1,outputBufferType:m=Gr}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const _=m,y=new Set([sb,ob,Um]),v=new Set([Gr,ha,Vf,Hf,rb,ib]),x=new Uint32Array(4),b=new Int32Array(4);let M=null,w=null;const E=[],P=[];let A=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ua,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let I=!1;this._outputColorSpace=oi;let R=0,k=0,F=null,G=-1,$=null;const V=new cn,H=new cn;let U=null;const j=new et(0);let Y=0,Z=n.width,J=n.height,fe=1,we=null,De=null;const ae=new cn(0,0,Z,J),be=new cn(0,0,Z,J);let Ae=!1;const me=new vd;let Te=!1,Pe=!1;const pe=new wt,Ge=new X,ce=new cn,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let xe=!1;function Ne(){return F===null?fe:1}let q=r;function ut(B,re){return n.getContext(B,re)}try{const B={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:f,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Q_}`),n.addEventListener("webglcontextlost",st,!1),n.addEventListener("webglcontextrestored",Mt,!1),n.addEventListener("webglcontextcreationerror",nn,!1),q===null){const re="webgl2";if(q=ut(re,B),q===null)throw ut(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(B){throw mt("WebGLRenderer: "+B.message),B}let Ve,dt,Oe,W,D,Q,he,Me,ge,nt,Be,ht,yt,Ce,ke,lt,ct,Je,Ot,ee,je,Ue,tt;function Re(){Ve=new GSe(q),Ve.init(),je=new c$(q,Ve),dt=new USe(q,Ve,e,je),Oe=new Nwe(q,Ve),dt.reversedDepthBuffer&&h&&Oe.buffers.depth.setReversed(!0),W=new qSe(q),D=new xwe,Q=new Lwe(q,Ve,Oe,D,dt,je,W),he=new HSe(C),Me=new Qxe(q),Ue=new DSe(q,Me),ge=new WSe(q,Me,W,Ue),nt=new KSe(q,ge,Me,Ue,W),Je=new YSe(q,dt,Q),ke=new FSe(D),Be=new ywe(C,he,Ve,dt,Ue,ke),ht=new zwe(C,D),yt=new bwe,Ce=new Twe(Ve),ct=new LSe(C,he,Oe,nt,g,l),lt=new Iwe(C,nt,dt),tt=new jwe(q,W,dt,Oe),Ot=new kSe(q,Ve,W),ee=new XSe(q,Ve,W),W.programs=Be.programs,C.capabilities=dt,C.extensions=Ve,C.properties=D,C.renderLists=yt,C.shadowMap=lt,C.state=Oe,C.info=W}Re(),_!==Gr&&(A=new JSe(_,n.width,n.height,i,a));const ve=new Fwe(C,q);this.xr=ve,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const B=Ve.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=Ve.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return fe},this.setPixelRatio=function(B){B!==void 0&&(fe=B,this.setSize(Z,J,!1))},this.getSize=function(B){return B.set(Z,J)},this.setSize=function(B,re,ue=!0){if(ve.isPresenting){We("WebGLRenderer: Can't change size while VR device is presenting.");return}Z=B,J=re,n.width=Math.floor(B*fe),n.height=Math.floor(re*fe),ue===!0&&(n.style.width=B+"px",n.style.height=re+"px"),A!==null&&A.setSize(n.width,n.height),this.setViewport(0,0,B,re)},this.getDrawingBufferSize=function(B){return B.set(Z*fe,J*fe).floor()},this.setDrawingBufferSize=function(B,re,ue){Z=B,J=re,fe=ue,n.width=Math.floor(B*ue),n.height=Math.floor(re*ue),this.setViewport(0,0,B,re)},this.setEffects=function(B){if(_===Gr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(B){for(let re=0;re<B.length;re++)if(B[re].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}A.setEffects(B||[])},this.getCurrentViewport=function(B){return B.copy(V)},this.getViewport=function(B){return B.copy(ae)},this.setViewport=function(B,re,ue,se){B.isVector4?ae.set(B.x,B.y,B.z,B.w):ae.set(B,re,ue,se),Oe.viewport(V.copy(ae).multiplyScalar(fe).round())},this.getScissor=function(B){return B.copy(be)},this.setScissor=function(B,re,ue,se){B.isVector4?be.set(B.x,B.y,B.z,B.w):be.set(B,re,ue,se),Oe.scissor(H.copy(be).multiplyScalar(fe).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(B){Oe.setScissorTest(Ae=B)},this.setOpaqueSort=function(B){we=B},this.setTransparentSort=function(B){De=B},this.getClearColor=function(B){return B.copy(ct.getClearColor())},this.setClearColor=function(){ct.setClearColor(...arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha(...arguments)},this.clear=function(B=!0,re=!0,ue=!0){let se=0;if(B){let oe=!1;if(F!==null){const Xe=F.texture.format;oe=y.has(Xe)}if(oe){const Xe=F.texture.type,Ke=v.has(Xe),$e=ct.getClearColor(),Fe=ct.getClearAlpha(),ze=$e.r,_t=$e.g,vt=$e.b;Ke?(x[0]=ze,x[1]=_t,x[2]=vt,x[3]=Fe,q.clearBufferuiv(q.COLOR,0,x)):(b[0]=ze,b[1]=_t,b[2]=vt,b[3]=Fe,q.clearBufferiv(q.COLOR,0,b))}else se|=q.COLOR_BUFFER_BIT}re&&(se|=q.DEPTH_BUFFER_BIT),ue&&(se|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se!==0&&q.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",st,!1),n.removeEventListener("webglcontextrestored",Mt,!1),n.removeEventListener("webglcontextcreationerror",nn,!1),ct.dispose(),yt.dispose(),Ce.dispose(),D.dispose(),he.dispose(),nt.dispose(),Ue.dispose(),tt.dispose(),Be.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",$u),ve.removeEventListener("sessionend",qm),xi.stop()};function st(B){B.preventDefault(),dm("WebGLRenderer: Context Lost."),I=!0}function Mt(){dm("WebGLRenderer: Context Restored."),I=!1;const B=W.autoReset,re=lt.enabled,ue=lt.autoUpdate,se=lt.needsUpdate,oe=lt.type;Re(),W.autoReset=B,lt.enabled=re,lt.autoUpdate=ue,lt.needsUpdate=se,lt.type=oe}function nn(B){mt("WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function Xt(B){const re=B.target;re.removeEventListener("dispose",Xt),ji(re)}function ji(B){va(B),D.remove(B)}function va(B){const re=D.get(B).programs;re!==void 0&&(re.forEach(function(ue){Be.releaseProgram(ue)}),B.isShaderMaterial&&Be.releaseShaderCache(B))}this.renderBufferDirect=function(B,re,ue,se,oe,Xe){re===null&&(re=Se);const Ke=oe.isMesh&&oe.matrixWorld.determinant()<0,$e=kb(B,re,ue,se,oe);Oe.setMaterial(se,Ke);let Fe=ue.index,ze=1;if(se.wireframe===!0){if(Fe=ge.getWireframeAttribute(ue),Fe===void 0)return;ze=2}const _t=ue.drawRange,vt=ue.attributes.position;let Qe=_t.start*ze,Ft=(_t.start+_t.count)*ze;Xe!==null&&(Qe=Math.max(Qe,Xe.start*ze),Ft=Math.min(Ft,(Xe.start+Xe.count)*ze)),Fe!==null?(Qe=Math.max(Qe,0),Ft=Math.min(Ft,Fe.count)):vt!=null&&(Qe=Math.max(Qe,0),Ft=Math.min(Ft,vt.count));const sn=Ft-Qe;if(sn<0||sn===1/0)return;Ue.setup(oe,se,$e,ue,Fe);let Dt,$t=Ot;if(Fe!==null&&(Dt=Me.get(Fe),$t=ee,$t.setIndex(Dt)),oe.isMesh)se.wireframe===!0?(Oe.setLineWidth(se.wireframeLinewidth*Ne()),$t.setMode(q.LINES)):$t.setMode(q.TRIANGLES);else if(oe.isLine){let Yn=se.linewidth;Yn===void 0&&(Yn=1),Oe.setLineWidth(Yn*Ne()),oe.isLineSegments?$t.setMode(q.LINES):oe.isLineLoop?$t.setMode(q.LINE_LOOP):$t.setMode(q.LINE_STRIP)}else oe.isPoints?$t.setMode(q.POINTS):oe.isSprite&&$t.setMode(q.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)hm("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),$t.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))$t.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const Yn=oe._multiDrawStarts,ft=oe._multiDrawCounts,ar=oe._multiDrawCount,Bt=Fe?Me.get(Fe).bytesPerElement:1,wn=D.get(se).currentProgram.getUniforms();for(let $i=0;$i<ar;$i++)wn.setValue(q,"_gl_DrawID",$i),$t.render(Yn[$i]/Bt,ft[$i])}else if(oe.isInstancedMesh)$t.renderInstances(Qe,sn,oe.count);else if(ue.isInstancedBufferGeometry){const Yn=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,ft=Math.min(ue.instanceCount,Yn);$t.renderInstances(Qe,sn,ft)}else $t.render(Qe,sn)};function Wm(B,re,ue){B.transparent===!0&&B.side===ro&&B.forceSinglePass===!1?(B.side=Yr,B.needsUpdate=!0,Hu(B,re,ue),B.side=ts,B.needsUpdate=!0,Hu(B,re,ue),B.side=ro):Hu(B,re,ue)}this.compile=function(B,re,ue=null){ue===null&&(ue=B),w=Ce.get(ue),w.init(re),P.push(w),ue.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),B!==ue&&B.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),w.setupLights();const se=new Set;return B.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;const Xe=oe.material;if(Xe)if(Array.isArray(Xe))for(let Ke=0;Ke<Xe.length;Ke++){const $e=Xe[Ke];Wm($e,ue,oe),se.add($e)}else Wm(Xe,ue,oe),se.add(Xe)}),w=P.pop(),se},this.compileAsync=function(B,re,ue=null){const se=this.compile(B,re,ue);return new Promise(oe=>{function Xe(){if(se.forEach(function(Ke){D.get(Ke).currentProgram.isReady()&&se.delete(Ke)}),se.size===0){oe(B);return}setTimeout(Xe,10)}Ve.get("KHR_parallel_shader_compile")!==null?Xe():setTimeout(Xe,10)})};let Sd=null;function Xm(B){Sd&&Sd(B)}function $u(){xi.stop()}function qm(){xi.start()}const xi=new a$;xi.setAnimationLoop(Xm),typeof self<"u"&&xi.setContext(self),this.setAnimationLoop=function(B){Sd=B,ve.setAnimationLoop(B),B===null?xi.stop():xi.start()},ve.addEventListener("sessionstart",$u),ve.addEventListener("sessionend",qm),this.render=function(B,re){if(re!==void 0&&re.isCamera!==!0){mt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;const ue=ve.enabled===!0&&ve.isPresenting===!0,se=A!==null&&(F===null||ue)&&A.begin(C,F);if(B.matrixWorldAutoUpdate===!0&&B.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),ve.enabled===!0&&ve.isPresenting===!0&&(A===null||A.isCompositing()===!1)&&(ve.cameraAutoUpdate===!0&&ve.updateCamera(re),re=ve.getCamera()),B.isScene===!0&&B.onBeforeRender(C,B,re,F),w=Ce.get(B,P.length),w.init(re),P.push(w),pe.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),me.setFromProjectionMatrix(pe,Ii,re.reversedDepth),Pe=this.localClippingEnabled,Te=ke.init(this.clippingPlanes,Pe),M=yt.get(B,E.length),M.init(),E.push(M),ve.enabled===!0&&ve.isPresenting===!0){const Ke=C.xr.getDepthSensingMesh();Ke!==null&&wd(Ke,re,-1/0,C.sortObjects)}wd(B,re,0,C.sortObjects),M.finish(),C.sortObjects===!0&&M.sort(we,De),xe=ve.enabled===!1||ve.isPresenting===!1||ve.hasDepthSensing()===!1,xe&&ct.addToRenderList(M,B),this.info.render.frame++,Te===!0&&ke.beginShadows();const oe=w.state.shadowsArray;if(lt.render(oe,B,re),Te===!0&&ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),(se&&A.hasRenderPass())===!1){const Ke=M.opaque,$e=M.transmissive;if(w.setupLights(),re.isArrayCamera){const Fe=re.cameras;if($e.length>0)for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze];Km(Ke,$e,B,vt)}xe&&ct.render(B);for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze];Ym(M,B,vt,vt.viewport)}}else $e.length>0&&Km(Ke,$e,B,re),xe&&ct.render(B),Ym(M,B,re)}F!==null&&k===0&&(Q.updateMultisampleRenderTarget(F),Q.updateRenderTargetMipmap(F)),se&&A.end(C),B.isScene===!0&&B.onAfterRender(C,B,re),Ue.resetDefaultState(),G=-1,$=null,P.pop(),P.length>0?(w=P[P.length-1],Te===!0&&ke.setGlobalState(C.clippingPlanes,w.state.camera)):w=null,E.pop(),E.length>0?M=E[E.length-1]:M=null};function wd(B,re,ue,se){if(B.visible===!1)return;if(B.layers.test(re.layers)){if(B.isGroup)ue=B.renderOrder;else if(B.isLOD)B.autoUpdate===!0&&B.update(re);else if(B.isLight)w.pushLight(B),B.castShadow&&w.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||me.intersectsSprite(B)){se&&ce.setFromMatrixPosition(B.matrixWorld).applyMatrix4(pe);const Ke=nt.update(B),$e=B.material;$e.visible&&M.push(B,Ke,$e,ue,ce.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||me.intersectsObject(B))){const Ke=nt.update(B),$e=B.material;if(se&&(B.boundingSphere!==void 0?(B.boundingSphere===null&&B.computeBoundingSphere(),ce.copy(B.boundingSphere.center)):(Ke.boundingSphere===null&&Ke.computeBoundingSphere(),ce.copy(Ke.boundingSphere.center)),ce.applyMatrix4(B.matrixWorld).applyMatrix4(pe)),Array.isArray($e)){const Fe=Ke.groups;for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze],Qe=$e[vt.materialIndex];Qe&&Qe.visible&&M.push(B,Ke,Qe,ue,ce.z,vt)}}else $e.visible&&M.push(B,Ke,$e,ue,ce.z,null)}}const Xe=B.children;for(let Ke=0,$e=Xe.length;Ke<$e;Ke++)wd(Xe[Ke],re,ue,se)}function Ym(B,re,ue,se){const{opaque:oe,transmissive:Xe,transparent:Ke}=B;w.setupLightsView(ue),Te===!0&&ke.setGlobalState(C.clippingPlanes,ue),se&&Oe.viewport(V.copy(se)),oe.length>0&&Vu(oe,re,ue),Xe.length>0&&Vu(Xe,re,ue),Ke.length>0&&Vu(Ke,re,ue),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function Km(B,re,ue,se){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;if(w.state.transmissionRenderTarget[se.id]===void 0){const Qe=Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float");w.state.transmissionRenderTarget[se.id]=new gi(1,1,{generateMipmaps:!0,type:Qe?Ba:Gr,minFilter:ao,samples:dt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:zt.workingColorSpace})}const Xe=w.state.transmissionRenderTarget[se.id],Ke=se.viewport||V;Xe.setSize(Ke.z*C.transmissionResolutionScale,Ke.w*C.transmissionResolutionScale);const $e=C.getRenderTarget(),Fe=C.getActiveCubeFace(),ze=C.getActiveMipmapLevel();C.setRenderTarget(Xe),C.getClearColor(j),Y=C.getClearAlpha(),Y<1&&C.setClearColor(16777215,.5),C.clear(),xe&&ct.render(ue);const _t=C.toneMapping;C.toneMapping=ua;const vt=se.viewport;if(se.viewport!==void 0&&(se.viewport=void 0),w.setupLightsView(se),Te===!0&&ke.setGlobalState(C.clippingPlanes,se),Vu(B,ue,se),Q.updateMultisampleRenderTarget(Xe),Q.updateRenderTargetMipmap(Xe),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let Qe=!1;for(let Ft=0,sn=re.length;Ft<sn;Ft++){const Dt=re[Ft],{object:$t,geometry:Yn,material:ft,group:ar}=Dt;if(ft.side===ro&&$t.layers.test(se.layers)){const Bt=ft.side;ft.side=Yr,ft.needsUpdate=!0,Zm($t,ue,se,Yn,ft,ar),ft.side=Bt,ft.needsUpdate=!0,Qe=!0}}Qe===!0&&(Q.updateMultisampleRenderTarget(Xe),Q.updateRenderTargetMipmap(Xe))}C.setRenderTarget($e,Fe,ze),C.setClearColor(j,Y),vt!==void 0&&(se.viewport=vt),C.toneMapping=_t}function Vu(B,re,ue){const se=re.isScene===!0?re.overrideMaterial:null;for(let oe=0,Xe=B.length;oe<Xe;oe++){const Ke=B[oe],{object:$e,geometry:Fe,group:ze}=Ke;let _t=Ke.material;_t.allowOverride===!0&&se!==null&&(_t=se),$e.layers.test(ue.layers)&&Zm($e,re,ue,Fe,_t,ze)}}function Zm(B,re,ue,se,oe,Xe){B.onBeforeRender(C,re,ue,se,oe,Xe),B.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),oe.onBeforeRender(C,re,ue,se,B,Xe),oe.transparent===!0&&oe.side===ro&&oe.forceSinglePass===!1?(oe.side=Yr,oe.needsUpdate=!0,C.renderBufferDirect(ue,re,se,oe,B,Xe),oe.side=ts,oe.needsUpdate=!0,C.renderBufferDirect(ue,re,se,oe,B,Xe),oe.side=ro):C.renderBufferDirect(ue,re,se,oe,B,Xe),B.onAfterRender(C,re,ue,se,oe,Xe)}function Hu(B,re,ue){re.isScene!==!0&&(re=Se);const se=D.get(B),oe=w.state.lights,Xe=w.state.shadowsArray,Ke=oe.state.version,$e=Be.getParameters(B,oe.state,Xe,re,ue),Fe=Be.getProgramCacheKey($e);let ze=se.programs;se.environment=B.isMeshStandardMaterial||B.isMeshLambertMaterial||B.isMeshPhongMaterial?re.environment:null,se.fog=re.fog;const _t=B.isMeshStandardMaterial||B.isMeshLambertMaterial&&!B.envMap||B.isMeshPhongMaterial&&!B.envMap;se.envMap=he.get(B.envMap||se.environment,_t),se.envMapRotation=se.environment!==null&&B.envMap===null?re.environmentRotation:B.envMapRotation,ze===void 0&&(B.addEventListener("dispose",Xt),ze=new Map,se.programs=ze);let vt=ze.get(Fe);if(vt!==void 0){if(se.currentProgram===vt&&se.lightsStateVersion===Ke)return Md(B,$e),vt}else $e.uniforms=Be.getUniforms(B),B.onBeforeCompile($e,C),vt=Be.acquireProgram($e,Fe),ze.set(Fe,vt),se.uniforms=$e.uniforms;const Qe=se.uniforms;return(!B.isShaderMaterial&&!B.isRawShaderMaterial||B.clipping===!0)&&(Qe.clippingPlanes=ke.uniform),Md(B,$e),se.needsLights=Fb(B),se.lightsStateVersion=Ke,se.needsLights&&(Qe.ambientLightColor.value=oe.state.ambient,Qe.lightProbe.value=oe.state.probe,Qe.directionalLights.value=oe.state.directional,Qe.directionalLightShadows.value=oe.state.directionalShadow,Qe.spotLights.value=oe.state.spot,Qe.spotLightShadows.value=oe.state.spotShadow,Qe.rectAreaLights.value=oe.state.rectArea,Qe.ltc_1.value=oe.state.rectAreaLTC1,Qe.ltc_2.value=oe.state.rectAreaLTC2,Qe.pointLights.value=oe.state.point,Qe.pointLightShadows.value=oe.state.pointShadow,Qe.hemisphereLights.value=oe.state.hemi,Qe.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Qe.spotLightMatrix.value=oe.state.spotLightMatrix,Qe.spotLightMap.value=oe.state.spotLightMap,Qe.pointShadowMatrix.value=oe.state.pointShadowMatrix),se.currentProgram=vt,se.uniformsList=null,vt}function Jm(B){if(B.uniformsList===null){const re=B.currentProgram.getUniforms();B.uniformsList=Cy.seqWithValue(re.seq,B.uniforms)}return B.uniformsList}function Md(B,re){const ue=D.get(B);ue.outputColorSpace=re.outputColorSpace,ue.batching=re.batching,ue.batchingColor=re.batchingColor,ue.instancing=re.instancing,ue.instancingColor=re.instancingColor,ue.instancingMorph=re.instancingMorph,ue.skinning=re.skinning,ue.morphTargets=re.morphTargets,ue.morphNormals=re.morphNormals,ue.morphColors=re.morphColors,ue.morphTargetsCount=re.morphTargetsCount,ue.numClippingPlanes=re.numClippingPlanes,ue.numIntersection=re.numClipIntersection,ue.vertexAlphas=re.vertexAlphas,ue.vertexTangents=re.vertexTangents,ue.toneMapping=re.toneMapping}function kb(B,re,ue,se,oe){re.isScene!==!0&&(re=Se),Q.resetTextureUnits();const Xe=re.fog,Ke=se.isMeshStandardMaterial||se.isMeshLambertMaterial||se.isMeshPhongMaterial?re.environment:null,$e=F===null?C.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Au,Fe=se.isMeshStandardMaterial||se.isMeshLambertMaterial&&!se.envMap||se.isMeshPhongMaterial&&!se.envMap,ze=he.get(se.envMap||Ke,Fe),_t=se.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,vt=!!ue.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),Qe=!!ue.morphAttributes.position,Ft=!!ue.morphAttributes.normal,sn=!!ue.morphAttributes.color;let Dt=ua;se.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Dt=C.toneMapping);const $t=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Yn=$t!==void 0?$t.length:0,ft=D.get(se),ar=w.state.lights;if(Te===!0&&(Pe===!0||B!==$)){const Mn=B===$&&se.id===G;ke.setState(se,B,Mn)}let Bt=!1;se.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==ar.state.version||ft.outputColorSpace!==$e||oe.isBatchedMesh&&ft.batching===!1||!oe.isBatchedMesh&&ft.batching===!0||oe.isBatchedMesh&&ft.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&ft.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&ft.instancing===!1||!oe.isInstancedMesh&&ft.instancing===!0||oe.isSkinnedMesh&&ft.skinning===!1||!oe.isSkinnedMesh&&ft.skinning===!0||oe.isInstancedMesh&&ft.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&ft.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&ft.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&ft.instancingMorph===!1&&oe.morphTexture!==null||ft.envMap!==ze||se.fog===!0&&ft.fog!==Xe||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==ke.numPlanes||ft.numIntersection!==ke.numIntersection)||ft.vertexAlphas!==_t||ft.vertexTangents!==vt||ft.morphTargets!==Qe||ft.morphNormals!==Ft||ft.morphColors!==sn||ft.toneMapping!==Dt||ft.morphTargetsCount!==Yn)&&(Bt=!0):(Bt=!0,ft.__version=se.version);let wn=ft.currentProgram;Bt===!0&&(wn=Hu(se,re,oe));let $i=!1,xo=!1,ls=!1;const qt=wn.getUniforms(),Rn=ft.uniforms;if(Oe.useProgram(wn.program)&&($i=!0,xo=!0,ls=!0),se.id!==G&&(G=se.id,xo=!0),$i||$!==B){Oe.buffers.depth.getReversed()&&B.reversedDepth!==!0&&(B._reversedDepth=!0,B.updateProjectionMatrix()),qt.setValue(q,"projectionMatrix",B.projectionMatrix),qt.setValue(q,"viewMatrix",B.matrixWorldInverse);const $a=qt.map.cameraPosition;$a!==void 0&&$a.setValue(q,Ge.setFromMatrixPosition(B.matrixWorld)),dt.logarithmicDepthBuffer&&qt.setValue(q,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&qt.setValue(q,"isOrthographic",B.isOrthographicCamera===!0),$!==B&&($=B,xo=!0,ls=!0)}if(ft.needsLights&&(ar.state.directionalShadowMap.length>0&&qt.setValue(q,"directionalShadowMap",ar.state.directionalShadowMap,Q),ar.state.spotShadowMap.length>0&&qt.setValue(q,"spotShadowMap",ar.state.spotShadowMap,Q),ar.state.pointShadowMap.length>0&&qt.setValue(q,"pointShadowMap",ar.state.pointShadowMap,Q)),oe.isSkinnedMesh){qt.setOptional(q,oe,"bindMatrix"),qt.setOptional(q,oe,"bindMatrixInverse");const Mn=oe.skeleton;Mn&&(Mn.boneTexture===null&&Mn.computeBoneTexture(),qt.setValue(q,"boneTexture",Mn.boneTexture,Q))}oe.isBatchedMesh&&(qt.setOptional(q,oe,"batchingTexture"),qt.setValue(q,"batchingTexture",oe._matricesTexture,Q),qt.setOptional(q,oe,"batchingIdTexture"),qt.setValue(q,"batchingIdTexture",oe._indirectTexture,Q),qt.setOptional(q,oe,"batchingColorTexture"),oe._colorsTexture!==null&&qt.setValue(q,"batchingColorTexture",oe._colorsTexture,Q));const ei=ue.morphAttributes;if((ei.position!==void 0||ei.normal!==void 0||ei.color!==void 0)&&Je.update(oe,ue,wn),(xo||ft.receiveShadow!==oe.receiveShadow)&&(ft.receiveShadow=oe.receiveShadow,qt.setValue(q,"receiveShadow",oe.receiveShadow)),(se.isMeshStandardMaterial||se.isMeshLambertMaterial||se.isMeshPhongMaterial)&&se.envMap===null&&re.environment!==null&&(Rn.envMapIntensity.value=re.environmentIntensity),Rn.dfgLUT!==void 0&&(Rn.dfgLUT.value=Vwe()),xo&&(qt.setValue(q,"toneMappingExposure",C.toneMappingExposure),ft.needsLights&&Ub(Rn,ls),Xe&&se.fog===!0&&ht.refreshFogUniforms(Rn,Xe),ht.refreshMaterialUniforms(Rn,se,fe,J,w.state.transmissionRenderTarget[B.id]),Cy.upload(q,Jm(ft),Rn,Q)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(Cy.upload(q,Jm(ft),Rn,Q),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&qt.setValue(q,"center",oe.center),qt.setValue(q,"modelViewMatrix",oe.modelViewMatrix),qt.setValue(q,"normalMatrix",oe.normalMatrix),qt.setValue(q,"modelMatrix",oe.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const Mn=se.uniformsGroups;for(let $a=0,us=Mn.length;$a<us;$a++){const Gu=Mn[$a];tt.update(Gu,wn),tt.bind(Gu,wn)}}return wn}function Ub(B,re){B.ambientLightColor.needsUpdate=re,B.lightProbe.needsUpdate=re,B.directionalLights.needsUpdate=re,B.directionalLightShadows.needsUpdate=re,B.pointLights.needsUpdate=re,B.pointLightShadows.needsUpdate=re,B.spotLights.needsUpdate=re,B.spotLightShadows.needsUpdate=re,B.rectAreaLights.needsUpdate=re,B.hemisphereLights.needsUpdate=re}function Fb(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&B.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(B,re,ue){const se=D.get(B);se.__autoAllocateDepthBuffer=B.resolveDepthBuffer===!1,se.__autoAllocateDepthBuffer===!1&&(se.__useRenderToTexture=!1),D.get(B.texture).__webglTexture=re,D.get(B.depthTexture).__webglTexture=se.__autoAllocateDepthBuffer?void 0:ue,se.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(B,re){const ue=D.get(B);ue.__webglFramebuffer=re,ue.__useDefaultFramebuffer=re===void 0};const Bb=q.createFramebuffer();this.setRenderTarget=function(B,re=0,ue=0){F=B,R=re,k=ue;let se=null,oe=!1,Xe=!1;if(B){const $e=D.get(B);if($e.__useDefaultFramebuffer!==void 0){Oe.bindFramebuffer(q.FRAMEBUFFER,$e.__webglFramebuffer),V.copy(B.viewport),H.copy(B.scissor),U=B.scissorTest,Oe.viewport(V),Oe.scissor(H),Oe.setScissorTest(U),G=-1;return}else if($e.__webglFramebuffer===void 0)Q.setupRenderTarget(B);else if($e.__hasExternalTextures)Q.rebindTextures(B,D.get(B.texture).__webglTexture,D.get(B.depthTexture).__webglTexture);else if(B.depthBuffer){const _t=B.depthTexture;if($e.__boundDepthTexture!==_t){if(_t!==null&&D.has(_t)&&(B.width!==_t.image.width||B.height!==_t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Q.setupDepthRenderbuffer(B)}}const Fe=B.texture;(Fe.isData3DTexture||Fe.isDataArrayTexture||Fe.isCompressedArrayTexture)&&(Xe=!0);const ze=D.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(Array.isArray(ze[re])?se=ze[re][ue]:se=ze[re],oe=!0):B.samples>0&&Q.useMultisampledRTT(B)===!1?se=D.get(B).__webglMultisampledFramebuffer:Array.isArray(ze)?se=ze[ue]:se=ze,V.copy(B.viewport),H.copy(B.scissor),U=B.scissorTest}else V.copy(ae).multiplyScalar(fe).floor(),H.copy(be).multiplyScalar(fe).floor(),U=Ae;if(ue!==0&&(se=Bb),Oe.bindFramebuffer(q.FRAMEBUFFER,se)&&Oe.drawBuffers(B,se),Oe.viewport(V),Oe.scissor(H),Oe.setScissorTest(U),oe){const $e=D.get(B.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+re,$e.__webglTexture,ue)}else if(Xe){const $e=re;for(let Fe=0;Fe<B.textures.length;Fe++){const ze=D.get(B.textures[Fe]);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+Fe,ze.__webglTexture,ue,$e)}}else if(B!==null&&ue!==0){const $e=D.get(B.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,$e.__webglTexture,ue)}G=-1},this.readRenderTargetPixels=function(B,re,ue,se,oe,Xe,Ke,$e=0){if(!(B&&B.isWebGLRenderTarget)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fe=D.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Ke!==void 0&&(Fe=Fe[Ke]),Fe){Oe.bindFramebuffer(q.FRAMEBUFFER,Fe);try{const ze=B.textures[$e],_t=ze.format,vt=ze.type;if(B.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+$e),!dt.textureFormatReadable(_t)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!dt.textureTypeReadable(vt)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=B.width-se&&ue>=0&&ue<=B.height-oe&&q.readPixels(re,ue,se,oe,je.convert(_t),je.convert(vt),Xe)}finally{const ze=F!==null?D.get(F).__webglFramebuffer:null;Oe.bindFramebuffer(q.FRAMEBUFFER,ze)}}},this.readRenderTargetPixelsAsync=async function(B,re,ue,se,oe,Xe,Ke,$e=0){if(!(B&&B.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Fe=D.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&Ke!==void 0&&(Fe=Fe[Ke]),Fe)if(re>=0&&re<=B.width-se&&ue>=0&&ue<=B.height-oe){Oe.bindFramebuffer(q.FRAMEBUFFER,Fe);const ze=B.textures[$e],_t=ze.format,vt=ze.type;if(B.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+$e),!dt.textureFormatReadable(_t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!dt.textureTypeReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Qe=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,Qe),q.bufferData(q.PIXEL_PACK_BUFFER,Xe.byteLength,q.STREAM_READ),q.readPixels(re,ue,se,oe,je.convert(_t),je.convert(vt),0);const Ft=F!==null?D.get(F).__webglFramebuffer:null;Oe.bindFramebuffer(q.FRAMEBUFFER,Ft);const sn=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await Qve(q,sn,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,Qe),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Xe),q.deleteBuffer(Qe),q.deleteSync(sn),Xe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(B,re=null,ue=0){const se=Math.pow(2,-ue),oe=Math.floor(B.image.width*se),Xe=Math.floor(B.image.height*se),Ke=re!==null?re.x:0,$e=re!==null?re.y:0;Q.setTexture2D(B,0),q.copyTexSubImage2D(q.TEXTURE_2D,ue,0,0,Ke,$e,oe,Xe),Oe.unbindTexture()};const zb=q.createFramebuffer(),jb=q.createFramebuffer();this.copyTextureToTexture=function(B,re,ue=null,se=null,oe=0,Xe=0){let Ke,$e,Fe,ze,_t,vt,Qe,Ft,sn;const Dt=B.isCompressedTexture?B.mipmaps[Xe]:B.image;if(ue!==null)Ke=ue.max.x-ue.min.x,$e=ue.max.y-ue.min.y,Fe=ue.isBox3?ue.max.z-ue.min.z:1,ze=ue.min.x,_t=ue.min.y,vt=ue.isBox3?ue.min.z:0;else{const Rn=Math.pow(2,-oe);Ke=Math.floor(Dt.width*Rn),$e=Math.floor(Dt.height*Rn),B.isDataArrayTexture?Fe=Dt.depth:B.isData3DTexture?Fe=Math.floor(Dt.depth*Rn):Fe=1,ze=0,_t=0,vt=0}se!==null?(Qe=se.x,Ft=se.y,sn=se.z):(Qe=0,Ft=0,sn=0);const $t=je.convert(re.format),Yn=je.convert(re.type);let ft;re.isData3DTexture?(Q.setTexture3D(re,0),ft=q.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(Q.setTexture2DArray(re,0),ft=q.TEXTURE_2D_ARRAY):(Q.setTexture2D(re,0),ft=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,re.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,re.unpackAlignment);const ar=q.getParameter(q.UNPACK_ROW_LENGTH),Bt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),wn=q.getParameter(q.UNPACK_SKIP_PIXELS),$i=q.getParameter(q.UNPACK_SKIP_ROWS),xo=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,Dt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Dt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,ze),q.pixelStorei(q.UNPACK_SKIP_ROWS,_t),q.pixelStorei(q.UNPACK_SKIP_IMAGES,vt);const ls=B.isDataArrayTexture||B.isData3DTexture,qt=re.isDataArrayTexture||re.isData3DTexture;if(B.isDepthTexture){const Rn=D.get(B),ei=D.get(re),Mn=D.get(Rn.__renderTarget),$a=D.get(ei.__renderTarget);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,Mn.__webglFramebuffer),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,$a.__webglFramebuffer);for(let us=0;us<Fe;us++)ls&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,D.get(B).__webglTexture,oe,vt+us),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,D.get(re).__webglTexture,Xe,sn+us)),q.blitFramebuffer(ze,_t,Ke,$e,Qe,Ft,Ke,$e,q.DEPTH_BUFFER_BIT,q.NEAREST);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(oe!==0||B.isRenderTargetTexture||D.has(B)){const Rn=D.get(B),ei=D.get(re);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,zb),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,jb);for(let Mn=0;Mn<Fe;Mn++)ls?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Rn.__webglTexture,oe,vt+Mn):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Rn.__webglTexture,oe),qt?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ei.__webglTexture,Xe,sn+Mn):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ei.__webglTexture,Xe),oe!==0?q.blitFramebuffer(ze,_t,Ke,$e,Qe,Ft,Ke,$e,q.COLOR_BUFFER_BIT,q.NEAREST):qt?q.copyTexSubImage3D(ft,Xe,Qe,Ft,sn+Mn,ze,_t,Ke,$e):q.copyTexSubImage2D(ft,Xe,Qe,Ft,ze,_t,Ke,$e);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else qt?B.isDataTexture||B.isData3DTexture?q.texSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Yn,Dt.data):re.isCompressedArrayTexture?q.compressedTexSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Dt.data):q.texSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Yn,Dt):B.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Ke,$e,$t,Yn,Dt.data):B.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Dt.width,Dt.height,$t,Dt.data):q.texSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Ke,$e,$t,Yn,Dt);q.pixelStorei(q.UNPACK_ROW_LENGTH,ar),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Bt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,wn),q.pixelStorei(q.UNPACK_SKIP_ROWS,$i),q.pixelStorei(q.UNPACK_SKIP_IMAGES,xo),Xe===0&&re.generateMipmaps&&q.generateMipmap(ft),Oe.unbindTexture()},this.initRenderTarget=function(B){D.get(B).__webglFramebuffer===void 0&&Q.setupRenderTarget(B)},this.initTexture=function(B){B.isCubeTexture?Q.setTextureCube(B,0):B.isData3DTexture?Q.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?Q.setTexture2DArray(B,0):Q.setTexture2D(B,0),Oe.unbindTexture()},this.resetState=function(){R=0,k=0,F=null,Oe.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ii}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=zt._getDrawingBufferColorSpace(e),n.unpackColorSpace=zt._getUnpackColorSpace()}}const Hwe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:eb,AddEquation:Ns,AddOperation:j5,AdditiveAnimationBlendMode:rC,AdditiveBlending:vA,AgXToneMapping:qP,AlphaFormat:tC,AlwaysCompare:Q5,AlwaysDepth:ix,AlwaysStencilFunc:SA,AmbientLight:Gj,AnimationAction:t$,AnimationClip:xm,AnimationLoader:H0e,AnimationMixer:_xe,AnimationObjectGroup:yxe,AnimationUtils:z0e,ArcCurve:gj,ArrayCamera:Zj,ArrowHelper:Hxe,AttachedBindMode:_A,Audio:Qj,AudioAnalyser:lxe,AudioContext:PC,AudioListener:axe,AudioLoader:txe,AxesHelper:Gxe,BackSide:Yr,BasicDepthPacking:W5,BasicShadowMap:b5,BatchedMesh:cj,BezierInterpolant:Fj,Bone:uC,BooleanKeyframeTrack:Bu,Box2:Pxe,Box3:Fr,Box3Helper:$xe,BoxGeometry:Fu,BoxHelper:jxe,BufferAttribute:Qt,BufferGeometry:Et,BufferGeometryLoader:Yj,ByteType:ZP,Cache:oo,Camera:Hm,CameraHelper:zxe,CanvasTexture:o0e,CapsuleGeometry:xb,CatmullRomCurve3:vj,CineonToneMapping:WP,CircleGeometry:_b,ClampToEdgeWrapping:di,Clock:r$,Color:et,ColorKeyframeTrack:MC,ColorManagement:zt,Compatibility:qve,CompressedArrayTexture:i0e,CompressedCubeTexture:a0e,CompressedTexture:yb,CompressedTextureLoader:G0e,ConeGeometry:zm,ConstantAlphaFactor:F5,ConstantColorFactor:k5,Controls:Xxe,CubeCamera:Kj,CubeDepthTexture:pj,CubeReflectionMapping:po,CubeRefractionMapping:tl,CubeTexture:Fm,CubeTextureLoader:W0e,CubeUVReflectionMapping:md,CubicBezierCurve:hC,CubicBezierCurve3:yj,CubicInterpolant:kj,CullFaceBack:gA,CullFaceFront:_5,CullFaceFrontBack:ove,CullFaceNone:x5,Curve:ja,CurvePath:_j,CustomBlending:S5,CustomToneMapping:XP,CylinderGeometry:Bm,Cylindrical:Txe,Data3DTexture:db,DataArrayTexture:fb,DataTexture:Ua,DataTextureLoader:X0e,DataUtils:Rye,DecrementStencilOp:Eve,DecrementWrapStencilOp:Tve,DefaultLoadingManager:zj,DepthFormat:mo,DepthStencilFormat:Fs,DepthTexture:Cu,DetachedBindMode:$5,DirectionalLight:Hj,DirectionalLightHelper:Bxe,DiscreteInterpolant:Uj,DodecahedronGeometry:bb,DoubleSide:ro,DstAlphaFactor:R5,DstColorFactor:N5,DynamicCopyUsage:$ve,DynamicDrawUsage:kve,DynamicReadUsage:Bve,EdgesGeometry:mj,EllipseCurve:Sb,EqualCompare:K5,EqualDepth:ox,EqualStencilFunc:Rve,EquirectangularReflectionMapping:qh,EquirectangularRefractionMapping:Yh,Euler:Ui,EventDispatcher:vo,ExternalTexture:fC,ExtrudeGeometry:wb,FileLoader:ns,Float16BufferAttribute:Fye,Float32BufferAttribute:at,FloatType:kr,Fog:pb,FogExp2:hb,FramebufferTexture:r0e,FrontSide:ts,Frustum:vd,FrustumArray:vb,GLBufferAttribute:Exe,GLSL1:Hve,GLSL3:wA,GreaterCompare:Z5,GreaterDepth:lx,GreaterEqualCompare:cb,GreaterEqualDepth:sx,GreaterEqualStencilFunc:Dve,GreaterStencilFunc:Nve,GridHelper:Uxe,Group:Jc,HalfFloatType:Ba,HemisphereLight:jj,HemisphereLightHelper:kxe,IcosahedronGeometry:Mb,ImageBitmapLoader:exe,ImageLoader:_m,ImageUtils:rj,IncrementStencilOp:Mve,IncrementWrapStencilOp:Ave,InstancedBufferAttribute:Wf,InstancedBufferGeometry:qj,InstancedInterleavedBuffer:Mxe,InstancedMesh:uj,Int16BufferAttribute:kye,Int32BufferAttribute:Uye,Int8BufferAttribute:Nye,IntType:nb,InterleavedBuffer:mb,InterleavedBufferAttribute:Pu,Interpolant:xd,InterpolateBezier:bA,InterpolateDiscrete:sm,InterpolateLinear:$x,InterpolateSmooth:Ty,InterpolationSamplingMode:Xve,InterpolationSamplingType:Wve,InvertStencilOp:Pve,KeepStencilOp:Wl,KeyframeTrack:ga,LOD:sj,LatheGeometry:Eb,Layers:du,LessCompare:Y5,LessDepth:ax,LessEqualCompare:ub,LessEqualDepth:Mu,LessEqualStencilFunc:Ive,LessStencilFunc:Ove,Light:gl,LightProbe:Xj,Line:rl,Line3:Rxe,LineBasicMaterial:Qr,LineCurve:pC,LineCurve3:xj,LineDashedMaterial:Lj,LineLoop:fj,LineSegments:yo,LinearFilter:dn,LinearInterpolant:wC,LinearMipMapLinearFilter:fve,LinearMipMapNearestFilter:cve,LinearMipmapLinearFilter:ao,LinearMipmapNearestFilter:Kh,LinearSRGBColorSpace:Au,LinearToneMapping:HP,LinearTransfer:um,Loader:yi,LoaderUtils:PA,LoadingManager:EC,LoopOnce:V5,LoopPingPong:G5,LoopRepeat:H5,MOUSE:ive,Material:Sr,MaterialBlending:sve,MaterialLoader:Nb,MathUtils:vye,Matrix2:IC,Matrix3:Pt,Matrix4:wt,MaxEquation:A5,Mesh:qn,MeshBasicMaterial:pl,MeshDepthMaterial:_C,MeshDistanceMaterial:bC,MeshLambertMaterial:Ij,MeshMatcapMaterial:Nj,MeshNormalMaterial:Rj,MeshPhongMaterial:Cj,MeshPhysicalMaterial:Pj,MeshStandardMaterial:Ib,MeshToonMaterial:Oj,MinEquation:E5,MirroredRepeatWrapping:om,MixOperation:z5,MultiplyBlending:xA,MultiplyOperation:km,NearestFilter:zn,NearestMipMapLinearFilter:uve,NearestMipMapNearestFilter:lve,NearestMipmapLinearFilter:Kc,NearestMipmapNearestFilter:KP,NeutralToneMapping:YP,NeverCompare:q5,NeverDepth:rx,NeverStencilFunc:Cve,NoBlending:fo,NoColorSpace:Do,NoNormalPacking:xve,NoToneMapping:ua,NormalAnimationBlendMode:lb,NormalBlending:cu,NormalGAPacking:bve,NormalRGPacking:_ve,NotEqualCompare:J5,NotEqualDepth:ux,NotEqualStencilFunc:Lve,NumberKeyframeTrack:vm,Object3D:Wt,ObjectLoader:J0e,ObjectSpaceNormalMap:X5,OctahedronGeometry:jm,OneFactor:P5,OneMinusConstantAlphaFactor:B5,OneMinusConstantColorFactor:U5,OneMinusDstAlphaFactor:I5,OneMinusDstColorFactor:L5,OneMinusSrcAlphaFactor:nx,OneMinusSrcColorFactor:O5,OrthographicCamera:_d,PCFShadowMap:cf,PCFSoftShadowMap:Xh,PMREMGenerator:RA,Path:Xx,PerspectiveCamera:dr,Plane:Cs,PlaneGeometry:yd,PlaneHelper:Vxe,PointLight:Vj,PointLightHelper:Lxe,Points:dj,PointsMaterial:cC,PolarGridHelper:Fxe,PolyhedronGeometry:ml,PositionalAudio:sxe,PropertyBinding:Vt,PropertyMixer:e$,QuadraticBezierCurve:mC,QuadraticBezierCurve3:gC,Quaternion:Kr,QuaternionKeyframeTrack:Vm,QuaternionLinearInterpolant:Bj,R11_EAC_Format:vx,RED_GREEN_RGTC2_Format:zx,RED_RGTC1_Format:Fx,REVISION:Q_,RG11_EAC_Format:xx,RGBADepthPacking:gve,RGBAFormat:Ur,RGBAIntegerFormat:sb,RGBA_ASTC_10x10_Format:Ix,RGBA_ASTC_10x5_Format:Cx,RGBA_ASTC_10x6_Format:Ox,RGBA_ASTC_10x8_Format:Rx,RGBA_ASTC_12x10_Format:Nx,RGBA_ASTC_12x12_Format:Lx,RGBA_ASTC_4x4_Format:bx,RGBA_ASTC_5x4_Format:Sx,RGBA_ASTC_5x5_Format:wx,RGBA_ASTC_6x5_Format:Mx,RGBA_ASTC_6x6_Format:Ex,RGBA_ASTC_8x5_Format:Ax,RGBA_ASTC_8x6_Format:Tx,RGBA_ASTC_8x8_Format:Px,RGBA_BPTC_Format:Dx,RGBA_ETC2_EAC_Format:gx,RGBA_PVRTC_2BPPV1_Format:hx,RGBA_PVRTC_4BPPV1_Format:dx,RGBA_S3TC_DXT1_Format:Jh,RGBA_S3TC_DXT3_Format:Qh,RGBA_S3TC_DXT5_Format:ep,RGBDepthPacking:vve,RGBFormat:nC,RGBIntegerFormat:dve,RGB_BPTC_SIGNED_Format:kx,RGB_BPTC_UNSIGNED_Format:Ux,RGB_ETC1_Format:px,RGB_ETC2_Format:mx,RGB_PVRTC_2BPPV1_Format:fx,RGB_PVRTC_4BPPV1_Format:cx,RGB_S3TC_DXT1_Format:Zh,RGDepthPacking:yve,RGFormat:Eu,RGIntegerFormat:ob,RawShaderMaterial:xC,Ray:gd,Raycaster:n$,RectAreaLight:Wj,RedFormat:ab,RedIntegerFormat:Um,ReinhardToneMapping:GP,RenderTarget:aC,RenderTarget3D:bxe,RepeatWrapping:am,ReplaceStencilOp:wve,ReverseSubtractEquation:M5,RingGeometry:Ab,SIGNED_R11_EAC_Format:yx,SIGNED_RED_GREEN_RGTC2_Format:jx,SIGNED_RED_RGTC1_Format:Bx,SIGNED_RG11_EAC_Format:_x,SRGBColorSpace:oi,SRGBTransfer:tn,Scene:Vx,ShaderChunk:Rt,ShaderLib:ra,ShaderMaterial:Fi,ShadowMaterial:Aj,Shape:hu,ShapeGeometry:Tb,ShapePath:Wxe,ShapeUtils:La,ShortType:JP,Skeleton:gb,SkeletonHelper:Nxe,SkinnedMesh:lj,Source:Bs,Sphere:_r,SphereGeometry:$m,Spherical:Axe,SphericalHarmonics3:TC,SplineCurve:vC,SpotLight:$j,SpotLightHelper:Ixe,Sprite:oj,SpriteMaterial:lC,SrcAlphaFactor:tx,SrcAlphaSaturateFactor:D5,SrcColorFactor:C5,StaticCopyUsage:jve,StaticDrawUsage:cm,StaticReadUsage:Fve,StereoCamera:nxe,StreamCopyUsage:Vve,StreamDrawUsage:Uve,StreamReadUsage:zve,StringKeyframeTrack:zu,SubtractEquation:w5,SubtractiveBlending:yA,TOUCH:ave,TangentSpaceNormalMap:hl,TetrahedronGeometry:Pb,Texture:Cn,TextureLoader:q0e,TextureUtils:Jxe,Timer:Jj,TimestampQuery:Gve,TorusGeometry:Cb,TorusKnotGeometry:Ob,Triangle:ui,TriangleFanDrawMode:mve,TriangleStripDrawMode:pve,TrianglesDrawMode:hve,TubeGeometry:Rb,UVMapping:tb,Uint16BufferAttribute:oC,Uint32BufferAttribute:sC,Uint8BufferAttribute:Lye,Uint8ClampedBufferAttribute:Dye,Uniform:RC,UniformsGroup:wxe,UniformsLib:qe,UniformsUtils:yC,UnsignedByteType:Gr,UnsignedInt101111Type:eC,UnsignedInt248Type:Hf,UnsignedInt5999Type:QP,UnsignedIntType:ha,UnsignedShort4444Type:rb,UnsignedShort5551Type:ib,UnsignedShortType:Vf,VSMShadowMap:tu,Vector2:Ee,Vector3:X,Vector4:cn,VectorKeyframeTrack:ym,VideoFrameTexture:n0e,VideoTexture:hj,WebGL3DRenderTarget:Sye,WebGLArrayRenderTarget:bye,WebGLCoordinateSystem:Ii,WebGLCubeRenderTarget:NC,WebGLRenderTarget:gi,WebGLRenderer:f$,WebGLUtils:c$,WebGPUCoordinateSystem:Tu,WebXRController:Py,WireframeGeometry:Ej,WrapAroundEnding:lm,ZeroCurvatureEnding:nu,ZeroFactor:T5,ZeroSlopeEnding:ru,ZeroStencilOp:Sve,createCanvasElement:tj,error:mt,getConsoleFunction:Jve,log:dm,setConsoleFunction:Zve,warn:We,warnOnce:hm},Symbol.toStringTag,{value:"Module"}));var d$={exports:{}},ju={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ju.ConcurrentRoot=1;ju.ContinuousEventPriority=4;ju.DefaultEventPriority=16;ju.DiscreteEventPriority=1;ju.IdleEventPriority=536870912;ju.LegacyRoot=0;d$.exports=ju;var Qc=d$.exports;function Gwe(t){let e;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(e):u;if(c!==e){const h=e;e=f?c:Object.assign({},e,c),n.forEach(m=>m(e,h))}},i=()=>e,a=(u,f=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(e);function m(){const g=f(e);if(!c(h,g)){const _=h;u(h=g,_)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,f,c)=>f||c?a(u,f,c):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Wwe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),JD=Wwe?z.useEffect:z.useLayoutEffect;function Xwe(t){const e=typeof t=="function"?Gwe(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=z.useReducer(y=>y+1,0),o=e.getState(),s=z.useRef(o),l=z.useRef(r),u=z.useRef(i),f=z.useRef(!1),c=z.useRef();c.current===void 0&&(c.current=r(o));let h,m=!1;(s.current!==o||l.current!==r||u.current!==i||f.current)&&(h=r(o),m=!i(c.current,h)),JD(()=>{m&&(c.current=h),s.current=o,l.current=r,u.current=i,f.current=!1});const g=z.useRef(o);JD(()=>{const y=()=>{try{const x=e.getState(),b=l.current(x);u.current(c.current,b)||(s.current=x,c.current=b,a())}catch{f.current=!0,a()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const _=m?h:c.current;return z.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var h$={exports:{}},kw={exports:{}},Uw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD;function qwe(){return QD||(QD=1,function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,h=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,V(w);else{var j=n(u);j!==null&&H(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=h;try{for(b(j),c=n(l);c!==null&&(!(c.expirationTime>j)||U&&!R());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,h=c.priorityLevel;var J=Z(c.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?c.callback=J:c===n(l)&&r(l),b(j)}else r(l);c=n(l)}if(c!==null)var fe=!0;else{var we=n(u);we!==null&&H(M,we.startTime-j),fe=!1}return fe}finally{c=null,h=Y,m=!1}}var E=!1,P=null,A=-1,C=5,I=-1;function R(){return!(t.unstable_now()-I<C)}function k(){if(P!==null){var U=t.unstable_now();I=U;var j=!0;try{j=P(!0,U)}finally{j?F():(E=!1,P=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=k,F=function(){$.postMessage(null)}}else F=function(){y(k,0)};function V(U){P=U,E||(E=!0,F())}function H(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var Y=h;h=j;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return j()}finally{h=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:f++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,H(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,V(w))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var j=h;return function(){var Y=h;h=j;try{return U.apply(this,arguments)}finally{h=Y}}}}(Uw)),Uw}var ek;function Ywe(){return ek||(ek=1,kw.exports=qwe()),kw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kwe=function(e){var n={},r=z,i=Ywe(),a=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)p+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),w=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=w&&d[w]||d["@@iterator"],typeof d=="function"?d:null)}function P(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case f:return"Fragment";case u:return"Portal";case h:return"Profiler";case c:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case _:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return p=d.displayName||null,p!==null?p:P(d.type)||"Memo";case b:p=d._payload,d=d._init;try{return P(d(p))}catch{}}return null}function A(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function C(d){var p=d,S=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(S=p.return),d=p.return;while(d)}return p.tag===3?S:null}function I(d){if(C(d)!==d)throw Error(o(188))}function R(d){var p=d.alternate;if(!p){if(p=C(d),p===null)throw Error(o(188));return p!==d?null:d}for(var S=d,T=p;;){var O=S.return;if(O===null)break;var N=O.alternate;if(N===null){if(T=O.return,T!==null){S=T;continue}break}if(O.child===N.child){for(N=O.child;N;){if(N===S)return I(O),d;if(N===T)return I(O),p;N=N.sibling}throw Error(o(188))}if(S.return!==T.return)S=O,T=N;else{for(var K=!1,te=O.child;te;){if(te===S){K=!0,S=O,T=N;break}if(te===T){K=!0,T=O,S=N;break}te=te.sibling}if(!K){for(te=N.child;te;){if(te===S){K=!0,S=N,T=O;break}if(te===T){K=!0,T=N,S=O;break}te=te.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?d:p}function k(d){return d=R(d),d!==null?F(d):null}function F(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=F(d);if(p!==null)return p;d=d.sibling}return null}function G(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=G(d);if(p!==null)return p}d=d.sibling}return null}var $=Array.isArray,V=e.getPublicInstance,H=e.getRootHostContext,U=e.getChildHostContext,j=e.prepareForCommit,Y=e.resetAfterCommit,Z=e.createInstance,J=e.appendInitialChild,fe=e.finalizeInitialChildren,we=e.prepareUpdate,De=e.shouldSetTextContent,ae=e.createTextInstance,be=e.scheduleTimeout,Ae=e.cancelTimeout,me=e.noTimeout,Te=e.isPrimaryRenderer,Pe=e.supportsMutation,pe=e.supportsPersistence,Ge=e.supportsHydration,ce=e.getInstanceFromNode,Se=e.preparePortalMount,xe=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,q=e.supportsMicrotasks,ut=e.scheduleMicrotask,Ve=e.supportsTestSelectors,dt=e.findFiberRoot,Oe=e.getBoundingRect,W=e.getTextContent,D=e.isHiddenSubtree,Q=e.matchAccessibilityRole,he=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,ge=e.appendChild,nt=e.appendChildToContainer,Be=e.commitTextUpdate,ht=e.commitMount,yt=e.commitUpdate,Ce=e.insertBefore,ke=e.insertInContainerBefore,lt=e.removeChild,ct=e.removeChildFromContainer,Je=e.resetTextContent,Ot=e.hideInstance,ee=e.hideTextInstance,je=e.unhideInstance,Ue=e.unhideTextInstance,tt=e.clearContainer,Re=e.cloneInstance,ve=e.createContainerChildSet,st=e.appendChildToContainerChildSet,Mt=e.finalizeContainerChildren,nn=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,ji=e.cloneHiddenTextInstance,va=e.canHydrateInstance,Wm=e.canHydrateTextInstance,Sd=e.canHydrateSuspenseInstance,Xm=e.isSuspenseInstancePending,$u=e.isSuspenseInstanceFallback,qm=e.registerSuspenseInstanceRetry,xi=e.getNextHydratableSibling,wd=e.getFirstHydratableChild,Ym=e.getFirstHydratableChildWithinContainer,Km=e.getFirstHydratableChildWithinSuspenseInstance,Vu=e.hydrateInstance,Zm=e.hydrateTextInstance,Hu=e.hydrateSuspenseInstance,Jm=e.getNextHydratableInstanceAfterSuspenseInstance,Md=e.commitHydratedContainer,kb=e.commitHydratedSuspenseInstance,Ub=e.clearSuspenseBoundary,Fb=e.clearSuspenseBoundaryFromContainer,Bb=e.shouldDeleteUnhydratedTailInstances,zb=e.didNotMatchHydratedContainerTextInstance,jb=e.didNotMatchHydratedTextInstance,B;function re(d){if(B===void 0)try{throw Error()}catch(S){var p=S.stack.trim().match(/\n( *(at )?)/);B=p&&p[1]||""}return`
`+B+d}var ue=!1;function se(d,p){if(!d||ue)return"";ue=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Le){var T=Le}Reflect.construct(d,[],p)}else{try{p.call()}catch(Le){T=Le}d.call(p.prototype)}else{try{throw Error()}catch(Le){T=Le}d()}}catch(Le){if(Le&&T&&typeof Le.stack=="string"){for(var O=Le.stack.split(`
`),N=T.stack.split(`
`),K=O.length-1,te=N.length-1;1<=K&&0<=te&&O[K]!==N[te];)te--;for(;1<=K&&0<=te;K--,te--)if(O[K]!==N[te]){if(K!==1||te!==1)do if(K--,te--,0>te||O[K]!==N[te]){var ye=`
`+O[K].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=K&&0<=te);break}}}finally{ue=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?re(d):""}var oe=Object.prototype.hasOwnProperty,Xe=[],Ke=-1;function $e(d){return{current:d}}function Fe(d){0>Ke||(d.current=Xe[Ke],Xe[Ke]=null,Ke--)}function ze(d,p){Ke++,Xe[Ke]=d.current,d.current=p}var _t={},vt=$e(_t),Qe=$e(!1),Ft=_t;function sn(d,p){var S=d.type.contextTypes;if(!S)return _t;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===p)return T.__reactInternalMemoizedMaskedChildContext;var O={},N;for(N in S)O[N]=p[N];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=O),O}function Dt(d){return d=d.childContextTypes,d!=null}function $t(){Fe(Qe),Fe(vt)}function Yn(d,p,S){if(vt.current!==_t)throw Error(o(168));ze(vt,p),ze(Qe,S)}function ft(d,p,S){var T=d.stateNode;if(p=p.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var O in T)if(!(O in p))throw Error(o(108,A(d)||"Unknown",O));return a({},S,T)}function ar(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||_t,Ft=vt.current,ze(vt,d),ze(Qe,Qe.current),!0}function Bt(d,p,S){var T=d.stateNode;if(!T)throw Error(o(169));S?(d=ft(d,p,Ft),T.__reactInternalMemoizedMergedChildContext=d,Fe(Qe),Fe(vt),ze(vt,d)):Fe(Qe),ze(Qe,S)}var wn=Math.clz32?Math.clz32:ls,$i=Math.log,xo=Math.LN2;function ls(d){return d>>>=0,d===0?32:31-($i(d)/xo|0)|0}var qt=64,Rn=4194304;function ei(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Mn(d,p){var S=d.pendingLanes;if(S===0)return 0;var T=0,O=d.suspendedLanes,N=d.pingedLanes,K=S&268435455;if(K!==0){var te=K&~O;te!==0?T=ei(te):(N&=K,N!==0&&(T=ei(N)))}else K=S&~O,K!==0?T=ei(K):N!==0&&(T=ei(N));if(T===0)return 0;if(p!==0&&p!==T&&!(p&O)&&(O=T&-T,N=p&-p,O>=N||O===16&&(N&4194240)!==0))return p;if(T&4&&(T|=S&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=T;0<p;)S=31-wn(p),O=1<<S,T|=d[S],p&=~O;return T}function $a(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function us(d,p){for(var S=d.suspendedLanes,T=d.pingedLanes,O=d.expirationTimes,N=d.pendingLanes;0<N;){var K=31-wn(N),te=1<<K,ye=O[K];ye===-1?(!(te&S)||te&T)&&(O[K]=$a(te,p)):ye<=p&&(d.expiredLanes|=te),N&=~te}}function Gu(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function $b(d){for(var p=[],S=0;31>S;S++)p.push(d);return p}function Ed(d,p,S){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-wn(p),d[p]=S}function $$(d,p){var S=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<S;){var O=31-wn(S),N=1<<O;p[O]=0,T[O]=-1,d[O]=-1,S&=~N}}function Vb(d,p){var S=d.entangledLanes|=p;for(d=d.entanglements;S;){var T=31-wn(S),O=1<<T;O&p|d[T]&p&&(d[T]|=p),S&=~O}}var Yt=0;function kC(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Hb=i.unstable_scheduleCallback,UC=i.unstable_cancelCallback,V$=i.unstable_shouldYield,H$=i.unstable_requestPaint,or=i.unstable_now,Gb=i.unstable_ImmediatePriority,G$=i.unstable_UserBlockingPriority,Wb=i.unstable_NormalPriority,W$=i.unstable_IdlePriority,Qm=null,Va=null;function X$(d){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(Qm,d,void 0,(d.current.flags&128)===128)}catch{}}function q$(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Ha=typeof Object.is=="function"?Object.is:q$,_o=null,eg=!1,Xb=!1;function FC(d){_o===null?_o=[d]:_o.push(d)}function Y$(d){eg=!0,FC(d)}function Ga(){if(!Xb&&_o!==null){Xb=!0;var d=0,p=Yt;try{var S=_o;for(Yt=1;d<S.length;d++){var T=S[d];do T=T(!0);while(T!==null)}_o=null,eg=!1}catch(O){throw _o!==null&&(_o=_o.slice(d+1)),Hb(Gb,Ga),O}finally{Yt=p,Xb=!1}}return null}var K$=s.ReactCurrentBatchConfig;function tg(d,p){if(Ha(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var S=Object.keys(d),T=Object.keys(p);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var O=S[T];if(!oe.call(p,O)||!Ha(d[O],p[O]))return!1}return!0}function Z$(d){switch(d.tag){case 5:return re(d.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return d=se(d.type,!1),d;case 11:return d=se(d.type.render,!1),d;case 1:return d=se(d.type,!0),d;default:return""}}function ya(d,p){if(d&&d.defaultProps){p=a({},p),d=d.defaultProps;for(var S in d)p[S]===void 0&&(p[S]=d[S]);return p}return p}var ng=$e(null),rg=null,Wu=null,qb=null;function Yb(){qb=Wu=rg=null}function BC(d,p,S){Te?(ze(ng,p._currentValue),p._currentValue=S):(ze(ng,p._currentValue2),p._currentValue2=S)}function Kb(d){var p=ng.current;Fe(ng),Te?d._currentValue=p:d._currentValue2=p}function Zb(d,p,S){for(;d!==null;){var T=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),d===S)break;d=d.return}}function Xu(d,p){rg=d,qb=Wu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(Si=!0),d.firstContext=null)}function Vi(d){var p=Te?d._currentValue:d._currentValue2;if(qb!==d)if(d={context:d,memoizedValue:p,next:null},Wu===null){if(rg===null)throw Error(o(308));Wu=d,rg.dependencies={lanes:0,firstContext:d}}else Wu=Wu.next=d;return p}var Wa=null,cs=!1;function Jb(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zC(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function bo(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function fs(d,p){var S=d.updateQueue;S!==null&&(S=S.shared,$n!==null&&d.mode&1&&!(Nt&2)?(d=S.interleaved,d===null?(p.next=p,Wa===null?Wa=[S]:Wa.push(S)):(p.next=d.next,d.next=p),S.interleaved=p):(d=S.pending,d===null?p.next=p:(p.next=d.next,d.next=p),S.pending=p))}function ig(d,p,S){if(p=p.updateQueue,p!==null&&(p=p.shared,(S&4194240)!==0)){var T=p.lanes;T&=d.pendingLanes,S|=T,p.lanes=S,Vb(d,S)}}function jC(d,p){var S=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var O=null,N=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?O=N=K:N=N.next=K,S=S.next}while(S!==null);N===null?O=N=p:N=N.next=p}else O=N=p;S={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:N,shared:T.shared,effects:T.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=p:d.next=p,S.lastBaseUpdate=p}function ag(d,p,S,T){var O=d.updateQueue;cs=!1;var N=O.firstBaseUpdate,K=O.lastBaseUpdate,te=O.shared.pending;if(te!==null){O.shared.pending=null;var ye=te,Le=ye.next;ye.next=null,K===null?N=Le:K.next=Le,K=ye;var ot=d.alternate;ot!==null&&(ot=ot.updateQueue,te=ot.lastBaseUpdate,te!==K&&(te===null?ot.firstBaseUpdate=Le:te.next=Le,ot.lastBaseUpdate=ye))}if(N!==null){var At=O.baseState;K=0,ot=Le=ye=null,te=N;do{var xt=te.lane,un=te.eventTime;if((T&xt)===xt){ot!==null&&(ot=ot.next={eventTime:un,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var gt=d,Ar=te;switch(xt=p,un=S,Ar.tag){case 1:if(gt=Ar.payload,typeof gt=="function"){At=gt.call(un,At,xt);break e}At=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ar.payload,xt=typeof gt=="function"?gt.call(un,At,xt):gt,xt==null)break e;At=a({},At,xt);break e;case 2:cs=!0}}te.callback!==null&&te.lane!==0&&(d.flags|=64,xt=O.effects,xt===null?O.effects=[te]:xt.push(te))}else un={eventTime:un,lane:xt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ot===null?(Le=ot=un,ye=At):ot=ot.next=un,K|=xt;if(te=te.next,te===null){if(te=O.shared.pending,te===null)break;xt=te,te=xt.next,xt.next=null,O.lastBaseUpdate=xt,O.shared.pending=null}}while(!0);if(ot===null&&(ye=At),O.baseState=ye,O.firstBaseUpdate=Le,O.lastBaseUpdate=ot,p=O.shared.interleaved,p!==null){O=p;do K|=O.lane,O=O.next;while(O!==p)}else N===null&&(O.shared.lanes=0);nc|=K,d.lanes=K,d.memoizedState=At}}function $C(d,p,S){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var T=d[p],O=T.callback;if(O!==null){if(T.callback=null,T=S,typeof O!="function")throw Error(o(191,O));O.call(T)}}}var VC=new r.Component().refs;function Qb(d,p,S,T){p=d.memoizedState,S=S(T,p),S=S==null?p:a({},p,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var og={isMounted:function(d){return(d=d._reactInternals)?C(d)===d:!1},enqueueSetState:function(d,p,S){d=d._reactInternals;var T=jr(),O=ps(d),N=bo(T,O);N.payload=p,S!=null&&(N.callback=S),fs(d,N),p=qi(d,O,T),p!==null&&ig(p,d,O)},enqueueReplaceState:function(d,p,S){d=d._reactInternals;var T=jr(),O=ps(d),N=bo(T,O);N.tag=1,N.payload=p,S!=null&&(N.callback=S),fs(d,N),p=qi(d,O,T),p!==null&&ig(p,d,O)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var S=jr(),T=ps(d),O=bo(S,T);O.tag=2,p!=null&&(O.callback=p),fs(d,O),p=qi(d,T,S),p!==null&&ig(p,d,T)}};function HC(d,p,S,T,O,N,K){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,N,K):p.prototype&&p.prototype.isPureReactComponent?!tg(S,T)||!tg(O,N):!0}function GC(d,p,S){var T=!1,O=_t,N=p.contextType;return typeof N=="object"&&N!==null?N=Vi(N):(O=Dt(p)?Ft:vt.current,T=p.contextTypes,N=(T=T!=null)?sn(d,O):_t),p=new p(S,N),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=og,d.stateNode=p,p._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=N),p}function WC(d,p,S,T){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(S,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(S,T),p.state!==d&&og.enqueueReplaceState(p,p.state,null)}function eS(d,p,S,T){var O=d.stateNode;O.props=S,O.state=d.memoizedState,O.refs=VC,Jb(d);var N=p.contextType;typeof N=="object"&&N!==null?O.context=Vi(N):(N=Dt(p)?Ft:vt.current,O.context=sn(d,N)),O.state=d.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(Qb(d,p,N,S),O.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(p=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),p!==O.state&&og.enqueueReplaceState(O,O.state,null),ag(d,S,O,T),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}var qu=[],Yu=0,sg=null,lg=0,Hi=[],Gi=0,vl=null,So=1,wo="";function yl(d,p){qu[Yu++]=lg,qu[Yu++]=sg,sg=d,lg=p}function XC(d,p,S){Hi[Gi++]=So,Hi[Gi++]=wo,Hi[Gi++]=vl,vl=d;var T=So;d=wo;var O=32-wn(T)-1;T&=~(1<<O),S+=1;var N=32-wn(p)+O;if(30<N){var K=O-O%5;N=(T&(1<<K)-1).toString(32),T>>=K,O-=K,So=1<<32-wn(p)+O|S<<O|T,wo=N+d}else So=1<<N|S<<O|T,wo=d}function tS(d){d.return!==null&&(yl(d,1),XC(d,1,0))}function nS(d){for(;d===sg;)sg=qu[--Yu],qu[Yu]=null,lg=qu[--Yu],qu[Yu]=null;for(;d===vl;)vl=Hi[--Gi],Hi[Gi]=null,wo=Hi[--Gi],Hi[Gi]=null,So=Hi[--Gi],Hi[Gi]=null}var _i=null,bi=null,_n=!1,Ad=!1,xa=null;function qC(d,p){var S=Yi(5,null,null,0);S.elementType="DELETED",S.stateNode=p,S.return=d,p=d.deletions,p===null?(d.deletions=[S],d.flags|=16):p.push(S)}function YC(d,p){switch(d.tag){case 5:return p=va(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,_i=d,bi=wd(p),!0):!1;case 6:return p=Wm(p,d.pendingProps),p!==null?(d.stateNode=p,_i=d,bi=null,!0):!1;case 13:if(p=Sd(p),p!==null){var S=vl!==null?{id:So,overflow:wo}:null;return d.memoizedState={dehydrated:p,treeContext:S,retryLane:1073741824},S=Yi(18,null,null,0),S.stateNode=p,S.return=d,d.child=S,_i=d,bi=null,!0}return!1;default:return!1}}function rS(d){return(d.mode&1)!==0&&(d.flags&128)===0}function iS(d){if(_n){var p=bi;if(p){var S=p;if(!YC(d,p)){if(rS(d))throw Error(o(418));p=xi(S);var T=_i;p&&YC(d,p)?qC(T,S):(d.flags=d.flags&-4097|2,_n=!1,_i=d)}}else{if(rS(d))throw Error(o(418));d.flags=d.flags&-4097|2,_n=!1,_i=d}}}function KC(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;_i=d}function Td(d){if(!Ge||d!==_i)return!1;if(!_n)return KC(d),_n=!0,!1;if(d.tag!==3&&(d.tag!==5||Bb(d.type)&&!De(d.type,d.memoizedProps))){var p=bi;if(p){if(rS(d)){for(d=bi;d;)d=xi(d);throw Error(o(418))}for(;p;)qC(d,p),p=xi(p)}}if(KC(d),d.tag===13){if(!Ge)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));bi=Jm(d)}else bi=_i?xi(d.stateNode):null;return!0}function Ku(){Ge&&(bi=_i=null,Ad=_n=!1)}function aS(d){xa===null?xa=[d]:xa.push(d)}function Pd(d,p,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,d));var O=T,N=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(K){var te=O.refs;te===VC&&(te=O.refs={}),K===null?delete te[N]:te[N]=K},p._stringRef=N,p)}if(typeof d!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,d))}return d}function ug(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function ZC(d){var p=d._init;return p(d._payload)}function JC(d){function p(le,ie){if(d){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function S(le,ie){if(!d)return null;for(;ie!==null;)p(le,ie),ie=ie.sibling;return null}function T(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function O(le,ie){return le=gs(le,ie),le.index=0,le.sibling=null,le}function N(le,ie,de){return le.index=de,d?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=2,ie):de):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function K(le){return d&&le.alternate===null&&(le.flags|=2),le}function te(le,ie,de,Ze){return ie===null||ie.tag!==6?(ie=$S(de,le.mode,Ze),ie.return=le,ie):(ie=O(ie,de),ie.return=le,ie)}function ye(le,ie,de,Ze){var pt=de.type;return pt===f?ot(le,ie,de.props.children,Ze,de.key):ie!==null&&(ie.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&ZC(pt)===ie.type)?(Ze=O(ie,de.props),Ze.ref=Pd(le,ie,de),Ze.return=le,Ze):(Ze=zg(de.type,de.key,de.props,null,le.mode,Ze),Ze.ref=Pd(le,ie,de),Ze.return=le,Ze)}function Le(le,ie,de,Ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=VS(de,le.mode,Ze),ie.return=le,ie):(ie=O(ie,de.children||[]),ie.return=le,ie)}function ot(le,ie,de,Ze,pt){return ie===null||ie.tag!==7?(ie=El(de,le.mode,Ze,pt),ie.return=le,ie):(ie=O(ie,de),ie.return=le,ie)}function At(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=$S(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return de=zg(ie.type,ie.key,ie.props,null,le.mode,de),de.ref=Pd(le,null,ie),de.return=le,de;case u:return ie=VS(ie,le.mode,de),ie.return=le,ie;case b:var Ze=ie._init;return At(le,Ze(ie._payload),de)}if($(ie)||E(ie))return ie=El(ie,le.mode,de,null),ie.return=le,ie;ug(le,ie)}return null}function xt(le,ie,de,Ze){var pt=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return pt!==null?null:te(le,ie,""+de,Ze);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===pt?ye(le,ie,de,Ze):null;case u:return de.key===pt?Le(le,ie,de,Ze):null;case b:return pt=de._init,xt(le,ie,pt(de._payload),Ze)}if($(de)||E(de))return pt!==null?null:ot(le,ie,de,Ze,null);ug(le,de)}return null}function un(le,ie,de,Ze,pt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return le=le.get(de)||null,te(ie,le,""+Ze,pt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case l:return le=le.get(Ze.key===null?de:Ze.key)||null,ye(ie,le,Ze,pt);case u:return le=le.get(Ze.key===null?de:Ze.key)||null,Le(ie,le,Ze,pt);case b:var It=Ze._init;return un(le,ie,de,It(Ze._payload),pt)}if($(Ze)||E(Ze))return le=le.get(de)||null,ot(ie,le,Ze,pt,null);ug(ie,Ze)}return null}function gt(le,ie,de,Ze){for(var pt=null,It=null,Tt=ie,Kt=ie=0,lr=null;Tt!==null&&Kt<de.length;Kt++){Tt.index>Kt?(lr=Tt,Tt=null):lr=Tt.sibling;var Zt=xt(le,Tt,de[Kt],Ze);if(Zt===null){Tt===null&&(Tt=lr);break}d&&Tt&&Zt.alternate===null&&p(le,Tt),ie=N(Zt,ie,Kt),It===null?pt=Zt:It.sibling=Zt,It=Zt,Tt=lr}if(Kt===de.length)return S(le,Tt),_n&&yl(le,Kt),pt;if(Tt===null){for(;Kt<de.length;Kt++)Tt=At(le,de[Kt],Ze),Tt!==null&&(ie=N(Tt,ie,Kt),It===null?pt=Tt:It.sibling=Tt,It=Tt);return _n&&yl(le,Kt),pt}for(Tt=T(le,Tt);Kt<de.length;Kt++)lr=un(Tt,le,Kt,de[Kt],Ze),lr!==null&&(d&&lr.alternate!==null&&Tt.delete(lr.key===null?Kt:lr.key),ie=N(lr,ie,Kt),It===null?pt=lr:It.sibling=lr,It=lr);return d&&Tt.forEach(function(vs){return p(le,vs)}),_n&&yl(le,Kt),pt}function Ar(le,ie,de,Ze){var pt=E(de);if(typeof pt!="function")throw Error(o(150));if(de=pt.call(de),de==null)throw Error(o(151));for(var It=pt=null,Tt=ie,Kt=ie=0,lr=null,Zt=de.next();Tt!==null&&!Zt.done;Kt++,Zt=de.next()){Tt.index>Kt?(lr=Tt,Tt=null):lr=Tt.sibling;var vs=xt(le,Tt,Zt.value,Ze);if(vs===null){Tt===null&&(Tt=lr);break}d&&Tt&&vs.alternate===null&&p(le,Tt),ie=N(vs,ie,Kt),It===null?pt=vs:It.sibling=vs,It=vs,Tt=lr}if(Zt.done)return S(le,Tt),_n&&yl(le,Kt),pt;if(Tt===null){for(;!Zt.done;Kt++,Zt=de.next())Zt=At(le,Zt.value,Ze),Zt!==null&&(ie=N(Zt,ie,Kt),It===null?pt=Zt:It.sibling=Zt,It=Zt);return _n&&yl(le,Kt),pt}for(Tt=T(le,Tt);!Zt.done;Kt++,Zt=de.next())Zt=un(Tt,le,Kt,Zt.value,Ze),Zt!==null&&(d&&Zt.alternate!==null&&Tt.delete(Zt.key===null?Kt:Zt.key),ie=N(Zt,ie,Kt),It===null?pt=Zt:It.sibling=Zt,It=Zt);return d&&Tt.forEach(function(TV){return p(le,TV)}),_n&&yl(le,Kt),pt}function Ki(le,ie,de,Ze){if(typeof de=="object"&&de!==null&&de.type===f&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var pt=de.key,It=ie;It!==null;){if(It.key===pt){if(pt=de.type,pt===f){if(It.tag===7){S(le,It.sibling),ie=O(It,de.props.children),ie.return=le,le=ie;break e}}else if(It.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&ZC(pt)===It.type){S(le,It.sibling),ie=O(It,de.props),ie.ref=Pd(le,It,de),ie.return=le,le=ie;break e}S(le,It);break}else p(le,It);It=It.sibling}de.type===f?(ie=El(de.props.children,le.mode,Ze,de.key),ie.return=le,le=ie):(Ze=zg(de.type,de.key,de.props,null,le.mode,Ze),Ze.ref=Pd(le,ie,de),Ze.return=le,le=Ze)}return K(le);case u:e:{for(It=de.key;ie!==null;){if(ie.key===It)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){S(le,ie.sibling),ie=O(ie,de.children||[]),ie.return=le,le=ie;break e}else{S(le,ie);break}else p(le,ie);ie=ie.sibling}ie=VS(de,le.mode,Ze),ie.return=le,le=ie}return K(le);case b:return It=de._init,Ki(le,ie,It(de._payload),Ze)}if($(de))return gt(le,ie,de,Ze);if(E(de))return Ar(le,ie,de,Ze);ug(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(S(le,ie.sibling),ie=O(ie,de),ie.return=le,le=ie):(S(le,ie),ie=$S(de,le.mode,Ze),ie.return=le,le=ie),K(le)):S(le,ie)}return Ki}var Zu=JC(!0),QC=JC(!1),Cd={},Wi=$e(Cd),Od=$e(Cd),Ju=$e(Cd);function Xa(d){if(d===Cd)throw Error(o(174));return d}function oS(d,p){ze(Ju,p),ze(Od,d),ze(Wi,Cd),d=H(p),Fe(Wi),ze(Wi,d)}function Qu(){Fe(Wi),Fe(Od),Fe(Ju)}function e2(d){var p=Xa(Ju.current),S=Xa(Wi.current);p=U(S,d.type,p),S!==p&&(ze(Od,d),ze(Wi,p))}function sS(d){Od.current===d&&(Fe(Wi),Fe(Od))}var En=$e(0);function cg(d){for(var p=d;p!==null;){if(p.tag===13){var S=p.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Xm(S)||$u(S)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var lS=[];function uS(){for(var d=0;d<lS.length;d++){var p=lS[d];Te?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}lS.length=0}var fg=s.ReactCurrentDispatcher,Xi=s.ReactCurrentBatchConfig,ec=0,In=null,wr=null,sr=null,dg=!1,Rd=!1,Id=0,J$=0;function Mr(){throw Error(o(321))}function cS(d,p){if(p===null)return!1;for(var S=0;S<p.length&&S<d.length;S++)if(!Ha(d[S],p[S]))return!1;return!0}function fS(d,p,S,T,O,N){if(ec=N,In=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,fg.current=d===null||d.memoizedState===null?nV:rV,d=S(T,O),Rd){N=0;do{if(Rd=!1,Id=0,25<=N)throw Error(o(301));N+=1,sr=wr=null,p.updateQueue=null,fg.current=iV,d=S(T,O)}while(Rd)}if(fg.current=vg,p=wr!==null&&wr.next!==null,ec=0,sr=wr=In=null,dg=!1,p)throw Error(o(300));return d}function dS(){var d=Id!==0;return Id=0,d}function Mo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?In.memoizedState=sr=d:sr=sr.next=d,sr}function qa(){if(wr===null){var d=In.alternate;d=d!==null?d.memoizedState:null}else d=wr.next;var p=sr===null?In.memoizedState:sr.next;if(p!==null)sr=p,wr=d;else{if(d===null)throw Error(o(310));wr=d,d={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},sr===null?In.memoizedState=sr=d:sr=sr.next=d}return sr}function xl(d,p){return typeof p=="function"?p(d):p}function hg(d){var p=qa(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=wr,O=T.baseQueue,N=S.pending;if(N!==null){if(O!==null){var K=O.next;O.next=N.next,N.next=K}T.baseQueue=O=N,S.pending=null}if(O!==null){N=O.next,T=T.baseState;var te=K=null,ye=null,Le=N;do{var ot=Le.lane;if((ec&ot)===ot)ye!==null&&(ye=ye.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),T=Le.hasEagerState?Le.eagerState:d(T,Le.action);else{var At={lane:ot,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ye===null?(te=ye=At,K=T):ye=ye.next=At,In.lanes|=ot,nc|=ot}Le=Le.next}while(Le!==null&&Le!==N);ye===null?K=T:ye.next=te,Ha(T,p.memoizedState)||(Si=!0),p.memoizedState=T,p.baseState=K,p.baseQueue=ye,S.lastRenderedState=T}if(d=S.interleaved,d!==null){O=d;do N=O.lane,In.lanes|=N,nc|=N,O=O.next;while(O!==d)}else O===null&&(S.lanes=0);return[p.memoizedState,S.dispatch]}function pg(d){var p=qa(),S=p.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=S.dispatch,O=S.pending,N=p.memoizedState;if(O!==null){S.pending=null;var K=O=O.next;do N=d(N,K.action),K=K.next;while(K!==O);Ha(N,p.memoizedState)||(Si=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),S.lastRenderedState=N}return[N,T]}function t2(){}function n2(d,p){var S=In,T=qa(),O=p(),N=!Ha(T.memoizedState,O);if(N&&(T.memoizedState=O,Si=!0),T=T.queue,Ld(a2.bind(null,S,T,d),[d]),T.getSnapshot!==p||N||sr!==null&&sr.memoizedState.tag&1){if(S.flags|=2048,Nd(9,i2.bind(null,S,T,O,p),void 0,null),$n===null)throw Error(o(349));ec&30||r2(S,p,O)}return O}function r2(d,p,S){d.flags|=16384,d={getSnapshot:p,value:S},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.stores=[d]):(S=p.stores,S===null?p.stores=[d]:S.push(d))}function i2(d,p,S,T){p.value=S,p.getSnapshot=T,o2(p)&&qi(d,1,-1)}function a2(d,p,S){return S(function(){o2(p)&&qi(d,1,-1)})}function o2(d){var p=d.getSnapshot;d=d.value;try{var S=p();return!Ha(d,S)}catch{return!0}}function hS(d){var p=Mo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:d},p.queue=d,d=d.dispatch=tV.bind(null,In,d),[p.memoizedState,d]}function Nd(d,p,S,T){return d={tag:d,create:p,destroy:S,deps:T,next:null},p=In.updateQueue,p===null?(p={lastEffect:null,stores:null},In.updateQueue=p,p.lastEffect=d.next=d):(S=p.lastEffect,S===null?p.lastEffect=d.next=d:(T=S.next,S.next=d,d.next=T,p.lastEffect=d)),d}function s2(){return qa().memoizedState}function mg(d,p,S,T){var O=Mo();In.flags|=d,O.memoizedState=Nd(1|p,S,void 0,T===void 0?null:T)}function gg(d,p,S,T){var O=qa();T=T===void 0?null:T;var N=void 0;if(wr!==null){var K=wr.memoizedState;if(N=K.destroy,T!==null&&cS(T,K.deps)){O.memoizedState=Nd(p,S,N,T);return}}In.flags|=d,O.memoizedState=Nd(1|p,S,N,T)}function pS(d,p){return mg(8390656,8,d,p)}function Ld(d,p){return gg(2048,8,d,p)}function l2(d,p){return gg(4,2,d,p)}function u2(d,p){return gg(4,4,d,p)}function c2(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function f2(d,p,S){return S=S!=null?S.concat([d]):null,gg(4,4,c2.bind(null,p,d),S)}function mS(){}function d2(d,p){var S=qa();p=p===void 0?null:p;var T=S.memoizedState;return T!==null&&p!==null&&cS(p,T[1])?T[0]:(S.memoizedState=[d,p],d)}function h2(d,p){var S=qa();p=p===void 0?null:p;var T=S.memoizedState;return T!==null&&p!==null&&cS(p,T[1])?T[0]:(d=d(),S.memoizedState=[d,p],d)}function Q$(d,p){var S=Yt;Yt=S!==0&&4>S?S:4,d(!0);var T=Xi.transition;Xi.transition={};try{d(!1),p()}finally{Yt=S,Xi.transition=T}}function p2(){return qa().memoizedState}function eV(d,p,S){var T=ps(d);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},m2(d)?g2(p,S):(v2(d,p,S),S=jr(),d=qi(d,T,S),d!==null&&y2(d,p,T))}function tV(d,p,S){var T=ps(d),O={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(m2(d))g2(p,O);else{v2(d,p,O);var N=d.alternate;if(d.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var K=p.lastRenderedState,te=N(K,S);if(O.hasEagerState=!0,O.eagerState=te,Ha(te,K))return}catch{}finally{}S=jr(),d=qi(d,T,S),d!==null&&y2(d,p,T)}}function m2(d){var p=d.alternate;return d===In||p!==null&&p===In}function g2(d,p){Rd=dg=!0;var S=d.pending;S===null?p.next=p:(p.next=S.next,S.next=p),d.pending=p}function v2(d,p,S){$n!==null&&d.mode&1&&!(Nt&2)?(d=p.interleaved,d===null?(S.next=S,Wa===null?Wa=[p]:Wa.push(p)):(S.next=d.next,d.next=S),p.interleaved=S):(d=p.pending,d===null?S.next=S:(S.next=d.next,d.next=S),p.pending=S)}function y2(d,p,S){if(S&4194240){var T=p.lanes;T&=d.pendingLanes,S|=T,p.lanes=S,Vb(d,S)}}var vg={readContext:Vi,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},nV={readContext:Vi,useCallback:function(d,p){return Mo().memoizedState=[d,p===void 0?null:p],d},useContext:Vi,useEffect:pS,useImperativeHandle:function(d,p,S){return S=S!=null?S.concat([d]):null,mg(4194308,4,c2.bind(null,p,d),S)},useLayoutEffect:function(d,p){return mg(4194308,4,d,p)},useInsertionEffect:function(d,p){return mg(4,2,d,p)},useMemo:function(d,p){var S=Mo();return p=p===void 0?null:p,d=d(),S.memoizedState=[d,p],d},useReducer:function(d,p,S){var T=Mo();return p=S!==void 0?S(p):p,T.memoizedState=T.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},T.queue=d,d=d.dispatch=eV.bind(null,In,d),[T.memoizedState,d]},useRef:function(d){var p=Mo();return d={current:d},p.memoizedState=d},useState:hS,useDebugValue:mS,useDeferredValue:function(d){var p=hS(d),S=p[0],T=p[1];return pS(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=hS(!1),p=d[0];return d=Q$.bind(null,d[1]),Mo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,S){var T=In,O=Mo();if(_n){if(S===void 0)throw Error(o(407));S=S()}else{if(S=p(),$n===null)throw Error(o(349));ec&30||r2(T,p,S)}O.memoizedState=S;var N={value:S,getSnapshot:p};return O.queue=N,pS(a2.bind(null,T,N,d),[d]),T.flags|=2048,Nd(9,i2.bind(null,T,N,S,p),void 0,null),S},useId:function(){var d=Mo(),p=$n.identifierPrefix;if(_n){var S=wo,T=So;S=(T&~(1<<32-wn(T)-1)).toString(32)+S,p=":"+p+"R"+S,S=Id++,0<S&&(p+="H"+S.toString(32)),p+=":"}else S=J$++,p=":"+p+"r"+S.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},rV={readContext:Vi,useCallback:d2,useContext:Vi,useEffect:Ld,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:h2,useReducer:hg,useRef:s2,useState:function(){return hg(xl)},useDebugValue:mS,useDeferredValue:function(d){var p=hg(xl),S=p[0],T=p[1];return Ld(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=hg(xl)[0],p=qa().memoizedState;return[d,p]},useMutableSource:t2,useSyncExternalStore:n2,useId:p2,unstable_isNewReconciler:!1},iV={readContext:Vi,useCallback:d2,useContext:Vi,useEffect:Ld,useImperativeHandle:f2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:h2,useReducer:pg,useRef:s2,useState:function(){return pg(xl)},useDebugValue:mS,useDeferredValue:function(d){var p=pg(xl),S=p[0],T=p[1];return Ld(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=pg(xl)[0],p=qa().memoizedState;return[d,p]},useMutableSource:t2,useSyncExternalStore:n2,useId:p2,unstable_isNewReconciler:!1};function gS(d,p){try{var S="",T=p;do S+=Z$(T),T=T.return;while(T);var O=S}catch(N){O=`
Error generating stack: `+N.message+`
`+N.stack}return{value:d,source:p,stack:O}}function vS(d,p){try{console.error(p.value)}catch(S){setTimeout(function(){throw S})}}var aV=typeof WeakMap=="function"?WeakMap:Map;function x2(d,p,S){S=bo(-1,S),S.tag=3,S.payload={element:null};var T=p.value;return S.callback=function(){Ng||(Ng=!0,DS=T),vS(d,p)},S}function _2(d,p,S){S=bo(-1,S),S.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var O=p.value;S.payload=function(){return T(O)},S.callback=function(){vS(d,p)}}var N=d.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){vS(d,p),typeof T!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})}),S}function b2(d,p,S){var T=d.pingCache;if(T===null){T=d.pingCache=new aV;var O=new Set;T.set(p,O)}else O=T.get(p),O===void 0&&(O=new Set,T.set(p,O));O.has(S)||(O.add(S),d=xV.bind(null,d,p,S),p.then(d,d))}function S2(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function w2(d,p,S,T,O){return d.mode&1?(d.flags|=65536,d.lanes=O,d):(d===p?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(p=bo(-1,1),p.tag=2,fs(S,p))),S.lanes|=1),d)}function Ya(d){d.flags|=4}function M2(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Dd,kd,yg,xg;if(Pe)Dd=function(d,p){for(var S=p.child;S!==null;){if(S.tag===5||S.tag===6)J(d,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===p)break;for(;S.sibling===null;){if(S.return===null||S.return===p)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},kd=function(){},yg=function(d,p,S,T,O){if(d=d.memoizedProps,d!==T){var N=p.stateNode,K=Xa(Wi.current);S=we(N,S,d,T,O,K),(p.updateQueue=S)&&Ya(p)}},xg=function(d,p,S,T){S!==T&&Ya(p)};else if(pe){Dd=function(d,p,S,T){for(var O=p.child;O!==null;){if(O.tag===5){var N=O.stateNode;S&&T&&(N=Xt(N,O.type,O.memoizedProps,O)),J(d,N)}else if(O.tag===6)N=O.stateNode,S&&T&&(N=ji(N,O.memoizedProps,O)),J(d,N);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)N=O.child,N!==null&&(N.return=O),Dd(d,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===p)break;for(;O.sibling===null;){if(O.return===null||O.return===p)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var E2=function(d,p,S,T){for(var O=p.child;O!==null;){if(O.tag===5){var N=O.stateNode;S&&T&&(N=Xt(N,O.type,O.memoizedProps,O)),st(d,N)}else if(O.tag===6)N=O.stateNode,S&&T&&(N=ji(N,O.memoizedProps,O)),st(d,N);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)N=O.child,N!==null&&(N.return=O),E2(d,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===p)break;for(;O.sibling===null;){if(O.return===null||O.return===p)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};kd=function(d,p){var S=p.stateNode;if(!M2(d,p)){d=S.containerInfo;var T=ve(d);E2(T,p,!1,!1),S.pendingChildren=T,Ya(p),Mt(d,T)}},yg=function(d,p,S,T,O){var N=d.stateNode,K=d.memoizedProps;if((d=M2(d,p))&&K===T)p.stateNode=N;else{var te=p.stateNode,ye=Xa(Wi.current),Le=null;K!==T&&(Le=we(te,S,K,T,O,ye)),d&&Le===null?p.stateNode=N:(N=Re(N,Le,S,K,T,p,d,te),fe(N,S,T,O,ye)&&Ya(p),p.stateNode=N,d?Ya(p):Dd(N,p,!1,!1))}},xg=function(d,p,S,T){S!==T?(d=Xa(Ju.current),S=Xa(Wi.current),p.stateNode=ae(T,d,S,p),Ya(p)):p.stateNode=d.stateNode}}else kd=function(){},yg=function(){},xg=function(){};function Ud(d,p){if(!_n)switch(d.tailMode){case"hidden":p=d.tail;for(var S=null;p!==null;)p.alternate!==null&&(S=p),p=p.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Er(d){var p=d.alternate!==null&&d.alternate.child===d.child,S=0,T=0;if(p)for(var O=d.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags&14680064,T|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=T,d.childLanes=S,p}function oV(d,p,S){var T=p.pendingProps;switch(nS(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(p),null;case 1:return Dt(p.type)&&$t(),Er(p),null;case 3:return T=p.stateNode,Qu(),Fe(Qe),Fe(vt),uS(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Td(p)?Ya(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,xa!==null&&(FS(xa),xa=null))),kd(d,p),Er(p),null;case 5:sS(p),S=Xa(Ju.current);var O=p.type;if(d!==null&&p.stateNode!=null)yg(d,p,O,T,S),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!T){if(p.stateNode===null)throw Error(o(166));return Er(p),null}if(d=Xa(Wi.current),Td(p)){if(!Ge)throw Error(o(175));d=Vu(p.stateNode,p.type,p.memoizedProps,S,d,p,!Ad),p.updateQueue=d,d!==null&&Ya(p)}else{var N=Z(O,T,S,d,p);Dd(N,p,!1,!1),p.stateNode=N,fe(N,O,T,S,d)&&Ya(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Er(p),null;case 6:if(d&&p.stateNode!=null)xg(d,p,d.memoizedProps,T);else{if(typeof T!="string"&&p.stateNode===null)throw Error(o(166));if(d=Xa(Ju.current),S=Xa(Wi.current),Td(p)){if(!Ge)throw Error(o(176));if(d=p.stateNode,T=p.memoizedProps,(S=Zm(d,T,p,!Ad))&&(O=_i,O!==null))switch(N=(O.mode&1)!==0,O.tag){case 3:zb(O.stateNode.containerInfo,d,T,N);break;case 5:jb(O.type,O.memoizedProps,O.stateNode,d,T,N)}S&&Ya(p)}else p.stateNode=ae(T,d,S,p)}return Er(p),null;case 13:if(Fe(En),T=p.memoizedState,_n&&bi!==null&&p.mode&1&&!(p.flags&128)){for(d=bi;d;)d=xi(d);return Ku(),p.flags|=98560,p}if(T!==null&&T.dehydrated!==null){if(T=Td(p),d===null){if(!T)throw Error(o(318));if(!Ge)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Hu(d,p)}else Ku(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Er(p),null}return xa!==null&&(FS(xa),xa=null),p.flags&128?(p.lanes=S,p):(T=T!==null,S=!1,d===null?Td(p):S=d.memoizedState!==null,T&&!S&&(p.child.flags|=8192,p.mode&1&&(d===null||En.current&1?Kn===0&&(Kn=3):zS())),p.updateQueue!==null&&(p.flags|=4),Er(p),null);case 4:return Qu(),kd(d,p),d===null&&Se(p.stateNode.containerInfo),Er(p),null;case 10:return Kb(p.type._context),Er(p),null;case 17:return Dt(p.type)&&$t(),Er(p),null;case 19:if(Fe(En),O=p.memoizedState,O===null)return Er(p),null;if(T=(p.flags&128)!==0,N=O.rendering,N===null)if(T)Ud(O,!1);else{if(Kn!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(N=cg(d),N!==null){for(p.flags|=128,Ud(O,!1),d=N.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=S,T=p.child;T!==null;)S=T,O=d,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=O,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,O=N.dependencies,S.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),T=T.sibling;return ze(En,En.current&1|2),p.child}d=d.sibling}O.tail!==null&&or()>LS&&(p.flags|=128,T=!0,Ud(O,!1),p.lanes=4194304)}else{if(!T)if(d=cg(N),d!==null){if(p.flags|=128,T=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),Ud(O,!0),O.tail===null&&O.tailMode==="hidden"&&!N.alternate&&!_n)return Er(p),null}else 2*or()-O.renderingStartTime>LS&&S!==1073741824&&(p.flags|=128,T=!0,Ud(O,!1),p.lanes=4194304);O.isBackwards?(N.sibling=p.child,p.child=N):(d=O.last,d!==null?d.sibling=N:p.child=N,O.last=N)}return O.tail!==null?(p=O.tail,O.rendering=p,O.tail=p.sibling,O.renderingStartTime=or(),p.sibling=null,d=En.current,ze(En,T?d&1|2:d&1),p):(Er(p),null);case 22:case 23:return BS(),T=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(p.flags|=8192),T&&p.mode&1?wi&1073741824&&(Er(p),Pe&&p.subtreeFlags&6&&(p.flags|=8192)):Er(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var sV=s.ReactCurrentOwner,Si=!1;function zr(d,p,S,T){p.child=d===null?QC(p,null,S,T):Zu(p,d.child,S,T)}function A2(d,p,S,T,O){S=S.render;var N=p.ref;return Xu(p,O),T=fS(d,p,S,T,N,O),S=dS(),d!==null&&!Si?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~O,Eo(d,p,O)):(_n&&S&&tS(p),p.flags|=1,zr(d,p,T,O),p.child)}function T2(d,p,S,T,O){if(d===null){var N=S.type;return typeof N=="function"&&!jS(N)&&N.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(p.tag=15,p.type=N,P2(d,p,N,T,O)):(d=zg(S.type,null,T,p,p.mode,O),d.ref=p.ref,d.return=p,p.child=d)}if(N=d.child,!(d.lanes&O)){var K=N.memoizedProps;if(S=S.compare,S=S!==null?S:tg,S(K,T)&&d.ref===p.ref)return Eo(d,p,O)}return p.flags|=1,d=gs(N,T),d.ref=p.ref,d.return=p,p.child=d}function P2(d,p,S,T,O){if(d!==null&&tg(d.memoizedProps,T)&&d.ref===p.ref)if(Si=!1,(d.lanes&O)!==0)d.flags&131072&&(Si=!0);else return p.lanes=d.lanes,Eo(d,p,O);return yS(d,p,S,T,O)}function C2(d,p,S){var T=p.pendingProps,O=T.children,N=d!==null?d.memoizedState:null;if(T.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},ze(tc,wi),wi|=S;else if(S&1073741824)p.memoizedState={baseLanes:0,cachePool:null},T=N!==null?N.baseLanes:S,ze(tc,wi),wi|=T;else return d=N!==null?N.baseLanes|S:S,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,ze(tc,wi),wi|=d,null;else N!==null?(T=N.baseLanes|S,p.memoizedState=null):T=S,ze(tc,wi),wi|=T;return zr(d,p,O,S),p.child}function O2(d,p){var S=p.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(p.flags|=512,p.flags|=2097152)}function yS(d,p,S,T,O){var N=Dt(S)?Ft:vt.current;return N=sn(p,N),Xu(p,O),S=fS(d,p,S,T,N,O),T=dS(),d!==null&&!Si?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~O,Eo(d,p,O)):(_n&&T&&tS(p),p.flags|=1,zr(d,p,S,O),p.child)}function R2(d,p,S,T,O){if(Dt(S)){var N=!0;ar(p)}else N=!1;if(Xu(p,O),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),GC(p,S,T),eS(p,S,T,O),T=!0;else if(d===null){var K=p.stateNode,te=p.memoizedProps;K.props=te;var ye=K.context,Le=S.contextType;typeof Le=="object"&&Le!==null?Le=Vi(Le):(Le=Dt(S)?Ft:vt.current,Le=sn(p,Le));var ot=S.getDerivedStateFromProps,At=typeof ot=="function"||typeof K.getSnapshotBeforeUpdate=="function";At||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==T||ye!==Le)&&WC(p,K,T,Le),cs=!1;var xt=p.memoizedState;K.state=xt,ag(p,T,K,O),ye=p.memoizedState,te!==T||xt!==ye||Qe.current||cs?(typeof ot=="function"&&(Qb(p,S,ot,T),ye=p.memoizedState),(te=cs||HC(p,S,te,T,xt,ye,Le))?(At||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(p.flags|=4194308)):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=ye),K.props=T,K.state=ye,K.context=Le,T=te):(typeof K.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{K=p.stateNode,zC(d,p),te=p.memoizedProps,Le=p.type===p.elementType?te:ya(p.type,te),K.props=Le,At=p.pendingProps,xt=K.context,ye=S.contextType,typeof ye=="object"&&ye!==null?ye=Vi(ye):(ye=Dt(S)?Ft:vt.current,ye=sn(p,ye));var un=S.getDerivedStateFromProps;(ot=typeof un=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==At||xt!==ye)&&WC(p,K,T,ye),cs=!1,xt=p.memoizedState,K.state=xt,ag(p,T,K,O);var gt=p.memoizedState;te!==At||xt!==gt||Qe.current||cs?(typeof un=="function"&&(Qb(p,S,un,T),gt=p.memoizedState),(Le=cs||HC(p,S,Le,T,xt,gt,ye)||!1)?(ot||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(T,gt,ye),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(T,gt,ye)),typeof K.componentDidUpdate=="function"&&(p.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof K.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=gt),K.props=T,K.state=gt,K.context=ye,T=Le):(typeof K.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(p.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(p.flags|=1024),T=!1)}return xS(d,p,S,T,N,O)}function xS(d,p,S,T,O,N){O2(d,p);var K=(p.flags&128)!==0;if(!T&&!K)return O&&Bt(p,S,!1),Eo(d,p,N);T=p.stateNode,sV.current=p;var te=K&&typeof S.getDerivedStateFromError!="function"?null:T.render();return p.flags|=1,d!==null&&K?(p.child=Zu(p,d.child,null,N),p.child=Zu(p,null,te,N)):zr(d,p,te,N),p.memoizedState=T.state,O&&Bt(p,S,!0),p.child}function I2(d){var p=d.stateNode;p.pendingContext?Yn(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Yn(d,p.context,!1),oS(d,p.containerInfo)}function N2(d,p,S,T,O){return Ku(),aS(O),p.flags|=256,zr(d,p,S,T),p.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function bg(d){return{baseLanes:d,cachePool:null}}function L2(d,p,S){var T=p.pendingProps,O=En.current,N=!1,K=(p.flags&128)!==0,te;if((te=K)||(te=d!==null&&d.memoizedState===null?!1:(O&2)!==0),te?(N=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),ze(En,O&1),d===null)return iS(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?$u(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(O=T.children,d=T.fallback,N?(T=p.mode,N=p.child,O={mode:"hidden",children:O},!(T&1)&&N!==null?(N.childLanes=0,N.pendingProps=O):N=jg(O,T,0,null),d=El(d,T,S,null),N.return=p,d.return=p,N.sibling=d,p.child=N,p.child.memoizedState=bg(S),p.memoizedState=_g,d):_S(p,O));if(O=d.memoizedState,O!==null){if(te=O.dehydrated,te!==null){if(K)return p.flags&256?(p.flags&=-257,Sg(d,p,S,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(N=T.fallback,O=p.mode,T=jg({mode:"visible",children:T.children},O,0,null),N=El(N,O,S,null),N.flags|=2,T.return=p,N.return=p,T.sibling=N,p.child=T,p.mode&1&&Zu(p,d.child,null,S),p.child.memoizedState=bg(S),p.memoizedState=_g,N);if(!(p.mode&1))p=Sg(d,p,S,null);else if($u(te))p=Sg(d,p,S,Error(o(419)));else if(T=(S&d.childLanes)!==0,Si||T){if(T=$n,T!==null){switch(S&-S){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}T=N&(T.suspendedLanes|S)?0:N,T!==0&&T!==O.retryLane&&(O.retryLane=T,qi(d,T,-1))}zS(),p=Sg(d,p,S,Error(o(421)))}else Xm(te)?(p.flags|=128,p.child=d.child,p=_V.bind(null,d),qm(te,p),p=null):(S=O.treeContext,Ge&&(bi=Km(te),_i=p,_n=!0,xa=null,Ad=!1,S!==null&&(Hi[Gi++]=So,Hi[Gi++]=wo,Hi[Gi++]=vl,So=S.id,wo=S.overflow,vl=p)),p=_S(p,p.pendingProps.children),p.flags|=4096);return p}return N?(T=k2(d,p,T.children,T.fallback,S),N=p.child,O=d.child.memoizedState,N.memoizedState=O===null?bg(S):{baseLanes:O.baseLanes|S,cachePool:null},N.childLanes=d.childLanes&~S,p.memoizedState=_g,T):(S=D2(d,p,T.children,S),p.memoizedState=null,S)}return N?(T=k2(d,p,T.children,T.fallback,S),N=p.child,O=d.child.memoizedState,N.memoizedState=O===null?bg(S):{baseLanes:O.baseLanes|S,cachePool:null},N.childLanes=d.childLanes&~S,p.memoizedState=_g,T):(S=D2(d,p,T.children,S),p.memoizedState=null,S)}function _S(d,p){return p=jg({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function D2(d,p,S,T){var O=d.child;return d=O.sibling,S=gs(O,{mode:"visible",children:S}),!(p.mode&1)&&(S.lanes=T),S.return=p,S.sibling=null,d!==null&&(T=p.deletions,T===null?(p.deletions=[d],p.flags|=16):T.push(d)),p.child=S}function k2(d,p,S,T,O){var N=p.mode;d=d.child;var K=d.sibling,te={mode:"hidden",children:S};return!(N&1)&&p.child!==d?(S=p.child,S.childLanes=0,S.pendingProps=te,p.deletions=null):(S=gs(d,te),S.subtreeFlags=d.subtreeFlags&14680064),K!==null?T=gs(K,T):(T=El(T,N,O,null),T.flags|=2),T.return=p,S.return=p,S.sibling=T,p.child=S,T}function Sg(d,p,S,T){return T!==null&&aS(T),Zu(p,d.child,null,S),d=_S(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function U2(d,p,S){d.lanes|=p;var T=d.alternate;T!==null&&(T.lanes|=p),Zb(d.return,p,S)}function bS(d,p,S,T,O){var N=d.memoizedState;N===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:O}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=T,N.tail=S,N.tailMode=O)}function F2(d,p,S){var T=p.pendingProps,O=T.revealOrder,N=T.tail;if(zr(d,p,T.children,S),T=En.current,T&2)T=T&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&U2(d,S,p);else if(d.tag===19)U2(d,S,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(ze(En,T),!(p.mode&1))p.memoizedState=null;else switch(O){case"forwards":for(S=p.child,O=null;S!==null;)d=S.alternate,d!==null&&cg(d)===null&&(O=S),S=S.sibling;S=O,S===null?(O=p.child,p.child=null):(O=S.sibling,S.sibling=null),bS(p,!1,O,S,N);break;case"backwards":for(S=null,O=p.child,p.child=null;O!==null;){if(d=O.alternate,d!==null&&cg(d)===null){p.child=O;break}d=O.sibling,O.sibling=S,S=O,O=d}bS(p,!0,S,null,N);break;case"together":bS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Eo(d,p,S){if(d!==null&&(p.dependencies=d.dependencies),nc|=p.lanes,!(S&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,S=gs(d,d.pendingProps),p.child=S,S.return=p;d.sibling!==null;)d=d.sibling,S=S.sibling=gs(d,d.pendingProps),S.return=p;S.sibling=null}return p.child}function lV(d,p,S){switch(p.tag){case 3:I2(p),Ku();break;case 5:e2(p);break;case 1:Dt(p.type)&&ar(p);break;case 4:oS(p,p.stateNode.containerInfo);break;case 10:BC(p,p.type._context,p.memoizedProps.value);break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(ze(En,En.current&1),p.flags|=128,null):S&p.child.childLanes?L2(d,p,S):(ze(En,En.current&1),d=Eo(d,p,S),d!==null?d.sibling:null);ze(En,En.current&1);break;case 19:if(T=(S&p.childLanes)!==0,d.flags&128){if(T)return F2(d,p,S);p.flags|=128}var O=p.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ze(En,En.current),T)break;return null;case 22:case 23:return p.lanes=0,C2(d,p,S)}return Eo(d,p,S)}function uV(d,p){switch(nS(p),p.tag){case 1:return Dt(p.type)&&$t(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Qu(),Fe(Qe),Fe(vt),uS(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return sS(p),null;case 13:if(Fe(En),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Ku()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Fe(En),null;case 4:return Qu(),null;case 10:return Kb(p.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var wg=!1,_l=!1,cV=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Mg(d,p){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){ri(d,p,T)}else S.current=null}function SS(d,p,S){try{S()}catch(T){ri(d,p,T)}}var B2=!1;function fV(d,p){for(j(d.containerInfo),Ye=p;Ye!==null;)if(d=Ye,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,Ye=p;else for(;Ye!==null;){d=Ye;try{var S=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,O=S.memoizedState,N=d.stateNode,K=N.getSnapshotBeforeUpdate(d.elementType===d.type?T:ya(d.type,T),O);N.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Pe&&tt(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){ri(d,d.return,te)}if(p=d.sibling,p!==null){p.return=d.return,Ye=p;break}Ye=d.return}return S=B2,B2=!1,S}function bl(d,p,S){var T=p.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var O=T=T.next;do{if((O.tag&d)===d){var N=O.destroy;O.destroy=void 0,N!==void 0&&SS(p,S,N)}O=O.next}while(O!==T)}}function Fd(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var S=p=p.next;do{if((S.tag&d)===d){var T=S.create;S.destroy=T()}S=S.next}while(S!==p)}}function wS(d){var p=d.ref;if(p!==null){var S=d.stateNode;switch(d.tag){case 5:d=V(S);break;default:d=S}typeof p=="function"?p(d):p.current=d}}function z2(d,p,S){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(Qm,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var O=T,N=O.destroy;O=O.tag,N!==void 0&&(O&2||O&4)&&SS(p,S,N),T=T.next}while(T!==d)}break;case 1:if(Mg(p,S),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(K){ri(p,S,K)}break;case 5:Mg(p,S);break;case 4:Pe?W2(d,p,S):pe&&pe&&(p=p.stateNode.containerInfo,S=ve(p),nn(p,S))}}function j2(d,p,S){for(var T=p;;)if(z2(d,T,S),T.child===null||Pe&&T.tag===4){if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function $2(d){var p=d.alternate;p!==null&&(d.alternate=null,$2(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Ne(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function V2(d){return d.tag===5||d.tag===3||d.tag===4}function H2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||V2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function G2(d){if(Pe){e:{for(var p=d.return;p!==null;){if(V2(p))break e;p=p.return}throw Error(o(160))}var S=p;switch(S.tag){case 5:p=S.stateNode,S.flags&32&&(Je(p),S.flags&=-33),S=H2(d),ES(d,S,p);break;case 3:case 4:p=S.stateNode.containerInfo,S=H2(d),MS(d,S,p);break;default:throw Error(o(161))}}}function MS(d,p,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,p?ke(S,d,p):nt(S,d);else if(T!==4&&(d=d.child,d!==null))for(MS(d,p,S),d=d.sibling;d!==null;)MS(d,p,S),d=d.sibling}function ES(d,p,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,p?Ce(S,d,p):ge(S,d);else if(T!==4&&(d=d.child,d!==null))for(ES(d,p,S),d=d.sibling;d!==null;)ES(d,p,S),d=d.sibling}function W2(d,p,S){for(var T=p,O=!1,N,K;;){if(!O){O=T.return;e:for(;;){if(O===null)throw Error(o(160));switch(N=O.stateNode,O.tag){case 5:K=!1;break e;case 3:N=N.containerInfo,K=!0;break e;case 4:N=N.containerInfo,K=!0;break e}O=O.return}O=!0}if(T.tag===5||T.tag===6)j2(d,T,S),K?ct(N,T.stateNode):lt(N,T.stateNode);else if(T.tag===18)K?Fb(N,T.stateNode):Ub(N,T.stateNode);else if(T.tag===4){if(T.child!==null){N=T.stateNode.containerInfo,K=!0,T.child.return=T,T=T.child;continue}}else if(z2(d,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===p)break;for(;T.sibling===null;){if(T.return===null||T.return===p)return;T=T.return,T.tag===4&&(O=!1)}T.sibling.return=T.return,T=T.sibling}}function AS(d,p){if(Pe){switch(p.tag){case 0:case 11:case 14:case 15:bl(3,p,p.return),Fd(3,p),bl(5,p,p.return);return;case 1:return;case 5:var S=p.stateNode;if(S!=null){var T=p.memoizedProps;d=d!==null?d.memoizedProps:T;var O=p.type,N=p.updateQueue;p.updateQueue=null,N!==null&&yt(S,N,O,d,T,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));S=p.memoizedProps,Be(p.stateNode,d!==null?d.memoizedProps:S,S);return;case 3:Ge&&d!==null&&d.memoizedState.isDehydrated&&Md(p.stateNode.containerInfo);return;case 12:return;case 13:Eg(p);return;case 19:Eg(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:bl(3,p,p.return),Fd(3,p),bl(5,p,p.return);return;case 12:return;case 13:Eg(p);return;case 19:Eg(p);return;case 3:Ge&&d!==null&&d.memoizedState.isDehydrated&&Md(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(pe){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,nn(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function Eg(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new cV),p.forEach(function(T){var O=bV.bind(null,d,T);S.has(T)||(S.add(T),T.then(O,O))})}}function dV(d,p){for(Ye=p;Ye!==null;){p=Ye;var S=p.deletions;if(S!==null)for(var T=0;T<S.length;T++){var O=S[T];try{var N=d;Pe?W2(N,O,p):j2(N,O,p);var K=O.alternate;K!==null&&(K.return=null),O.return=null}catch(pt){ri(O,p,pt)}}if(S=p.child,p.subtreeFlags&12854&&S!==null)S.return=p,Ye=S;else for(;Ye!==null;){p=Ye;try{var te=p.flags;if(te&32&&Pe&&Je(p.stateNode),te&512){var ye=p.alternate;if(ye!==null){var Le=ye.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(te&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var ot=p.alternate;(ot===null||ot.memoizedState===null)&&(NS=or())}break;case 22:var At=p.memoizedState!==null,xt=p.alternate,un=xt!==null&&xt.memoizedState!==null;if(S=p,Pe){e:if(T=S,O=At,N=null,Pe)for(var gt=T;;){if(gt.tag===5){if(N===null){N=gt;var Ar=gt.stateNode;O?Ot(Ar):je(gt.stateNode,gt.memoizedProps)}}else if(gt.tag===6){if(N===null){var Ki=gt.stateNode;O?ee(Ki):Ue(Ki,gt.memoizedProps)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===T)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===T)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===T)break e;N===gt&&(N=null),gt=gt.return}N===gt&&(N=null),gt.sibling.return=gt.return,gt=gt.sibling}}if(At&&!un&&S.mode&1){Ye=S;for(var le=S.child;le!==null;){for(S=Ye=le;Ye!==null;){T=Ye;var ie=T.child;switch(T.tag){case 0:case 11:case 14:case 15:bl(4,T,T.return);break;case 1:Mg(T,T.return);var de=T.stateNode;if(typeof de.componentWillUnmount=="function"){var Ze=T.return;try{de.props=T.memoizedProps,de.state=T.memoizedState,de.componentWillUnmount()}catch(pt){ri(T,Ze,pt)}}break;case 5:Mg(T,T.return);break;case 22:if(T.memoizedState!==null){Y2(S);continue}}ie!==null?(ie.return=T,Ye=ie):Y2(S)}le=le.sibling}}}switch(te&4102){case 2:G2(p),p.flags&=-3;break;case 6:G2(p),p.flags&=-3,AS(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,AS(p.alternate,p);break;case 4:AS(p.alternate,p)}}catch(pt){ri(p,p.return,pt)}if(S=p.sibling,S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}}function hV(d,p,S){Ye=d,X2(d)}function X2(d,p,S){for(var T=(d.mode&1)!==0;Ye!==null;){var O=Ye,N=O.child;if(O.tag===22&&T){var K=O.memoizedState!==null||wg;if(!K){var te=O.alternate,ye=te!==null&&te.memoizedState!==null||_l;te=wg;var Le=_l;if(wg=K,(_l=ye)&&!Le)for(Ye=O;Ye!==null;)K=Ye,ye=K.child,K.tag===22&&K.memoizedState!==null?K2(O):ye!==null?(ye.return=K,Ye=ye):K2(O);for(;N!==null;)Ye=N,X2(N),N=N.sibling;Ye=O,wg=te,_l=Le}q2(d)}else O.subtreeFlags&8772&&N!==null?(N.return=O,Ye=N):q2(d)}}function q2(d){for(;Ye!==null;){var p=Ye;if(p.flags&8772){var S=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:_l||Fd(5,p);break;case 1:var T=p.stateNode;if(p.flags&4&&!_l)if(S===null)T.componentDidMount();else{var O=p.elementType===p.type?S.memoizedProps:ya(p.type,S.memoizedProps);T.componentDidUpdate(O,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&$C(p,N,T);break;case 3:var K=p.updateQueue;if(K!==null){if(S=null,p.child!==null)switch(p.child.tag){case 5:S=V(p.child.stateNode);break;case 1:S=p.child.stateNode}$C(p,K,S)}break;case 5:var te=p.stateNode;S===null&&p.flags&4&&ht(te,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ge&&p.memoizedState===null){var ye=p.alternate;if(ye!==null){var Le=ye.memoizedState;if(Le!==null){var ot=Le.dehydrated;ot!==null&&kb(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}_l||p.flags&512&&wS(p)}catch(At){ri(p,p.return,At)}}if(p===d){Ye=null;break}if(S=p.sibling,S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}function Y2(d){for(;Ye!==null;){var p=Ye;if(p===d){Ye=null;break}var S=p.sibling;if(S!==null){S.return=p.return,Ye=S;break}Ye=p.return}}function K2(d){for(;Ye!==null;){var p=Ye;try{switch(p.tag){case 0:case 11:case 15:var S=p.return;try{Fd(4,p)}catch(ye){ri(p,S,ye)}break;case 1:var T=p.stateNode;if(typeof T.componentDidMount=="function"){var O=p.return;try{T.componentDidMount()}catch(ye){ri(p,O,ye)}}var N=p.return;try{wS(p)}catch(ye){ri(p,N,ye)}break;case 5:var K=p.return;try{wS(p)}catch(ye){ri(p,K,ye)}}}catch(ye){ri(p,p.return,ye)}if(p===d){Ye=null;break}var te=p.sibling;if(te!==null){te.return=p.return,Ye=te;break}Ye=p.return}}var Ag=0,Tg=1,Pg=2,Cg=3,Og=4;if(typeof Symbol=="function"&&Symbol.for){var Bd=Symbol.for;Ag=Bd("selector.component"),Tg=Bd("selector.has_pseudo_class"),Pg=Bd("selector.role"),Cg=Bd("selector.test_id"),Og=Bd("selector.text")}function TS(d){var p=ce(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=dt(d),d===null)throw Error(o(362));return d.stateNode.current}function PS(d,p){switch(p.$$typeof){case Ag:if(d.type===p.value)return!0;break;case Tg:e:{p=p.value,d=[d,0];for(var S=0;S<d.length;){var T=d[S++],O=d[S++],N=p[O];if(T.tag!==5||!D(T)){for(;N!=null&&PS(T,N);)O++,N=p[O];if(O===p.length){p=!0;break e}else for(T=T.child;T!==null;)d.push(T,O),T=T.sibling}}p=!1}return p;case Pg:if(d.tag===5&&Q(d.stateNode,p.value))return!0;break;case Og:if((d.tag===5||d.tag===6)&&(d=W(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case Cg:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function CS(d){switch(d.$$typeof){case Ag:return"<"+(P(d.value)||"Unknown")+">";case Tg:return":has("+(CS(d)||"")+")";case Pg:return'[role="'+d.value+'"]';case Og:return'"'+d.value+'"';case Cg:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function Z2(d,p){var S=[];d=[d,0];for(var T=0;T<d.length;){var O=d[T++],N=d[T++],K=p[N];if(O.tag!==5||!D(O)){for(;K!=null&&PS(O,K);)N++,K=p[N];if(N===p.length)S.push(O);else for(O=O.child;O!==null;)d.push(O,N),O=O.sibling}}return S}function OS(d,p){if(!Ve)throw Error(o(363));d=TS(d),d=Z2(d,p),p=[],d=Array.from(d);for(var S=0;S<d.length;){var T=d[S++];if(T.tag===5)D(T)||p.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return p}var pV=Math.ceil,Rg=s.ReactCurrentDispatcher,RS=s.ReactCurrentOwner,kn=s.ReactCurrentBatchConfig,Nt=0,$n=null,Vn=null,mr=0,wi=0,tc=$e(0),Kn=0,zd=null,nc=0,Ig=0,IS=0,jd=null,ti=null,NS=0,LS=1/0;function rc(){LS=or()+500}var Ng=!1,DS=null,ds=null,Lg=!1,hs=null,Dg=0,$d=0,kS=null,kg=-1,Ug=0;function jr(){return Nt&6?or():kg!==-1?kg:kg=or()}function ps(d){return d.mode&1?Nt&2&&mr!==0?mr&-mr:K$.transition!==null?(Ug===0&&(d=qt,qt<<=1,!(qt&4194240)&&(qt=64),Ug=d),Ug):(d=Yt,d!==0?d:xe()):1}function qi(d,p,S){if(50<$d)throw $d=0,kS=null,Error(o(185));var T=Fg(d,p);return T===null?null:(Ed(T,p,S),(!(Nt&2)||T!==$n)&&(T===$n&&(!(Nt&2)&&(Ig|=p),Kn===4&&ms(T,mr)),ni(T,S),p===1&&Nt===0&&!(d.mode&1)&&(rc(),eg&&Ga())),T)}function Fg(d,p){d.lanes|=p;var S=d.alternate;for(S!==null&&(S.lanes|=p),S=d,d=d.return;d!==null;)d.childLanes|=p,S=d.alternate,S!==null&&(S.childLanes|=p),S=d,d=d.return;return S.tag===3?S.stateNode:null}function ni(d,p){var S=d.callbackNode;us(d,p);var T=Mn(d,d===$n?mr:0);if(T===0)S!==null&&UC(S),d.callbackNode=null,d.callbackPriority=0;else if(p=T&-T,d.callbackPriority!==p){if(S!=null&&UC(S),p===1)d.tag===0?Y$(Q2.bind(null,d)):FC(Q2.bind(null,d)),q?ut(function(){Nt===0&&Ga()}):Hb(Gb,Ga),S=null;else{switch(kC(T)){case 1:S=Gb;break;case 4:S=G$;break;case 16:S=Wb;break;case 536870912:S=W$;break;default:S=Wb}S=lO(S,J2.bind(null,d))}d.callbackPriority=p,d.callbackNode=S}}function J2(d,p){if(kg=-1,Ug=0,Nt&6)throw Error(o(327));var S=d.callbackNode;if(Ml()&&d.callbackNode!==S)return null;var T=Mn(d,d===$n?mr:0);if(T===0)return null;if(T&30||T&d.expiredLanes||p)p=Bg(d,T);else{p=T;var O=Nt;Nt|=2;var N=nO();($n!==d||mr!==p)&&(rc(),Sl(d,p));do try{vV();break}catch(te){tO(d,te)}while(!0);Yb(),Rg.current=N,Nt=O,Vn!==null?p=0:($n=null,mr=0,p=Kn)}if(p!==0){if(p===2&&(O=Gu(d),O!==0&&(T=O,p=US(d,O))),p===1)throw S=zd,Sl(d,0),ms(d,T),ni(d,or()),S;if(p===6)ms(d,T);else{if(O=d.current.alternate,!(T&30)&&!mV(O)&&(p=Bg(d,T),p===2&&(N=Gu(d),N!==0&&(T=N,p=US(d,N))),p===1))throw S=zd,Sl(d,0),ms(d,T),ni(d,or()),S;switch(d.finishedWork=O,d.finishedLanes=T,p){case 0:case 1:throw Error(o(345));case 2:wl(d,ti);break;case 3:if(ms(d,T),(T&130023424)===T&&(p=NS+500-or(),10<p)){if(Mn(d,0)!==0)break;if(O=d.suspendedLanes,(O&T)!==T){jr(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=be(wl.bind(null,d,ti),p);break}wl(d,ti);break;case 4:if(ms(d,T),(T&4194240)===T)break;for(p=d.eventTimes,O=-1;0<T;){var K=31-wn(T);N=1<<K,K=p[K],K>O&&(O=K),T&=~N}if(T=O,T=or()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*pV(T/1960))-T,10<T){d.timeoutHandle=be(wl.bind(null,d,ti),T);break}wl(d,ti);break;case 5:wl(d,ti);break;default:throw Error(o(329))}}}return ni(d,or()),d.callbackNode===S?J2.bind(null,d):null}function US(d,p){var S=jd;return d.current.memoizedState.isDehydrated&&(Sl(d,p).flags|=256),d=Bg(d,p),d!==2&&(p=ti,ti=S,p!==null&&FS(p)),d}function FS(d){ti===null?ti=d:ti.push.apply(ti,d)}function mV(d){for(var p=d;;){if(p.flags&16384){var S=p.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var O=S[T],N=O.getSnapshot;O=O.value;try{if(!Ha(N(),O))return!1}catch{return!1}}}if(S=p.child,p.subtreeFlags&16384&&S!==null)S.return=p,p=S;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ms(d,p){for(p&=~IS,p&=~Ig,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var S=31-wn(p),T=1<<S;d[S]=-1,p&=~T}}function Q2(d){if(Nt&6)throw Error(o(327));Ml();var p=Mn(d,0);if(!(p&1))return ni(d,or()),null;var S=Bg(d,p);if(d.tag!==0&&S===2){var T=Gu(d);T!==0&&(p=T,S=US(d,T))}if(S===1)throw S=zd,Sl(d,0),ms(d,p),ni(d,or()),S;if(S===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,wl(d,ti),ni(d,or()),null}function eO(d){hs!==null&&hs.tag===0&&!(Nt&6)&&Ml();var p=Nt;Nt|=1;var S=kn.transition,T=Yt;try{if(kn.transition=null,Yt=1,d)return d()}finally{Yt=T,kn.transition=S,Nt=p,!(Nt&6)&&Ga()}}function BS(){wi=tc.current,Fe(tc)}function Sl(d,p){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==me&&(d.timeoutHandle=me,Ae(S)),Vn!==null)for(S=Vn.return;S!==null;){var T=S;switch(nS(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&$t();break;case 3:Qu(),Fe(Qe),Fe(vt),uS();break;case 5:sS(T);break;case 4:Qu();break;case 13:Fe(En);break;case 19:Fe(En);break;case 10:Kb(T.type._context);break;case 22:case 23:BS()}S=S.return}if($n=d,Vn=d=gs(d.current,null),mr=wi=p,Kn=0,zd=null,IS=Ig=nc=0,ti=jd=null,Wa!==null){for(p=0;p<Wa.length;p++)if(S=Wa[p],T=S.interleaved,T!==null){S.interleaved=null;var O=T.next,N=S.pending;if(N!==null){var K=N.next;N.next=O,T.next=K}S.pending=T}Wa=null}return d}function tO(d,p){do{var S=Vn;try{if(Yb(),fg.current=vg,dg){for(var T=In.memoizedState;T!==null;){var O=T.queue;O!==null&&(O.pending=null),T=T.next}dg=!1}if(ec=0,sr=wr=In=null,Rd=!1,Id=0,RS.current=null,S===null||S.return===null){Kn=1,zd=p,Vn=null;break}e:{var N=d,K=S.return,te=S,ye=p;if(p=mr,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=ye,ot=te,At=ot.tag;if(!(ot.mode&1)&&(At===0||At===11||At===15)){var xt=ot.alternate;xt?(ot.updateQueue=xt.updateQueue,ot.memoizedState=xt.memoizedState,ot.lanes=xt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var un=S2(K);if(un!==null){un.flags&=-257,w2(un,K,te,N,p),un.mode&1&&b2(N,Le,p),p=un,ye=Le;var gt=p.updateQueue;if(gt===null){var Ar=new Set;Ar.add(ye),p.updateQueue=Ar}else gt.add(ye);break e}else{if(!(p&1)){b2(N,Le,p),zS();break e}ye=Error(o(426))}}else if(_n&&te.mode&1){var Ki=S2(K);if(Ki!==null){!(Ki.flags&65536)&&(Ki.flags|=256),w2(Ki,K,te,N,p),aS(ye);break e}}N=ye,Kn!==4&&(Kn=2),jd===null?jd=[N]:jd.push(N),ye=gS(ye,te),te=K;do{switch(te.tag){case 3:te.flags|=65536,p&=-p,te.lanes|=p;var le=x2(te,ye,p);jC(te,le);break e;case 1:N=ye;var ie=te.type,de=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ds===null||!ds.has(de)))){te.flags|=65536,p&=-p,te.lanes|=p;var Ze=_2(te,N,p);jC(te,Ze);break e}}te=te.return}while(te!==null)}iO(S)}catch(pt){p=pt,Vn===S&&S!==null&&(Vn=S=S.return);continue}break}while(!0)}function nO(){var d=Rg.current;return Rg.current=vg,d===null?vg:d}function zS(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),$n===null||!(nc&268435455)&&!(Ig&268435455)||ms($n,mr)}function Bg(d,p){var S=Nt;Nt|=2;var T=nO();$n===d&&mr===p||Sl(d,p);do try{gV();break}catch(O){tO(d,O)}while(!0);if(Yb(),Nt=S,Rg.current=T,Vn!==null)throw Error(o(261));return $n=null,mr=0,Kn}function gV(){for(;Vn!==null;)rO(Vn)}function vV(){for(;Vn!==null&&!V$();)rO(Vn)}function rO(d){var p=sO(d.alternate,d,wi);d.memoizedProps=d.pendingProps,p===null?iO(d):Vn=p,RS.current=null}function iO(d){var p=d;do{var S=p.alternate;if(d=p.return,p.flags&32768){if(S=uV(S,p),S!==null){S.flags&=32767,Vn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Kn=6,Vn=null;return}}else if(S=oV(S,p,wi),S!==null){Vn=S;return}if(p=p.sibling,p!==null){Vn=p;return}Vn=p=d}while(p!==null);Kn===0&&(Kn=5)}function wl(d,p){var S=Yt,T=kn.transition;try{kn.transition=null,Yt=1,yV(d,p,S)}finally{kn.transition=T,Yt=S}return null}function yV(d,p,S){do Ml();while(hs!==null);if(Nt&6)throw Error(o(327));var T=d.finishedWork,O=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var N=T.lanes|T.childLanes;if($$(d,N),d===$n&&(Vn=$n=null,mr=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Lg||(Lg=!0,lO(Wb,function(){return Ml(),null})),N=(T.flags&15990)!==0,T.subtreeFlags&15990||N){N=kn.transition,kn.transition=null;var K=Yt;Yt=1;var te=Nt;Nt|=4,RS.current=null,fV(d,T),dV(d,T),Y(d.containerInfo),d.current=T,hV(T),H$(),Nt=te,Yt=K,kn.transition=N}else d.current=T;if(Lg&&(Lg=!1,hs=d,Dg=O),N=d.pendingLanes,N===0&&(ds=null),X$(T.stateNode),ni(d,or()),p!==null)for(S=d.onRecoverableError,T=0;T<p.length;T++)S(p[T]);if(Ng)throw Ng=!1,d=DS,DS=null,d;return Dg&1&&d.tag!==0&&Ml(),N=d.pendingLanes,N&1?d===kS?$d++:($d=0,kS=d):$d=0,Ga(),null}function Ml(){if(hs!==null){var d=kC(Dg),p=kn.transition,S=Yt;try{if(kn.transition=null,Yt=16>d?16:d,hs===null)var T=!1;else{if(d=hs,hs=null,Dg=0,Nt&6)throw Error(o(331));var O=Nt;for(Nt|=4,Ye=d.current;Ye!==null;){var N=Ye,K=N.child;if(Ye.flags&16){var te=N.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var Le=te[ye];for(Ye=Le;Ye!==null;){var ot=Ye;switch(ot.tag){case 0:case 11:case 15:bl(8,ot,N)}var At=ot.child;if(At!==null)At.return=ot,Ye=At;else for(;Ye!==null;){ot=Ye;var xt=ot.sibling,un=ot.return;if($2(ot),ot===Le){Ye=null;break}if(xt!==null){xt.return=un,Ye=xt;break}Ye=un}}}var gt=N.alternate;if(gt!==null){var Ar=gt.child;if(Ar!==null){gt.child=null;do{var Ki=Ar.sibling;Ar.sibling=null,Ar=Ki}while(Ar!==null)}}Ye=N}}if(N.subtreeFlags&2064&&K!==null)K.return=N,Ye=K;else e:for(;Ye!==null;){if(N=Ye,N.flags&2048)switch(N.tag){case 0:case 11:case 15:bl(9,N,N.return)}var le=N.sibling;if(le!==null){le.return=N.return,Ye=le;break e}Ye=N.return}}var ie=d.current;for(Ye=ie;Ye!==null;){K=Ye;var de=K.child;if(K.subtreeFlags&2064&&de!==null)de.return=K,Ye=de;else e:for(K=ie;Ye!==null;){if(te=Ye,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Fd(9,te)}}catch(pt){ri(te,te.return,pt)}if(te===K){Ye=null;break e}var Ze=te.sibling;if(Ze!==null){Ze.return=te.return,Ye=Ze;break e}Ye=te.return}}if(Nt=O,Ga(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(Qm,d)}catch{}T=!0}return T}finally{Yt=S,kn.transition=p}}return!1}function aO(d,p,S){p=gS(S,p),p=x2(d,p,1),fs(d,p),p=jr(),d=Fg(d,1),d!==null&&(Ed(d,1,p),ni(d,p))}function ri(d,p,S){if(d.tag===3)aO(d,d,S);else for(;p!==null;){if(p.tag===3){aO(p,d,S);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ds===null||!ds.has(T))){d=gS(S,d),d=_2(p,d,1),fs(p,d),d=jr(),p=Fg(p,1),p!==null&&(Ed(p,1,d),ni(p,d));break}}p=p.return}}function xV(d,p,S){var T=d.pingCache;T!==null&&T.delete(p),p=jr(),d.pingedLanes|=d.suspendedLanes&S,$n===d&&(mr&S)===S&&(Kn===4||Kn===3&&(mr&130023424)===mr&&500>or()-NS?Sl(d,0):IS|=S),ni(d,p)}function oO(d,p){p===0&&(d.mode&1?(p=Rn,Rn<<=1,!(Rn&130023424)&&(Rn=4194304)):p=1);var S=jr();d=Fg(d,p),d!==null&&(Ed(d,p,S),ni(d,S))}function _V(d){var p=d.memoizedState,S=0;p!==null&&(S=p.retryLane),oO(d,S)}function bV(d,p){var S=0;switch(d.tag){case 13:var T=d.stateNode,O=d.memoizedState;O!==null&&(S=O.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(p),oO(d,S)}var sO;sO=function(d,p,S){if(d!==null)if(d.memoizedProps!==p.pendingProps||Qe.current)Si=!0;else{if(!(d.lanes&S)&&!(p.flags&128))return Si=!1,lV(d,p,S);Si=!!(d.flags&131072)}else Si=!1,_n&&p.flags&1048576&&XC(p,lg,p.index);switch(p.lanes=0,p.tag){case 2:var T=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var O=sn(p,vt.current);Xu(p,S),O=fS(null,p,T,d,O,S);var N=dS();return p.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Dt(T)?(N=!0,ar(p)):N=!1,p.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Jb(p),O.updater=og,p.stateNode=O,O._reactInternals=p,eS(p,T,d,S),p=xS(null,p,T,!0,N,S)):(p.tag=0,_n&&N&&tS(p),zr(null,p,O,S),p=p.child),p;case 16:T=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,O=T._init,T=O(T._payload),p.type=T,O=p.tag=wV(T),d=ya(T,d),O){case 0:p=yS(null,p,T,d,S);break e;case 1:p=R2(null,p,T,d,S);break e;case 11:p=A2(null,p,T,d,S);break e;case 14:p=T2(null,p,T,ya(T.type,d),S);break e}throw Error(o(306,T,""))}return p;case 0:return T=p.type,O=p.pendingProps,O=p.elementType===T?O:ya(T,O),yS(d,p,T,O,S);case 1:return T=p.type,O=p.pendingProps,O=p.elementType===T?O:ya(T,O),R2(d,p,T,O,S);case 3:e:{if(I2(p),d===null)throw Error(o(387));T=p.pendingProps,N=p.memoizedState,O=N.element,zC(d,p),ag(p,T,null,S);var K=p.memoizedState;if(T=K.element,Ge&&N.isDehydrated)if(N={element:T,isDehydrated:!1,cache:K.cache,transitions:K.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){O=Error(o(423)),p=N2(d,p,T,S,O);break e}else if(T!==O){O=Error(o(424)),p=N2(d,p,T,S,O);break e}else for(Ge&&(bi=Ym(p.stateNode.containerInfo),_i=p,_n=!0,xa=null,Ad=!1),S=QC(p,null,T,S),p.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ku(),T===O){p=Eo(d,p,S);break e}zr(d,p,T,S)}p=p.child}return p;case 5:return e2(p),d===null&&iS(p),T=p.type,O=p.pendingProps,N=d!==null?d.memoizedProps:null,K=O.children,De(T,O)?K=null:N!==null&&De(T,N)&&(p.flags|=32),O2(d,p),zr(d,p,K,S),p.child;case 6:return d===null&&iS(p),null;case 13:return L2(d,p,S);case 4:return oS(p,p.stateNode.containerInfo),T=p.pendingProps,d===null?p.child=Zu(p,null,T,S):zr(d,p,T,S),p.child;case 11:return T=p.type,O=p.pendingProps,O=p.elementType===T?O:ya(T,O),A2(d,p,T,O,S);case 7:return zr(d,p,p.pendingProps,S),p.child;case 8:return zr(d,p,p.pendingProps.children,S),p.child;case 12:return zr(d,p,p.pendingProps.children,S),p.child;case 10:e:{if(T=p.type._context,O=p.pendingProps,N=p.memoizedProps,K=O.value,BC(p,T,K),N!==null)if(Ha(N.value,K)){if(N.children===O.children&&!Qe.current){p=Eo(d,p,S);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var te=N.dependencies;if(te!==null){K=N.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===T){if(N.tag===1){ye=bo(-1,S&-S),ye.tag=2;var Le=N.updateQueue;if(Le!==null){Le=Le.shared;var ot=Le.pending;ot===null?ye.next=ye:(ye.next=ot.next,ot.next=ye),Le.pending=ye}}N.lanes|=S,ye=N.alternate,ye!==null&&(ye.lanes|=S),Zb(N.return,S,p),te.lanes|=S;break}ye=ye.next}}else if(N.tag===10)K=N.type===p.type?null:N.child;else if(N.tag===18){if(K=N.return,K===null)throw Error(o(341));K.lanes|=S,te=K.alternate,te!==null&&(te.lanes|=S),Zb(K,S,p),K=N.sibling}else K=N.child;if(K!==null)K.return=N;else for(K=N;K!==null;){if(K===p){K=null;break}if(N=K.sibling,N!==null){N.return=K.return,K=N;break}K=K.return}N=K}zr(d,p,O.children,S),p=p.child}return p;case 9:return O=p.type,T=p.pendingProps.children,Xu(p,S),O=Vi(O),T=T(O),p.flags|=1,zr(d,p,T,S),p.child;case 14:return T=p.type,O=ya(T,p.pendingProps),O=ya(T.type,O),T2(d,p,T,O,S);case 15:return P2(d,p,p.type,p.pendingProps,S);case 17:return T=p.type,O=p.pendingProps,O=p.elementType===T?O:ya(T,O),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Dt(T)?(d=!0,ar(p)):d=!1,Xu(p,S),GC(p,T,O),eS(p,T,O,S),xS(null,p,T,!0,d,S);case 19:return F2(d,p,S);case 22:return C2(d,p,S)}throw Error(o(156,p.tag))};function lO(d,p){return Hb(d,p)}function SV(d,p,S,T){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(d,p,S,T){return new SV(d,p,S,T)}function jS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function wV(d){if(typeof d=="function")return jS(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===x)return 14}return 2}function gs(d,p){var S=d.alternate;return S===null?(S=Yi(d.tag,p,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=p,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,p=d.dependencies,S.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function zg(d,p,S,T,O,N){var K=2;if(T=d,typeof d=="function")jS(d)&&(K=1);else if(typeof d=="string")K=5;else e:switch(d){case f:return El(S.children,O,N,p);case c:K=8,O|=8;break;case h:return d=Yi(12,S,p,O|2),d.elementType=h,d.lanes=N,d;case y:return d=Yi(13,S,p,O),d.elementType=y,d.lanes=N,d;case v:return d=Yi(19,S,p,O),d.elementType=v,d.lanes=N,d;case M:return jg(S,O,N,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:K=10;break e;case g:K=9;break e;case _:K=11;break e;case x:K=14;break e;case b:K=16,T=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Yi(K,S,p,O),p.elementType=d,p.type=T,p.lanes=N,p}function El(d,p,S,T){return d=Yi(7,d,T,p),d.lanes=S,d}function jg(d,p,S,T){return d=Yi(22,d,T,p),d.elementType=M,d.lanes=S,d.stateNode={},d}function $S(d,p,S){return d=Yi(6,d,null,p),d.lanes=S,d}function VS(d,p,S){return p=Yi(4,d.children!==null?d.children:[],d.key,p),p.lanes=S,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function MV(d,p,S,T,O){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$b(0),this.expirationTimes=$b(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$b(0),this.identifierPrefix=T,this.onRecoverableError=O,Ge&&(this.mutableSourceEagerHydrationData=null)}function uO(d,p,S,T,O,N,K,te,ye){return d=new MV(d,p,S,te,ye),p===1?(p=1,N===!0&&(p|=8)):p=0,N=Yi(3,null,null,p),d.current=N,N.stateNode=d,N.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},Jb(N),d}function cO(d){if(!d)return _t;d=d._reactInternals;e:{if(C(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Dt(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var S=d.type;if(Dt(S))return ft(d,S,p)}return p}function fO(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=k(p),d===null?null:d.stateNode}function dO(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<p?S:p}}function HS(d,p){dO(d,p),(d=d.alternate)&&dO(d,p)}function EV(d){return d=k(d),d===null?null:d.stateNode}function AV(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var p=jr();qi(d,134217728,p),HS(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=jr(),S=ps(d);qi(d,S,p),HS(d,S)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var S=ei(p.pendingLanes);S!==0&&(Vb(p,S|1),ni(p,or()),!(Nt&6)&&(rc(),Ga()))}break;case 13:var T=jr();eO(function(){return qi(d,1,T)}),HS(d,1)}},n.batchedUpdates=function(d,p){var S=Nt;Nt|=1;try{return d(p)}finally{Nt=S,Nt===0&&(rc(),eg&&Ga())}},n.createComponentSelector=function(d){return{$$typeof:Ag,value:d}},n.createContainer=function(d,p,S,T,O,N,K){return uO(d,p,!1,null,S,T,O,N,K)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Tg,value:d}},n.createHydrationContainer=function(d,p,S,T,O,N,K,te,ye){return d=uO(S,T,!0,d,O,N,K,te,ye),d.context=cO(null),S=d.current,T=jr(),O=ps(S),N=bo(T,O),N.callback=p??null,fs(S,N),d.current.lanes=O,Ed(d,O,T),ni(d,T),d},n.createPortal=function(d,p,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:d,containerInfo:p,implementation:S}},n.createRoleSelector=function(d){return{$$typeof:Pg,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Cg,value:d}},n.createTextSelector=function(d){return{$$typeof:Og,value:d}},n.deferredUpdates=function(d){var p=Yt,S=kn.transition;try{return kn.transition=null,Yt=16,d()}finally{Yt=p,kn.transition=S}},n.discreteUpdates=function(d,p,S,T,O){var N=Yt,K=kn.transition;try{return kn.transition=null,Yt=1,d(p,S,T,O)}finally{Yt=N,kn.transition=K,Nt===0&&rc()}},n.findAllNodes=OS,n.findBoundingRects=function(d,p){if(!Ve)throw Error(o(363));p=OS(d,p),d=[];for(var S=0;S<p.length;S++)d.push(Oe(p[S]));for(p=d.length-1;0<p;p--){S=d[p];for(var T=S.x,O=T+S.width,N=S.y,K=N+S.height,te=p-1;0<=te;te--)if(p!==te){var ye=d[te],Le=ye.x,ot=Le+ye.width,At=ye.y,xt=At+ye.height;if(T>=Le&&N>=At&&O<=ot&&K<=xt){d.splice(p,1);break}else if(T!==Le||S.width!==ye.width||xt<N||At>K){if(!(N!==At||S.height!==ye.height||ot<T||Le>O)){Le>T&&(ye.width+=Le-T,ye.x=T),ot<O&&(ye.width=O-Le),d.splice(p,1);break}}else{At>N&&(ye.height+=At-N,ye.y=N),xt<K&&(ye.height=K-At),d.splice(p,1);break}}}return d},n.findHostInstance=fO,n.findHostInstanceWithNoPortals=function(d){return d=R(d),d=d!==null?G(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return fO(d)},n.flushControlled=function(d){var p=Nt;Nt|=1;var S=kn.transition,T=Yt;try{kn.transition=null,Yt=1,d()}finally{Yt=T,kn.transition=S,Nt=p,Nt===0&&(rc(),Ga())}},n.flushPassiveEffects=Ml,n.flushSync=eO,n.focusWithin=function(d,p){if(!Ve)throw Error(o(363));for(d=TS(d),p=Z2(d,p),p=Array.from(p),d=0;d<p.length;){var S=p[d++];if(!D(S)){if(S.tag===5&&he(S.stateNode))return!0;for(S=S.child;S!==null;)p.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Yt},n.getFindAllNodesFailureDescription=function(d,p){if(!Ve)throw Error(o(363));var S=0,T=[];d=[TS(d),0];for(var O=0;O<d.length;){var N=d[O++],K=d[O++],te=p[K];if((N.tag!==5||!D(N))&&(PS(N,te)&&(T.push(CS(te)),K++,K>S&&(S=K)),K<p.length))for(N=N.child;N!==null;)d.push(N,K),N=N.sibling}if(S<p.length){for(d=[];S<p.length;S++)d.push(CS(p[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return V(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:EV,findFiberByHostInstance:d.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{Qm=p.inject(d),Va=p}catch{}d=!!p.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,p,S,T){if(!Ve)throw Error(o(363));d=OS(d,p);var O=Me(d,S,T).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(d,p){var S=p._getVersion;S=S(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,S]:d.mutableSourceEagerHydrationData.push(p,S)},n.runWithPriority=function(d,p){var S=Yt;try{return Yt=d,p()}finally{Yt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,p,S,T){var O=p.current,N=jr(),K=ps(O);return S=cO(S),p.context===null?p.context=S:p.pendingContext=S,p=bo(N,K),p.payload={element:d},T=T===void 0?null:T,T!==null&&(p.callback=T),fs(O,p),d=qi(O,K,N),d!==null&&ig(d,O,K),K},n};h$.exports=Kwe;var Zwe=h$.exports;const Jwe=an(Zwe);var p$={exports:{}},m$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,h=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,V(w);else{var j=n(u);j!==null&&H(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=h;try{for(b(j),c=n(l);c!==null&&(!(c.expirationTime>j)||U&&!R());){var Z=c.callback;if(typeof Z=="function"){c.callback=null,h=c.priorityLevel;var J=Z(c.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?c.callback=J:c===n(l)&&r(l),b(j)}else r(l);c=n(l)}if(c!==null)var fe=!0;else{var we=n(u);we!==null&&H(M,we.startTime-j),fe=!1}return fe}finally{c=null,h=Y,m=!1}}var E=!1,P=null,A=-1,C=5,I=-1;function R(){return!(t.unstable_now()-I<C)}function k(){if(P!==null){var U=t.unstable_now();I=U;var j=!0;try{j=P(!0,U)}finally{j?F():(E=!1,P=null)}}else E=!1}var F;if(typeof x=="function")F=function(){x(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,$=G.port2;G.port1.onmessage=k,F=function(){$.postMessage(null)}}else F=function(){y(k,0)};function V(U){P=U,E||(E=!0,F())}function H(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var Y=h;h=j;try{return U()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=h;h=U;try{return j()}finally{h=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:f++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,H(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,V(w))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var j=h;return function(){var Y=h;h=j;try{return U.apply(this,arguments)}finally{h=Y}}}})(m$);p$.exports=m$;var tk=p$.exports;const LC={},Qwe=t=>void Object.assign(LC,t);function eMe(t,e){function n(f,{args:c=[],attach:h,...m},g){let _=`${f[0].toUpperCase()}${f.slice(1)}`,y;if(f==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;y=Nc(v,{type:f,root:g,attach:h,primitive:!0})}else{const v=LC[_];if(!v)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(c))throw new Error("R3F: The args prop must be an array!");y=Nc(new v(...c),{type:f,root:g,attach:h,memoizedProps:{args:c}})}return y.__r3f.attach===void 0&&(y instanceof Et?y.__r3f.attach="geometry":y instanceof Sr&&(y.__r3f.attach="material")),_!=="inject"&&zw(y,m),y}function r(f,c){let h=!1;if(c){var m,g;(m=c.__r3f)!=null&&m.attach?Bw(f,c,c.__r3f.attach):c.isObject3D&&f.isObject3D&&(f.add(c),h=!0),h||(g=f.__r3f)==null||g.objects.push(c),c.__r3f||Nc(c,{}),c.__r3f.parent=f,DA(c),Lc(c)}}function i(f,c,h){let m=!1;if(c){var g,_;if((g=c.__r3f)!=null&&g.attach)Bw(f,c,c.__r3f.attach);else if(c.isObject3D&&f.isObject3D){c.parent=f,c.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:c});const y=f.children.filter(x=>x!==c),v=y.indexOf(h);f.children=[...y.slice(0,v),c,...y.slice(v)],m=!0}m||(_=f.__r3f)==null||_.objects.push(c),c.__r3f||Nc(c,{}),c.__r3f.parent=f,DA(c),Lc(c)}}function a(f,c,h=!1){f&&[...f].forEach(m=>o(c,m,h))}function o(f,c,h){if(c){var m,g,_;if(c.__r3f&&(c.__r3f.parent=null),(m=f.__r3f)!=null&&m.objects&&(f.__r3f.objects=f.__r3f.objects.filter(M=>M!==c)),(g=c.__r3f)!=null&&g.attach)ok(f,c,c.__r3f.attach);else if(c.isObject3D&&f.isObject3D){var y;f.remove(c),(y=c.__r3f)!=null&&y.root&&sMe(Oy(c),c)}const x=(_=c.__r3f)==null?void 0:_.primitive,b=!x&&(h===void 0?c.dispose!==null:h);if(!x){var v;a((v=c.__r3f)==null?void 0:v.objects,c,b),a(c.children,c,b)}if(delete c.__r3f,b&&c.dispose&&c.type!=="Scene"){const M=()=>{try{c.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?tk.unstable_scheduleCallback(tk.unstable_IdlePriority,M):M()}Lc(f)}}function s(f,c,h,m){var g;const _=(g=f.__r3f)==null?void 0:g.parent;if(!_)return;const y=n(c,h,f.__r3f.root);if(f.children){for(const v of f.children)v.__r3f&&r(y,v);f.children=f.children.filter(v=>!v.__r3f)}f.__r3f.objects.forEach(v=>r(y,v)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(_,f),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(_,y),y.raycast&&y.__r3f.eventCount&&Oy(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>{};return{reconciler:Jwe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,c)=>{if(!c)return;const h=f.getState().scene;h.__r3f&&(h.__r3f.root=f,r(h,c))},removeChildFromContainer:(f,c)=>{c&&o(f.getState().scene,c)},insertInContainerBefore:(f,c,h)=>{if(!c||!h)return;const m=f.getState().scene;m.__r3f&&i(m,c,h)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var c;return!!((c=f==null?void 0:f.__r3f)!=null?c:{}).handlers},prepareUpdate(f,c,h,m){var g;if(((g=f==null?void 0:f.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==f)return[!0];{const{args:y=[],children:v,...x}=m,{args:b=[],children:M,...w}=h;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,A)=>P!==b[A]))return[!0];const E=S$(f,x,w,!0);return E.changes.length?[!1,E]:null}},commitUpdate(f,[c,h],m,g,_,y){c?s(f,m,_,y):zw(f,h)},commitMount(f,c,h,m){var g;const _=(g=f.__r3f)!=null?g:{};f.raycast&&_.handlers&&_.eventCount&&Oy(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Nc(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var c;const{attach:h,parent:m}=(c=f.__r3f)!=null?c:{};h&&m&&ok(m,f,h),f.isObject3D&&(f.visible=!1),Lc(f)},unhideInstance(f,c){var h;const{attach:m,parent:g}=(h=f.__r3f)!=null?h:{};m&&g&&Bw(g,f,m),(f.isObject3D&&c.visible==null||c.visible)&&(f.visible=!0),Lc(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Qc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vn.fun(performance.now)?performance.now:vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:zw}}var nk,rk;const Fw=t=>"colorSpace"in t||"outputColorSpace"in t,g$=()=>{var t;return(t=LC.ColorManagement)!=null?t:null},v$=t=>t&&t.isOrthographicCamera,tMe=t=>t&&t.hasOwnProperty("current"),Gm=typeof window<"u"&&((nk=window.document)!=null&&nk.createElement||((rk=window.navigator)==null?void 0:rk.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function y$(t){const e=z.useRef(t);return Gm(()=>void(e.current=t),[t]),e}function nMe({set:t}){return Gm(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class x$ extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}x$.getDerivedStateFromError=()=>({error:!0});const _$="__default",ik=new Map,rMe=t=>t&&!!t.memoized&&!!t.changes;function b$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const _h=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Oy(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vn={obj:t=>t===Object(t)&&!vn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(vn.str(t)||vn.num(t)||vn.boo(t))return t===e;const a=vn.obj(t);if(a&&r==="reference")return t===e;const o=vn.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!vn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(vn.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function iMe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Nc(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function LA(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,o)=>a[o],t),{target:n,key:i}}else return{target:n,key:e}}const ak=/-\d+$/;function Bw(t,e,n){if(vn.str(n)){if(ak.test(n)){const a=n.replace(ak,""),{target:o,key:s}=LA(t,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=LA(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function ok(t,e,n){var r,i;if(vn.str(n)){const{target:a,key:o}=LA(t,n),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function S$(t,{children:e,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const f=t.__r3f,c=Object.entries(i),h=[];if(u){const g=Object.keys(l);for(let _=0;_<g.length;_++)i.hasOwnProperty(g[_])||c.unshift([g[_],_$+"remove"])}c.forEach(([g,_])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||vn.equ(_,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,_,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),h.push([g,_,!1,v]);for(const x in i){const b=i[x];x.startsWith(`${g}-`)&&h.push([x,b,!1,x.split("-")])}});const m={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(m.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(m.attach=f.memoizedProps.attach),{memoized:m,changes:h}}function zw(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=rMe(e)?e:S$(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<s.length;f++){let[c,h,m,g]=s[f];if(Fw(t)){const x="srgb",b="srgb-linear";c==="encoding"?(c="colorSpace",h=h===3001?x:b):c==="outputEncoding"&&(c="outputColorSpace",h=h===3001?x:b)}let _=t,y=_[c];if(g.length&&(y=g.reduce((v,x)=>v[x],t),!(y&&y.set))){const[v,...x]=g.reverse();_=x.reverse().reduce((b,M)=>b[M],t),c=v}if(h===_$+"remove")if(_.constructor){let v=ik.get(_.constructor);v||(v=new _.constructor,ik.set(_.constructor,v)),h=v[c]}else h=0;if(m&&r)h?r.handlers[c]=h:delete r.handlers[c],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof du)){if(Array.isArray(h))y.fromArray?y.fromArray(h):y.set(...h);else if(y.copy&&h&&h.constructor&&y.constructor===h.constructor)y.copy(h);else if(h!==void 0){const v=y instanceof et;!v&&y.setScalar?y.setScalar(h):y instanceof du&&h instanceof du?y.mask=h.mask:y.set(h),!g$()&&a&&!a.linear&&v&&y.convertSRGBToLinear()}}else if(_[c]=h,_[c]instanceof Cn&&_[c].format===Ur&&_[c].type===Gr&&a){const v=_[c];Fw(v)&&Fw(a.gl)?v.colorSpace=a.gl.outputColorSpace:v.encoding=a.gl.outputEncoding}Lc(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=Oy(t).getState().internal,c=f.interaction.indexOf(t);c>-1&&f.interaction.splice(c,1),r.eventCount&&f.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&DA(t),t}function Lc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function DA(t){t.onUpdate==null||t.onUpdate(t)}function aMe(t,e){t.manual||(v$(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function dy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function oMe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Qc.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qc.ContinuousEventPriority;default:return Qc.DefaultEventPriority}}function w$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sMe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{w$(n.capturedMap,e,r,i)})}function lMe(t){function e(l){const{internal:u}=t.getState(),f=l.offsetX-u.initialClick[0],c=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(f*f+c*c))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(f=>{var c;return(c=u.__r3f)==null?void 0:c.handlers["onPointer"+f]}))}function r(l,u){const f=t.getState(),c=new Set,h=[],m=u?u(f.internal.interaction):f.internal.interaction;for(let v=0;v<m.length;v++){const x=_h(m[v]);x&&(x.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function g(v){const x=_h(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var b;x.events.compute==null||x.events.compute(l,x,(b=x.previousRoot)==null?void 0:b.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let _=m.flatMap(g).sort((v,x)=>{const b=_h(v.object),M=_h(x.object);return!b||!M?v.distance-x.distance:M.events.priority-b.events.priority||v.distance-x.distance}).filter(v=>{const x=dy(v);return c.has(x)?!1:(c.add(x),!0)});f.events.filter&&(_=f.events.filter(_,f));for(const v of _){let x=v.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&h.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let v of f.internal.capturedMap.get(l.pointerId).values())c.has(dy(v.intersection))||h.push(v.intersection);return h}function i(l,u,f,c){const h=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const _=_h(g.object)||h,{raycaster:y,pointer:v,camera:x,internal:b}=_,M=new X(v.x,v.y,0).unproject(x),w=I=>{var R,k;return(R=(k=b.capturedMap.get(I))==null?void 0:k.has(g.eventObject))!=null?R:!1},E=I=>{const R={intersection:g,target:u.target};b.capturedMap.has(I)?b.capturedMap.get(I).set(g.eventObject,R):b.capturedMap.set(I,new Map([[g.eventObject,R]])),u.target.setPointerCapture(I)},P=I=>{const R=b.capturedMap.get(I);R&&w$(b.capturedMap,g.eventObject,R,I)};let A={};for(let I in u){let R=u[I];typeof R!="function"&&(A[I]=R)}let C={...g,...A,pointer:v,intersections:l,stopped:m.stopped,delta:f,unprojectedPoint:M,ray:y.ray,camera:x,stopPropagation(){const I="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!I||I.has(g.eventObject))&&(C.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(R=>R.eventObject===g.eventObject))){const R=l.slice(0,l.indexOf(g));a([...R,g])}},target:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:P},nativeEvent:u};if(c(C),m.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const f of u.hovered.values())if(!l.length||!l.find(c=>c.object===f.object&&c.index===f.index&&c.instanceId===f.instanceId)){const h=f.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(dy(f)),h!=null&&h.eventCount){const g={...f,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let f=0;f<u.length;f++){const c=u[f].__r3f;c==null||c.handlers.onPointerMissed==null||c.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:f}=t.getState();"pointerId"in u&&f.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(u.pointerId)&&(f.capturedMap.delete(u.pointerId),a([]))})}}return function(f){const{onPointerMissed:c,internal:h}=t.getState();h.lastEvent.current=f;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(f,m?n:void 0),v=g?e(f):0;l==="onPointerDown"&&(h.initialClick=[f.offsetX,f.offsetY],h.initialHits=y.map(b=>b.eventObject)),g&&!y.length&&v<=2&&(o(f,h.interaction),c&&c(f)),m&&a(y);function x(b){const M=b.eventObject,w=M.__r3f,E=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=dy(b),A=h.hovered.get(P);A?A.stopped&&b.stopPropagation():(h.hovered.set(P,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const P=E[l];P?(!g||h.initialHits.includes(M))&&(o(f,h.interaction.filter(A=>!h.initialHits.includes(A))),P(b)):g&&h.initialHits.includes(M)&&o(f,h.interaction.filter(A=>!h.initialHits.includes(A)))}}i(y,f,v,x)}}return{handlePointer:s}}const M$=t=>!!(t!=null&&t.render),E$=z.createContext(null),uMe=(t,e)=>{const n=Xwe((s,l)=>{const u=new X,f=new X,c=new X;function h(v=l().camera,x=f,b=l().size){const{width:M,height:w,top:E,left:P}=b,A=M/w;x instanceof X?c.copy(x):c.set(...x);const C=v.getWorldPosition(u).distanceTo(c);if(v$(v))return{width:M/v.zoom,height:w/v.zoom,top:E,left:P,factor:1,distance:C,aspect:A};{const I=v.fov*Math.PI/180,R=2*Math.tan(I/2)*C,k=R*(M/w);return{width:k,height:R,top:E,left:P,factor:M/k,distance:C,aspect:A}}}let m;const g=v=>s(x=>({performance:{...x.performance,current:v}})),_=new Ee;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new r$,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>s(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,b,M,w)=>{const E=l().camera,P={width:v,height:x,top:M||0,left:w||0,updateStyle:b};s(A=>({size:P,viewport:{...A.viewport,...h(E,f,P)}}))},setDpr:v=>s(x=>{const b=b$(v);return{viewport:{...x.viewport,dpr:b,initialDpr:x.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),s(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,b)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:v,priority:x,store:b}),M.subscribers=M.subscribers.sort((w,E)=>w.priority-E.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(E=>E.ref!==v))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:f,set:c}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var h;i=l,a=u.dpr,aMe(s,l),f.setPixelRatio(u.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,m)}s!==o&&(o=s,c(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let hy,cMe=new Set,fMe=new Set,dMe=new Set;function jw(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function bh(t,e){switch(t){case"before":return jw(cMe,e);case"after":return jw(fMe,e);case"tail":return jw(dMe,e)}}let $w,Vw;function Hw(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),$w=e.internal.subscribers,hy=0;hy<$w.length;hy++)Vw=$w[hy],Vw.ref.current(Vw.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function hMe(t){let e=!1,n=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,bh("before",u),n=!0;for(const c of t.values()){var f;a=c.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((f=a.gl.xr)!=null&&f.isPresenting)&&(r+=Hw(u,a))}if(n=!1,bh("after",u),r===0)return bh("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,f=1){var c;if(!u)return t.forEach(h=>s(h.store.getState(),f));(c=u.gl.xr)!=null&&c.isPresenting||!u.internal.active||u.frameloop==="never"||(f>1?u.internal.frames=Math.min(60,u.internal.frames+f):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,f=!0,c,h){if(f&&bh("before",u),c)Hw(u,c,h);else for(const m of t.values())Hw(u,m.store.getState());f&&bh("after",u)}return{loop:o,invalidate:s,advance:l}}function A$(){const t=z.useContext(E$);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ip(t=n=>n,e){return A$()(t,e)}function T$(t,e=0){const n=A$(),r=n.getState().internal.subscribe,i=y$(t);return Gm(()=>r(i,e,n),[e,r,n]),null}const Yf=new Map,{invalidate:sk,advance:lk}=hMe(Yf),{reconciler:qx,applyProps:Oc}=eMe(Yf,oMe),Rc={objects:"shallow",strict:!1},pMe=(t,e)=>{const n=typeof t=="function"?t(e):t;return M$(n)?n:new f$({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function mMe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=n}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function gMe(t){const e=Yf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||uMe(sk,lk),o=n||qx.createContainer(a,Qc.ConcurrentRoot,null,!1,null,"",i,null);e||Yf.set(t,{fiber:o,store:a});let s,l=!1,u;return{configure(f={}){let{gl:c,size:h,scene:m,events:g,onCreated:_,shadows:y=!1,linear:v=!1,flat:x=!1,legacy:b=!1,orthographic:M=!1,frameloop:w="always",dpr:E=[1,2],performance:P,raycaster:A,camera:C,onPointerMissed:I}=f,R=a.getState(),k=R.gl;R.gl||R.set({gl:k=pMe(c,t)});let F=R.raycaster;F||R.set({raycaster:F=new n$});const{params:G,...$}=A||{};if(vn.equ($,F,Rc)||Oc(F,{...$}),vn.equ(G,F.params,Rc)||Oc(F,{params:{...F.params,...G}}),!R.camera||R.camera===u&&!vn.equ(u,C,Rc)){u=C;const Y=C instanceof Hm,Z=Y?C:M?new _d(0,0,0,0,.1,1e3):new dr(75,0,.1,1e3);Y||(Z.position.z=5,C&&(Oc(Z,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(Z.manual=!0,Z.updateProjectionMatrix())),!R.camera&&!(C!=null&&C.rotation)&&Z.lookAt(0,0,0)),R.set({camera:Z}),F.camera=Z}if(!R.scene){let Y;m instanceof Vx?Y=m:(Y=new Vx,m&&Oc(Y,m)),R.set({scene:Nc(Y)})}if(!R.xr){var V;const Y=(fe,we)=>{const De=a.getState();De.frameloop!=="never"&&lk(fe,!0,De,we)},Z=()=>{const fe=a.getState();fe.gl.xr.enabled=fe.gl.xr.isPresenting,fe.gl.xr.setAnimationLoop(fe.gl.xr.isPresenting?Y:null),fe.gl.xr.isPresenting||sk(fe)},J={connect(){const fe=a.getState().gl;fe.xr.addEventListener("sessionstart",Z),fe.xr.addEventListener("sessionend",Z)},disconnect(){const fe=a.getState().gl;fe.xr.removeEventListener("sessionstart",Z),fe.xr.removeEventListener("sessionend",Z)}};typeof((V=k.xr)==null?void 0:V.addEventListener)=="function"&&J.connect(),R.set({xr:J})}if(k.shadowMap){const Y=k.shadowMap.enabled,Z=k.shadowMap.type;if(k.shadowMap.enabled=!!y,vn.boo(y))k.shadowMap.type=Xh;else if(vn.str(y)){var H;const J={basic:b5,percentage:cf,soft:Xh,variance:tu};k.shadowMap.type=(H=J[y])!=null?H:Xh}else vn.obj(y)&&Object.assign(k.shadowMap,y);(Y!==k.shadowMap.enabled||Z!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const U=g$();U&&("enabled"in U?U.enabled=!b:"legacyMode"in U&&(U.legacyMode=b)),l||Oc(k,{outputEncoding:v?3e3:3001,toneMapping:x?ua:eb}),R.legacy!==b&&R.set(()=>({legacy:b})),R.linear!==v&&R.set(()=>({linear:v})),R.flat!==x&&R.set(()=>({flat:x})),c&&!vn.fun(c)&&!M$(c)&&!vn.equ(c,k,Rc)&&Oc(k,c),g&&!R.events.handlers&&R.set({events:g(a)});const j=mMe(t,h);return vn.equ(j,R.size,Rc)||R.setSize(j.width,j.height,j.updateStyle,j.top,j.left),E&&R.viewport.dpr!==b$(E)&&R.setDpr(E),R.frameloop!==w&&R.setFrameloop(w),R.onPointerMissed||R.set({onPointerMissed:I}),P&&!vn.equ(P,R.performance,Rc)&&R.set(Y=>({performance:{...Y.performance,...P}})),s=_,l=!0,this},render(f){return l||this.configure(),qx.updateContainer(L.jsx(vMe,{store:a,children:f,onCreated:s,rootElement:t}),o,null,()=>{}),a},unmount(){P$(t)}}}function vMe({store:t,children:e,onCreated:n,rootElement:r}){return Gm(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.jsx(E$.Provider,{value:t,children:e})}function P$(t,e){const n=Yf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),qx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),iMe(i),Yf.delete(t)}catch{}},500)})}}qx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});const Gw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function yMe(t){const{handlePointer:e}=lMe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Gw).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=Gw[o];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=Gw[a];r.connected.removeEventListener(s,o)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function kA(t,e,n){var r,i,a,o,s;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(s=t.apply(a,i),a=i=null))}var u=function(){a=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(s=t.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}kA.debounce=kA;var xMe=kA;const uk=an(xMe);var _Me=Object.defineProperty,bMe=Object.defineProperties,SMe=Object.getOwnPropertyDescriptors,ck=Object.getOwnPropertySymbols,wMe=Object.prototype.hasOwnProperty,MMe=Object.prototype.propertyIsEnumerable,fk=(t,e,n)=>e in t?_Me(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dk=(t,e)=>{for(var n in e||(e={}))wMe.call(e,n)&&fk(t,n,e[n]);if(ck)for(var n of ck(e))MMe.call(e,n)&&fk(t,n,e[n]);return t},EMe=(t,e)=>bMe(t,SMe(e)),hk,pk;typeof window<"u"&&((hk=window.document)!=null&&hk.createElement||((pk=window.navigator)==null?void 0:pk.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function C$(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=C$(r,e,n);if(i)return i;r=r.sibling}}function O$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const mk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=mk;return}return mk.apply(this,arguments)};const DC=O$(z.createContext(null));class R$ extends z.Component{render(){return z.createElement(DC.Provider,{value:this._reactInternals},this.props.children)}}function AMe(){const t=z.useContext(DC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=C$(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function TMe(){const t=AMe(),[e]=z.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==DC&&!e.has(i)&&e.set(i,z.useContext(O$(i)))}n=n.return}return e}function PMe(){const t=TMe();return z.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>z.createElement(e,null,z.createElement(n.Provider,EMe(dk({},r),{value:t.get(n)}))),e=>z.createElement(R$,dk({},e))),[t])}function CMe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[a,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return a.width=1280,a.height=800,[()=>{},a,()=>{}];const s=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,f=z.useRef(!1);z.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[c,h,m]=z.useMemo(()=>{const v=()=>{if(!s.current.element)return;const{left:x,top:b,width:M,height:w,bottom:E,right:P,x:A,y:C}=s.current.element.getBoundingClientRect(),I={left:x,top:b,width:M,height:w,bottom:E,right:P,x:A,y:C};s.current.element instanceof HTMLElement&&r&&(I.height=s.current.element.offsetHeight,I.width=s.current.element.offsetWidth),Object.freeze(I),f.current&&!NMe(s.current.lastBounds,I)&&o(s.current.lastBounds=I)};return[v,u?uk(v,u):v,l?uk(v,l):v]},[o,r,l,u]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function _(){var v;s.current.element&&(s.current.resizeObserver=new i(h),(v=s.current.resizeObserver)==null||v.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=v=>{!v||v===s.current.element||(g(),s.current.element=v,s.current.scrollContainers=I$(v),_())};return RMe(m,!!e),OMe(h),z.useEffect(()=>{g(),_()},[e,m,h]),z.useEffect(()=>g,[]),[y,a,c]}function OMe(t){z.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function RMe(t,e){z.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function I$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...I$(t.parentElement)]}const IMe=["x","y","top","bottom","left","right","width","height"],NMe=(t,e)=>IMe.every(n=>t[n]===e[n]),LMe=z.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:o=yMe,eventSource:s,eventPrefix:l,shadows:u,linear:f,flat:c,legacy:h,orthographic:m,frameloop:g,dpr:_,performance:y,raycaster:v,camera:x,scene:b,onPointerMissed:M,onCreated:w,...E},P){z.useMemo(()=>Qwe(Hwe),[]);const A=PMe(),[C,I]=CMe({scroll:!0,debounce:{scroll:50,resize:0},...r}),R=z.useRef(null),k=z.useRef(null);z.useImperativeHandle(P,()=>R.current);const F=y$(M),[G,$]=z.useState(!1),[V,H]=z.useState(!1);if(G)throw G;if(V)throw V;const U=z.useRef(null);Gm(()=>{const Y=R.current;I.width>0&&I.height>0&&Y&&(U.current||(U.current=gMe(Y)),U.current.configure({gl:a,events:o,shadows:u,linear:f,flat:c,legacy:h,orthographic:m,frameloop:g,dpr:_,performance:y,raycaster:v,camera:x,scene:b,size:I,onPointerMissed:(...Z)=>F.current==null?void 0:F.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(s?tMe(s)?s.current:s:k.current),l&&Z.setEvents({compute:(J,fe)=>{const we=J[l+"X"],De=J[l+"Y"];fe.pointer.set(we/fe.size.width*2-1,-(De/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),w==null||w(Z)}}),U.current.render(L.jsx(A,{children:L.jsx(x$,{set:H,children:L.jsx(z.Suspense,{fallback:L.jsx(nMe,{set:$}),children:e})})})))}),z.useEffect(()=>{const Y=R.current;if(Y)return()=>P$(Y)},[]);const j=s?"none":"auto";return L.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...E,children:L.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:L.jsx("canvas",{ref:R,style:{display:"block"},children:n})})})}),DMe=z.forwardRef(function(e,n){return L.jsx(R$,{children:L.jsx(LMe,{...e,ref:n})})});function kMe(t,e,n){const r=ip(h=>h.size),i=ip(h=>h.viewport),a=typeof t=="number"?t:r.width*i.dpr,o=r.height*i.dpr,s=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...f}=s,c=z.useMemo(()=>{const h=new gi(a,o,{minFilter:dn,magFilter:dn,type:Ba,...f});return u&&(h.depthTexture=new Cu(a,o,kr)),h.samples=l,h},[]);return z.useLayoutEffect(()=>{c.setSize(a,o),l&&(c.samples=l)},[l,c,a,o]),z.useEffect(()=>()=>c.dispose(),[]),c}const UMe=t=>typeof t=="function",FMe=z.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...a},o)=>{const s=ip(({set:y})=>y),l=ip(({camera:y})=>y),u=ip(({size:y})=>y),f=z.useRef(null);z.useImperativeHandle(o,()=>f.current,[]);const c=z.useRef(null),h=kMe(e);z.useLayoutEffect(()=>{a.manual||(f.current.aspect=u.width/u.height)},[u,a]),z.useLayoutEffect(()=>{f.current.updateProjectionMatrix()});let m=0,g=null;const _=UMe(i);return T$(y=>{_&&(n===1/0||m<n)&&(c.current.visible=!1,y.gl.setRenderTarget(h),g=y.scene.background,t&&(y.scene.background=t),y.gl.render(y.scene,f.current),y.scene.background=g,y.gl.setRenderTarget(null),c.current.visible=!0,m++)}),z.useLayoutEffect(()=>{if(r){const y=l;return s(()=>({camera:f.current})),()=>s(()=>({camera:y}))}},[f,r,s]),z.createElement(z.Fragment,null,z.createElement("perspectiveCamera",GE({ref:f},a),!_&&i),z.createElement("group",{ref:c},_&&i(h.texture)))}),BMe=Math.PI/180;function zMe(t){return t*BMe}function jMe(t,e){var h;const n=ra.physical,{vertexShader:r,fragmentShader:i,uniforms:a}=n,o=n.defines??{},s=yC.clone(a),l=new t(e.material||{});l.color&&(s.diffuse.value=l.color),"roughness"in l&&(s.roughness.value=l.roughness),"metalness"in l&&(s.metalness.value=l.metalness),"envMap"in l&&(s.envMap.value=l.envMap),"envMapIntensity"in l&&(s.envMapIntensity.value=l.envMapIntensity),Object.entries(e.uniforms??{}).forEach(([m,g])=>{s[m]=g!==null&&typeof g=="object"&&"value"in g?g:{value:g}});let u=`${e.header}
${e.vertexHeader??""}
${r}`,f=`${e.header}
${e.fragmentHeader??""}
${i}`;for(const[m,g]of Object.entries(e.vertex??{}))u=u.replace(m,`${m}
${g}`);for(const[m,g]of Object.entries(e.fragment??{}))f=f.replace(m,`${m}
${g}`);return new Fi({defines:{...o},uniforms:s,vertexShader:u,fragmentShader:f,lights:!0,fog:!!((h=e.material)!=null&&h.fog)})}const $Me=({children:t})=>L.jsx(DMe,{dpr:[1,2],frameloop:"always",className:"w-full h-full relative",children:t}),VMe=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return[n/255,r/255,i/255]},HMe=`
float random (in vec2 st) {
    return fract(sin(dot(st.xy,
                         vec2(12.9898,78.233)))*
        43758.5453123);
}
float noise (in vec2 st) {
    vec2 i = floor(st);
    vec2 f = fract(st);
    float a = random(i);
    float b = random(i + vec2(1.0, 0.0));
    float c = random(i + vec2(0.0, 1.0));
    float d = random(i + vec2(1.0, 1.0));
    vec2 u = f * f * (3.0 - 2.0 * f);
    return mix(a, b, u.x) +
           (c - a)* u.y * (1.0 - u.x) +
           (d - b) * u.x * u.y;
}
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}
float cnoise(vec3 P){
  vec3 Pi0 = floor(P);
  vec3 Pi1 = Pi0 + vec3(1.0);
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);
  vec3 Pf1 = Pf0 - vec3(1.0);
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;
  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);
  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
  vec4 norm0 = taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));
  g000 *= norm0.x; g010 *= norm0.y; g100 *= norm0.z; g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));
  g001 *= norm1.x; g011 *= norm1.y; g101 *= norm1.z; g111 *= norm1.w;
  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x,Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x,Pf1.y,Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy,Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy,Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x,Pf0.y,Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x,Pf1.yz));
  float n111 = dot(g111, Pf1);
  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);
  vec2 n_yz = mix(n_z.xy,n_z.zw,fade_xyz.y);
  float n_xyz = mix(n_yz.x,n_yz.y,fade_xyz.x);
  return 2.2 * n_xyz;
}
`,GMe=({beamWidth:t=2,beamHeight:e=15,beamNumber:n=12,lightColor:r="#ffffff",speed:i=2,noiseIntensity:a=1.75,scale:o=.2,rotation:s=0})=>{const l=z.useRef(null),u=z.useMemo(()=>jMe(Ib,{header:`
  varying vec3 vEye;
  varying float vNoise;
  varying vec2 vUv;
  varying vec3 vPosition;
  uniform float time;
  uniform float uSpeed;
  uniform float uNoiseIntensity;
  uniform float uScale;
  ${HMe}`,vertexHeader:`
  float getPos(vec3 pos) {
    vec3 noisePos =
      vec3(pos.x * 0., pos.y - uv.y, pos.z + time * uSpeed * 3.) * uScale;
    return cnoise(noisePos);
  }
  vec3 getCurrentPos(vec3 pos) {
    vec3 newpos = pos;
    newpos.z += getPos(pos);
    return newpos;
  }
  vec3 getNormal(vec3 pos) {
    vec3 curpos = getCurrentPos(pos);
    vec3 nextposX = getCurrentPos(pos + vec3(0.01, 0.0, 0.0));
    vec3 nextposZ = getCurrentPos(pos + vec3(0.0, -0.01, 0.0));
    vec3 tangentX = normalize(nextposX - curpos);
    vec3 tangentZ = normalize(nextposZ - curpos);
    return normalize(cross(tangentZ, tangentX));
  }`,fragmentHeader:"",vertex:{"#include <begin_vertex>":"transformed.z += getPos(transformed.xyz);","#include <beginnormal_vertex>":"objectNormal = getNormal(position.xyz);"},fragment:{"#include <dithering_fragment>":`
    float randomNoise = noise(gl_FragCoord.xy);
    gl_FragColor.rgb -= randomNoise / 15. * uNoiseIntensity;`},material:{fog:!0},uniforms:{diffuse:new et(...VMe("#000000")),time:{shared:!0,mixed:!0,linked:!0,value:0},roughness:.3,metalness:.3,uSpeed:{shared:!0,mixed:!0,linked:!0,value:i},envMapIntensity:10,uNoiseIntensity:a,uScale:o}}),[i,a,o]);return L.jsxs($Me,{children:[L.jsxs("group",{rotation:[0,0,zMe(s)],children:[L.jsx(L$,{ref:l,material:u,count:n,width:t,height:e}),L.jsx(XMe,{color:r,position:[0,3,10]})]}),L.jsx("ambientLight",{intensity:1}),L.jsx("color",{attach:"background",args:["#000000"]}),L.jsx(FMe,{makeDefault:!0,position:[0,0,20],fov:30})]})};function WMe(t,e,n,r,i){const a=new Et,o=t*(i+1)*2,s=t*i*2,l=new Float32Array(o*3),u=new Uint32Array(s*3),f=new Float32Array(o*2);let c=0,h=0,m=0;const _=-(t*e+(t-1)*r)/2;for(let y=0;y<t;y++){const v=_+y*(e+r),x=Math.random()*300,b=Math.random()*300;for(let M=0;M<=i;M++){const w=n*(M/i-.5),E=[v,w,0],P=[v+e,w,0];l.set([...E,...P],c*3);const A=M/i;if(f.set([x,A+b,x+1,A+b],m),M<i){const C=c,I=c+1,R=c+2,k=c+3;u.set([C,I,R,R,I,k],h),h+=6}c+=2,m+=4}}return a.setAttribute("position",new Qt(l,3)),a.setAttribute("uv",new Qt(f,2)),a.setIndex(new Qt(u,1)),a.computeVertexNormals(),a}const N$=z.forwardRef(({material:t,width:e,count:n,height:r},i)=>{const a=z.useRef(null);z.useImperativeHandle(i,()=>a.current);const o=z.useMemo(()=>WMe(n,e,r,0,100),[n,e,r]);return T$((s,l)=>{a.current.material.uniforms.time.value+=.1*l}),L.jsx("mesh",{ref:a,geometry:o,material:t})});N$.displayName="MergedPlanes";const L$=z.forwardRef((t,e)=>L.jsx(N$,{ref:e,material:t.material,width:t.width,count:t.count,height:t.height}));L$.displayName="PlaneNoise";const XMe=({position:t,color:e})=>{const n=z.useRef(null);return z.useEffect(()=>{if(!n.current)return;const r=n.current.shadow.camera;r.top=24,r.bottom=-24,r.left=-24,r.right=24,r.far=64,n.current.shadow.bias=-.004},[]),L.jsx("directionalLight",{ref:n,color:e,intensity:1,position:t})},py="polycopy.session.cache.v1";function gk(t,e){return t instanceof Error&&t.message?t.message:typeof t=="string"&&t?t:e}function D$(){const[t,e]=z.useState(()=>{if(typeof window>"u")return null;try{const h=window.localStorage.getItem(py);if(!h)return null;const m=JSON.parse(h);return m&&typeof m=="object"?m:null}catch{return null}}),[n,r]=z.useState(()=>typeof window>"u"?!0:!t),[i,a]=z.useState(!1),[o,s]=z.useState(null),l="https://polycopy.onrender.com",u=z.useCallback(async()=>{r(!0),s(null);try{const h=await fetch(`${l}/session`,{credentials:"include"});if(!h.ok){const _=await h.text();throw new Error(_||`Session request failed (${h.status})`)}const m=await h.json(),g=(m==null?void 0:m.user)??null;e(g),typeof window<"u"&&(g?window.localStorage.setItem(py,JSON.stringify(g)):window.localStorage.removeItem(py))}catch(h){e(null),typeof window<"u"&&window.localStorage.removeItem(py),s(gk(h,"Unable to determine session state right now."))}finally{r(!1)}},[l]),f=z.useCallback(()=>{const h=`${l}/auth/google?redirect=%2F`;window.location.href=h},[l]),c=z.useCallback(async()=>{a(!0),s(null);try{const h=await fetch(`${l}/logout`,{method:"POST",credentials:"include"});if(!h.ok){const m=await h.text();throw new Error(m||`Logout failed (${h.status})`)}}catch(h){s(gk(h,"We could not log you out. Please try again."))}finally{await u(),a(!1)}},[u]);return z.useEffect(()=>{u()},[u]),z.useMemo(()=>({user:t,isLoading:n,isActionPending:i,error:o,refresh:u,login:f,logout:c}),[t,n,i,o,u,f,c])}function qMe(t,e={}){const n=e.minimumLength??2,r=e.debounceMs??220,i=e.limit??8,[a,o]=z.useState([]),[s,l]=z.useState(!1),[u,f]=z.useState(null),c=z.useRef(null),h=z.useRef(new Map);return z.useEffect(()=>{const m=t.trim();if(m.length<n){c.current!==null&&(clearTimeout(c.current),c.current=null),o([]),f(null),l(!1);return}l(!0),c.current!==null&&clearTimeout(c.current);const g=new AbortController;let _=!0;return c.current=window.setTimeout(()=>{const y=`${m.toLowerCase()}::${i}`;if(h.current.has(y)){o(h.current.get(y)||[]),f(null),l(!1);return}const v=new URLSearchParams({query:m,limit:String(i)});fetch(`https://polycopy.onrender.com/trader-search?${v.toString()}`,{signal:g.signal,credentials:"include"}).then(b=>b.ok?b.json():b.text().then(M=>{throw new Error(M||`Search failed (${b.status})`)})).then(b=>{if(!_)return;const M=Array.isArray(b==null?void 0:b.traders)?b.traders:[];h.current.set(y,M),o(M),f((b==null?void 0:b.error)??null)}).catch(b=>{if(!_||(b==null?void 0:b.name)==="AbortError")return;const M=b instanceof Error?b.message:"Unable to fetch trader suggestions right now.";o([]),f(M)}).finally(()=>{_&&l(!1)})},r),()=>{_=!1,g.abort(),c.current!==null&&(clearTimeout(c.current),c.current=null)}},[t,n,r,i]),z.useMemo(()=>({suggestions:a,isLoading:s,error:u}),[a,s,u])}const k$="polycopy.wallet.autoconnect";function vk(t){if(typeof window>"u")return t;const e=window.localStorage.getItem(k$);return e===null?t:e==="true"}function YMe(t){typeof window>"u"||window.localStorage.setItem(k$,t?"true":"false")}function KMe(){if(!(typeof window>"u"))return window.ethereum}function ZMe(t){return t?t.trim().toLowerCase():null}function U$(t={}){const{autoConnect:e=!0,preferredAccounts:n}=t,r=z.useRef(null),[i,a]=z.useState(null),[o,s]=z.useState(null),[l,u]=z.useState(!1),[f,c]=z.useState(null),[h,m]=z.useState(()=>vk(e)),g=z.useRef(h),_=z.useCallback(E=>{g.current=E,m(E),YMe(E)},[]);z.useEffect(()=>{const E=vk(e);_(E)},[e,_]);const y=KMe();r.current=y??null;const v=z.useCallback(E=>{if(!g.current){a(null),s(null);return}const[P]=Array.isArray(E)?E:[],A=ZMe(P);a(A),A||s(null)},[a]),x=z.useCallback(E=>{if(!g.current){s(null);return}s(typeof E=="string"?E:null)},[s]),b=z.useCallback(async()=>{const E=r.current;if(!E){c("No EIP-1193 wallet was detected. Install MetaMask or a compatible wallet extension.");return}u(!0),c(null);const P=g.current,A=i,C=o;try{let I=[];if(g.current=!0,Array.isArray(n)&&n.length>0)I=n;else{if(typeof E.request=="function")try{await E.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]})}catch(F){if((F==null?void 0:F.code)!==-32601)throw F}I=await E.request({method:"eth_requestAccounts"})}v(I);const R=await E.request({method:"eth_chainId"});x(R),_(!0)}catch(I){if((I==null?void 0:I.code)===4001)c("Wallet connection was rejected.");else{const R=I instanceof Error?I.message:"Unable to connect to the wallet right now.";c(R)}_(P),a(A??null),s(C??null)}finally{u(!1)}},[i,o,v,x,n,_]),M=z.useCallback(()=>{_(!1),a(null),s(null),c(null);const E=r.current;E&&typeof E.request=="function"&&E.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}).catch(()=>{})},[_]),w=z.useCallback(()=>{c(null)},[]);return z.useEffect(()=>{const E=r.current;if(!E){a(null),s(null);return}let P=!0,A=!1;const C=()=>{P&&(a(null),s(null))},I=()=>{C(),_(!1)};return h?(typeof E.on=="function"&&(E.on("accountsChanged",v),E.on("chainChanged",x),E.on("disconnect",I),A=!0),(async()=>{try{const[R,k]=await Promise.all([E.request({method:"eth_accounts"}),E.request({method:"eth_chainId"}).catch(()=>null)]);if(!P)return;v(R),k&&x(k)}catch(R){if(!P)return;const k=R instanceof Error?R.message:"Failed to read wallet state.";c(k)}})()):C(),()=>{P=!1,A&&(typeof E.removeListener=="function"?(E.removeListener("accountsChanged",v),E.removeListener("chainChanged",x),E.removeListener("disconnect",I)):typeof E.removeAllListeners=="function"&&(E.removeAllListeners("accountsChanged"),E.removeAllListeners("chainChanged"),E.removeAllListeners("disconnect")))}},[v,x,h,_]),z.useMemo(()=>({address:i,chainId:o,isConnecting:l,isConnected:!!i,providerAvailable:!!r.current,error:f,connect:b,disconnect:M,resetError:w}),[i,o,b,M,f,l,w])}const JMe=`
  attribute vec2 a_position;
  varying vec2 v_uv;
  void main() {
    v_uv = a_position * 0.5 + 0.5;
    gl_Position = vec4(a_position, 0, 1);
  }
`,QMe=`
  precision mediump float;
  varying vec2 v_uv;
  uniform sampler2D u_image;
  uniform float u_time;
  void main() {
    vec2 uv = v_uv;
    float metallic = 0.5 + 0.5 * sin(u_time + uv.x * 10.0 + uv.y * 10.0);
    vec4 color = texture2D(u_image, uv);
    float fresnel = pow(1.0 - dot(uv - 0.5, uv - 0.5) * 4.0, 2.0);
    color.rgb += metallic * 0.4 + fresnel * 0.3;
    gl_FragColor = color;
  }
`;function yk(t,e,n){const r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"Shader compile error");return r}function eEe(t,e,n){const r=yk(t,t.VERTEX_SHADER,e),i=yk(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(a)||"Program link error");return a}function F$({src:t="/polycopy-logo3.png",size:e=64,animated:n=!1}){const[r,i]=ne.useState(!1),a=z.useRef(null),o=z.useRef(),s=z.useRef(!0),l=n&&!r;return z.useEffect(()=>{if(!n)return;const u=a.current;if(!u){i(!0);return}const f=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;s.current=!f;const c=window.devicePixelRatio||1;u.width=e*c,u.height=e*c,u.style.width=`${e}px`,u.style.height=`${e}px`;let h=null;typeof window<"u"&&"IntersectionObserver"in window&&(h=new IntersectionObserver(x=>{const b=x[0];s.current=!!(b!=null&&b.isIntersecting)&&!f},{threshold:.01}),h.observe(u));let m=null;try{m=u.getContext("webgl")}catch{m=null}if(!m){i(!0),h==null||h.disconnect();return}let g;try{g=eEe(m,JMe,QMe),m.useProgram(g)}catch{i(!0),h==null||h.disconnect();return}const _=m.createBuffer();m.bindBuffer(m.ARRAY_BUFFER,_),m.bufferData(m.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),m.STATIC_DRAW);const y=m.getAttribLocation(g,"a_position");m.enableVertexAttribArray(y),m.vertexAttribPointer(y,2,m.FLOAT,!1,0,0);const v=new window.Image;return v.crossOrigin="anonymous",v.src=t,v.onerror=()=>{i(!0)},v.onload=()=>{const x=m.createTexture();m.bindTexture(m.TEXTURE_2D,x),m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,v),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),m.uniform1i(m.getUniformLocation(g,"u_image"),0);function b(M){if(!s.current){o.current=requestAnimationFrame(b);return}m.viewport(0,0,u.width,u.height),m.clear(m.COLOR_BUFFER_BIT);const w=Math.sin(M*.001)*.5+.5;m.uniform1f(m.getUniformLocation(g,"u_time"),w*M*.001),m.drawArrays(m.TRIANGLE_STRIP,0,4),o.current=requestAnimationFrame(b)}o.current=requestAnimationFrame(b)},()=>{o.current&&cancelAnimationFrame(o.current),h==null||h.disconnect()}},[n,t,e]),l?L.jsx("canvas",{ref:a,width:e,height:e,style:{width:e,height:e,display:"block",background:"transparent",borderRadius:"50%"}}):L.jsx("img",{src:t,alt:"logo",loading:"lazy",referrerPolicy:"no-referrer",className:"rounded-full object-cover",style:{width:e,height:e,display:"block"}})}const Sh="https://polycopy.onrender.com",tEe=1e3*60*3;function xk(t){return`trader_overview_${t.toLowerCase()}`}function wh(t){return t===null||!Number.isFinite(t)?"":t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})}function nEe(){var b,M;const{address:t}=I6(),n=((b=td().state)==null?void 0:b.leaderboardEntry)||null,[r,i]=z.useState([]),[a,o]=z.useState(null),[s,l]=z.useState(null),[u,f]=z.useState(null),[c,h]=z.useState(n),[m,g]=z.useState(!0),[_,y]=z.useState(null);z.useEffect(()=>{h(n)},[n,t]),z.useEffect(()=>{if(!t)return;let w=!1;const E=new AbortController,P=t.toLowerCase(),A=I=>{var G,$,V,H,U,j;const R=Array.isArray(I==null?void 0:I.trades)?I.trades:[],k=typeof((G=I==null?void 0:I.pnl)==null?void 0:G.pnl)=="number"?I.pnl.pnl:typeof(c==null?void 0:c.pnl)=="number"?c.pnl:null,F=typeof(($=I==null?void 0:I.portfolio)==null?void 0:$.portfolioValue)=="number"?I.portfolio.portfolioValue:null;i(R),o({pnl:k,calculation:typeof((V=I==null?void 0:I.pnl)==null?void 0:V.calculation)=="string"?I.pnl.calculation:void 0,tradeCount:typeof((H=I==null?void 0:I.pnl)==null?void 0:H.tradeCount)=="number"?I.pnl.tradeCount:typeof(c==null?void 0:c.trades)=="number"?c.trades:void 0}),l({portfolioValue:F}),f({openOrders:Array.isArray((U=I==null?void 0:I.openOrders)==null?void 0:U.openOrders)?I.openOrders.openOrders:[],note:typeof((j=I==null?void 0:I.openOrders)==null?void 0:j.note)=="string"?I.openOrders.note:void 0})};let C=!1;if(typeof window<"u")try{const I=window.sessionStorage.getItem(xk(P));if(I){const R=JSON.parse(I),k=Number((R==null?void 0:R.savedAt)||0);k>0&&Date.now()-k<=tEe&&(R!=null&&R.payload)&&(A(R.payload),C=!0)}}catch{}return g(!C),y(null),fetch(`${Sh}/users/${t}/overview`,{signal:E.signal,credentials:"include"}).then(async I=>{if(I.ok){const j=await I.json();if(w)return;if(A(j),typeof window<"u")try{window.sessionStorage.setItem(xk(P),JSON.stringify({savedAt:Date.now(),payload:j}))}catch{}return}const[R,k,F,G]=await Promise.all([fetch(`${Sh}/users/${t}/trades`,{signal:E.signal,credentials:"include"}),fetch(`${Sh}/users/${t}/pnl`,{signal:E.signal,credentials:"include"}),fetch(`${Sh}/users/${t}/portfolio`,{signal:E.signal,credentials:"include"}),fetch(`${Sh}/users/${t}/open-orders`,{signal:E.signal,credentials:"include"})]);if(!R.ok)throw new Error(`Failed to load trades (${R.status})`);if(!k.ok)throw new Error(`Failed to load pnl (${k.status})`);if(!F.ok)throw new Error(`Failed to load portfolio (${F.status})`);if(!G.ok)throw new Error(`Failed to load open orders (${G.status})`);const[$,V,H,U]=await Promise.all([R.json(),k.json(),F.json(),G.json()]);w||(i(Array.isArray($==null?void 0:$.trades)?$.trades:[]),o({pnl:typeof(V==null?void 0:V.pnl)=="number"?V.pnl:typeof(c==null?void 0:c.pnl)=="number"?c.pnl:null,calculation:typeof(V==null?void 0:V.calculation)=="string"?V.calculation:void 0,tradeCount:typeof(V==null?void 0:V.tradeCount)=="number"?V.tradeCount:typeof(c==null?void 0:c.trades)=="number"?c.trades:void 0}),l({portfolioValue:typeof(H==null?void 0:H.portfolioValue)=="number"?H.portfolioValue:null}),f({openOrders:Array.isArray(U==null?void 0:U.openOrders)?U.openOrders:[],note:typeof(U==null?void 0:U.note)=="string"?U.note:void 0}))}).catch(I=>{w||y(I instanceof Error?I.message:"Failed to load trader profile")}).finally(()=>{w||g(!1)}),()=>{w=!0,E.abort()}},[t,c==null?void 0:c.pnl,c==null?void 0:c.trades]);const v=z.useMemo(()=>r.map((w,E)=>{var P,A;return{id:w.id||w.transaction_hash||w.txid||`${w.created_at||w.createdAt||w.timestamp||"t"}-${E}`,date:w.created_at||w.createdAt||w.timestamp||null,market:(typeof w.market=="string"?w.market:((P=w.market)==null?void 0:P.question)||((A=w.market)==null?void 0:A.title))||w.marketId||w.market_id||"Unknown market",side:(w.side||w.type||"").toUpperCase()||"",size:Number(w.amount||w.size||w.shares||0),price:Number(w.price||0)}}),[r]),x=z.useMemo(()=>{if(!r.length)return{totalNotional:0,buyCount:0,sellCount:0,marketCount:0,avgTradeSize:0,lastTradeAt:null};let w=0,E=0,P=0,A=0;const C=new Set;let I=0;return r.forEach(R=>{var H,U;const k=Number(R.amount||R.size||R.shares||0),F=Number(R.price||0);Number.isFinite(k)&&Number.isFinite(F)&&(w+=Math.abs(k*F)),Number.isFinite(k)&&(E+=Math.abs(k));const G=String(R.side||R.type||"").toLowerCase();G==="buy"&&(P+=1),G==="sell"&&(A+=1);const $=(typeof R.market=="string"?R.market:((H=R.market)==null?void 0:H.question)||((U=R.market)==null?void 0:U.title))||R.marketId||R.market_id||"Unknown market";C.add(String($));const V=new Date(R.created_at||R.createdAt||R.timestamp||0).getTime();Number.isFinite(V)&&(I=Math.max(I,V))}),{totalNotional:w,buyCount:P,sellCount:A,marketCount:C.size,avgTradeSize:r.length>0?E/r.length:0,lastTradeAt:I>0?new Date(I).toLocaleString():null}},[r]);return L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-slate-100",children:L.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-6",children:[L.jsx(li,{className:"overflow-hidden rounded-2xl",children:L.jsx(VF,{})}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(F$,{size:32}),L.jsx("h1",{className:"text-2xl font-semibold",children:"Trader Profile"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(Ks,{to:"/",className:"rounded-full border border-slate-700 px-4 py-2 text-sm hover:border-slate-500",children:"Dashboard"}),L.jsx(Ks,{to:"/leaderboard",className:"rounded-full border border-slate-700 px-4 py-2 text-sm hover:border-slate-500",children:"Leaderboard"})]})]}),L.jsxs(li,{className:"rounded-2xl p-4 text-sm text-slate-300",children:["Address: ",L.jsx("span",{className:"font-mono break-all text-slate-100",children:t})]}),c&&L.jsx(li,{className:"rounded-2xl p-4",children:L.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-300",children:[L.jsx("span",{className:"font-semibold text-slate-100",children:c.displayName||"Trader"}),typeof c.rank=="number"&&L.jsxs("span",{children:["Rank #",c.rank]}),typeof c.roi=="number"&&L.jsxs("span",{children:["ROI ",c.roi.toFixed(1),"%"]}),typeof c.pnl=="number"&&L.jsxs("span",{children:["P&L ",wh(c.pnl)]}),typeof c.volume=="number"&&L.jsxs("span",{children:["Volume ",wh(c.volume)]})]})}),m&&L.jsx(li,{className:"rounded-2xl p-4",children:"Loading"}),_&&L.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 p-4 text-rose-200",children:_}),!m&&!_&&L.jsxs(L.Fragment,{children:[L.jsxs("section",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"PnL"}),L.jsx("p",{className:`mt-2 text-xl font-semibold ${((a==null?void 0:a.pnl)??0)>=0?"text-emerald-300":"text-rose-300"}`,children:wh((a==null?void 0:a.pnl)??null)}),(a==null?void 0:a.calculation)&&L.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Method: ",a.calculation]})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Portfolio Value"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:wh((s==null?void 0:s.portfolioValue)??null)})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Trades Loaded"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:(a==null?void 0:a.tradeCount)??r.length})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Total Notional"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:wh(x.totalNotional)})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Markets Traded"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:x.marketCount}),L.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Buys ",x.buyCount,"  Sells ",x.sellCount]})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Avg Trade Size"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:Number.isFinite(x.avgTradeSize)?x.avgTradeSize.toFixed(2):""}),L.jsx("p",{className:"mt-1 text-xs text-slate-500",children:x.lastTradeAt?`Last trade: ${x.lastTradeAt}`:"No recency data"})]})]}),L.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("h2",{className:"text-lg font-semibold",children:"Open Positions (Derived)"}),(u==null?void 0:u.note)&&L.jsx("p",{className:"text-xs text-slate-500",children:u.note}),(M=u==null?void 0:u.openOrders)!=null&&M.length?L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-left text-slate-400",children:[L.jsx("th",{className:"px-3 py-2",children:"Market"}),L.jsx("th",{className:"px-3 py-2",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Avg Price"}),L.jsx("th",{className:"px-3 py-2",children:"Status"})]})}),L.jsx("tbody",{children:u.openOrders.map((w,E)=>L.jsxs("tr",{className:"border-t border-slate-800/60",children:[L.jsx("td",{className:"px-3 py-2",children:w.market||"Unknown"}),L.jsx("td",{className:"px-3 py-2 uppercase",children:w.side||""}),L.jsx("td",{className:"px-3 py-2 text-right",children:typeof w.size=="number"?w.size.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2 text-right",children:typeof w.price=="number"?w.price.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2",children:w.status||""})]},`${w.market||"market"}-${E}`))})]})}):L.jsx("p",{className:"text-sm text-slate-400",children:"No open positions found."})]}),L.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("h2",{className:"text-lg font-semibold",children:"Trade History"}),v.length?L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-left text-slate-400",children:[L.jsx("th",{className:"px-3 py-2",children:"Date"}),L.jsx("th",{className:"px-3 py-2",children:"Market"}),L.jsx("th",{className:"px-3 py-2",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"})]})}),L.jsx("tbody",{children:v.map(w=>L.jsxs("tr",{className:"border-t border-slate-800/60",children:[L.jsx("td",{className:"px-3 py-2",children:w.date?new Date(w.date).toLocaleString():""}),L.jsx("td",{className:"px-3 py-2",children:w.market}),L.jsx("td",{className:"px-3 py-2",children:w.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(w.size)?w.size.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(w.price)?w.price.toFixed(4):""})]},w.id))})]})}):L.jsx("p",{className:"text-sm text-slate-400",children:"No trades found."})]})]})]})})}function rEe(){return L.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:24,padding:32},children:[L.jsx("h2",{style:{color:"#fff",fontWeight:700,fontSize:24},children:"Metallic Logo Preview"}),L.jsx(F$,{size:128}),L.jsxs("p",{style:{color:"#aaa",marginTop:16},children:["This is your logo with the metallic paint effect. Edit ",L.jsx("b",{children:"public/polycopy-logo.png"})," to update the image."]})]})}function iEe(){return L.jsx(rEe,{})}const B$="https://polycopy.onrender.com",z$=1e3*60*3,Ih=new Map;function aEe(t){return`trader_overview_${t.toLowerCase()}`}function oEe(t,e){const n=aEe(t),r=Date.now();if(Ih.set(t.toLowerCase(),{expiresAt:r+z$,promise:null,data:e}),typeof window<"u")try{window.sessionStorage.setItem(n,JSON.stringify({savedAt:r,payload:e}))}catch{}}function sEe(t){const e=String(t||"").trim().toLowerCase();if(!e)return;const n=Date.now(),r=Ih.get(e);if(r&&r.expiresAt>n)return;const i=fetch(`${B$}/users/${e}/overview`,{credentials:"include"}).then(a=>a.ok?a.json():Promise.reject(new Error(`overview ${a.status}`))).then(a=>(oEe(e,a),a)).catch(()=>null).finally(()=>{const a=Ih.get(e);a&&a.promise&&Ih.set(e,{...a,promise:null})});Ih.set(e,{expiresAt:n+z$,promise:i,data:(r==null?void 0:r.data)||null})}function lEe(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:"Not connected"}function uEe(t){if(!t)return null;const e=t.trim().split(/\s+/).slice(0,2);return e.length===0?null:e.length===1?e[0].charAt(0).toUpperCase():`${e[0].charAt(0)}${e[1].charAt(0)}`.toUpperCase()}function cEe(){const[t,e]=z.useState({}),[n,r]=z.useState({}),[i,a]=z.useState("weekly"),[o,s]=z.useState(!0),[l,u]=z.useState(null);z.useEffect(()=>{const h=new AbortController;let m=!0;return s(!0),u(null),fetch(`${B$}/leaderboard`,{signal:h.signal,credentials:"include"}).then(g=>g.ok?g.json():Promise.reject(new Error(`Failed to load leaderboard (${g.status})`))).then(g=>{if(!m)return;const _=g!=null&&g.periods&&typeof g.periods=="object"?g.periods:{},y=g!=null&&g.labels&&typeof g.labels=="object"?g.labels:{},v=Object.entries(_).reduce((M,[w,E])=>{if(!Array.isArray(E))return M;const P=E.filter(A=>A&&typeof A.address=="string").map((A,C)=>({...A,rank:Number.isFinite(Number(A.rank))?Number(A.rank):C+1,address:A.address.toLowerCase()}));return P.length>0&&(M[w]=P),M},{}),x=Object.keys(v),b=typeof(g==null?void 0:g.defaultPeriod)=="string"&&x.includes(g.defaultPeriod)&&g.defaultPeriod||x.includes("weekly")&&"weekly"||x[0]||"weekly";e(v),r(x.reduce((M,w)=>(M[w]=y[w]||w,M),{})),a(b)}).catch(g=>{m&&(e({}),r({}),u(g instanceof Error?g.message:"Failed to load leaderboard"))}).finally(()=>{m&&s(!1)}),()=>{m=!1,h.abort()}},[]);const f=z.useMemo(()=>Object.keys(t).map(h=>({key:h,label:n[h]||h})),[t,n]);return{activeEntries:t[i]||[],periodOptions:f,selectedPeriod:i,onPeriodChange:a,isLoading:o,error:l}}function j$({currentPath:t,advancedGlass:e=!1,user:n,isSessionLoading:r,isSessionActionPending:i,login:a,logout:o,connectedWallet:s,walletChainId:l,isWalletConnecting:u,isWalletConnected:f,walletProviderAvailable:c,connectWallet:h,disconnectWallet:m}){const g=uEe(n==null?void 0:n.name),_=z.useCallback(()=>{n?o():a()},[n,o,a]),y=z.useCallback(()=>{c&&(f?m():h())},[c,f,m,h]);return L.jsx(li,{advanced:e,className:"px-6 py-4",children:L.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[L.jsxs("div",{className:"flex items-center gap-8",children:[L.jsxs(Ks,{to:"/",className:"flex items-center gap-3",children:[L.jsx(MetallicLogo,{size:36,animated:t==="/"}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-semibold tracking-wide text-white",children:"PolyCopy"}),L.jsx("p",{className:"text-xs text-slate-400",children:"Built for Polymarket"})]})]}),L.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm text-slate-300",children:[L.jsx(Ks,{to:"/",className:`transition ${t==="/"?"text-white":"hover:text-white text-slate-300"}`,children:"Home"}),L.jsx(Ks,{to:"/leaderboard",className:`transition ${t==="/leaderboard"?"text-white":"hover:text-white text-slate-300"}`,children:"Leaderboard"})]})]}),L.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[L.jsx("button",{type:"button",onClick:_,disabled:!!n&&(r||i)||i,className:"rounded-full border border-slate-700/80 bg-slate-900/80 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500 disabled:opacity-60",children:r?"Loading...":n?L.jsxs("span",{className:"inline-flex items-center gap-2",children:[g&&L.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-slate-800/80 text-xs font-semibold",children:g}),L.jsx("span",{children:"Sign out"})]}):"Sign in"}),L.jsx("button",{type:"button",onClick:y,disabled:u||!c,className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-500 disabled:opacity-60",children:u?"Connecting...":f?lEe(s):"Connect Wallet"}),f&&l&&L.jsxs("span",{className:"text-xs text-slate-400",children:["Chain ",l]})]})]})})}function fEe(){const[t,e]=z.useState(""),[n,r]=z.useState(null),{user:i,isLoading:a,isActionPending:o,error:s,login:l,logout:u}=D$(),{address:f,chainId:c,isConnecting:h,isConnected:m,providerAvailable:g,error:_,connect:y,disconnect:v}=U$(),{suggestions:x,isLoading:b,error:M}=qMe(t,{minimumLength:2,debounceMs:140,limit:12}),w=z.useCallback(P=>{const A=P.trim().toLowerCase();r(A||null)},[]),E=s||_;return L.jsxs("div",{className:"min-h-screen bg-[#040712] text-slate-100",children:[L.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 opacity-65",children:L.jsx(GMe,{beamWidth:2.1,beamHeight:25,beamNumber:50,noiseIntensity:.15,scale:.27,rotation:39,speed:1.4})}),L.jsx("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_top,rgba(49,114,255,0.22),transparent_52%)]"}),L.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-6 pb-20 pt-8 space-y-14",children:[L.jsx(j$,{currentPath:"/",advancedGlass:!0,user:i,isSessionLoading:a,isSessionActionPending:o,login:l,logout:u,connectedWallet:f,walletChainId:c,isWalletConnecting:h,isWalletConnected:m,walletProviderAvailable:g,connectWallet:y,disconnectWallet:v}),L.jsxs("section",{className:"text-center space-y-5 reveal",children:[L.jsx("p",{className:"inline-flex rounded-full border border-blue-400/30 bg-blue-500/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-blue-200",children:"Polymarket Intelligence"}),L.jsx("h1",{className:"mx-auto max-w-4xl text-2xl font-semibold leading-tight text-white sm:text-4xl",children:"Discover top traders and track your own portfolio with confidence"}),L.jsx("p",{className:"mx-auto max-w-2xl text-base text-slate-300 sm:text-lg",children:"Track your own portfolio and analyze other traders before deciding who to follow."}),L.jsxs("div",{className:"flex justify-center gap-3",children:[L.jsx(Ks,{to:"/leaderboard",className:"rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-blue-500",children:"View Top Traders"}),L.jsx("a",{href:"#search",className:"rounded-full border border-slate-600 px-6 py-3 text-sm font-semibold text-slate-100 transition hover:border-slate-400",children:"Search Traders"})]})]}),E&&L.jsx(li,{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:E}),L.jsxs("section",{className:"grid gap-5 lg:grid-cols-3",children:[L.jsx(li,{className:"rounded-3xl p-6 reveal reveal-1",children:L.jsxs("article",{children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Leaderboard"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Follow the most successful traders"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Open the leaderboard to compare PnL, ROI, and volume at a glance."}),L.jsx(Ks,{to:"/leaderboard",className:"mt-5 inline-flex rounded-full bg-white px-5 py-2 text-sm font-semibold text-slate-900",children:"Open Leaderboard"})]})}),L.jsx(li,{className:"rounded-3xl p-6 reveal reveal-2",children:L.jsxs("article",{id:"search",children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Search Traders"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Analyze any wallet"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Search by wallet or username and inspect the trader profile instantly."}),L.jsx("div",{className:"mt-5",children:L.jsx(rve,{value:t,onChange:e,onSubmit:P=>{e(P.trim().toLowerCase()),w(P)},suggestions:x,isSearching:b,searchError:M,selectedAddress:n})})]})}),L.jsx(li,{className:"rounded-3xl p-6 reveal reveal-3",children:L.jsxs("article",{children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Portfolio View"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Track your own edge"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Compare your process with top traders and refine your strategy over time."}),L.jsxs(li,{className:"mt-5 rounded-2xl p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Selected trader"}),L.jsx("p",{className:"mt-1 font-mono text-sm text-slate-100 break-all",children:n||"No trader selected yet"}),n&&L.jsx(Ks,{to:`/profile/${n}`,className:"mt-3 inline-flex rounded-full border border-blue-400/50 px-4 py-2 text-xs font-semibold text-blue-200",children:"View trader profile"})]})]})})]}),n&&L.jsx(tve,{address:n})]})]})}function dEe(){const t=kT(),[e,n]=z.useState(null),{user:r,isLoading:i,isActionPending:a,error:o,login:s,logout:l}=D$(),{address:u,chainId:f,isConnecting:c,isConnected:h,providerAvailable:m,error:g,connect:_,disconnect:y,resetError:v}=U$(),{activeEntries:x,periodOptions:b,selectedPeriod:M,onPeriodChange:w,isLoading:E,error:P}=cEe(),A=z.useCallback(C=>{sEe(C)},[]);return L.jsxs("div",{className:"min-h-screen bg-[#040712] text-slate-100",children:[L.jsx("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_top,rgba(49,114,255,0.22),transparent_52%)]"}),L.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-6 pb-20 pt-8 space-y-10",children:[L.jsx(j$,{currentPath:"/leaderboard",user:r,isSessionLoading:i,isSessionActionPending:a,login:s,logout:l,connectedWallet:u,walletChainId:f,isWalletConnecting:c,isWalletConnected:h,walletProviderAvailable:m,connectWallet:_,disconnectWallet:y}),L.jsx(li,{className:"overflow-hidden rounded-2xl",children:L.jsx(VF,{})}),(o||g)&&L.jsxs(li,{className:"flex items-start justify-between gap-3 rounded-2xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:[L.jsx("p",{children:o||g}),g&&L.jsx("button",{type:"button",onClick:v,className:"rounded-full border border-rose-400/50 px-3 py-1 text-xs font-semibold text-rose-50 transition hover:border-rose-200",children:"Dismiss"})]}),L.jsxs("section",{className:"space-y-3",children:[L.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-blue-200",children:"Leaderboard"}),L.jsx("h1",{className:"text-3xl font-semibold text-white sm:text-4xl",children:"Top Polymarket Traders"}),L.jsx("p",{className:"max-w-2xl text-sm text-slate-300",children:"Browse ranked traders by key metrics and click any wallet to inspect full profile details."})]}),L.jsx(cG,{entries:x,isLoading:E,error:P,selectedAddress:e,periodOptions:b,selectedPeriod:M,onPeriodChange:C=>{b.some(I=>I.key===C)&&w(C)},onSelect:(C,I)=>{n(C),t(`/profile/${C}`,{state:{leaderboardEntry:I||null}})},onPrefetch:C=>A(C)})]})]})}function hEe(){return L.jsx(nG,{children:L.jsxs(Y6,{children:[L.jsx(Ic,{path:"/",element:L.jsx(fEe,{})}),L.jsx(Ic,{path:"/leaderboard",element:L.jsx(dEe,{})}),L.jsx(Ic,{path:"/profile/:address",element:L.jsx(nEe,{})}),L.jsx(Ic,{path:"/logo-preview",element:L.jsx(iEe,{})}),L.jsx(Ic,{path:"*",element:L.jsx(X6,{to:"/",replace:!0})})]})})}class pEe extends ne.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("Root render error",e,n)}render(){return this.state.error?L.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-950 text-slate-100 px-6",children:[L.jsx("h1",{className:"text-2xl font-semibold text-rose-300",children:"App crashed while rendering"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Check console and fix the error below:"}),L.jsx("pre",{className:"mt-4 max-w-3xl overflow-auto rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-xs text-rose-100",children:this.state.error.message})]}):this.props.children}}Ww.createRoot(document.getElementById("root")).render(L.jsx(ne.StrictMode,{children:L.jsx(pEe,{children:L.jsx(hEe,{})})}));
