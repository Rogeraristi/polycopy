function MV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function an(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yk={exports:{}},Xx={},xk={exports:{}},Ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=Symbol.for("react.element"),EV=Symbol.for("react.portal"),AV=Symbol.for("react.fragment"),TV=Symbol.for("react.strict_mode"),PV=Symbol.for("react.profiler"),CV=Symbol.for("react.provider"),OV=Symbol.for("react.context"),IV=Symbol.for("react.forward_ref"),RV=Symbol.for("react.suspense"),NV=Symbol.for("react.memo"),LV=Symbol.for("react.lazy"),dO=Symbol.iterator;function DV(t){return t===null||typeof t!="object"?null:(t=dO&&t[dO]||t["@@iterator"],typeof t=="function"?t:null)}var _k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bk=Object.assign,Sk={};function Kf(t,e,n){this.props=t,this.context=e,this.refs=Sk,this.updater=n||_k}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wk(){}wk.prototype=Kf.prototype;function kA(t,e,n){this.props=t,this.context=e,this.refs=Sk,this.updater=n||_k}var UA=kA.prototype=new wk;UA.constructor=kA;bk(UA,Kf.prototype);UA.isPureReactComponent=!0;var hO=Array.isArray,Mk=Object.prototype.hasOwnProperty,FA={current:null},Ek={key:!0,ref:!0,__self:!0,__source:!0};function Ak(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Mk.call(e,r)&&!Ek.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:vm,type:t,key:a,ref:o,props:i,_owner:FA.current}}function kV(t,e){return{$$typeof:vm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function BA(t){return typeof t=="object"&&t!==null&&t.$$typeof===vm}function UV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pO=/\/+/g;function VS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UV(""+t.key):e.toString(36)}function hy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vm:case EV:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+VS(o,0):r,hO(i)?(n="",t!=null&&(n=t.replace(pO,"$&/")+"/"),hy(i,e,n,"",function(u){return u})):i!=null&&(BA(i)&&(i=kV(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pO,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hO(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+VS(a,s);o+=hy(a,e,n,l,i)}else if(l=DV(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+VS(a,s++),o+=hy(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zg(t,e,n){if(t==null)return t;var r=[],i=0;return hy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function FV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},py={transition:null},BV={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:py,ReactCurrentOwner:FA};function Tk(){throw Error("act(...) is not supported in production builds of React.")}Ut.Children={map:zg,forEach:function(t,e,n){zg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zg(t,function(){e++}),e},toArray:function(t){return zg(t,function(e){return e})||[]},only:function(t){if(!BA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ut.Component=Kf;Ut.Fragment=AV;Ut.Profiler=PV;Ut.PureComponent=kA;Ut.StrictMode=TV;Ut.Suspense=RV;Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BV;Ut.act=Tk;Ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=FA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Mk.call(e,l)&&!Ek.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:vm,type:t.type,key:i,ref:a,props:r,_owner:o}};Ut.createContext=function(t){return t={$$typeof:OV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CV,_context:t},t.Consumer=t};Ut.createElement=Ak;Ut.createFactory=function(t){var e=Ak.bind(null,t);return e.type=t,e};Ut.createRef=function(){return{current:null}};Ut.forwardRef=function(t){return{$$typeof:IV,render:t}};Ut.isValidElement=BA;Ut.lazy=function(t){return{$$typeof:LV,_payload:{_status:-1,_result:t},_init:FV}};Ut.memo=function(t,e){return{$$typeof:NV,type:t,compare:e===void 0?null:e}};Ut.startTransition=function(t){var e=py.transition;py.transition={};try{t()}finally{py.transition=e}};Ut.unstable_act=Tk;Ut.useCallback=function(t,e){return Zr.current.useCallback(t,e)};Ut.useContext=function(t){return Zr.current.useContext(t)};Ut.useDebugValue=function(){};Ut.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};Ut.useEffect=function(t,e){return Zr.current.useEffect(t,e)};Ut.useId=function(){return Zr.current.useId()};Ut.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};Ut.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};Ut.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};Ut.useMemo=function(t,e){return Zr.current.useMemo(t,e)};Ut.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};Ut.useRef=function(t){return Zr.current.useRef(t)};Ut.useState=function(t){return Zr.current.useState(t)};Ut.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};Ut.useTransition=function(){return Zr.current.useTransition()};Ut.version="18.3.1";xk.exports=Ut;var z=xk.exports;const ne=an(z),zV=MV({__proto__:null,default:ne},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jV=z,$V=Symbol.for("react.element"),VV=Symbol.for("react.fragment"),HV=Object.prototype.hasOwnProperty,GV=jV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WV={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HV.call(e,r)&&!WV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$V,type:t,key:a,ref:o,props:i,_owner:GV.current}}Xx.Fragment=VV;Xx.jsx=Pk;Xx.jsxs=Pk;yk.exports=Xx;var L=yk.exports,Gw={},Ck={exports:{}},Bi={},Ok={exports:{}},Ik={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,H(w);else{var j=n(u);j!==null&&V(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=p;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||U&&!I());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var J=Z(f.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var we=n(u);we!==null&&V(M,we.startTime-j),fe=!1}return fe}finally{f=null,p=Y,m=!1}}var E=!1,P=null,A=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function k(){if(P!==null){var U=t.unstable_now();N=U;var j=!0;try{j=P(!0,U)}finally{j?B():(E=!1,P=null)}}else E=!1}var B;if(typeof x=="function")B=function(){x(k)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=k,B=function(){$.postMessage(null)}}else B=function(){y(k,0)};function H(U){P=U,E||(E=!0,B())}function V(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Y=p;p=j;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return j()}finally{p=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:c++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,V(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,H(w))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var j=p;return function(){var Y=p;p=j;try{return U.apply(this,arguments)}finally{p=Y}}}})(Ik);Ok.exports=Ik;var XV=Ok.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qV=z,Di=XV;function Re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rk=new Set,tp={};function Iu(t,e){df(t,e),df(t+"Capture",e)}function df(t,e){for(tp[t]=e,t=0;t<e.length;t++)Rk.add(e[t])}var Xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ww=Object.prototype.hasOwnProperty,YV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mO={},gO={};function KV(t){return Ww.call(gO,t)?!0:Ww.call(mO,t)?!1:YV.test(t)?gO[t]=!0:(mO[t]=!0,!1)}function ZV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JV(t,e,n,r){if(e===null||typeof e>"u"||ZV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jr(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var zA=/[\-:]([a-z])/g;function jA(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(zA,jA);br[e]=new Jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(zA,jA);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(zA,jA);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function $A(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JV(e,n,i,r)&&(n=null),r||i===null?KV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var rs=qV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jg=Symbol.for("react.element"),Dc=Symbol.for("react.portal"),kc=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),Xw=Symbol.for("react.profiler"),Nk=Symbol.for("react.provider"),Lk=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Yw=Symbol.for("react.suspense_list"),GA=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),Dk=Symbol.for("react.offscreen"),vO=Symbol.iterator;function $d(t){return t===null||typeof t!="object"?null:(t=vO&&t[vO]||t["@@iterator"],typeof t=="function"?t:null)}var On=Object.assign,HS;function bh(t){if(HS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);HS=e&&e[1]||""}return`
`+HS+t}var GS=!1;function WS(t,e){if(!t||GS)return"";GS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{GS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bh(t):""}function QV(t){switch(t.tag){case 5:return bh(t.type);case 16:return bh("Lazy");case 13:return bh("Suspense");case 19:return bh("SuspenseList");case 0:case 2:case 15:return t=WS(t.type,!1),t;case 11:return t=WS(t.type.render,!1),t;case 1:return t=WS(t.type,!0),t;default:return""}}function Kw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kc:return"Fragment";case Dc:return"Portal";case Xw:return"Profiler";case VA:return"StrictMode";case qw:return"Suspense";case Yw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lk:return(t.displayName||"Context")+".Consumer";case Nk:return(t._context.displayName||"Context")+".Provider";case HA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case GA:return e=t.displayName||null,e!==null?e:Kw(t.type)||"Memo";case As:e=t._payload,t=t._init;try{return Kw(t(e))}catch{}}return null}function e8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kw(e);case 8:return e===VA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t8(t){var e=kk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $g(t){t._valueTracker||(t._valueTracker=t8(t))}function Uk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cy(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zw(t,e){var n=e.checked;return On({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fk(t,e){e=e.checked,e!=null&&$A(t,"checked",e,!1)}function Jw(t,e){Fk(t,e);var n=Qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qw(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qw(t,e,n){(e!=="number"||Cy(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sh=Array.isArray;function ef(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eM(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Re(91));return On({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _O(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Re(92));if(Sh(n)){if(1<n.length)throw Error(Re(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qs(n)}}function Bk(t,e){var n=Qs(e.value),r=Qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function bO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tM(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vg,jk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vg=Vg||document.createElement("div"),Vg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function np(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n8=["Webkit","ms","Moz","O"];Object.keys(Ch).forEach(function(t){n8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ch[e]=Ch[t]})});function $k(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ch.hasOwnProperty(t)&&Ch[t]?(""+e).trim():e+"px"}function Vk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$k(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var r8=On({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nM(t,e){if(e){if(r8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Re(62))}}function rM(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iM=null;function WA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var aM=null,tf=null,nf=null;function SO(t){if(t=_m(t)){if(typeof aM!="function")throw Error(Re(280));var e=t.stateNode;e&&(e=Jx(e),aM(t.stateNode,t.type,e))}}function Hk(t){tf?nf?nf.push(t):nf=[t]:tf=t}function Gk(){if(tf){var t=tf,e=nf;if(nf=tf=null,SO(t),e)for(t=0;t<e.length;t++)SO(e[t])}}function Wk(t,e){return t(e)}function Xk(){}var XS=!1;function qk(t,e,n){if(XS)return t(e,n);XS=!0;try{return Wk(t,e,n)}finally{XS=!1,(tf!==null||nf!==null)&&(Xk(),Gk())}}function rp(t,e){var n=t.stateNode;if(n===null)return null;var r=Jx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Re(231,e,typeof n));return n}var oM=!1;if(Xo)try{var Vd={};Object.defineProperty(Vd,"passive",{get:function(){oM=!0}}),window.addEventListener("test",Vd,Vd),window.removeEventListener("test",Vd,Vd)}catch{oM=!1}function i8(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Oh=!1,Oy=null,Iy=!1,sM=null,a8={onError:function(t){Oh=!0,Oy=t}};function o8(t,e,n,r,i,a,o,s,l){Oh=!1,Oy=null,i8.apply(a8,arguments)}function s8(t,e,n,r,i,a,o,s,l){if(o8.apply(this,arguments),Oh){if(Oh){var u=Oy;Oh=!1,Oy=null}else throw Error(Re(198));Iy||(Iy=!0,sM=u)}}function Ru(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wO(t){if(Ru(t)!==t)throw Error(Re(188))}function l8(t){var e=t.alternate;if(!e){if(e=Ru(t),e===null)throw Error(Re(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return wO(i),t;if(a===r)return wO(i),e;a=a.sibling}throw Error(Re(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(Re(189))}}if(n.alternate!==r)throw Error(Re(190))}if(n.tag!==3)throw Error(Re(188));return n.stateNode.current===n?t:e}function Kk(t){return t=l8(t),t!==null?Zk(t):null}function Zk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zk(t);if(e!==null)return e;t=t.sibling}return null}var Jk=Di.unstable_scheduleCallback,MO=Di.unstable_cancelCallback,u8=Di.unstable_shouldYield,c8=Di.unstable_requestPaint,Fn=Di.unstable_now,f8=Di.unstable_getCurrentPriorityLevel,XA=Di.unstable_ImmediatePriority,Qk=Di.unstable_UserBlockingPriority,Ry=Di.unstable_NormalPriority,d8=Di.unstable_LowPriority,eU=Di.unstable_IdlePriority,qx=null,so=null;function h8(t){if(so&&typeof so.onCommitFiberRoot=="function")try{so.onCommitFiberRoot(qx,t,void 0,(t.current.flags&128)===128)}catch{}}var Da=Math.clz32?Math.clz32:g8,p8=Math.log,m8=Math.LN2;function g8(t){return t>>>=0,t===0?32:31-(p8(t)/m8|0)|0}var Hg=64,Gg=4194304;function wh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ny(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=wh(s):(a&=o,a!==0&&(r=wh(a)))}else o=n&~i,o!==0?r=wh(o):a!==0&&(r=wh(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Da(e),i=1<<n,r|=t[n],e&=~i;return r}function v8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Da(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=v8(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function lM(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tU(){var t=Hg;return Hg<<=1,!(Hg&4194240)&&(Hg=64),t}function qS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ym(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Da(e),t[e]=n}function x8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Da(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function qA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Da(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rn=0;function nU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rU,YA,iU,aU,oU,uM=!1,Wg=[],js=null,$s=null,Vs=null,ip=new Map,ap=new Map,Os=[],_8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function EO(t,e){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ip.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ap.delete(e.pointerId)}}function Hd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=_m(e),e!==null&&YA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function b8(t,e,n,r,i){switch(e){case"focusin":return js=Hd(js,t,e,n,r,i),!0;case"dragenter":return $s=Hd($s,t,e,n,r,i),!0;case"mouseover":return Vs=Hd(Vs,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return ip.set(a,Hd(ip.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ap.set(a,Hd(ap.get(a)||null,t,e,n,r,i)),!0}return!1}function sU(t){var e=ql(t.target);if(e!==null){var n=Ru(e);if(n!==null){if(e=n.tag,e===13){if(e=Yk(n),e!==null){t.blockedOn=e,oU(t.priority,function(){iU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function my(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cM(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);iM=r,n.target.dispatchEvent(r),iM=null}else return e=_m(n),e!==null&&YA(e),t.blockedOn=n,!1;e.shift()}return!0}function AO(t,e,n){my(t)&&n.delete(e)}function S8(){uM=!1,js!==null&&my(js)&&(js=null),$s!==null&&my($s)&&($s=null),Vs!==null&&my(Vs)&&(Vs=null),ip.forEach(AO),ap.forEach(AO)}function Gd(t,e){t.blockedOn===e&&(t.blockedOn=null,uM||(uM=!0,Di.unstable_scheduleCallback(Di.unstable_NormalPriority,S8)))}function op(t){function e(i){return Gd(i,t)}if(0<Wg.length){Gd(Wg[0],t);for(var n=1;n<Wg.length;n++){var r=Wg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(js!==null&&Gd(js,t),$s!==null&&Gd($s,t),Vs!==null&&Gd(Vs,t),ip.forEach(e),ap.forEach(e),n=0;n<Os.length;n++)r=Os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Os.length&&(n=Os[0],n.blockedOn===null);)sU(n),n.blockedOn===null&&Os.shift()}var rf=rs.ReactCurrentBatchConfig,Ly=!0;function w8(t,e,n,r){var i=rn,a=rf.transition;rf.transition=null;try{rn=1,KA(t,e,n,r)}finally{rn=i,rf.transition=a}}function M8(t,e,n,r){var i=rn,a=rf.transition;rf.transition=null;try{rn=4,KA(t,e,n,r)}finally{rn=i,rf.transition=a}}function KA(t,e,n,r){if(Ly){var i=cM(t,e,n,r);if(i===null)i1(t,e,r,Dy,n),EO(t,r);else if(b8(i,t,e,n,r))r.stopPropagation();else if(EO(t,r),e&4&&-1<_8.indexOf(t)){for(;i!==null;){var a=_m(i);if(a!==null&&rU(a),a=cM(t,e,n,r),a===null&&i1(t,e,r,Dy,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else i1(t,e,r,null,n)}}var Dy=null;function cM(t,e,n,r){if(Dy=null,t=WA(r),t=ql(t),t!==null)if(e=Ru(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dy=t,null}function lU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(f8()){case XA:return 1;case Qk:return 4;case Ry:case d8:return 16;case eU:return 536870912;default:return 16}default:return 16}}var Ls=null,ZA=null,gy=null;function uU(){if(gy)return gy;var t,e=ZA,n=e.length,r,i="value"in Ls?Ls.value:Ls.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return gy=i.slice(t,1<r?1-r:void 0)}function vy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xg(){return!0}function TO(){return!1}function zi(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Xg:TO,this.isPropagationStopped=TO,this}return On(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xg)},persist:function(){},isPersistent:Xg}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},JA=zi(Zf),xm=On({},Zf,{view:0,detail:0}),E8=zi(xm),YS,KS,Wd,Yx=On({},xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:QA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wd&&(Wd&&t.type==="mousemove"?(YS=t.screenX-Wd.screenX,KS=t.screenY-Wd.screenY):KS=YS=0,Wd=t),YS)},movementY:function(t){return"movementY"in t?t.movementY:KS}}),PO=zi(Yx),A8=On({},Yx,{dataTransfer:0}),T8=zi(A8),P8=On({},xm,{relatedTarget:0}),ZS=zi(P8),C8=On({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),O8=zi(C8),I8=On({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R8=zi(I8),N8=On({},Zf,{data:0}),CO=zi(N8),L8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k8[t])?!!e[t]:!1}function QA(){return U8}var F8=On({},xm,{key:function(t){if(t.key){var e=L8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:QA,charCode:function(t){return t.type==="keypress"?vy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),B8=zi(F8),z8=On({},Yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OO=zi(z8),j8=On({},xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:QA}),$8=zi(j8),V8=On({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),H8=zi(V8),G8=On({},Yx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W8=zi(G8),X8=[9,13,27,32],eT=Xo&&"CompositionEvent"in window,Ih=null;Xo&&"documentMode"in document&&(Ih=document.documentMode);var q8=Xo&&"TextEvent"in window&&!Ih,cU=Xo&&(!eT||Ih&&8<Ih&&11>=Ih),IO=" ",RO=!1;function fU(t,e){switch(t){case"keyup":return X8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uc=!1;function Y8(t,e){switch(t){case"compositionend":return dU(e);case"keypress":return e.which!==32?null:(RO=!0,IO);case"textInput":return t=e.data,t===IO&&RO?null:t;default:return null}}function K8(t,e){if(Uc)return t==="compositionend"||!eT&&fU(t,e)?(t=uU(),gy=ZA=Ls=null,Uc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cU&&e.locale!=="ko"?null:e.data;default:return null}}var Z8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z8[t.type]:e==="textarea"}function hU(t,e,n,r){Hk(r),e=ky(e,"onChange"),0<e.length&&(n=new JA("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rh=null,sp=null;function J8(t){MU(t,0)}function Kx(t){var e=zc(t);if(Uk(e))return t}function Q8(t,e){if(t==="change")return e}var pU=!1;if(Xo){var JS;if(Xo){var QS="oninput"in document;if(!QS){var LO=document.createElement("div");LO.setAttribute("oninput","return;"),QS=typeof LO.oninput=="function"}JS=QS}else JS=!1;pU=JS&&(!document.documentMode||9<document.documentMode)}function DO(){Rh&&(Rh.detachEvent("onpropertychange",mU),sp=Rh=null)}function mU(t){if(t.propertyName==="value"&&Kx(sp)){var e=[];hU(e,sp,t,WA(t)),qk(J8,e)}}function eH(t,e,n){t==="focusin"?(DO(),Rh=e,sp=n,Rh.attachEvent("onpropertychange",mU)):t==="focusout"&&DO()}function tH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kx(sp)}function nH(t,e){if(t==="click")return Kx(e)}function rH(t,e){if(t==="input"||t==="change")return Kx(e)}function iH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fa=typeof Object.is=="function"?Object.is:iH;function lp(t,e){if(Fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ww.call(e,i)||!Fa(t[i],e[i]))return!1}return!0}function kO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UO(t,e){var n=kO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kO(n)}}function gU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vU(){for(var t=window,e=Cy();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cy(t.document)}return e}function tT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aH(t){var e=vU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gU(n.ownerDocument.documentElement,n)){if(r!==null&&tT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=UO(n,a);var o=UO(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oH=Xo&&"documentMode"in document&&11>=document.documentMode,Fc=null,fM=null,Nh=null,dM=!1;function FO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dM||Fc==null||Fc!==Cy(r)||(r=Fc,"selectionStart"in r&&tT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nh&&lp(Nh,r)||(Nh=r,r=ky(fM,"onSelect"),0<r.length&&(e=new JA("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fc)))}function qg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bc={animationend:qg("Animation","AnimationEnd"),animationiteration:qg("Animation","AnimationIteration"),animationstart:qg("Animation","AnimationStart"),transitionend:qg("Transition","TransitionEnd")},e1={},yU={};Xo&&(yU=document.createElement("div").style,"AnimationEvent"in window||(delete Bc.animationend.animation,delete Bc.animationiteration.animation,delete Bc.animationstart.animation),"TransitionEvent"in window||delete Bc.transitionend.transition);function Zx(t){if(e1[t])return e1[t];if(!Bc[t])return t;var e=Bc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yU)return e1[t]=e[n];return t}var xU=Zx("animationend"),_U=Zx("animationiteration"),bU=Zx("animationstart"),SU=Zx("transitionend"),wU=new Map,BO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(t,e){wU.set(t,e),Iu(e,[t])}for(var t1=0;t1<BO.length;t1++){var n1=BO[t1],sH=n1.toLowerCase(),lH=n1[0].toUpperCase()+n1.slice(1);il(sH,"on"+lH)}il(xU,"onAnimationEnd");il(_U,"onAnimationIteration");il(bU,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(SU,"onTransitionEnd");df("onMouseEnter",["mouseout","mouseover"]);df("onMouseLeave",["mouseout","mouseover"]);df("onPointerEnter",["pointerout","pointerover"]);df("onPointerLeave",["pointerout","pointerover"]);Iu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Iu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Iu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Iu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Iu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Iu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mh));function zO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s8(r,e,void 0,t),t.currentTarget=null}function MU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;zO(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;zO(i,s,u),a=l}}}if(Iy)throw t=sM,Iy=!1,sM=null,t}function mn(t,e){var n=e[vM];n===void 0&&(n=e[vM]=new Set);var r=t+"__bubble";n.has(r)||(EU(e,t,2,!1),n.add(r))}function r1(t,e,n){var r=0;e&&(r|=4),EU(n,t,r,e)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function up(t){if(!t[Yg]){t[Yg]=!0,Rk.forEach(function(n){n!=="selectionchange"&&(uH.has(n)||r1(n,!1,t),r1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yg]||(e[Yg]=!0,r1("selectionchange",!1,e))}}function EU(t,e,n,r){switch(lU(e)){case 1:var i=w8;break;case 4:i=M8;break;default:i=KA}n=i.bind(null,e,n,t),i=void 0,!oM||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function i1(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ql(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}qk(function(){var u=a,c=WA(n),f=[];e:{var p=wU.get(t);if(p!==void 0){var m=JA,g=t;switch(t){case"keypress":if(vy(n)===0)break e;case"keydown":case"keyup":m=B8;break;case"focusin":g="focus",m=ZS;break;case"focusout":g="blur",m=ZS;break;case"beforeblur":case"afterblur":m=ZS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=PO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=T8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=$8;break;case xU:case _U:case bU:m=O8;break;case SU:m=H8;break;case"scroll":m=E8;break;case"wheel":m=W8;break;case"copy":case"cut":case"paste":m=R8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=OO}var _=(e&4)!==0,y=!_&&t==="scroll",v=_?p!==null?p+"Capture":null:p;_=[];for(var x=u,b;x!==null;){b=x;var M=b.stateNode;if(b.tag===5&&M!==null&&(b=M,v!==null&&(M=rp(x,v),M!=null&&_.push(cp(x,M,b)))),y)break;x=x.return}0<_.length&&(p=new m(p,g,null,n,c),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==iM&&(g=n.relatedTarget||n.fromElement)&&(ql(g)||g[qo]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?ql(g):null,g!==null&&(y=Ru(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(_=PO,M="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=OO,M="onPointerLeave",v="onPointerEnter",x="pointer"),y=m==null?p:zc(m),b=g==null?p:zc(g),p=new _(M,x+"leave",m,n,c),p.target=y,p.relatedTarget=b,M=null,ql(c)===u&&(_=new _(v,x+"enter",g,n,c),_.target=b,_.relatedTarget=y,M=_),y=M,m&&g)t:{for(_=m,v=g,x=0,b=_;b;b=ic(b))x++;for(b=0,M=v;M;M=ic(M))b++;for(;0<x-b;)_=ic(_),x--;for(;0<b-x;)v=ic(v),b--;for(;x--;){if(_===v||v!==null&&_===v.alternate)break t;_=ic(_),v=ic(v)}_=null}else _=null;m!==null&&jO(f,p,m,_,!1),g!==null&&y!==null&&jO(f,y,g,_,!0)}}e:{if(p=u?zc(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var w=Q8;else if(NO(p))if(pU)w=rH;else{w=tH;var E=eH}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(w=nH);if(w&&(w=w(t,u))){hU(f,w,n,c);break e}E&&E(t,p,u),t==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&Qw(p,"number",p.value)}switch(E=u?zc(u):window,t){case"focusin":(NO(E)||E.contentEditable==="true")&&(Fc=E,fM=u,Nh=null);break;case"focusout":Nh=fM=Fc=null;break;case"mousedown":dM=!0;break;case"contextmenu":case"mouseup":case"dragend":dM=!1,FO(f,n,c);break;case"selectionchange":if(oH)break;case"keydown":case"keyup":FO(f,n,c)}var P;if(eT)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Uc?fU(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(cU&&n.locale!=="ko"&&(Uc||A!=="onCompositionStart"?A==="onCompositionEnd"&&Uc&&(P=uU()):(Ls=c,ZA="value"in Ls?Ls.value:Ls.textContent,Uc=!0)),E=ky(u,A),0<E.length&&(A=new CO(A,t,null,n,c),f.push({event:A,listeners:E}),P?A.data=P:(P=dU(n),P!==null&&(A.data=P)))),(P=q8?Y8(t,n):K8(t,n))&&(u=ky(u,"onBeforeInput"),0<u.length&&(c=new CO("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}MU(f,e)})}function cp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ky(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=rp(t,n),a!=null&&r.unshift(cp(t,a,i)),a=rp(t,e),a!=null&&r.push(cp(t,a,i))),t=t.return}return r}function ic(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jO(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=rp(n,a),l!=null&&o.unshift(cp(n,l,s))):i||(l=rp(n,a),l!=null&&o.push(cp(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cH=/\r\n?/g,fH=/\u0000|\uFFFD/g;function $O(t){return(typeof t=="string"?t:""+t).replace(cH,`
`).replace(fH,"")}function Kg(t,e,n){if(e=$O(e),$O(t)!==e&&n)throw Error(Re(425))}function Uy(){}var hM=null,pM=null;function mM(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gM=typeof setTimeout=="function"?setTimeout:void 0,dH=typeof clearTimeout=="function"?clearTimeout:void 0,VO=typeof Promise=="function"?Promise:void 0,hH=typeof queueMicrotask=="function"?queueMicrotask:typeof VO<"u"?function(t){return VO.resolve(null).then(t).catch(pH)}:gM;function pH(t){setTimeout(function(){throw t})}function a1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),op(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);op(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),no="__reactFiber$"+Jf,fp="__reactProps$"+Jf,qo="__reactContainer$"+Jf,vM="__reactEvents$"+Jf,mH="__reactListeners$"+Jf,gH="__reactHandles$"+Jf;function ql(t){var e=t[no];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qo]||n[no]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HO(t);t!==null;){if(n=t[no])return n;t=HO(t)}return e}t=n,n=t.parentNode}return null}function _m(t){return t=t[no]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Re(33))}function Jx(t){return t[fp]||null}var yM=[],jc=-1;function al(t){return{current:t}}function xn(t){0>jc||(t.current=yM[jc],yM[jc]=null,jc--)}function pn(t,e){jc++,yM[jc]=t.current,t.current=e}var el={},Br=al(el),di=al(!1),pu=el;function hf(t,e){var n=t.type.contextTypes;if(!n)return el;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hi(t){return t=t.childContextTypes,t!=null}function Fy(){xn(di),xn(Br)}function GO(t,e,n){if(Br.current!==el)throw Error(Re(168));pn(Br,e),pn(di,n)}function AU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Re(108,e8(t)||"Unknown",i));return On({},n,r)}function By(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||el,pu=Br.current,pn(Br,t),pn(di,di.current),!0}function WO(t,e,n){var r=t.stateNode;if(!r)throw Error(Re(169));n?(t=AU(t,e,pu),r.__reactInternalMemoizedMergedChildContext=t,xn(di),xn(Br),pn(Br,t)):xn(di),pn(di,n)}var Lo=null,Qx=!1,o1=!1;function TU(t){Lo===null?Lo=[t]:Lo.push(t)}function vH(t){Qx=!0,TU(t)}function ol(){if(!o1&&Lo!==null){o1=!0;var t=0,e=rn;try{var n=Lo;for(rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lo=null,Qx=!1}catch(i){throw Lo!==null&&(Lo=Lo.slice(t+1)),Jk(XA,ol),i}finally{rn=e,o1=!1}}return null}var $c=[],Vc=0,zy=null,jy=0,ta=[],na=0,mu=null,Uo=1,Fo="";function jl(t,e){$c[Vc++]=jy,$c[Vc++]=zy,zy=t,jy=e}function PU(t,e,n){ta[na++]=Uo,ta[na++]=Fo,ta[na++]=mu,mu=t;var r=Uo;t=Fo;var i=32-Da(r)-1;r&=~(1<<i),n+=1;var a=32-Da(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Uo=1<<32-Da(e)+i|n<<i|r,Fo=a+t}else Uo=1<<a|n<<i|r,Fo=t}function nT(t){t.return!==null&&(jl(t,1),PU(t,1,0))}function rT(t){for(;t===zy;)zy=$c[--Vc],$c[Vc]=null,jy=$c[--Vc],$c[Vc]=null;for(;t===mu;)mu=ta[--na],ta[na]=null,Fo=ta[--na],ta[na]=null,Uo=ta[--na],ta[na]=null}var Ni=null,Ii=null,bn=!1,Oa=null;function CU(t,e){var n=ia(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ni=t,Ii=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ni=t,Ii=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mu!==null?{id:Uo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ia(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ni=t,Ii=null,!0):!1;default:return!1}}function xM(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _M(t){if(bn){var e=Ii;if(e){var n=e;if(!XO(t,e)){if(xM(t))throw Error(Re(418));e=Hs(n.nextSibling);var r=Ni;e&&XO(t,e)?CU(r,n):(t.flags=t.flags&-4097|2,bn=!1,Ni=t)}}else{if(xM(t))throw Error(Re(418));t.flags=t.flags&-4097|2,bn=!1,Ni=t}}}function qO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ni=t}function Zg(t){if(t!==Ni)return!1;if(!bn)return qO(t),bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mM(t.type,t.memoizedProps)),e&&(e=Ii)){if(xM(t))throw OU(),Error(Re(418));for(;e;)CU(t,e),e=Hs(e.nextSibling)}if(qO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ii=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ii=null}}else Ii=Ni?Hs(t.stateNode.nextSibling):null;return!0}function OU(){for(var t=Ii;t;)t=Hs(t.nextSibling)}function pf(){Ii=Ni=null,bn=!1}function iT(t){Oa===null?Oa=[t]:Oa.push(t)}var yH=rs.ReactCurrentBatchConfig;function Xd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Re(309));var r=n.stateNode}if(!r)throw Error(Re(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Re(284));if(!n._owner)throw Error(Re(290,t))}return t}function Jg(t,e){throw t=Object.prototype.toString.call(e),Error(Re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YO(t){var e=t._init;return e(t._payload)}function IU(t){function e(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=qs(v,x),v.index=0,v.sibling=null,v}function a(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,x,b,M){return x===null||x.tag!==6?(x=h1(b,v.mode,M),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,M){var w=b.type;return w===kc?c(v,x,b.props.children,M,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&YO(w)===x.type)?(M=i(x,b.props),M.ref=Xd(v,x,b),M.return=v,M):(M=My(b.type,b.key,b.props,null,v.mode,M),M.ref=Xd(v,x,b),M.return=v,M)}function u(v,x,b,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=p1(b,v.mode,M),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function c(v,x,b,M,w){return x===null||x.tag!==7?(x=ou(b,v.mode,M,w),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=h1(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case jg:return b=My(x.type,x.key,x.props,null,v.mode,b),b.ref=Xd(v,null,x),b.return=v,b;case Dc:return x=p1(x,v.mode,b),x.return=v,x;case As:var M=x._init;return f(v,M(x._payload),b)}if(Sh(x)||$d(x))return x=ou(x,v.mode,b,null),x.return=v,x;Jg(v,x)}return null}function p(v,x,b,M){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:s(v,x,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case jg:return b.key===w?l(v,x,b,M):null;case Dc:return b.key===w?u(v,x,b,M):null;case As:return w=b._init,p(v,x,w(b._payload),M)}if(Sh(b)||$d(b))return w!==null?null:c(v,x,b,M,null);Jg(v,b)}return null}function m(v,x,b,M,w){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(b)||null,s(x,v,""+M,w);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case jg:return v=v.get(M.key===null?b:M.key)||null,l(x,v,M,w);case Dc:return v=v.get(M.key===null?b:M.key)||null,u(x,v,M,w);case As:var E=M._init;return m(v,x,b,E(M._payload),w)}if(Sh(M)||$d(M))return v=v.get(b)||null,c(x,v,M,w,null);Jg(x,M)}return null}function g(v,x,b,M){for(var w=null,E=null,P=x,A=x=0,C=null;P!==null&&A<b.length;A++){P.index>A?(C=P,P=null):C=P.sibling;var N=p(v,P,b[A],M);if(N===null){P===null&&(P=C);break}t&&P&&N.alternate===null&&e(v,P),x=a(N,x,A),E===null?w=N:E.sibling=N,E=N,P=C}if(A===b.length)return n(v,P),bn&&jl(v,A),w;if(P===null){for(;A<b.length;A++)P=f(v,b[A],M),P!==null&&(x=a(P,x,A),E===null?w=P:E.sibling=P,E=P);return bn&&jl(v,A),w}for(P=r(v,P);A<b.length;A++)C=m(P,v,A,b[A],M),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?A:C.key),x=a(C,x,A),E===null?w=C:E.sibling=C,E=C);return t&&P.forEach(function(I){return e(v,I)}),bn&&jl(v,A),w}function _(v,x,b,M){var w=$d(b);if(typeof w!="function")throw Error(Re(150));if(b=w.call(b),b==null)throw Error(Re(151));for(var E=w=null,P=x,A=x=0,C=null,N=b.next();P!==null&&!N.done;A++,N=b.next()){P.index>A?(C=P,P=null):C=P.sibling;var I=p(v,P,N.value,M);if(I===null){P===null&&(P=C);break}t&&P&&I.alternate===null&&e(v,P),x=a(I,x,A),E===null?w=I:E.sibling=I,E=I,P=C}if(N.done)return n(v,P),bn&&jl(v,A),w;if(P===null){for(;!N.done;A++,N=b.next())N=f(v,N.value,M),N!==null&&(x=a(N,x,A),E===null?w=N:E.sibling=N,E=N);return bn&&jl(v,A),w}for(P=r(v,P);!N.done;A++,N=b.next())N=m(P,v,A,N.value,M),N!==null&&(t&&N.alternate!==null&&P.delete(N.key===null?A:N.key),x=a(N,x,A),E===null?w=N:E.sibling=N,E=N);return t&&P.forEach(function(k){return e(v,k)}),bn&&jl(v,A),w}function y(v,x,b,M){if(typeof b=="object"&&b!==null&&b.type===kc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case jg:e:{for(var w=b.key,E=x;E!==null;){if(E.key===w){if(w=b.type,w===kc){if(E.tag===7){n(v,E.sibling),x=i(E,b.props.children),x.return=v,v=x;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===As&&YO(w)===E.type){n(v,E.sibling),x=i(E,b.props),x.ref=Xd(v,E,b),x.return=v,v=x;break e}n(v,E);break}else e(v,E);E=E.sibling}b.type===kc?(x=ou(b.props.children,v.mode,M,b.key),x.return=v,v=x):(M=My(b.type,b.key,b.props,null,v.mode,M),M.ref=Xd(v,x,b),M.return=v,v=M)}return o(v);case Dc:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=p1(b,v.mode,M),x.return=v,v=x}return o(v);case As:return E=b._init,y(v,x,E(b._payload),M)}if(Sh(b))return g(v,x,b,M);if($d(b))return _(v,x,b,M);Jg(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,b),x.return=v,v=x):(n(v,x),x=h1(b,v.mode,M),x.return=v,v=x),o(v)):n(v,x)}return y}var mf=IU(!0),RU=IU(!1),$y=al(null),Vy=null,Hc=null,aT=null;function oT(){aT=Hc=Vy=null}function sT(t){var e=$y.current;xn($y),t._currentValue=e}function bM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function af(t,e){Vy=t,aT=Hc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function ca(t){var e=t._currentValue;if(aT!==t)if(t={context:t,memoizedValue:e,next:null},Hc===null){if(Vy===null)throw Error(Re(308));Hc=t,Vy.dependencies={lanes:0,firstContext:t}}else Hc=Hc.next=t;return e}var Yl=null;function lT(t){Yl===null?Yl=[t]:Yl.push(t)}function NU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yo(t,r)}function Yo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ts=!1;function uT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $o(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ht&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yo(t,n)}return i=r.interleaved,i===null?(e.next=e,lT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yo(t,n)}function yy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qA(t,n)}}function KO(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hy(t,e,n,r){var i=t.updateQueue;Ts=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var p=s.lane,m=s.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,_=s;switch(p=e,m=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=On({},f,p);break e;case 2:Ts=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);vu|=o,t.lanes=o,t.memoizedState=f}}function ZO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Re(191,i));i.call(r)}}}var bm={},lo=al(bm),dp=al(bm),hp=al(bm);function Kl(t){if(t===bm)throw Error(Re(174));return t}function cT(t,e){switch(pn(hp,e),pn(dp,t),pn(lo,bm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tM(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tM(e,t)}xn(lo),pn(lo,e)}function gf(){xn(lo),xn(dp),xn(hp)}function DU(t){Kl(hp.current);var e=Kl(lo.current),n=tM(e,t.type);e!==n&&(pn(dp,t),pn(lo,n))}function fT(t){dp.current===t&&(xn(lo),xn(dp))}var An=al(0);function Gy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s1=[];function dT(){for(var t=0;t<s1.length;t++)s1[t]._workInProgressVersionPrimary=null;s1.length=0}var xy=rs.ReactCurrentDispatcher,l1=rs.ReactCurrentBatchConfig,gu=0,Pn=null,Qn=null,fr=null,Wy=!1,Lh=!1,pp=0,xH=0;function Tr(){throw Error(Re(321))}function hT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fa(t[n],e[n]))return!1;return!0}function pT(t,e,n,r,i,a){if(gu=a,Pn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xy.current=t===null||t.memoizedState===null?wH:MH,t=n(r,i),Lh){a=0;do{if(Lh=!1,pp=0,25<=a)throw Error(Re(301));a+=1,fr=Qn=null,e.updateQueue=null,xy.current=EH,t=n(r,i)}while(Lh)}if(xy.current=Xy,e=Qn!==null&&Qn.next!==null,gu=0,fr=Qn=Pn=null,Wy=!1,e)throw Error(Re(300));return t}function mT(){var t=pp!==0;return pp=0,t}function to(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Pn.memoizedState=fr=t:fr=fr.next=t,fr}function fa(){if(Qn===null){var t=Pn.alternate;t=t!==null?t.memoizedState:null}else t=Qn.next;var e=fr===null?Pn.memoizedState:fr.next;if(e!==null)fr=e,Qn=t;else{if(t===null)throw Error(Re(310));Qn=t,t={memoizedState:Qn.memoizedState,baseState:Qn.baseState,baseQueue:Qn.baseQueue,queue:Qn.queue,next:null},fr===null?Pn.memoizedState=fr=t:fr=fr.next=t}return fr}function mp(t,e){return typeof e=="function"?e(t):e}function u1(t){var e=fa(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=Qn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((gu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Pn.lanes|=c,vu|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,Fa(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Pn.lanes|=a,vu|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function c1(t){var e=fa(),n=e.queue;if(n===null)throw Error(Re(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Fa(a,e.memoizedState)||(ui=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function kU(){}function UU(t,e){var n=Pn,r=fa(),i=e(),a=!Fa(r.memoizedState,i);if(a&&(r.memoizedState=i,ui=!0),r=r.queue,gT(zU.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||fr!==null&&fr.memoizedState.tag&1){if(n.flags|=2048,gp(9,BU.bind(null,n,r,i,e),void 0,null),hr===null)throw Error(Re(349));gu&30||FU(n,e,i)}return i}function FU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BU(t,e,n,r){e.value=n,e.getSnapshot=r,jU(e)&&$U(t)}function zU(t,e,n){return n(function(){jU(e)&&$U(t)})}function jU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fa(t,n)}catch{return!0}}function $U(t){var e=Yo(t,1);e!==null&&ka(e,t,1,-1)}function JO(t){var e=to();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:t},e.queue=t,t=t.dispatch=SH.bind(null,Pn,t),[e.memoizedState,t]}function gp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Pn.updateQueue,e===null?(e={lastEffect:null,stores:null},Pn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VU(){return fa().memoizedState}function _y(t,e,n,r){var i=to();Pn.flags|=t,i.memoizedState=gp(1|e,n,void 0,r===void 0?null:r)}function e_(t,e,n,r){var i=fa();r=r===void 0?null:r;var a=void 0;if(Qn!==null){var o=Qn.memoizedState;if(a=o.destroy,r!==null&&hT(r,o.deps)){i.memoizedState=gp(e,n,a,r);return}}Pn.flags|=t,i.memoizedState=gp(1|e,n,a,r)}function QO(t,e){return _y(8390656,8,t,e)}function gT(t,e){return e_(2048,8,t,e)}function HU(t,e){return e_(4,2,t,e)}function GU(t,e){return e_(4,4,t,e)}function WU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XU(t,e,n){return n=n!=null?n.concat([t]):null,e_(4,4,WU.bind(null,e,t),n)}function vT(){}function qU(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YU(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KU(t,e,n){return gu&21?(Fa(n,e)||(n=tU(),Pn.lanes|=n,vu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function _H(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var r=l1.transition;l1.transition={};try{t(!1),e()}finally{rn=n,l1.transition=r}}function ZU(){return fa().memoizedState}function bH(t,e,n){var r=Xs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},JU(t))QU(e,n);else if(n=NU(t,e,n,r),n!==null){var i=qr();ka(n,t,r,i),eF(n,e,r)}}function SH(t,e,n){var r=Xs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(JU(t))QU(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Fa(s,o)){var l=e.interleaved;l===null?(i.next=i,lT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NU(t,e,i,r),n!==null&&(i=qr(),ka(n,t,r,i),eF(n,e,r))}}function JU(t){var e=t.alternate;return t===Pn||e!==null&&e===Pn}function QU(t,e){Lh=Wy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qA(t,n)}}var Xy={readContext:ca,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},wH={readContext:ca,useCallback:function(t,e){return to().memoizedState=[t,e===void 0?null:e],t},useContext:ca,useEffect:QO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_y(4194308,4,WU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _y(4194308,4,t,e)},useInsertionEffect:function(t,e){return _y(4,2,t,e)},useMemo:function(t,e){var n=to();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=to();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bH.bind(null,Pn,t),[r.memoizedState,t]},useRef:function(t){var e=to();return t={current:t},e.memoizedState=t},useState:JO,useDebugValue:vT,useDeferredValue:function(t){return to().memoizedState=t},useTransition:function(){var t=JO(!1),e=t[0];return t=_H.bind(null,t[1]),to().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Pn,i=to();if(bn){if(n===void 0)throw Error(Re(407));n=n()}else{if(n=e(),hr===null)throw Error(Re(349));gu&30||FU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,QO(zU.bind(null,r,a,t),[t]),r.flags|=2048,gp(9,BU.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=to(),e=hr.identifierPrefix;if(bn){var n=Fo,r=Uo;n=(r&~(1<<32-Da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xH++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},MH={readContext:ca,useCallback:qU,useContext:ca,useEffect:gT,useImperativeHandle:XU,useInsertionEffect:HU,useLayoutEffect:GU,useMemo:YU,useReducer:u1,useRef:VU,useState:function(){return u1(mp)},useDebugValue:vT,useDeferredValue:function(t){var e=fa();return KU(e,Qn.memoizedState,t)},useTransition:function(){var t=u1(mp)[0],e=fa().memoizedState;return[t,e]},useMutableSource:kU,useSyncExternalStore:UU,useId:ZU,unstable_isNewReconciler:!1},EH={readContext:ca,useCallback:qU,useContext:ca,useEffect:gT,useImperativeHandle:XU,useInsertionEffect:HU,useLayoutEffect:GU,useMemo:YU,useReducer:c1,useRef:VU,useState:function(){return c1(mp)},useDebugValue:vT,useDeferredValue:function(t){var e=fa();return Qn===null?e.memoizedState=t:KU(e,Qn.memoizedState,t)},useTransition:function(){var t=c1(mp)[0],e=fa().memoizedState;return[t,e]},useMutableSource:kU,useSyncExternalStore:UU,useId:ZU,unstable_isNewReconciler:!1};function Ea(t,e){if(t&&t.defaultProps){e=On({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function SM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:On({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var t_={isMounted:function(t){return(t=t._reactInternals)?Ru(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qr(),i=Xs(t),a=$o(r,i);a.payload=e,n!=null&&(a.callback=n),e=Gs(t,a,i),e!==null&&(ka(e,t,i,r),yy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qr(),i=Xs(t),a=$o(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Gs(t,a,i),e!==null&&(ka(e,t,i,r),yy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qr(),r=Xs(t),i=$o(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gs(t,i,r),e!==null&&(ka(e,t,r,n),yy(e,t,r))}};function eI(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!lp(n,r)||!lp(i,a):!0}function tF(t,e,n){var r=!1,i=el,a=e.contextType;return typeof a=="object"&&a!==null?a=ca(a):(i=hi(e)?pu:Br.current,r=e.contextTypes,a=(r=r!=null)?hf(t,i):el),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=t_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function tI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&t_.enqueueReplaceState(e,e.state,null)}function wM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ca(a):(a=hi(e)?pu:Br.current,i.context=hf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(SM(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&t_.enqueueReplaceState(i,i.state,null),Hy(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function vf(t,e){try{var n="",r=e;do n+=QV(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function f1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function MM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AH=typeof WeakMap=="function"?WeakMap:Map;function nF(t,e,n){n=$o(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yy||(Yy=!0,LM=r),MM(t,e)},n}function rF(t,e,n){n=$o(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){MM(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){MM(t,e),typeof r!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AH;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zH.bind(null,t,e,n),e.then(t,t))}function rI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$o(-1,1),e.tag=2,Gs(n,e,1))),n.lanes|=1),t)}var TH=rs.ReactCurrentOwner,ui=!1;function Hr(t,e,n,r){e.child=t===null?RU(e,null,n,r):mf(e,t.child,n,r)}function aI(t,e,n,r,i){n=n.render;var a=e.ref;return af(e,i),r=pT(t,e,n,r,a,i),n=mT(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(bn&&n&&nT(e),e.flags|=1,Hr(t,e,r,i),e.child)}function oI(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ET(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,iF(t,e,a,r,i)):(t=My(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:lp,n(o,r)&&t.ref===e.ref)return Ko(t,e,i)}return e.flags|=1,t=qs(a,r),t.ref=e.ref,t.return=e,e.child=t}function iF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(lp(a,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,Ko(t,e,i)}return EM(t,e,n,r,i)}function aF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(Wc,Ti),Ti|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(Wc,Ti),Ti|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,pn(Wc,Ti),Ti|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,pn(Wc,Ti),Ti|=r;return Hr(t,e,i,n),e.child}function oF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function EM(t,e,n,r,i){var a=hi(n)?pu:Br.current;return a=hf(e,a),af(e,i),n=pT(t,e,n,r,a,i),r=mT(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ko(t,e,i)):(bn&&r&&nT(e),e.flags|=1,Hr(t,e,n,i),e.child)}function sI(t,e,n,r,i){if(hi(n)){var a=!0;By(e)}else a=!1;if(af(e,i),e.stateNode===null)by(t,e),tF(e,n,r),wM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ca(u):(u=hi(n)?pu:Br.current,u=hf(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&tI(e,o,r,u),Ts=!1;var p=e.memoizedState;o.state=p,Hy(e,r,o,i),l=e.memoizedState,s!==r||p!==l||di.current||Ts?(typeof c=="function"&&(SM(e,n,c,r),l=e.memoizedState),(s=Ts||eI(e,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,LU(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Ea(e.type,s),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ca(l):(l=hi(n)?pu:Br.current,l=hf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&tI(e,o,r,l),Ts=!1,p=e.memoizedState,o.state=p,Hy(e,r,o,i);var g=e.memoizedState;s!==f||p!==g||di.current||Ts?(typeof m=="function"&&(SM(e,n,m,r),g=e.memoizedState),(u=Ts||eI(e,n,u,r,p,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return AM(t,e,n,r,a,i)}function AM(t,e,n,r,i,a){oF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&WO(e,n,!1),Ko(t,e,a);r=e.stateNode,TH.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=mf(e,t.child,null,a),e.child=mf(e,null,s,a)):Hr(t,e,s,a),e.memoizedState=r.state,i&&WO(e,n,!0),e.child}function sF(t){var e=t.stateNode;e.pendingContext?GO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GO(t,e.context,!1),cT(t,e.containerInfo)}function lI(t,e,n,r,i){return pf(),iT(i),e.flags|=256,Hr(t,e,n,r),e.child}var TM={dehydrated:null,treeContext:null,retryLane:0};function PM(t){return{baseLanes:t,cachePool:null,transitions:null}}function lF(t,e,n){var r=e.pendingProps,i=An.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(An,i&1),t===null)return _M(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=i_(o,r,0,null),t=ou(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=PM(n),e.memoizedState=TM,t):yT(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return PH(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=qs(s,a):(a=ou(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?PM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=TM,r}return a=t.child,t=a.sibling,r=qs(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yT(t,e){return e=i_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qg(t,e,n,r){return r!==null&&iT(r),mf(e,t.child,null,n),t=yT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PH(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=f1(Error(Re(422))),Qg(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=i_({mode:"visible",children:r.children},i,0,null),a=ou(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&mf(e,t.child,null,o),e.child.memoizedState=PM(o),e.memoizedState=TM,a);if(!(e.mode&1))return Qg(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(Re(419)),r=f1(a,r,void 0),Qg(t,e,o,r)}if(s=(o&t.childLanes)!==0,ui||s){if(r=hr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Yo(t,i),ka(r,t,i,-1))}return MT(),r=f1(Error(Re(421))),Qg(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jH.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ii=Hs(i.nextSibling),Ni=e,bn=!0,Oa=null,t!==null&&(ta[na++]=Uo,ta[na++]=Fo,ta[na++]=mu,Uo=t.id,Fo=t.overflow,mu=e),e=yT(e,r.children),e.flags|=4096,e)}function uI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bM(t.return,e,n)}function d1(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function uF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Hr(t,e,r.children,n),r=An.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uI(t,n,e);else if(t.tag===19)uI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(An,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),d1(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}d1(e,!0,n,null,a);break;case"together":d1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function by(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ko(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Re(153));if(e.child!==null){for(t=e.child,n=qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CH(t,e,n){switch(e.tag){case 3:sF(e),pf();break;case 5:DU(e);break;case 1:hi(e.type)&&By(e);break;case 4:cT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn($y,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(An,An.current&1),e.flags|=128,null):n&e.child.childLanes?lF(t,e,n):(pn(An,An.current&1),t=Ko(t,e,n),t!==null?t.sibling:null);pn(An,An.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(An,An.current),r)break;return null;case 22:case 23:return e.lanes=0,aF(t,e,n)}return Ko(t,e,n)}var cF,CM,fF,dF;cF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};CM=function(){};fF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Kl(lo.current);var a=null;switch(n){case"input":i=Zw(t,i),r=Zw(t,r),a=[];break;case"select":i=On({},i,{value:void 0}),r=On({},r,{value:void 0}),a=[];break;case"textarea":i=eM(t,i),r=eM(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uy)}nM(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tp.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&mn("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};dF=function(t,e,n,r){n!==r&&(e.flags|=4)};function qd(t,e){if(!bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OH(t,e,n){var r=e.pendingProps;switch(rT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(e),null;case 1:return hi(e.type)&&Fy(),Pr(e),null;case 3:return r=e.stateNode,gf(),xn(di),xn(Br),dT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Oa!==null&&(UM(Oa),Oa=null))),CM(t,e),Pr(e),null;case 5:fT(e);var i=Kl(hp.current);if(n=e.type,t!==null&&e.stateNode!=null)fF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Re(166));return Pr(e),null}if(t=Kl(lo.current),Zg(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[no]=e,r[fp]=a,t=(e.mode&1)!==0,n){case"dialog":mn("cancel",r),mn("close",r);break;case"iframe":case"object":case"embed":mn("load",r);break;case"video":case"audio":for(i=0;i<Mh.length;i++)mn(Mh[i],r);break;case"source":mn("error",r);break;case"img":case"image":case"link":mn("error",r),mn("load",r);break;case"details":mn("toggle",r);break;case"input":yO(r,a),mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},mn("invalid",r);break;case"textarea":_O(r,a),mn("invalid",r)}nM(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Kg(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Kg(r.textContent,s,t),i=["children",""+s]):tp.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&mn("scroll",r)}switch(n){case"input":$g(r),xO(r,a,!0);break;case"textarea":$g(r),bO(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Uy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[no]=e,t[fp]=r,cF(t,e,!1,!1),e.stateNode=t;e:{switch(o=rM(n,r),n){case"dialog":mn("cancel",t),mn("close",t),i=r;break;case"iframe":case"object":case"embed":mn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mh.length;i++)mn(Mh[i],t);i=r;break;case"source":mn("error",t),i=r;break;case"img":case"image":case"link":mn("error",t),mn("load",t),i=r;break;case"details":mn("toggle",t),i=r;break;case"input":yO(t,r),i=Zw(t,r),mn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=On({},r,{value:void 0}),mn("invalid",t);break;case"textarea":_O(t,r),i=eM(t,r),mn("invalid",t);break;default:i=r}nM(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?Vk(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jk(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&np(t,l):typeof l=="number"&&np(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(tp.hasOwnProperty(a)?l!=null&&a==="onScroll"&&mn("scroll",t):l!=null&&$A(t,a,l,o))}switch(n){case"input":$g(t),xO(t,r,!1);break;case"textarea":$g(t),bO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qs(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ef(t,!!r.multiple,a,!1):r.defaultValue!=null&&ef(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pr(e),null;case 6:if(t&&e.stateNode!=null)dF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Re(166));if(n=Kl(hp.current),Kl(lo.current),Zg(e)){if(r=e.stateNode,n=e.memoizedProps,r[no]=e,(a=r.nodeValue!==n)&&(t=Ni,t!==null))switch(t.tag){case 3:Kg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kg(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[no]=e,e.stateNode=r}return Pr(e),null;case 13:if(xn(An),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bn&&Ii!==null&&e.mode&1&&!(e.flags&128))OU(),pf(),e.flags|=98560,a=!1;else if(a=Zg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(Re(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Re(317));a[no]=e}else pf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pr(e),a=!1}else Oa!==null&&(UM(Oa),Oa=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||An.current&1?er===0&&(er=3):MT())),e.updateQueue!==null&&(e.flags|=4),Pr(e),null);case 4:return gf(),CM(t,e),t===null&&up(e.stateNode.containerInfo),Pr(e),null;case 10:return sT(e.type._context),Pr(e),null;case 17:return hi(e.type)&&Fy(),Pr(e),null;case 19:if(xn(An),a=e.memoizedState,a===null)return Pr(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)qd(a,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gy(t),o!==null){for(e.flags|=128,qd(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(An,An.current&1|2),e.child}t=t.sibling}a.tail!==null&&Fn()>yf&&(e.flags|=128,r=!0,qd(a,!1),e.lanes=4194304)}else{if(!r)if(t=Gy(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qd(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!bn)return Pr(e),null}else 2*Fn()-a.renderingStartTime>yf&&n!==1073741824&&(e.flags|=128,r=!0,qd(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Fn(),e.sibling=null,n=An.current,pn(An,r?n&1|2:n&1),e):(Pr(e),null);case 22:case 23:return wT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ti&1073741824&&(Pr(e),e.subtreeFlags&6&&(e.flags|=8192)):Pr(e),null;case 24:return null;case 25:return null}throw Error(Re(156,e.tag))}function IH(t,e){switch(rT(e),e.tag){case 1:return hi(e.type)&&Fy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gf(),xn(di),xn(Br),dT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fT(e),null;case 13:if(xn(An),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Re(340));pf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xn(An),null;case 4:return gf(),null;case 10:return sT(e.type._context),null;case 22:case 23:return wT(),null;case 24:return null;default:return null}}var ev=!1,Nr=!1,RH=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Gc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ln(t,e,r)}else n.current=null}function OM(t,e,n){try{n()}catch(r){Ln(t,e,r)}}var cI=!1;function NH(t,e){if(hM=Ly,t=vU(),tT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(s=o),p===a&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pM={focusedElem:t,selectionRange:n},Ly=!1,rt=e;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,y=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ea(e.type,_),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(M){Ln(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}return g=cI,cI=!1,g}function Dh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&OM(e,n,a)}i=i.next}while(i!==r)}}function n_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function IM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hF(t){var e=t.alternate;e!==null&&(t.alternate=null,hF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[no],delete e[fp],delete e[vM],delete e[mH],delete e[gH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pF(t){return t.tag===5||t.tag===3||t.tag===4}function fI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function RM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uy));else if(r!==4&&(t=t.child,t!==null))for(RM(t,e,n),t=t.sibling;t!==null;)RM(t,e,n),t=t.sibling}function NM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(NM(t,e,n),t=t.sibling;t!==null;)NM(t,e,n),t=t.sibling}var vr=null,Aa=!1;function ys(t,e,n){for(n=n.child;n!==null;)mF(t,e,n),n=n.sibling}function mF(t,e,n){if(so&&typeof so.onCommitFiberUnmount=="function")try{so.onCommitFiberUnmount(qx,n)}catch{}switch(n.tag){case 5:Nr||Gc(n,e);case 6:var r=vr,i=Aa;vr=null,ys(t,e,n),vr=r,Aa=i,vr!==null&&(Aa?(t=vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vr.removeChild(n.stateNode));break;case 18:vr!==null&&(Aa?(t=vr,n=n.stateNode,t.nodeType===8?a1(t.parentNode,n):t.nodeType===1&&a1(t,n),op(t)):a1(vr,n.stateNode));break;case 4:r=vr,i=Aa,vr=n.stateNode.containerInfo,Aa=!0,ys(t,e,n),vr=r,Aa=i;break;case 0:case 11:case 14:case 15:if(!Nr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&OM(n,e,o),i=i.next}while(i!==r)}ys(t,e,n);break;case 1:if(!Nr&&(Gc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ln(n,e,s)}ys(t,e,n);break;case 21:ys(t,e,n);break;case 22:n.mode&1?(Nr=(r=Nr)||n.memoizedState!==null,ys(t,e,n),Nr=r):ys(t,e,n);break;default:ys(t,e,n)}}function dI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RH),e.forEach(function(r){var i=$H.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _a(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:vr=s.stateNode,Aa=!1;break e;case 3:vr=s.stateNode.containerInfo,Aa=!0;break e;case 4:vr=s.stateNode.containerInfo,Aa=!0;break e}s=s.return}if(vr===null)throw Error(Re(160));mF(a,o,i),vr=null,Aa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ln(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gF(e,t),e=e.sibling}function gF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_a(e,t),Ka(t),r&4){try{Dh(3,t,t.return),n_(3,t)}catch(_){Ln(t,t.return,_)}try{Dh(5,t,t.return)}catch(_){Ln(t,t.return,_)}}break;case 1:_a(e,t),Ka(t),r&512&&n!==null&&Gc(n,n.return);break;case 5:if(_a(e,t),Ka(t),r&512&&n!==null&&Gc(n,n.return),t.flags&32){var i=t.stateNode;try{np(i,"")}catch(_){Ln(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Fk(i,a),rM(s,o);var u=rM(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Vk(i,f):c==="dangerouslySetInnerHTML"?jk(i,f):c==="children"?np(i,f):$A(i,c,f,u)}switch(s){case"input":Jw(i,a);break;case"textarea":Bk(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ef(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?ef(i,!!a.multiple,a.defaultValue,!0):ef(i,!!a.multiple,a.multiple?[]:"",!1))}i[fp]=a}catch(_){Ln(t,t.return,_)}}break;case 6:if(_a(e,t),Ka(t),r&4){if(t.stateNode===null)throw Error(Re(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(_){Ln(t,t.return,_)}}break;case 3:if(_a(e,t),Ka(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{op(e.containerInfo)}catch(_){Ln(t,t.return,_)}break;case 4:_a(e,t),Ka(t);break;case 13:_a(e,t),Ka(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(bT=Fn())),r&4&&dI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Nr=(u=Nr)||c,_a(e,t),Nr=u):_a(e,t),Ka(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(rt=t,c=t.child;c!==null;){for(f=rt=c;rt!==null;){switch(p=rt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Dh(4,p,p.return);break;case 1:Gc(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Ln(r,n,_)}}break;case 5:Gc(p,p.return);break;case 22:if(p.memoizedState!==null){pI(f);continue}}m!==null?(m.return=p,rt=m):pI(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$k("display",o))}catch(_){Ln(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){Ln(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:_a(e,t),Ka(t),r&4&&dI(t);break;case 21:break;default:_a(e,t),Ka(t)}}function Ka(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pF(n)){var r=n;break e}n=n.return}throw Error(Re(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(np(i,""),r.flags&=-33);var a=fI(t);NM(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=fI(t);RM(t,s,o);break;default:throw Error(Re(161))}}catch(l){Ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LH(t,e,n){rt=t,vF(t)}function vF(t,e,n){for(var r=(t.mode&1)!==0;rt!==null;){var i=rt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ev;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Nr;s=ev;var u=Nr;if(ev=o,(Nr=l)&&!u)for(rt=i;rt!==null;)o=rt,l=o.child,o.tag===22&&o.memoizedState!==null?mI(i):l!==null?(l.return=o,rt=l):mI(i);for(;a!==null;)rt=a,vF(a),a=a.sibling;rt=i,ev=s,Nr=u}hI(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,rt=a):hI(t)}}function hI(t){for(;rt!==null;){var e=rt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Nr||n_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ea(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&ZO(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZO(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&op(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Nr||e.flags&512&&IM(e)}catch(p){Ln(e,e.return,p)}}if(e===t){rt=null;break}if(n=e.sibling,n!==null){n.return=e.return,rt=n;break}rt=e.return}}function pI(t){for(;rt!==null;){var e=rt;if(e===t){rt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,rt=n;break}rt=e.return}}function mI(t){for(;rt!==null;){var e=rt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{n_(4,e)}catch(l){Ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ln(e,i,l)}}var a=e.return;try{IM(e)}catch(l){Ln(e,a,l)}break;case 5:var o=e.return;try{IM(e)}catch(l){Ln(e,o,l)}}}catch(l){Ln(e,e.return,l)}if(e===t){rt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,rt=s;break}rt=e.return}}var DH=Math.ceil,qy=rs.ReactCurrentDispatcher,xT=rs.ReactCurrentOwner,oa=rs.ReactCurrentBatchConfig,Ht=0,hr=null,Wn=null,xr=0,Ti=0,Wc=al(0),er=0,vp=null,vu=0,r_=0,_T=0,kh=null,si=null,bT=0,yf=1/0,No=null,Yy=!1,LM=null,Ws=null,tv=!1,Ds=null,Ky=0,Uh=0,DM=null,Sy=-1,wy=0;function qr(){return Ht&6?Fn():Sy!==-1?Sy:Sy=Fn()}function Xs(t){return t.mode&1?Ht&2&&xr!==0?xr&-xr:yH.transition!==null?(wy===0&&(wy=tU()),wy):(t=rn,t!==0||(t=window.event,t=t===void 0?16:lU(t.type)),t):1}function ka(t,e,n,r){if(50<Uh)throw Uh=0,DM=null,Error(Re(185));ym(t,n,r),(!(Ht&2)||t!==hr)&&(t===hr&&(!(Ht&2)&&(r_|=n),er===4&&Is(t,xr)),pi(t,r),n===1&&Ht===0&&!(e.mode&1)&&(yf=Fn()+500,Qx&&ol()))}function pi(t,e){var n=t.callbackNode;y8(t,e);var r=Ny(t,t===hr?xr:0);if(r===0)n!==null&&MO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MO(n),e===1)t.tag===0?vH(gI.bind(null,t)):TU(gI.bind(null,t)),hH(function(){!(Ht&6)&&ol()}),n=null;else{switch(nU(r)){case 1:n=XA;break;case 4:n=Qk;break;case 16:n=Ry;break;case 536870912:n=eU;break;default:n=Ry}n=EF(n,yF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yF(t,e){if(Sy=-1,wy=0,Ht&6)throw Error(Re(327));var n=t.callbackNode;if(of()&&t.callbackNode!==n)return null;var r=Ny(t,t===hr?xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zy(t,r);else{e=r;var i=Ht;Ht|=2;var a=_F();(hr!==t||xr!==e)&&(No=null,yf=Fn()+500,au(t,e));do try{FH();break}catch(s){xF(t,s)}while(!0);oT(),qy.current=a,Ht=i,Wn!==null?e=0:(hr=null,xr=0,e=er)}if(e!==0){if(e===2&&(i=lM(t),i!==0&&(r=i,e=kM(t,i))),e===1)throw n=vp,au(t,0),Is(t,r),pi(t,Fn()),n;if(e===6)Is(t,r);else{if(i=t.current.alternate,!(r&30)&&!kH(i)&&(e=Zy(t,r),e===2&&(a=lM(t),a!==0&&(r=a,e=kM(t,a))),e===1))throw n=vp,au(t,0),Is(t,r),pi(t,Fn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Re(345));case 2:$l(t,si,No);break;case 3:if(Is(t,r),(r&130023424)===r&&(e=bT+500-Fn(),10<e)){if(Ny(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gM($l.bind(null,t,si,No),e);break}$l(t,si,No);break;case 4:if(Is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Da(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=Fn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DH(r/1960))-r,10<r){t.timeoutHandle=gM($l.bind(null,t,si,No),r);break}$l(t,si,No);break;case 5:$l(t,si,No);break;default:throw Error(Re(329))}}}return pi(t,Fn()),t.callbackNode===n?yF.bind(null,t):null}function kM(t,e){var n=kh;return t.current.memoizedState.isDehydrated&&(au(t,e).flags|=256),t=Zy(t,e),t!==2&&(e=si,si=n,e!==null&&UM(e)),t}function UM(t){si===null?si=t:si.push.apply(si,t)}function kH(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fa(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Is(t,e){for(e&=~_T,e&=~r_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Da(e),r=1<<n;t[n]=-1,e&=~r}}function gI(t){if(Ht&6)throw Error(Re(327));of();var e=Ny(t,0);if(!(e&1))return pi(t,Fn()),null;var n=Zy(t,e);if(t.tag!==0&&n===2){var r=lM(t);r!==0&&(e=r,n=kM(t,r))}if(n===1)throw n=vp,au(t,0),Is(t,e),pi(t,Fn()),n;if(n===6)throw Error(Re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,si,No),pi(t,Fn()),null}function ST(t,e){var n=Ht;Ht|=1;try{return t(e)}finally{Ht=n,Ht===0&&(yf=Fn()+500,Qx&&ol())}}function yu(t){Ds!==null&&Ds.tag===0&&!(Ht&6)&&of();var e=Ht;Ht|=1;var n=oa.transition,r=rn;try{if(oa.transition=null,rn=1,t)return t()}finally{rn=r,oa.transition=n,Ht=e,!(Ht&6)&&ol()}}function wT(){Ti=Wc.current,xn(Wc)}function au(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dH(n)),Wn!==null)for(n=Wn.return;n!==null;){var r=n;switch(rT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fy();break;case 3:gf(),xn(di),xn(Br),dT();break;case 5:fT(r);break;case 4:gf();break;case 13:xn(An);break;case 19:xn(An);break;case 10:sT(r.type._context);break;case 22:case 23:wT()}n=n.return}if(hr=t,Wn=t=qs(t.current,null),xr=Ti=e,er=0,vp=null,_T=r_=vu=0,si=kh=null,Yl!==null){for(e=0;e<Yl.length;e++)if(n=Yl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Yl=null}return t}function xF(t,e){do{var n=Wn;try{if(oT(),xy.current=Xy,Wy){for(var r=Pn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Wy=!1}if(gu=0,fr=Qn=Pn=null,Lh=!1,pp=0,xT.current=null,n===null||n.return===null){er=1,vp=e,Wn=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=xr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=rI(o);if(m!==null){m.flags&=-257,iI(m,o,s,a,e),m.mode&1&&nI(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){nI(a,u,e),MT();break e}l=Error(Re(426))}}else if(bn&&s.mode&1){var y=rI(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),iI(y,o,s,a,e),iT(vf(l,s));break e}}a=l=vf(l,s),er!==4&&(er=2),kh===null?kh=[a]:kh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=nF(a,l,e);KO(a,v);break e;case 1:s=l;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ws===null||!Ws.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var M=rF(a,s,e);KO(a,M);break e}}a=a.return}while(a!==null)}SF(n)}catch(w){e=w,Wn===n&&n!==null&&(Wn=n=n.return);continue}break}while(!0)}function _F(){var t=qy.current;return qy.current=Xy,t===null?Xy:t}function MT(){(er===0||er===3||er===2)&&(er=4),hr===null||!(vu&268435455)&&!(r_&268435455)||Is(hr,xr)}function Zy(t,e){var n=Ht;Ht|=2;var r=_F();(hr!==t||xr!==e)&&(No=null,au(t,e));do try{UH();break}catch(i){xF(t,i)}while(!0);if(oT(),Ht=n,qy.current=r,Wn!==null)throw Error(Re(261));return hr=null,xr=0,er}function UH(){for(;Wn!==null;)bF(Wn)}function FH(){for(;Wn!==null&&!u8();)bF(Wn)}function bF(t){var e=MF(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,e===null?SF(t):Wn=e,xT.current=null}function SF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IH(n,e),n!==null){n.flags&=32767,Wn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,Wn=null;return}}else if(n=OH(n,e,Ti),n!==null){Wn=n;return}if(e=e.sibling,e!==null){Wn=e;return}Wn=e=t}while(e!==null);er===0&&(er=5)}function $l(t,e,n){var r=rn,i=oa.transition;try{oa.transition=null,rn=1,BH(t,e,n,r)}finally{oa.transition=i,rn=r}return null}function BH(t,e,n,r){do of();while(Ds!==null);if(Ht&6)throw Error(Re(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Re(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(x8(t,a),t===hr&&(Wn=hr=null,xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tv||(tv=!0,EF(Ry,function(){return of(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=oa.transition,oa.transition=null;var o=rn;rn=1;var s=Ht;Ht|=4,xT.current=null,NH(t,n),gF(n,t),aH(pM),Ly=!!hM,pM=hM=null,t.current=n,LH(n),c8(),Ht=s,rn=o,oa.transition=a}else t.current=n;if(tv&&(tv=!1,Ds=t,Ky=i),a=t.pendingLanes,a===0&&(Ws=null),h8(n.stateNode),pi(t,Fn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yy)throw Yy=!1,t=LM,LM=null,t;return Ky&1&&t.tag!==0&&of(),a=t.pendingLanes,a&1?t===DM?Uh++:(Uh=0,DM=t):Uh=0,ol(),null}function of(){if(Ds!==null){var t=nU(Ky),e=oa.transition,n=rn;try{if(oa.transition=null,rn=16>t?16:t,Ds===null)var r=!1;else{if(t=Ds,Ds=null,Ky=0,Ht&6)throw Error(Re(331));var i=Ht;for(Ht|=4,rt=t.current;rt!==null;){var a=rt,o=a.child;if(rt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(rt=u;rt!==null;){var c=rt;switch(c.tag){case 0:case 11:case 15:Dh(8,c,a)}var f=c.child;if(f!==null)f.return=c,rt=f;else for(;rt!==null;){c=rt;var p=c.sibling,m=c.return;if(hF(c),c===u){rt=null;break}if(p!==null){p.return=m,rt=p;break}rt=m}}}var g=a.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var y=_.sibling;_.sibling=null,_=y}while(_!==null)}}rt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,rt=o;else e:for(;rt!==null;){if(a=rt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Dh(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,rt=v;break e}rt=a.return}}var x=t.current;for(rt=x;rt!==null;){o=rt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,rt=b;else e:for(o=x;rt!==null;){if(s=rt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:n_(9,s)}}catch(w){Ln(s,s.return,w)}if(s===o){rt=null;break e}var M=s.sibling;if(M!==null){M.return=s.return,rt=M;break e}rt=s.return}}if(Ht=i,ol(),so&&typeof so.onPostCommitFiberRoot=="function")try{so.onPostCommitFiberRoot(qx,t)}catch{}r=!0}return r}finally{rn=n,oa.transition=e}}return!1}function vI(t,e,n){e=vf(n,e),e=nF(t,e,1),t=Gs(t,e,1),e=qr(),t!==null&&(ym(t,1,e),pi(t,e))}function Ln(t,e,n){if(t.tag===3)vI(t,t,n);else for(;e!==null;){if(e.tag===3){vI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){t=vf(n,t),t=rF(e,t,1),e=Gs(e,t,1),t=qr(),e!==null&&(ym(e,1,t),pi(e,t));break}}e=e.return}}function zH(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&n,hr===t&&(xr&n)===n&&(er===4||er===3&&(xr&130023424)===xr&&500>Fn()-bT?au(t,0):_T|=n),pi(t,e)}function wF(t,e){e===0&&(t.mode&1?(e=Gg,Gg<<=1,!(Gg&130023424)&&(Gg=4194304)):e=1);var n=qr();t=Yo(t,e),t!==null&&(ym(t,e,n),pi(t,n))}function jH(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wF(t,n)}function $H(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Re(314))}r!==null&&r.delete(e),wF(t,n)}var MF;MF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,CH(t,e,n);ui=!!(t.flags&131072)}else ui=!1,bn&&e.flags&1048576&&PU(e,jy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;by(t,e),t=e.pendingProps;var i=hf(e,Br.current);af(e,n),i=pT(null,e,r,t,i,n);var a=mT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hi(r)?(a=!0,By(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uT(e),i.updater=t_,e.stateNode=i,i._reactInternals=e,wM(e,r,t,n),e=AM(null,e,r,!0,a,n)):(e.tag=0,bn&&a&&nT(e),Hr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(by(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HH(r),t=Ea(r,t),i){case 0:e=EM(null,e,r,t,n);break e;case 1:e=sI(null,e,r,t,n);break e;case 11:e=aI(null,e,r,t,n);break e;case 14:e=oI(null,e,r,Ea(r.type,t),n);break e}throw Error(Re(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),EM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),sI(t,e,r,i,n);case 3:e:{if(sF(e),t===null)throw Error(Re(387));r=e.pendingProps,a=e.memoizedState,i=a.element,LU(t,e),Hy(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=vf(Error(Re(423)),e),e=lI(t,e,r,n,i);break e}else if(r!==i){i=vf(Error(Re(424)),e),e=lI(t,e,r,n,i);break e}else for(Ii=Hs(e.stateNode.containerInfo.firstChild),Ni=e,bn=!0,Oa=null,n=RU(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pf(),r===i){e=Ko(t,e,n);break e}Hr(t,e,r,n)}e=e.child}return e;case 5:return DU(e),t===null&&_M(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,mM(r,i)?o=null:a!==null&&mM(r,a)&&(e.flags|=32),oF(t,e),Hr(t,e,o,n),e.child;case 6:return t===null&&_M(e),null;case 13:return lF(t,e,n);case 4:return cT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=mf(e,null,r,n):Hr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),aI(t,e,r,i,n);case 7:return Hr(t,e,e.pendingProps,n),e.child;case 8:return Hr(t,e,e.pendingProps.children,n),e.child;case 12:return Hr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,pn($y,r._currentValue),r._currentValue=o,a!==null)if(Fa(a.value,o)){if(a.children===i.children&&!di.current){e=Ko(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=$o(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),bM(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Re(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),bM(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Hr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,af(e,n),i=ca(i),r=r(i),e.flags|=1,Hr(t,e,r,n),e.child;case 14:return r=e.type,i=Ea(r,e.pendingProps),i=Ea(r.type,i),oI(t,e,r,i,n);case 15:return iF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ea(r,i),by(t,e),e.tag=1,hi(r)?(t=!0,By(e)):t=!1,af(e,n),tF(e,r,i),wM(e,r,i,n),AM(null,e,r,!0,t,n);case 19:return uF(t,e,n);case 22:return aF(t,e,n)}throw Error(Re(156,e.tag))};function EF(t,e){return Jk(t,e)}function VH(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(t,e,n,r){return new VH(t,e,n,r)}function ET(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HH(t){if(typeof t=="function")return ET(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HA)return 11;if(t===GA)return 14}return 2}function qs(t,e){var n=t.alternate;return n===null?(n=ia(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function My(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")ET(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kc:return ou(n.children,i,a,e);case VA:o=8,i|=8;break;case Xw:return t=ia(12,n,e,i|2),t.elementType=Xw,t.lanes=a,t;case qw:return t=ia(13,n,e,i),t.elementType=qw,t.lanes=a,t;case Yw:return t=ia(19,n,e,i),t.elementType=Yw,t.lanes=a,t;case Dk:return i_(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nk:o=10;break e;case Lk:o=9;break e;case HA:o=11;break e;case GA:o=14;break e;case As:o=16,r=null;break e}throw Error(Re(130,t==null?t:typeof t,""))}return e=ia(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ou(t,e,n,r){return t=ia(7,t,r,e),t.lanes=n,t}function i_(t,e,n,r){return t=ia(22,t,r,e),t.elementType=Dk,t.lanes=n,t.stateNode={isHidden:!1},t}function h1(t,e,n){return t=ia(6,t,null,e),t.lanes=n,t}function p1(t,e,n){return e=ia(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GH(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qS(0),this.expirationTimes=qS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AT(t,e,n,r,i,a,o,s,l){return t=new GH(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ia(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uT(a),t}function WH(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AF(t){if(!t)return el;t=t._reactInternals;e:{if(Ru(t)!==t||t.tag!==1)throw Error(Re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Re(171))}if(t.tag===1){var n=t.type;if(hi(n))return AU(t,n,e)}return e}function TF(t,e,n,r,i,a,o,s,l){return t=AT(n,r,!0,t,i,a,o,s,l),t.context=AF(null),n=t.current,r=qr(),i=Xs(n),a=$o(r,i),a.callback=e??null,Gs(n,a,i),t.current.lanes=i,ym(t,i,r),pi(t,r),t}function a_(t,e,n,r){var i=e.current,a=qr(),o=Xs(i);return n=AF(n),e.context===null?e.context=n:e.pendingContext=n,e=$o(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gs(i,e,o),t!==null&&(ka(t,i,o,a),yy(t,i,o)),o}function Jy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TT(t,e){yI(t,e),(t=t.alternate)&&yI(t,e)}function XH(){return null}var PF=typeof reportError=="function"?reportError:function(t){console.error(t)};function PT(t){this._internalRoot=t}o_.prototype.render=PT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Re(409));a_(t,e,null,null)};o_.prototype.unmount=PT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yu(function(){a_(null,t,null,null)}),e[qo]=null}};function o_(t){this._internalRoot=t}o_.prototype.unstable_scheduleHydration=function(t){if(t){var e=aU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Os.length&&e!==0&&e<Os[n].priority;n++);Os.splice(n,0,t),n===0&&sU(t)}};function CT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xI(){}function qH(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Jy(o);a.call(u)}}var o=TF(e,r,t,0,null,!1,!1,"",xI);return t._reactRootContainer=o,t[qo]=o.current,up(t.nodeType===8?t.parentNode:t),yu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Jy(l);s.call(u)}}var l=AT(t,0,!1,null,null,!1,!1,"",xI);return t._reactRootContainer=l,t[qo]=l.current,up(t.nodeType===8?t.parentNode:t),yu(function(){a_(e,l,n,r)}),l}function l_(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Jy(o);s.call(l)}}a_(e,o,t,i)}else o=qH(n,e,t,i,r);return Jy(o)}rU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wh(e.pendingLanes);n!==0&&(qA(e,n|1),pi(e,Fn()),!(Ht&6)&&(yf=Fn()+500,ol()))}break;case 13:yu(function(){var r=Yo(t,1);if(r!==null){var i=qr();ka(r,t,1,i)}}),TT(t,1)}};YA=function(t){if(t.tag===13){var e=Yo(t,134217728);if(e!==null){var n=qr();ka(e,t,134217728,n)}TT(t,134217728)}};iU=function(t){if(t.tag===13){var e=Xs(t),n=Yo(t,e);if(n!==null){var r=qr();ka(n,t,e,r)}TT(t,e)}};aU=function(){return rn};oU=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};aM=function(t,e,n){switch(e){case"input":if(Jw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jx(r);if(!i)throw Error(Re(90));Uk(r),Jw(r,i)}}}break;case"textarea":Bk(t,n);break;case"select":e=n.value,e!=null&&ef(t,!!n.multiple,e,!1)}};Wk=ST;Xk=yu;var YH={usingClientEntryPoint:!1,Events:[_m,zc,Jx,Hk,Gk,ST]},Yd={findFiberByHostInstance:ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KH={bundleType:Yd.bundleType,version:Yd.version,rendererPackageName:Yd.rendererPackageName,rendererConfig:Yd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kk(t),t===null?null:t.stateNode},findFiberByHostInstance:Yd.findFiberByHostInstance||XH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nv.isDisabled&&nv.supportsFiber)try{qx=nv.inject(KH),so=nv}catch{}}Bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YH;Bi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!CT(e))throw Error(Re(200));return WH(t,e,null,n)};Bi.createRoot=function(t,e){if(!CT(t))throw Error(Re(299));var n=!1,r="",i=PF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=AT(t,1,!1,null,null,n,!1,r,i),t[qo]=e.current,up(t.nodeType===8?t.parentNode:t),new PT(e)};Bi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Re(188)):(t=Object.keys(t).join(","),Error(Re(268,t)));return t=Kk(e),t=t===null?null:t.stateNode,t};Bi.flushSync=function(t){return yu(t)};Bi.hydrate=function(t,e,n){if(!s_(e))throw Error(Re(200));return l_(null,t,e,!0,n)};Bi.hydrateRoot=function(t,e,n){if(!CT(t))throw Error(Re(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=PF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TF(e,null,t,1,n??null,i,!1,a,o),t[qo]=e.current,up(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o_(e)};Bi.render=function(t,e,n){if(!s_(e))throw Error(Re(200));return l_(null,t,e,!1,n)};Bi.unmountComponentAtNode=function(t){if(!s_(t))throw Error(Re(40));return t._reactRootContainer?(yu(function(){l_(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};Bi.unstable_batchedUpdates=ST;Bi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s_(n))throw Error(Re(200));if(t==null||t._reactInternals===void 0)throw Error(Re(38));return l_(t,e,n,!1,r)};Bi.version="18.3.1-next-f1338f8080-20240426";function CF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CF)}catch(t){console.error(t)}}CF(),Ck.exports=Bi;var ZH=Ck.exports,_I=ZH;Gw.createRoot=_I.createRoot,Gw.hydrateRoot=_I.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const bI="popstate";function JH(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:o,hash:s}=r.location;return FM("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qy(i)}return e6(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QH(){return Math.random().toString(36).substr(2,8)}function SI(t,e){return{usr:t.state,key:t.key,idx:e}}function FM(t,e,n,r){return n===void 0&&(n=null),yp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qf(e):e,{state:n,key:e&&e.key||r||QH()})}function Qy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function e6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=ks.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(yp({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function f(){s=ks.Pop;let y=c(),v=y==null?null:y-u;u=y,l&&l({action:s,location:_.location,delta:v})}function p(y,v){s=ks.Push;let x=FM(_.location,y,v);u=c()+1;let b=SI(x,u),M=_.createHref(x);try{o.pushState(b,"",M)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(M)}a&&l&&l({action:s,location:_.location,delta:1})}function m(y,v){s=ks.Replace;let x=FM(_.location,y,v);u=c();let b=SI(x,u),M=_.createHref(x);o.replaceState(b,"",M),a&&l&&l({action:s,location:_.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof y=="string"?y:Qy(y);return x=x.replace(/ $/,"%20"),jn(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let _={get action(){return s},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bI,f),l=y,()=>{i.removeEventListener(bI,f),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:m,go(y){return o.go(y)}};return _}var wI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wI||(wI={}));function t6(t,e,n){return n===void 0&&(n="/"),n6(t,e,n)}function n6(t,e,n,r){let i=typeof e=="string"?Qf(e):e,a=IT(i.pathname||"/",n);if(a==null)return null;let o=OF(t);r6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=m6(a);s=d6(o[l],u)}return s}function OF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ys([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(jn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),OF(a.children,e,c,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:c6(u,a.index),routesMeta:c})};return t.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of IF(a.path))i(a,o,l)}),e}function IF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=IF(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function r6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i6=/^:[\w-]+$/,a6=3,o6=2,s6=1,l6=10,u6=-2,MI=t=>t==="*";function c6(t,e){let n=t.split("/"),r=n.length;return n.some(MI)&&(r+=u6),e&&(r+=o6),n.filter(i=>!MI(i)).reduce((i,a)=>i+(i6.test(a)?a6:a===""?s6:l6),r)}function f6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function d6(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=a==="/"?e:e.slice(a.length)||"/",f=h6({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ys([a,f.pathname]),pathnameBase:_6(Ys([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Ys([a,f.pathnameBase]))}return o}function h6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let _=s[f]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const g=s[f];return m&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function p6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const g6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v6=t=>g6.test(t);function y6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qf(t):t,a;if(n)if(v6(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),OT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=EI(n.substring(1),"/"):a=EI(n,e)}else a=e;return{pathname:a,search:b6(r),hash:S6(i)}}function EI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function m1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RT(t,e){let n=x6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function NT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qf(t):(i=yp({},t),jn(!i.pathname||!i.pathname.includes("?"),m1("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),m1("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),m1("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}s=f>=0?e[f]:"/"}let l=y6(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ys=t=>t.join("/").replace(/\/\/+/g,"/"),_6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,S6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function w6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RF=["post","put","patch","delete"];new Set(RF);const M6=["get",...RF];new Set(M6);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}const LT=z.createContext(null),E6=z.createContext(null),sl=z.createContext(null),u_=z.createContext(null),is=z.createContext({outlet:null,matches:[],isDataRoute:!1}),NF=z.createContext(null);function A6(t,e){let{relative:n}=e===void 0?{}:e;ed()||jn(!1);let{basename:r,navigator:i}=z.useContext(sl),{hash:a,pathname:o,search:s}=DF(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ys([r,o])),i.createHref({pathname:l,search:s,hash:a})}function ed(){return z.useContext(u_)!=null}function Sm(){return ed()||jn(!1),z.useContext(u_).location}function LF(t){z.useContext(sl).static||z.useLayoutEffect(t)}function DT(){let{isDataRoute:t}=z.useContext(is);return t?z6():T6()}function T6(){ed()||jn(!1);let t=z.useContext(LT),{basename:e,future:n,navigator:r}=z.useContext(sl),{matches:i}=z.useContext(is),{pathname:a}=Sm(),o=JSON.stringify(RT(i,n.v7_relativeSplatPath)),s=z.useRef(!1);return LF(()=>{s.current=!0}),z.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=NT(u,JSON.parse(o),a,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ys([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,o,a,t])}function P6(){let{matches:t}=z.useContext(is),e=t[t.length-1];return e?e.params:{}}function DF(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=z.useContext(sl),{matches:i}=z.useContext(is),{pathname:a}=Sm(),o=JSON.stringify(RT(i,r.v7_relativeSplatPath));return z.useMemo(()=>NT(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function C6(t,e){return O6(t,e)}function O6(t,e,n,r){ed()||jn(!1);let{navigator:i}=z.useContext(sl),{matches:a}=z.useContext(is),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Sm(),c;if(e){var f;let y=typeof e=="string"?Qf(e):e;l==="/"||(f=y.pathname)!=null&&f.startsWith(l)||jn(!1),c=y}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=t6(t,{pathname:m}),_=D6(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Ys([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Ys([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,n,r);return e&&_?z.createElement(u_.Provider,{value:{location:xp({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ks.Pop}},_):_}function I6(){let t=B6(),e=w6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:i},n):null,null)}const R6=z.createElement(I6,null);class N6 extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?z.createElement(is.Provider,{value:this.props.routeContext},z.createElement(NF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L6(t){let{routeContext:e,match:n,children:r}=t,i=z.useContext(LT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(is.Provider,{value:e},r)}function D6(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||jn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let f=o[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:p,errors:m}=n,g=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,f,p)=>{let m,g=!1,_=null,y=null;n&&(m=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||R6,l&&(u<0&&p===0?(j6("route-fallback"),g=!0,y=null):u===p&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,p+1)),x=()=>{let b;return m?b=_:g?b=y:f.route.Component?b=z.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=c,z.createElement(L6,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?z.createElement(N6,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var kF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kF||{}),UF=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UF||{});function k6(t){let e=z.useContext(LT);return e||jn(!1),e}function U6(t){let e=z.useContext(E6);return e||jn(!1),e}function F6(t){let e=z.useContext(is);return e||jn(!1),e}function FF(t){let e=F6(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function B6(){var t;let e=z.useContext(NF),n=U6(),r=FF();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function z6(){let{router:t}=k6(kF.UseNavigateStable),e=FF(UF.UseNavigateStable),n=z.useRef(!1);return LF(()=>{n.current=!0}),z.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xp({fromRouteId:e},a)))},[t,e])}const AI={};function j6(t,e,n){AI[t]||(AI[t]=!0)}function $6(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function V6(t){let{to:e,replace:n,state:r,relative:i}=t;ed()||jn(!1);let{future:a,static:o}=z.useContext(sl),{matches:s}=z.useContext(is),{pathname:l}=Sm(),u=DT(),c=NT(e,RT(s,a.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return z.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Rc(t){jn(!1)}function H6(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ks.Pop,navigator:a,static:o=!1,future:s}=t;ed()&&jn(!1);let l=e.replace(/^\/*/,"/"),u=z.useMemo(()=>({basename:l,navigator:a,static:o,future:xp({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof r=="string"&&(r=Qf(r));let{pathname:c="/",search:f="",hash:p="",state:m=null,key:g="default"}=r,_=z.useMemo(()=>{let y=IT(c,l);return y==null?null:{location:{pathname:y,search:f,hash:p,state:m,key:g},navigationType:i}},[l,c,f,p,m,g,i]);return _==null?null:z.createElement(sl.Provider,{value:u},z.createElement(u_.Provider,{children:n,value:_}))}function G6(t){let{children:e,location:n}=t;return C6(BM(e),n)}new Promise(()=>{});function BM(t,e){e===void 0&&(e=[]);let n=[];return z.Children.forEach(t,(r,i)=>{if(!z.isValidElement(r))return;let a=[...e,i];if(r.type===z.Fragment){n.push.apply(n,BM(r.props.children,a));return}r.type!==Rc&&jn(!1),!r.props.index||!r.props.children||jn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=BM(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zM.apply(this,arguments)}function W6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function X6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q6(t,e){return t.button===0&&(!e||e==="_self")&&!X6(t)}const Y6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],K6="6";try{window.__reactRouterVersion=K6}catch{}const Z6="startTransition",TI=zV[Z6];function J6(t){let{basename:e,children:n,future:r,window:i}=t,a=z.useRef();a.current==null&&(a.current=JH({window:i,v5Compat:!0}));let o=a.current,[s,l]=z.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=z.useCallback(f=>{u&&TI?TI(()=>l(f)):l(f)},[l,u]);return z.useLayoutEffect(()=>o.listen(c),[o,c]),z.useEffect(()=>$6(r),[r]),z.createElement(H6,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o,future:r})}const Q6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ks=z.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,p=W6(e,Y6),{basename:m}=z.useContext(sl),g,_=!1;if(typeof u=="string"&&eG.test(u)&&(g=u,Q6))try{let b=new URL(window.location.href),M=u.startsWith("//")?new URL(b.protocol+u):new URL(u),w=IT(M.pathname,m);M.origin===b.origin&&w!=null?u=w+M.search+M.hash:_=!0}catch{}let y=A6(u,{relative:i}),v=tG(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function x(b){r&&r(b),b.defaultPrevented||v(b)}return z.createElement("a",zM({},p,{href:g||y,onClick:_||a?r:x,ref:n,target:l}))});var PI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PI||(PI={}));var CI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CI||(CI={}));function tG(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:s}=e===void 0?{}:e,l=DT(),u=Sm(),c=DF(t,{relative:o});return z.useCallback(f=>{if(q6(f,n)){f.preventDefault();let p=r!==void 0?r:Qy(u)===Qy(c);l(t,{replace:p,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,r,i,n,t,a,o,s])}const nG=()=>{const[t,e]=z.useState(!1);return z.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)");e(n.matches);const r=i=>e(i.matches);return n.addEventListener("change",r),()=>n.removeEventListener("change",r)},[]),t},rG=({children:t,width:e=200,height:n=80,borderRadius:r=20,borderWidth:i=.07,brightness:a=50,opacity:o=.93,blur:s=11,displace:l=0,backgroundOpacity:u=0,saturation:c=1,distortionScale:f=-180,redOffset:p=0,greenOffset:m=10,blueOffset:g=20,xChannel:_="R",yChannel:y="G",mixBlendMode:v="difference",className:x="",style:b={}})=>{const M=z.useId().replace(/:/g,"-"),w=`glass-filter-${M}`,E=`red-grad-${M}`,P=`blue-grad-${M}`,[A,C]=z.useState(!1),N=z.useRef(null),I=z.useRef(null),k=z.useRef(null),B=z.useRef(null),W=z.useRef(null),$=z.useRef(null),H=nG(),V=()=>{var me;const we=(me=N.current)==null?void 0:me.getBoundingClientRect(),De=(we==null?void 0:we.width)||400,ae=(we==null?void 0:we.height)||200,be=Math.min(De,ae)*(i*.5),Ae=`
      <svg viewBox="0 0 ${De} ${ae}" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="${E}" x1="100%" y1="0%" x2="0%" y2="0%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="red"/>
          </linearGradient>
          <linearGradient id="${P}" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#0000"/>
            <stop offset="100%" stop-color="blue"/>
          </linearGradient>
        </defs>
        <rect x="0" y="0" width="${De}" height="${ae}" fill="black"></rect>
        <rect x="0" y="0" width="${De}" height="${ae}" rx="${r}" fill="url(#${E})" />
        <rect x="0" y="0" width="${De}" height="${ae}" rx="${r}" fill="url(#${P})" style="mix-blend-mode: ${v}" />
        <rect x="${be}" y="${be}" width="${De-be*2}" height="${ae-be*2}" rx="${r}" fill="hsl(0 0% ${a}% / ${o})" style="filter:blur(${s}px)" />
      </svg>
    `;return`data:image/svg+xml,${encodeURIComponent(Ae)}`},U=()=>{var we;(we=I.current)==null||we.setAttribute("href",V())};z.useEffect(()=>{var we;U(),[{ref:k,offset:p},{ref:B,offset:m},{ref:W,offset:g}].forEach(({ref:De,offset:ae})=>{De.current&&(De.current.setAttribute("scale",(f+ae).toString()),De.current.setAttribute("xChannelSelector",_),De.current.setAttribute("yChannelSelector",y))}),(we=$.current)==null||we.setAttribute("stdDeviation",l.toString())},[e,n,r,i,a,o,s,l,f,p,m,g,_,y,v]),z.useEffect(()=>{C(j())},[]),z.useEffect(()=>{if(!N.current)return;const we=new ResizeObserver(()=>{setTimeout(U,0)});return we.observe(N.current),()=>{we.disconnect()}},[]),z.useEffect(()=>{setTimeout(U,0)},[e,n]);const j=()=>{if(typeof window>"u"||typeof document>"u")return!1;const we=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent),De=/Firefox/.test(navigator.userAgent);if(we||De)return!1;const ae=document.createElement("div");return ae.style.backdropFilter=`url(#${w})`,ae.style.backdropFilter!==""},Y=()=>typeof window>"u"?!1:CSS.supports("backdrop-filter","blur(10px)"),Z=()=>{const we={...b,width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,borderRadius:`${r}px`,"--glass-frost":u,"--glass-saturation":c},De=Y();return A?{...we,background:H?`hsl(0 0% 0% / ${u})`:`hsl(0 0% 100% / ${u})`,backdropFilter:`url(#${w}) saturate(${c})`,boxShadow:H?`0 0 2px 1px color-mix(in oklch, white, transparent 65%) inset,
             0 0 10px 4px color-mix(in oklch, white, transparent 85%) inset,
             0px 4px 16px rgba(17, 17, 26, 0.05),
             0px 8px 24px rgba(17, 17, 26, 0.05),
             0px 16px 56px rgba(17, 17, 26, 0.05),
             0px 4px 16px rgba(17, 17, 26, 0.05) inset,
             0px 8px 24px rgba(17, 17, 26, 0.05) inset,
             0px 16px 56px rgba(17, 17, 26, 0.05) inset`:`0 0 2px 1px color-mix(in oklch, black, transparent 85%) inset,
             0 0 10px 4px color-mix(in oklch, black, transparent 90%) inset,
             0px 4px 16px rgba(17, 17, 26, 0.05),
             0px 8px 24px rgba(17, 17, 26, 0.05),
             0px 16px 56px rgba(17, 17, 26, 0.05),
             0px 4px 16px rgba(17, 17, 26, 0.05) inset,
             0px 8px 24px rgba(17, 17, 26, 0.05) inset,
             0px 16px 56px rgba(17, 17, 26, 0.05) inset`}:H?De?{...we,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(12px) saturate(1.8) brightness(1.2)",WebkitBackdropFilter:"blur(12px) saturate(1.8) brightness(1.2)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`}:{...we,background:"rgba(0, 0, 0, 0.4)",border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.2),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.1)`}:De?{...we,background:"rgba(255, 255, 255, 0.25)",backdropFilter:"blur(12px) saturate(1.8) brightness(1.1)",WebkitBackdropFilter:"blur(12px) saturate(1.8) brightness(1.1)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:`0 8px 32px 0 rgba(31, 38, 135, 0.2),
                        0 2px 16px 0 rgba(31, 38, 135, 0.1),
                        inset 0 1px 0 0 rgba(255, 255, 255, 0.4),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.2)`}:{...we,background:"rgba(255, 255, 255, 0.4)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:`inset 0 1px 0 0 rgba(255, 255, 255, 0.5),
                        inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)`}},J="relative flex items-center justify-center overflow-hidden transition-opacity duration-[260ms] ease-out",fe=H?"focus-visible:outline-2 focus-visible:outline-[#0A84FF] focus-visible:outline-offset-2":"focus-visible:outline-2 focus-visible:outline-[#007AFF] focus-visible:outline-offset-2";return L.jsxs("div",{ref:N,className:`${J} ${fe} ${x}`,style:Z(),children:[L.jsx("svg",{className:"w-full h-full pointer-events-none absolute inset-0 opacity-0 -z-10",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("defs",{children:L.jsxs("filter",{id:w,colorInterpolationFilters:"sRGB",x:"0%",y:"0%",width:"100%",height:"100%",children:[L.jsx("feImage",{ref:I,x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"none",result:"map"}),L.jsx("feDisplacementMap",{ref:k,in:"SourceGraphic",in2:"map",id:"redchannel",result:"dispRed"}),L.jsx("feColorMatrix",{in:"dispRed",type:"matrix",values:`1 0 0 0 0
                      0 0 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0`,result:"red"}),L.jsx("feDisplacementMap",{ref:B,in:"SourceGraphic",in2:"map",id:"greenchannel",result:"dispGreen"}),L.jsx("feColorMatrix",{in:"dispGreen",type:"matrix",values:`0 0 0 0 0
                      0 1 0 0 0
                      0 0 0 0 0
                      0 0 0 1 0`,result:"green"}),L.jsx("feDisplacementMap",{ref:W,in:"SourceGraphic",in2:"map",id:"bluechannel",result:"dispBlue"}),L.jsx("feColorMatrix",{in:"dispBlue",type:"matrix",values:`0 0 0 0 0
                      0 0 0 0 0
                      0 0 1 0 0
                      0 0 0 1 0`,result:"blue"}),L.jsx("feBlend",{in:"red",in2:"green",mode:"screen",result:"rg"}),L.jsx("feBlend",{in:"rg",in2:"blue",mode:"screen",result:"output"}),L.jsx("feGaussianBlur",{ref:$,in:"output",stdDeviation:"0.7"})]})})}),L.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 rounded-[inherit] relative z-10",children:t})]})};function Ci({className:t="",advanced:e=!1,children:n}){return e?L.jsx(rG,{width:"100%",height:"auto",borderRadius:22,borderWidth:.08,brightness:64,opacity:.88,blur:12,displace:.4,backgroundOpacity:.08,saturation:1.15,distortionScale:-140,className:"!items-stretch !justify-start",style:{minHeight:0},children:L.jsx("div",{className:`w-full ${t}`,children:n})}):L.jsx("div",{className:`w-full rounded-[22px] border border-white/15 bg-slate-900/55 backdrop-blur-md shadow-[inset_0_1px_0_rgba(255,255,255,0.15),0_8px_24px_rgba(2,6,23,0.3)] ${t}`,children:n})}function BF(t){if(t===null)return"";const e=Math.abs(t)>=1e3?Math.round(t):Math.round(t*10)/10,n=Math.abs(t)>=1e3?`${e}%`:`${e.toFixed(1)}%`;return`${t>0?"+":""}${n}`}function jM(t){if(t===null)return"";const e=Math.abs(t);return e>=1e9?`${t<0?"-":""}$${(e/1e9).toFixed(1)}B`:e>=1e6?`${t<0?"-":""}$${(e/1e6).toFixed(1)}M`:e>=1e3?`${t<0?"-":""}$${(e/1e3).toFixed(1)}K`:`${t<0?"-":""}$${e.toFixed(0)}`}function iG(t){return t===null?"":t.toLocaleString()}function aG(t){return t===1?"":t===2?"":t===3?"":""}function zF(t){if(t.avatarUrl)return t.avatarUrl;const e=t.address||"",n=`hsl(${e.split("").reduce((a,o)=>a+o.charCodeAt(0),0)%360}, 70%, 55%)`,r=e.slice(2,4).toUpperCase(),i=`<svg width='64' height='64' xmlns='http://www.w3.org/2000/svg'>
    <circle cx='32' cy='32' r='30' fill='${n}' stroke='white' stroke-width='4'/>
    <text x='50%' y='54%' text-anchor='middle' font-size='28' font-family='Inter,Arial,sans-serif' font-weight='bold' fill='#fff' dy='.3em'>${r}</text>
  </svg>`;return`data:image/svg+xml;base64,${btoa(i.replace(/\n\s+/g,""))}`}function g1({entry:t,onSelect:e,emphasized:n=!1,compact:r=!1}){return L.jsxs("button",{type:"button",onClick:()=>e(t.address),className:`w-full rounded-2xl border p-4 text-left transition ${n?"border-amber-300/50 bg-gradient-to-b from-amber-500/15 to-slate-900/80 shadow-lg shadow-amber-500/20":r?"border-slate-700/70 bg-slate-900/80 hover:border-slate-500":"border-slate-700/70 bg-slate-900/70 hover:border-slate-500"}`,children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("span",{className:`${n?"text-3xl":"text-2xl"}`,children:aG(t.rank)}),L.jsxs("span",{className:`text-xs ${n?"text-amber-200":"text-slate-300"}`,children:["Rank #",t.rank]})]}),L.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[L.jsx("img",{src:zF(t),alt:`${t.displayName} avatar`,className:`${n?"h-12 w-12":"h-10 w-10"} rounded-full object-cover`,loading:"lazy"}),L.jsxs("div",{className:"min-w-0",children:[L.jsx("p",{className:`${n?"text-base":"text-sm"} truncate font-semibold text-white`,children:t.displayName}),L.jsx("p",{className:"truncate text-xs text-slate-400",children:t.address})]})]}),L.jsxs("dl",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[L.jsxs("div",{children:[L.jsx("dt",{className:"text-slate-400",children:"ROI"}),L.jsx("dd",{className:`${t.roi!==null&&t.roi>=0?"text-emerald-300":"text-rose-300"} font-semibold`,children:BF(t.roi)})]}),L.jsxs("div",{children:[L.jsx("dt",{className:"text-slate-400",children:"P&L"}),L.jsx("dd",{className:"font-semibold text-slate-100",children:jM(t.pnl)})]})]})]})}function oG({entries:t,onSelect:e,selectedAddress:n,isLoading:r=!1,error:i=null,periodOptions:a=[],selectedPeriod:o=null,onPeriodChange:s}){const[l,u]=z.useState(""),[c,f]=z.useState(""),[p,m]=z.useState(""),g=c.trim()===""?null:Number(c),_=p.trim()===""?null:Number(p),y=z.useMemo(()=>{const C=l.trim().toLowerCase();return t.filter(N=>{const I=C.length===0||N.displayName.toLowerCase().includes(C)||N.address.toLowerCase().includes(C)||(N.username||"").toLowerCase().includes(C)||(N.pseudonym||"").toLowerCase().includes(C),k=g===null||N.roi!==null&&N.roi>=g,B=_===null||N.pnl!==null&&N.pnl>=_;return I&&k&&B})},[t,l,g,_]),v=()=>{u(""),f(""),m("")},x=y.length>0,b=a.length>0,M=[...y].sort((C,N)=>C.rank-N.rank),w=M.find(C=>C.rank===1)||M[0]||null,E=M.find(C=>C.rank===2)||M[1]||null,P=M.find(C=>C.rank===3)||M[2]||null,A=M.filter(C=>![w==null?void 0:w.address,E==null?void 0:E.address,P==null?void 0:P.address].includes(C.address));return r?L.jsxs(Ci,{className:"rounded-3xl p-6 space-y-6",children:[L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsx("div",{className:"h-8 w-56 animate-pulse rounded bg-slate-800/80"}),L.jsx("div",{className:"h-8 w-40 animate-pulse rounded-full bg-slate-800/80"})]}),L.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[L.jsx("div",{className:"h-44 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"}),L.jsx("div",{className:"h-52 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"}),L.jsx("div",{className:"h-44 animate-pulse rounded-2xl border border-slate-800/70 bg-slate-900/60"})]}),L.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-800/60 bg-slate-900/50",children:[L.jsx("div",{className:"grid grid-cols-6 gap-2 border-b border-slate-800/60 p-4",children:Array.from({length:6}).map((C,N)=>L.jsx("div",{className:"h-3 animate-pulse rounded bg-slate-800/80"},`s-head-${N}`))}),L.jsx("div",{className:"space-y-3 p-4",children:Array.from({length:6}).map((C,N)=>L.jsx("div",{className:"h-8 animate-pulse rounded bg-slate-800/60"},`s-row-${N}`))})]})]}):L.jsxs(Ci,{className:"rounded-3xl p-6 space-y-6",children:[L.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[L.jsxs("div",{className:"space-y-1",children:[L.jsx("h2",{className:"text-2xl font-semibold text-white",children:"Top Polymarket traders"}),L.jsx("p",{className:"text-sm text-slate-400",children:"Click any trader to open their profile and inspect full metrics."})]}),b&&L.jsx("nav",{className:"flex shrink-0 items-center gap-1 rounded-full border border-slate-800/60 bg-slate-900/60 p-1 text-xs font-medium text-slate-300",children:a.map(C=>{const N=C.key===o;return L.jsx("button",{type:"button",onClick:()=>{s&&!N&&s(C.key)},"aria-pressed":N,className:`rounded-full px-3 py-1 transition ${N?"bg-blue-600 text-white shadow shadow-blue-500/30":"hover:bg-slate-800/70"}`,children:C.label},C.key)})})]}),L.jsxs("div",{className:"grid gap-3 rounded-2xl border border-slate-800/60 bg-slate-900/40 p-3 md:grid-cols-[minmax(0,1fr),130px,130px,auto]",children:[L.jsx("input",{type:"text",placeholder:"Filter by trader name, username, or wallet",value:l,onChange:C=>u(C.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("input",{type:"number",step:"0.1",placeholder:"Min ROI %",value:c,onChange:C=>f(C.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("input",{type:"number",step:"1",placeholder:"Min P&L",value:p,onChange:C=>m(C.target.value),className:"rounded-xl border border-slate-700/80 bg-slate-900/80 px-3 py-2 text-sm text-slate-100 placeholder:text-slate-500"}),L.jsx("button",{type:"button",onClick:v,className:"rounded-xl border border-slate-700/80 px-3 py-2 text-sm font-semibold text-slate-200 transition hover:border-slate-500",children:"Clear"})]}),!r&&i&&L.jsx("p",{className:"text-sm text-rose-300",children:i}),!r&&!i&&!x&&L.jsx("p",{className:"text-sm text-slate-400",children:"No traders match the current filters."}),!r&&!i&&x&&L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"grid gap-4 md:grid-cols-3 md:items-end",children:[L.jsx("div",{className:"reveal reveal-1",children:E&&L.jsx(g1,{entry:E,onSelect:e,compact:!0})}),L.jsx("div",{className:"reveal",children:w&&L.jsx(g1,{entry:w,onSelect:e,emphasized:!0})}),L.jsx("div",{className:"reveal reveal-2",children:P&&L.jsx(g1,{entry:P,onSelect:e,compact:!0})})]}),L.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-800/60 bg-slate-900/50 reveal reveal-1",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{className:"border-b border-slate-800/60 text-left text-xs uppercase tracking-wide text-slate-400",children:L.jsxs("tr",{children:[L.jsx("th",{className:"px-4 py-3",children:"Rank"}),L.jsx("th",{className:"px-4 py-3",children:"Trader"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"ROI"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"P&L"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"Volume"}),L.jsx("th",{className:"px-4 py-3 text-right",children:"Trades"})]})}),L.jsx("tbody",{children:[w,E,P,...A].filter(Boolean).map(C=>{const N=C,I=n===C.address;return L.jsxs("tr",{onClick:()=>e(N.address),className:`cursor-pointer border-b border-slate-800/40 transition last:border-b-0 ${I?"bg-blue-500/10":"hover:bg-slate-800/50"}`,children:[L.jsxs("td",{className:"px-4 py-3 font-semibold text-slate-200",children:["#",N.rank]}),L.jsx("td",{className:"px-4 py-3",children:L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx("img",{src:zF(N),alt:`${N.displayName} avatar`,className:"h-8 w-8 rounded-full object-cover",loading:"lazy"}),L.jsxs("div",{children:[L.jsx("p",{className:"font-medium text-slate-100",children:N.displayName}),L.jsx("p",{className:"text-xs text-slate-500",children:N.address})]})]})}),L.jsx("td",{className:`px-4 py-3 text-right font-semibold ${N.roi!==null&&N.roi>=0?"text-emerald-300":"text-rose-300"}`,children:BF(N.roi)}),L.jsx("td",{className:"px-4 py-3 text-right font-medium text-slate-100",children:jM(N.pnl)}),L.jsx("td",{className:"px-4 py-3 text-right text-slate-200",children:jM(N.volume)}),L.jsx("td",{className:"px-4 py-3 text-right text-slate-200",children:iG(N.trades)})]},N.address)})})]})})]})]})}const sG={},lG=sG?"https://polycopy.onrender.com":"/api";function uG(t){const e=[t==null?void 0:t.probability,t==null?void 0:t.chance,t==null?void 0:t.prob,t==null?void 0:t.lastTradePrice,t==null?void 0:t.last_price];for(const r of e){const i=Number(r);if(Number.isFinite(i)){const a=i>1?i:i*100;if(a>=0&&a<=100)return Math.round(a)}}const n=[t==null?void 0:t.outcomePrices,t==null?void 0:t.prices,t==null?void 0:t.outcomes];for(const r of n){if(!Array.isArray(r)||r.length===0)continue;const i=Number(r[0]);if(Number.isFinite(i)){const a=i>1?i:i*100;if(a>=0&&a<=100)return Math.round(a)}}return null}function jF(){const t=z.useRef(null),e=z.useRef(0),n=z.useRef(0),[r,i]=z.useState([]),[a,o]=z.useState(!1),s=z.useRef(0);return z.useEffect(()=>{let l=!1;async function u(){try{const p=await(await fetch(`${lG}/breaking-news?limit=18`)).json();if(!Array.isArray(p.stories))return;const m=new Map,g=new Map;for(const w of p.stories){const E=String((w==null?void 0:w.title)||(w==null?void 0:w.question)||"").trim();if(!E)continue;const P=String((w==null?void 0:w.eventSlug)||(w==null?void 0:w.eventTitle)||"").trim().toLowerCase();if(P){const N=g.get(P)||0;if(N>=2)continue;g.set(P,N+1)}const A=E.toLowerCase().replace(/\s+/g," ").replace(/[^\w\s%$]/g,""),C=m.get(A);(!C||Number((w==null?void 0:w.volume24h)||0)>Number((C==null?void 0:C.volume24h)||0))&&m.set(A,w)}const _=Array.from(m.values()).sort((w,E)=>{const P=Number((w==null?void 0:w.volume24h)||0);return Number((E==null?void 0:E.volume24h)||0)-P}),y=16,v=Math.max(0,_.length-y);v>0?s.current=(s.current+4)%(v+1):s.current=0;const x=_.slice(s.current,s.current+y),M=(x.length>0?x:_.slice(0,y)).map(w=>{const E=uG(w)??(Number.isFinite(Number(w==null?void 0:w.chance))?Number(w.chance):null),P=typeof(w==null?void 0:w.outcomeLabel)=="string"&&w.outcomeLabel.trim().length>0?w.outcomeLabel.trim():null,A=typeof(w==null?void 0:w.url)=="string"&&/^https?:\/\//.test(w.url)?w.url:w!=null&&w.eventSlug?`https://polymarket.com/event/${w.eventSlug}`:w!=null&&w.slug?`https://polymarket.com/event/${w.slug}`:`https://polymarket.com/market/${w.id}`;return{text:String(w.title||w.question||"Polymarket market"),url:A,chance:E,logoUrl:typeof(w==null?void 0:w.logoUrl)=="string"&&/^https?:\/\//.test(w.logoUrl)&&w.logoUrl||typeof(w==null?void 0:w.eventImage)=="string"&&/^https?:\/\//.test(w.eventImage)&&w.eventImage||typeof(w==null?void 0:w.image)=="string"&&/^https?:\/\//.test(w.image)&&w.image||"/polycopy-logo3.png"}});l||i(M)}catch{}}u();const c=setInterval(u,8e3);return()=>{l=!0,clearInterval(c)}},[]),z.useEffect(()=>{const l=t.current;if(!l)return;const u=()=>{n.current=l.scrollWidth/2};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[r]),z.useEffect(()=>{const l=t.current;if(!l)return;let u;const c=.18;function f(){if(l){if(!a){e.current-=c;const p=n.current;p>0&&Math.abs(e.current)>=p&&(e.current+=p),l.style.transform=`translateX(${e.current}px)`}u=requestAnimationFrame(f)}}return f(),()=>cancelAnimationFrame(u)},[r,a]),L.jsxs("div",{className:"w-full bg-gradient-to-r from-pink-600 via-rose-500 to-amber-400 text-white py-2 px-4 overflow-hidden relative flex items-center border-b border-rose-400/40",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[L.jsx("span",{className:"mr-2 inline-block h-2 w-2 rounded-full bg-white/90 shadow-[0_0_8px_rgba(255,255,255,0.7)]"}),L.jsx("span",{className:"font-bold uppercase tracking-widest mr-4",children:"Breaking News"}),L.jsx("div",{className:"flex-1 overflow-hidden",children:L.jsx("div",{ref:t,className:"whitespace-nowrap flex gap-8 text-sm font-medium",style:{willChange:"transform"},children:r.length===0?L.jsx("span",{className:"opacity-70",children:"Loading markets"}):[...r,...r].map((l,u)=>L.jsxs("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 hover:underline hover:text-yellow-200 transition-colors",children:[l.logoUrl&&L.jsx("img",{src:l.logoUrl,alt:"",loading:"lazy",referrerPolicy:"no-referrer",className:"h-5 w-5 rounded-full object-cover border border-white/25"}),L.jsx("span",{className:"text-white",children:"LIVE"}),L.jsx("span",{children:l.text}),L.jsx("span",{className:`font-semibold ${l.chance!==null&&l.chance>=50?"text-emerald-200":"text-rose-200"}`,children:l.chance===null?"N/A chance":`${Math.round(l.chance)}% chance`})]},`${l.url}-${u}`))})})]})}function $F(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$F(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$F(t))&&(r&&(r+=" "),r+=e);return r}var cG=Array.isArray,gi=cG,fG=typeof Bg=="object"&&Bg&&Bg.Object===Object&&Bg,VF=fG,dG=VF,hG=typeof self=="object"&&self&&self.Object===Object&&self,pG=dG||hG||Function("return this")(),go=pG,mG=go,gG=mG.Symbol,wm=gG,OI=wm,HF=Object.prototype,vG=HF.hasOwnProperty,yG=HF.toString,Kd=OI?OI.toStringTag:void 0;function xG(t){var e=vG.call(t,Kd),n=t[Kd];try{t[Kd]=void 0;var r=!0}catch{}var i=yG.call(t);return r&&(e?t[Kd]=n:delete t[Kd]),i}var _G=xG,bG=Object.prototype,SG=bG.toString;function wG(t){return SG.call(t)}var MG=wG,II=wm,EG=_G,AG=MG,TG="[object Null]",PG="[object Undefined]",RI=II?II.toStringTag:void 0;function CG(t){return t==null?t===void 0?PG:TG:RI&&RI in Object(t)?EG(t):AG(t)}var as=CG;function OG(t){return t!=null&&typeof t=="object"}var os=OG,IG=as,RG=os,NG="[object Symbol]";function LG(t){return typeof t=="symbol"||RG(t)&&IG(t)==NG}var td=LG,DG=gi,kG=td,UG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FG=/^\w*$/;function BG(t,e){if(DG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kG(t)?!0:FG.test(t)||!UG.test(t)||e!=null&&t in Object(e)}var kT=BG;function zG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ll=zG;const nd=an(ll);var jG=as,$G=ll,VG="[object AsyncFunction]",HG="[object Function]",GG="[object GeneratorFunction]",WG="[object Proxy]";function XG(t){if(!$G(t))return!1;var e=jG(t);return e==HG||e==GG||e==VG||e==WG}var UT=XG;const Lt=an(UT);var qG=go,YG=qG["__core-js_shared__"],KG=YG,v1=KG,NI=function(){var t=/[^.]+$/.exec(v1&&v1.keys&&v1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZG(t){return!!NI&&NI in t}var JG=ZG,QG=Function.prototype,eW=QG.toString;function tW(t){if(t!=null){try{return eW.call(t)}catch{}try{return t+""}catch{}}return""}var GF=tW,nW=UT,rW=JG,iW=ll,aW=GF,oW=/[\\^$.*+?()[\]{}|]/g,sW=/^\[object .+?Constructor\]$/,lW=Function.prototype,uW=Object.prototype,cW=lW.toString,fW=uW.hasOwnProperty,dW=RegExp("^"+cW.call(fW).replace(oW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hW(t){if(!iW(t)||rW(t))return!1;var e=nW(t)?dW:sW;return e.test(aW(t))}var pW=hW;function mW(t,e){return t==null?void 0:t[e]}var gW=mW,vW=pW,yW=gW;function xW(t,e){var n=yW(t,e);return vW(n)?n:void 0}var Nu=xW,_W=Nu,bW=_W(Object,"create"),c_=bW,LI=c_;function SW(){this.__data__=LI?LI(null):{},this.size=0}var wW=SW;function MW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var EW=MW,AW=c_,TW="__lodash_hash_undefined__",PW=Object.prototype,CW=PW.hasOwnProperty;function OW(t){var e=this.__data__;if(AW){var n=e[t];return n===TW?void 0:n}return CW.call(e,t)?e[t]:void 0}var IW=OW,RW=c_,NW=Object.prototype,LW=NW.hasOwnProperty;function DW(t){var e=this.__data__;return RW?e[t]!==void 0:LW.call(e,t)}var kW=DW,UW=c_,FW="__lodash_hash_undefined__";function BW(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=UW&&e===void 0?FW:e,this}var zW=BW,jW=wW,$W=EW,VW=IW,HW=kW,GW=zW;function rd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rd.prototype.clear=jW;rd.prototype.delete=$W;rd.prototype.get=VW;rd.prototype.has=HW;rd.prototype.set=GW;var WW=rd;function XW(){this.__data__=[],this.size=0}var qW=XW;function YW(t,e){return t===e||t!==t&&e!==e}var FT=YW,KW=FT;function ZW(t,e){for(var n=t.length;n--;)if(KW(t[n][0],e))return n;return-1}var f_=ZW,JW=f_,QW=Array.prototype,e9=QW.splice;function t9(t){var e=this.__data__,n=JW(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():e9.call(e,n,1),--this.size,!0}var n9=t9,r9=f_;function i9(t){var e=this.__data__,n=r9(e,t);return n<0?void 0:e[n][1]}var a9=i9,o9=f_;function s9(t){return o9(this.__data__,t)>-1}var l9=s9,u9=f_;function c9(t,e){var n=this.__data__,r=u9(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var f9=c9,d9=qW,h9=n9,p9=a9,m9=l9,g9=f9;function id(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}id.prototype.clear=d9;id.prototype.delete=h9;id.prototype.get=p9;id.prototype.has=m9;id.prototype.set=g9;var d_=id,v9=Nu,y9=go,x9=v9(y9,"Map"),BT=x9,DI=WW,_9=d_,b9=BT;function S9(){this.size=0,this.__data__={hash:new DI,map:new(b9||_9),string:new DI}}var w9=S9;function M9(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var E9=M9,A9=E9;function T9(t,e){var n=t.__data__;return A9(e)?n[typeof e=="string"?"string":"hash"]:n.map}var h_=T9,P9=h_;function C9(t){var e=P9(this,t).delete(t);return this.size-=e?1:0,e}var O9=C9,I9=h_;function R9(t){return I9(this,t).get(t)}var N9=R9,L9=h_;function D9(t){return L9(this,t).has(t)}var k9=D9,U9=h_;function F9(t,e){var n=U9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var B9=F9,z9=w9,j9=O9,$9=N9,V9=k9,H9=B9;function ad(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ad.prototype.clear=z9;ad.prototype.delete=j9;ad.prototype.get=$9;ad.prototype.has=V9;ad.prototype.set=H9;var zT=ad,WF=zT,G9="Expected a function";function jT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(G9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jT.Cache||WF),n}jT.Cache=WF;var XF=jT;const W9=an(XF);var X9=XF,q9=500;function Y9(t){var e=X9(t,function(r){return n.size===q9&&n.clear(),r}),n=e.cache;return e}var K9=Y9,Z9=K9,J9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q9=/\\(\\)?/g,e7=Z9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(J9,function(n,r,i,a){e.push(i?a.replace(Q9,"$1"):r||n)}),e}),t7=e7;function n7(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var $T=n7,kI=wm,r7=$T,i7=gi,a7=td,UI=kI?kI.prototype:void 0,FI=UI?UI.toString:void 0;function qF(t){if(typeof t=="string")return t;if(i7(t))return r7(t,qF)+"";if(a7(t))return FI?FI.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var o7=qF,s7=o7;function l7(t){return t==null?"":s7(t)}var YF=l7,u7=gi,c7=kT,f7=t7,d7=YF;function h7(t,e){return u7(t)?t:c7(t,e)?[t]:f7(d7(t))}var KF=h7,p7=td;function m7(t){if(typeof t=="string"||p7(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var p_=m7,g7=KF,v7=p_;function y7(t,e){e=g7(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[v7(e[n++])];return n&&n==r?t:void 0}var VT=y7,x7=VT;function _7(t,e,n){var r=t==null?void 0:x7(t,e);return r===void 0?n:r}var ZF=_7;const sa=an(ZF);function b7(t){return t==null}var S7=b7;const kt=an(S7);var w7=as,M7=gi,E7=os,A7="[object String]";function T7(t){return typeof t=="string"||!M7(t)&&E7(t)&&w7(t)==A7}var P7=T7;const xu=an(P7);var JF={exports:{}},on={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT=Symbol.for("react.element"),GT=Symbol.for("react.portal"),m_=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),v_=Symbol.for("react.profiler"),y_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),C7=Symbol.for("react.server_context"),__=Symbol.for("react.forward_ref"),b_=Symbol.for("react.suspense"),S_=Symbol.for("react.suspense_list"),w_=Symbol.for("react.memo"),M_=Symbol.for("react.lazy"),O7=Symbol.for("react.offscreen"),QF;QF=Symbol.for("react.module.reference");function pa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case HT:switch(t=t.type,t){case m_:case v_:case g_:case b_:case S_:return t;default:switch(t=t&&t.$$typeof,t){case C7:case x_:case __:case M_:case w_:case y_:return t;default:return e}}case GT:return e}}}on.ContextConsumer=x_;on.ContextProvider=y_;on.Element=HT;on.ForwardRef=__;on.Fragment=m_;on.Lazy=M_;on.Memo=w_;on.Portal=GT;on.Profiler=v_;on.StrictMode=g_;on.Suspense=b_;on.SuspenseList=S_;on.isAsyncMode=function(){return!1};on.isConcurrentMode=function(){return!1};on.isContextConsumer=function(t){return pa(t)===x_};on.isContextProvider=function(t){return pa(t)===y_};on.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===HT};on.isForwardRef=function(t){return pa(t)===__};on.isFragment=function(t){return pa(t)===m_};on.isLazy=function(t){return pa(t)===M_};on.isMemo=function(t){return pa(t)===w_};on.isPortal=function(t){return pa(t)===GT};on.isProfiler=function(t){return pa(t)===v_};on.isStrictMode=function(t){return pa(t)===g_};on.isSuspense=function(t){return pa(t)===b_};on.isSuspenseList=function(t){return pa(t)===S_};on.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===m_||t===v_||t===g_||t===b_||t===S_||t===O7||typeof t=="object"&&t!==null&&(t.$$typeof===M_||t.$$typeof===w_||t.$$typeof===y_||t.$$typeof===x_||t.$$typeof===__||t.$$typeof===QF||t.getModuleId!==void 0)};on.typeOf=pa;JF.exports=on;var I7=JF.exports,R7=as,N7=os,L7="[object Number]";function D7(t){return typeof t=="number"||N7(t)&&R7(t)==L7}var eB=D7;const k7=an(eB);var U7=eB;function F7(t){return U7(t)&&t!=+t}var B7=F7;const Mm=an(B7);var Na=function(e){return e===0?0:e>0?1:-1},Zl=function(e){return xu(e)&&e.indexOf("%")===e.length-1},He=function(e){return k7(e)&&!Mm(e)},z7=function(e){return kt(e)},tr=function(e){return He(e)||xu(e)},j7=0,Em=function(e){var n=++j7;return"".concat(e||"").concat(n)},_u=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&!xu(e))return r;var a;if(Zl(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Mm(a)&&(a=r),i&&a>n&&(a=n),a},Rs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},$7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ia=function(e,n){return He(e)&&He(n)?function(r){return e+r*(n-e)}:function(){return n}};function e0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):sa(r,e))===n})}var V7=function(e,n){return He(e)&&He(n)?e-n:xu(e)&&xu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function $M(t){"@babel/helpers - typeof";return $M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$M(t)}var H7=["viewBox","children"],G7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BI=["points","pathLength"],y1={svg:H7,polygon:BI,polyline:BI},WT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],t0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!nd(r))return null;var i={};return Object.keys(r).forEach(function(a){WT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},W7=function(e,n,r){return function(i){return e(n,r,i),null}},n0=function(e,n,r){if(!nd(e)||$M(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];WT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=W7(o,n,r))}),i},X7=["children"],q7=["children"];function zI(t,e){if(t==null)return{};var n=Y7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Y7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VM(t){"@babel/helpers - typeof";return VM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VM(t)}var jI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$I=null,x1=null,XT=function t(e){if(e===$I&&Array.isArray(x1))return x1;var n=[];return z.Children.forEach(e,function(r){kt(r)||(I7.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),x1=n,$I=e,n};function la(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Vo(i)}):r=[Vo(e)],XT(t).forEach(function(i){var a=sa(i,"type.displayName")||sa(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Pi(t,e){var n=la(t,e);return n&&n[0]}var VI=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!He(r)||r<=0||!He(i)||i<=0)},K7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Z7=function(e){return e&&e.type&&xu(e.type)&&K7.indexOf(e.type)>=0},J7=function(e){return e&&VM(e)==="object"&&"clipDot"in e},Q7=function(e,n,r,i){var a,o=(a=y1==null?void 0:y1[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Lt(e)&&(i&&o.includes(n)||G7.includes(n))||r&&WT.includes(n)},jt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!nd(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;Q7((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},HM=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return HI(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!HI(a,o))return!1}return!0},HI=function(e,n){if(kt(e)&&kt(n))return!0;if(!kt(e)&&!kt(n)){var r=e.props||{},i=r.children,a=zI(r,X7),o=n.props||{},s=o.children,l=zI(o,q7);return i&&s?sf(a,l)&&HM(i,s):!i&&!s?sf(a,l):!1}return!1},GI=function(e,n){var r=[],i={};return XT(e).forEach(function(a,o){if(Z7(a))r.push(a);else if(a){var s=Vo(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},eX=function(e){var n=e&&e.type;return n&&jI[n]?jI[n]:null},tX=function(e,n){return XT(n).indexOf(e)},nX=["children","width","height","viewBox","className","style","title","desc"];function GM(){return GM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GM.apply(this,arguments)}function rX(t,e){if(t==null)return{};var n=iX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WM(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=rX(t,nX),c=i||{width:n,height:r,x:0,y:0},f=Gt("recharts-surface",a);return ne.createElement("svg",GM({},jt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),ne.createElement("title",null,s),ne.createElement("desc",null,l),e)}var aX=["children","className"];function XM(){return XM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XM.apply(this,arguments)}function oX(t,e){if(t==null)return{};var n=sX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bn=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=oX(t,aX),a=Gt("recharts-layer",r);return ne.createElement("g",XM({className:a},jt(i,!0),{ref:e}),n)}),Ho=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function lX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var uX=lX,cX=uX;function fX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cX(t,e,n)}var dX=fX,hX="\\ud800-\\udfff",pX="\\u0300-\\u036f",mX="\\ufe20-\\ufe2f",gX="\\u20d0-\\u20ff",vX=pX+mX+gX,yX="\\ufe0e\\ufe0f",xX="\\u200d",_X=RegExp("["+xX+hX+vX+yX+"]");function bX(t){return _X.test(t)}var tB=bX;function SX(t){return t.split("")}var wX=SX,nB="\\ud800-\\udfff",MX="\\u0300-\\u036f",EX="\\ufe20-\\ufe2f",AX="\\u20d0-\\u20ff",TX=MX+EX+AX,PX="\\ufe0e\\ufe0f",CX="["+nB+"]",qM="["+TX+"]",YM="\\ud83c[\\udffb-\\udfff]",OX="(?:"+qM+"|"+YM+")",rB="[^"+nB+"]",iB="(?:\\ud83c[\\udde6-\\uddff]){2}",aB="[\\ud800-\\udbff][\\udc00-\\udfff]",IX="\\u200d",oB=OX+"?",sB="["+PX+"]?",RX="(?:"+IX+"(?:"+[rB,iB,aB].join("|")+")"+sB+oB+")*",NX=sB+oB+RX,LX="(?:"+[rB+qM+"?",qM,iB,aB,CX].join("|")+")",DX=RegExp(YM+"(?="+YM+")|"+LX+NX,"g");function kX(t){return t.match(DX)||[]}var UX=kX,FX=wX,BX=tB,zX=UX;function jX(t){return BX(t)?zX(t):FX(t)}var $X=jX,VX=dX,HX=tB,GX=$X,WX=YF;function XX(t){return function(e){e=WX(e);var n=HX(e)?GX(e):void 0,r=n?n[0]:e.charAt(0),i=n?VX(n,1).join(""):e.slice(1);return r[t]()+i}}var qX=XX,YX=qX,KX=YX("toUpperCase"),ZX=KX;const E_=an(ZX);function hn(t){return function(){return t}}const lB=Math.cos,r0=Math.sin,za=Math.sqrt,i0=Math.PI,A_=2*i0,KM=Math.PI,ZM=2*KM,Vl=1e-6,JX=ZM-Vl;function uB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function QX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uB;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let eq=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uB:QX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,p=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Vl)if(!(Math.abs(f*l-u*c)>Vl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,_=l*l+u*u,y=m*m+g*g,v=Math.sqrt(_),x=Math.sqrt(p),b=a*Math.tan((KM-Math.acos((_+p-y)/(2*v*x)))/2),M=b/x,w=b/v;Math.abs(M-1)>Vl&&this._append`L${e+M*c},${n+M*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=e+w*l},${this._y1=n+w*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Vl||Math.abs(this._y1-c)>Vl)&&this._append`L${u},${c}`,r&&(p<0&&(p=p%ZM+ZM),p>JX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:p>Vl&&this._append`A${r},${r},0,${+(p>=KM)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function qT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new eq(e)}function YT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cB(t){this._context=t}cB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function T_(t){return new cB(t)}function fB(t){return t[0]}function dB(t){return t[1]}function hB(t,e){var n=hn(!0),r=null,i=T_,a=null,o=qT(s);t=typeof t=="function"?t:t===void 0?fB:hn(t),e=typeof e=="function"?e:e===void 0?dB:hn(e);function s(l){var u,c=(l=YT(l)).length,f,p=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:hn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:hn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:hn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function rv(t,e,n){var r=null,i=hn(!0),a=null,o=T_,s=null,l=qT(u);t=typeof t=="function"?t:t===void 0?fB:hn(+t),e=typeof e=="function"?e:hn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?dB:hn(+n);function u(f){var p,m,g,_=(f=YT(f)).length,y,v=!1,x,b=new Array(_),M=new Array(_);for(a==null&&(s=o(x=l())),p=0;p<=_;++p){if(!(p<_&&i(y=f[p],p,f))===v)if(v=!v)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=p-1;g>=m;--g)s.point(b[g],M[g]);s.lineEnd(),s.areaEnd()}v&&(b[p]=+t(y,p,f),M[p]=+e(y,p,f),s.point(r?+r(y,p,f):b[p],n?+n(y,p,f):M[p]))}if(x)return s=null,x+""||null}function c(){return hB().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:hn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:hn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:hn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:hn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:hn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class pB{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function tq(t){return new pB(t,!0)}function nq(t){return new pB(t,!1)}const KT={draw(t,e){const n=za(e/i0);t.moveTo(n,0),t.arc(0,0,n,0,A_)}},rq={draw(t,e){const n=za(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mB=za(1/3),iq=mB*2,aq={draw(t,e){const n=za(e/iq),r=n*mB;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},oq={draw(t,e){const n=za(e),r=-n/2;t.rect(r,r,n,n)}},sq=.8908130915292852,gB=r0(i0/10)/r0(7*i0/10),lq=r0(A_/10)*gB,uq=-lB(A_/10)*gB,cq={draw(t,e){const n=za(e*sq),r=lq*n,i=uq*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=A_*a/5,s=lB(o),l=r0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_1=za(3),fq={draw(t,e){const n=-za(e/(_1*3));t.moveTo(0,n*2),t.lineTo(-_1*n,-n),t.lineTo(_1*n,-n),t.closePath()}},Zi=-.5,Ji=za(3)/2,JM=1/za(12),dq=(JM/2+1)*3,hq={draw(t,e){const n=za(e/dq),r=n/2,i=n*JM,a=r,o=n*JM+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Zi*r-Ji*i,Ji*r+Zi*i),t.lineTo(Zi*a-Ji*o,Ji*a+Zi*o),t.lineTo(Zi*s-Ji*l,Ji*s+Zi*l),t.lineTo(Zi*r+Ji*i,Zi*i-Ji*r),t.lineTo(Zi*a+Ji*o,Zi*o-Ji*a),t.lineTo(Zi*s+Ji*l,Zi*l-Ji*s),t.closePath()}};function pq(t,e){let n=null,r=qT(i);t=typeof t=="function"?t:hn(t||KT),e=typeof e=="function"?e:hn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:hn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:hn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function a0(){}function o0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function vB(t){this._context=t}vB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mq(t){return new vB(t)}function yB(t){this._context=t}yB.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gq(t){return new yB(t)}function xB(t){this._context=t}xB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vq(t){return new xB(t)}function _B(t){this._context=t}_B.prototype={areaStart:a0,areaEnd:a0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yq(t){return new _B(t)}function WI(t){return t<0?-1:1}function XI(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(WI(a)+WI(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function qI(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function b1(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function s0(t){this._context=t}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:b1(this,this._t0,qI(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,b1(this,qI(this,n=XI(this,t,e)),n);break;default:b1(this,this._t0,n=XI(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function bB(t){this._context=new SB(t)}(bB.prototype=Object.create(s0.prototype)).point=function(t,e){s0.prototype.point.call(this,e,t)};function SB(t){this._context=t}SB.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function xq(t){return new s0(t)}function _q(t){return new bB(t)}function wB(t){this._context=t}wB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YI(t),i=YI(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YI(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function bq(t){return new wB(t)}function P_(t,e){this._context=t,this._t=e}P_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Sq(t){return new P_(t,.5)}function wq(t){return new P_(t,0)}function Mq(t){return new P_(t,1)}function xf(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function QM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Eq(t,e){return t[e]}function Aq(t){const e=[];return e.key=t,e}function Tq(){var t=hn([]),e=QM,n=xf,r=Eq;function i(a){var o=Array.from(t.apply(this,arguments),Aq),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=YT(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:hn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:hn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?QM:typeof a=="function"?a:hn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??xf,i):n},i}function Pq(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}xf(t,e)}}function Cq(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}xf(t,e)}}function Oq(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,p=c[r-1][1]||0,m=(f-p)/2,g=0;g<s;++g){var _=t[e[g]],y=_[r][1]||0,v=_[r-1][1]||0;m+=y-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,xf(t,e)}}function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}var Iq=["type","size","sizeType"];function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eE.apply(this,arguments)}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){Rq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rq(t,e,n){return e=Nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nq(t){var e=Lq(t,"string");return _p(e)=="symbol"?e:e+""}function Lq(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dq(t,e){if(t==null)return{};var n=kq(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MB={symbolCircle:KT,symbolCross:rq,symbolDiamond:aq,symbolSquare:oq,symbolStar:cq,symbolTriangle:fq,symbolWye:hq},Uq=Math.PI/180,Fq=function(e){var n="symbol".concat(E_(e));return MB[n]||KT},Bq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Uq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zq=function(e,n){MB["symbol".concat(E_(e))]=n},ZT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=Dq(e,Iq),u=ZI(ZI({},l),{},{type:r,size:a,sizeType:s}),c=function(){var y=Fq(r),v=pq().type(y).size(Bq(a,s,r));return v()},f=u.className,p=u.cx,m=u.cy,g=jt(u,!0);return p===+p&&m===+m&&a===+a?ne.createElement("path",eE({},g,{className:Gt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:c()})):null};ZT.registerSymbol=zq;function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function tE(){return tE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tE.apply(this,arguments)}function JI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JI(Object(n),!0).forEach(function(r){bp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AB(r.key),r)}}function Hq(t,e,n){return e&&Vq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gq(t,e,n){return e=l0(e),Wq(t,EB()?Reflect.construct(e,n||[],l0(t).constructor):e.apply(t,n))}function Wq(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xq(t)}function Xq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EB=function(){return!!t})()}function l0(t){return l0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l0(t)}function qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(t,e)}function bp(t,e,n){return e=AB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AB(t){var e=Yq(t,"string");return _f(e)=="symbol"?e:e+""}function Yq(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qi=32,JT=function(t){function e(){return $q(this,e),Gq(this,e,arguments)}return qq(e,t),Hq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Qi/2,o=Qi/6,s=Qi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Qi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Qi,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qi/8,"h").concat(Qi,"v").concat(Qi*3/4,"h").concat(-Qi,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var u=jq({},r);return delete u.legendIcon,ne.cloneElement(r.legendIcon,u)}return ne.createElement(ZT,{fill:l,cx:a,cy:a,size:Qi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Qi,height:Qi},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var _=m.formatter||l,y=Gt(bp(bp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Lt(m.value)?null:m.value;Ho(!Lt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return ne.createElement("li",tE({className:y,style:f,key:"legend-item-".concat(g)},n0(r.props,m,g)),ne.createElement(WM,{width:o,height:o,viewBox:c,style:p},r.renderIcon(m)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},_?_(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(z.PureComponent);bp(JT,"displayName","Legend");bp(JT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kq=d_;function Zq(){this.__data__=new Kq,this.size=0}var Jq=Zq;function Qq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var eY=Qq;function tY(t){return this.__data__.get(t)}var nY=tY;function rY(t){return this.__data__.has(t)}var iY=rY,aY=d_,oY=BT,sY=zT,lY=200;function uY(t,e){var n=this.__data__;if(n instanceof aY){var r=n.__data__;if(!oY||r.length<lY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new sY(r)}return n.set(t,e),this.size=n.size,this}var cY=uY,fY=d_,dY=Jq,hY=eY,pY=nY,mY=iY,gY=cY;function od(t){var e=this.__data__=new fY(t);this.size=e.size}od.prototype.clear=dY;od.prototype.delete=hY;od.prototype.get=pY;od.prototype.has=mY;od.prototype.set=gY;var TB=od,vY="__lodash_hash_undefined__";function yY(t){return this.__data__.set(t,vY),this}var xY=yY;function _Y(t){return this.__data__.has(t)}var bY=_Y,SY=zT,wY=xY,MY=bY;function u0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new SY;++e<n;)this.add(t[e])}u0.prototype.add=u0.prototype.push=wY;u0.prototype.has=MY;var PB=u0;function EY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var CB=EY;function AY(t,e){return t.has(e)}var OB=AY,TY=PB,PY=CB,CY=OB,OY=1,IY=2;function RY(t,e,n,r,i,a){var o=n&OY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,p=!0,m=n&IY?new TY:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],_=e[f];if(r)var y=o?r(_,g,f,e,t,a):r(g,_,f,t,e,a);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!PY(e,function(v,x){if(!CY(m,x)&&(g===v||i(g,v,n,r,a)))return m.push(x)})){p=!1;break}}else if(!(g===_||i(g,_,n,r,a))){p=!1;break}}return a.delete(t),a.delete(e),p}var IB=RY,NY=go,LY=NY.Uint8Array,DY=LY;function kY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var UY=kY;function FY(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var QT=FY,QI=wm,eR=DY,BY=FT,zY=IB,jY=UY,$Y=QT,VY=1,HY=2,GY="[object Boolean]",WY="[object Date]",XY="[object Error]",qY="[object Map]",YY="[object Number]",KY="[object RegExp]",ZY="[object Set]",JY="[object String]",QY="[object Symbol]",eK="[object ArrayBuffer]",tK="[object DataView]",tR=QI?QI.prototype:void 0,S1=tR?tR.valueOf:void 0;function nK(t,e,n,r,i,a,o){switch(n){case tK:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eK:return!(t.byteLength!=e.byteLength||!a(new eR(t),new eR(e)));case GY:case WY:case YY:return BY(+t,+e);case XY:return t.name==e.name&&t.message==e.message;case KY:case JY:return t==e+"";case qY:var s=jY;case ZY:var l=r&VY;if(s||(s=$Y),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=HY,o.set(t,e);var c=zY(s(t),s(e),r,i,a,o);return o.delete(t),c;case QY:if(S1)return S1.call(t)==S1.call(e)}return!1}var rK=nK;function iK(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var RB=iK,aK=RB,oK=gi;function sK(t,e,n){var r=e(t);return oK(t)?r:aK(r,n(t))}var lK=sK;function uK(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var cK=uK;function fK(){return[]}var dK=fK,hK=cK,pK=dK,mK=Object.prototype,gK=mK.propertyIsEnumerable,nR=Object.getOwnPropertySymbols,vK=nR?function(t){return t==null?[]:(t=Object(t),hK(nR(t),function(e){return gK.call(t,e)}))}:pK,yK=vK;function xK(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _K=xK,bK=as,SK=os,wK="[object Arguments]";function MK(t){return SK(t)&&bK(t)==wK}var EK=MK,rR=EK,AK=os,NB=Object.prototype,TK=NB.hasOwnProperty,PK=NB.propertyIsEnumerable,CK=rR(function(){return arguments}())?rR:function(t){return AK(t)&&TK.call(t,"callee")&&!PK.call(t,"callee")},eP=CK,c0={exports:{}};function OK(){return!1}var IK=OK;c0.exports;(function(t,e){var n=go,r=IK,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(c0,c0.exports);var LB=c0.exports,RK=9007199254740991,NK=/^(?:0|[1-9]\d*)$/;function LK(t,e){var n=typeof t;return e=e??RK,!!e&&(n=="number"||n!="symbol"&&NK.test(t))&&t>-1&&t%1==0&&t<e}var tP=LK,DK=9007199254740991;function kK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DK}var nP=kK,UK=as,FK=nP,BK=os,zK="[object Arguments]",jK="[object Array]",$K="[object Boolean]",VK="[object Date]",HK="[object Error]",GK="[object Function]",WK="[object Map]",XK="[object Number]",qK="[object Object]",YK="[object RegExp]",KK="[object Set]",ZK="[object String]",JK="[object WeakMap]",QK="[object ArrayBuffer]",eZ="[object DataView]",tZ="[object Float32Array]",nZ="[object Float64Array]",rZ="[object Int8Array]",iZ="[object Int16Array]",aZ="[object Int32Array]",oZ="[object Uint8Array]",sZ="[object Uint8ClampedArray]",lZ="[object Uint16Array]",uZ="[object Uint32Array]",gn={};gn[tZ]=gn[nZ]=gn[rZ]=gn[iZ]=gn[aZ]=gn[oZ]=gn[sZ]=gn[lZ]=gn[uZ]=!0;gn[zK]=gn[jK]=gn[QK]=gn[$K]=gn[eZ]=gn[VK]=gn[HK]=gn[GK]=gn[WK]=gn[XK]=gn[qK]=gn[YK]=gn[KK]=gn[ZK]=gn[JK]=!1;function cZ(t){return BK(t)&&FK(t.length)&&!!gn[UK(t)]}var fZ=cZ;function dZ(t){return function(e){return t(e)}}var DB=dZ,f0={exports:{}};f0.exports;(function(t,e){var n=VF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(f0,f0.exports);var hZ=f0.exports,pZ=fZ,mZ=DB,iR=hZ,aR=iR&&iR.isTypedArray,gZ=aR?mZ(aR):pZ,kB=gZ,vZ=_K,yZ=eP,xZ=gi,_Z=LB,bZ=tP,SZ=kB,wZ=Object.prototype,MZ=wZ.hasOwnProperty;function EZ(t,e){var n=xZ(t),r=!n&&yZ(t),i=!n&&!r&&_Z(t),a=!n&&!r&&!i&&SZ(t),o=n||r||i||a,s=o?vZ(t.length,String):[],l=s.length;for(var u in t)(e||MZ.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bZ(u,l)))&&s.push(u);return s}var AZ=EZ,TZ=Object.prototype;function PZ(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||TZ;return t===n}var CZ=PZ;function OZ(t,e){return function(n){return t(e(n))}}var UB=OZ,IZ=UB,RZ=IZ(Object.keys,Object),NZ=RZ,LZ=CZ,DZ=NZ,kZ=Object.prototype,UZ=kZ.hasOwnProperty;function FZ(t){if(!LZ(t))return DZ(t);var e=[];for(var n in Object(t))UZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var BZ=FZ,zZ=UT,jZ=nP;function $Z(t){return t!=null&&jZ(t.length)&&!zZ(t)}var Am=$Z,VZ=AZ,HZ=BZ,GZ=Am;function WZ(t){return GZ(t)?VZ(t):HZ(t)}var C_=WZ,XZ=lK,qZ=yK,YZ=C_;function KZ(t){return XZ(t,YZ,qZ)}var ZZ=KZ,oR=ZZ,JZ=1,QZ=Object.prototype,eJ=QZ.hasOwnProperty;function tJ(t,e,n,r,i,a){var o=n&JZ,s=oR(t),l=s.length,u=oR(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var p=s[f];if(!(o?p in e:eJ.call(e,p)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var _=!0;a.set(t,e),a.set(e,t);for(var y=o;++f<l;){p=s[f];var v=t[p],x=e[p];if(r)var b=o?r(x,v,p,e,t,a):r(v,x,p,t,e,a);if(!(b===void 0?v===x||i(v,x,n,r,a):b)){_=!1;break}y||(y=p=="constructor")}if(_&&!y){var M=t.constructor,w=e.constructor;M!=w&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof w=="function"&&w instanceof w)&&(_=!1)}return a.delete(t),a.delete(e),_}var nJ=tJ,rJ=Nu,iJ=go,aJ=rJ(iJ,"DataView"),oJ=aJ,sJ=Nu,lJ=go,uJ=sJ(lJ,"Promise"),cJ=uJ,fJ=Nu,dJ=go,hJ=fJ(dJ,"Set"),FB=hJ,pJ=Nu,mJ=go,gJ=pJ(mJ,"WeakMap"),vJ=gJ,rE=oJ,iE=BT,aE=cJ,oE=FB,sE=vJ,BB=as,sd=GF,sR="[object Map]",yJ="[object Object]",lR="[object Promise]",uR="[object Set]",cR="[object WeakMap]",fR="[object DataView]",xJ=sd(rE),_J=sd(iE),bJ=sd(aE),SJ=sd(oE),wJ=sd(sE),Hl=BB;(rE&&Hl(new rE(new ArrayBuffer(1)))!=fR||iE&&Hl(new iE)!=sR||aE&&Hl(aE.resolve())!=lR||oE&&Hl(new oE)!=uR||sE&&Hl(new sE)!=cR)&&(Hl=function(t){var e=BB(t),n=e==yJ?t.constructor:void 0,r=n?sd(n):"";if(r)switch(r){case xJ:return fR;case _J:return sR;case bJ:return lR;case SJ:return uR;case wJ:return cR}return e});var MJ=Hl,w1=TB,EJ=IB,AJ=rK,TJ=nJ,dR=MJ,hR=gi,pR=LB,PJ=kB,CJ=1,mR="[object Arguments]",gR="[object Array]",iv="[object Object]",OJ=Object.prototype,vR=OJ.hasOwnProperty;function IJ(t,e,n,r,i,a){var o=hR(t),s=hR(e),l=o?gR:dR(t),u=s?gR:dR(e);l=l==mR?iv:l,u=u==mR?iv:u;var c=l==iv,f=u==iv,p=l==u;if(p&&pR(t)){if(!pR(e))return!1;o=!0,c=!1}if(p&&!c)return a||(a=new w1),o||PJ(t)?EJ(t,e,n,r,i,a):AJ(t,e,l,n,r,i,a);if(!(n&CJ)){var m=c&&vR.call(t,"__wrapped__"),g=f&&vR.call(e,"__wrapped__");if(m||g){var _=m?t.value():t,y=g?e.value():e;return a||(a=new w1),i(_,y,n,r,a)}}return p?(a||(a=new w1),TJ(t,e,n,r,i,a)):!1}var RJ=IJ,NJ=RJ,yR=os;function zB(t,e,n,r,i){return t===e?!0:t==null||e==null||!yR(t)&&!yR(e)?t!==t&&e!==e:NJ(t,e,n,r,zB,i)}var rP=zB,LJ=TB,DJ=rP,kJ=1,UJ=2;function FJ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new LJ;if(r)var p=r(u,c,l,t,e,f);if(!(p===void 0?DJ(c,u,kJ|UJ,r,f):p))return!1}}return!0}var BJ=FJ,zJ=ll;function jJ(t){return t===t&&!zJ(t)}var jB=jJ,$J=jB,VJ=C_;function HJ(t){for(var e=VJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,$J(i)]}return e}var GJ=HJ;function WJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var $B=WJ,XJ=BJ,qJ=GJ,YJ=$B;function KJ(t){var e=qJ(t);return e.length==1&&e[0][2]?YJ(e[0][0],e[0][1]):function(n){return n===t||XJ(n,t,e)}}var ZJ=KJ;function JJ(t,e){return t!=null&&e in Object(t)}var QJ=JJ,eQ=KF,tQ=eP,nQ=gi,rQ=tP,iQ=nP,aQ=p_;function oQ(t,e,n){e=eQ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=aQ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&iQ(i)&&rQ(o,i)&&(nQ(t)||tQ(t)))}var sQ=oQ,lQ=QJ,uQ=sQ;function cQ(t,e){return t!=null&&uQ(t,e,lQ)}var fQ=cQ,dQ=rP,hQ=ZF,pQ=fQ,mQ=kT,gQ=jB,vQ=$B,yQ=p_,xQ=1,_Q=2;function bQ(t,e){return mQ(t)&&gQ(e)?vQ(yQ(t),e):function(n){var r=hQ(n,t);return r===void 0&&r===e?pQ(n,t):dQ(e,r,xQ|_Q)}}var SQ=bQ;function wQ(t){return t}var ld=wQ;function MQ(t){return function(e){return e==null?void 0:e[t]}}var EQ=MQ,AQ=VT;function TQ(t){return function(e){return AQ(e,t)}}var PQ=TQ,CQ=EQ,OQ=PQ,IQ=kT,RQ=p_;function NQ(t){return IQ(t)?CQ(RQ(t)):OQ(t)}var LQ=NQ,DQ=ZJ,kQ=SQ,UQ=ld,FQ=gi,BQ=LQ;function zQ(t){return typeof t=="function"?t:t==null?UQ:typeof t=="object"?FQ(t)?kQ(t[0],t[1]):DQ(t):BQ(t)}var ul=zQ;function jQ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var VB=jQ;function $Q(t){return t!==t}var VQ=$Q;function HQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var GQ=HQ,WQ=VB,XQ=VQ,qQ=GQ;function YQ(t,e,n){return e===e?qQ(t,e,n):WQ(t,XQ,n)}var KQ=YQ,ZQ=KQ;function JQ(t,e){var n=t==null?0:t.length;return!!n&&ZQ(t,e,0)>-1}var QQ=JQ;function eee(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tee=eee;function nee(){}var ree=nee,M1=FB,iee=ree,aee=QT,oee=1/0,see=M1&&1/aee(new M1([,-0]))[1]==oee?function(t){return new M1(t)}:iee,lee=see,uee=PB,cee=QQ,fee=tee,dee=OB,hee=lee,pee=QT,mee=200;function gee(t,e,n){var r=-1,i=cee,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=fee;else if(a>=mee){var u=e?null:hee(t);if(u)return pee(u);o=!1,i=dee,l=new uee}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var p=l.length;p--;)if(l[p]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var vee=gee,yee=ul,xee=vee;function _ee(t,e){return t&&t.length?xee(t,yee(e)):[]}var bee=_ee;const xR=an(bee);function HB(t,e,n){return e===!0?xR(t,n):Lt(e)?xR(t,e):t}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}var See=["ref"];function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){O_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WB(r.key),r)}}function Mee(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eee(t,e,n){return e=d0(e),Aee(t,GB()?Reflect.construct(e,n||[],d0(t).constructor):e.apply(t,n))}function Aee(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tee(t)}function Tee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d0(t)}function Pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function O_(t,e,n){return e=WB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WB(t){var e=Cee(t,"string");return bf(e)=="symbol"?e:e+""}function Cee(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oee(t,e){if(t==null)return{};var n=Iee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ree(t){return t.value}function Nee(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=Oee(e,See);return ne.createElement(JT,n)}var SR=1,su=function(t){function e(){var n;wee(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Eee(this,e,[].concat(i)),O_(n,"lastBoundingBox",{width:-1,height:-1}),n}return Pee(e,t),Mee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>SR||Math.abs(i.height-this.lastBoundingBox.height)>SR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ao({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();p={top:((c||0)-g.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ao(Ao({},f),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ao(Ao({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},Nee(a,Ao(Ao({},this.props),{},{payload:HB(c,u,Ree)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Ao(Ao({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&He(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);O_(su,"displayName","Legend");O_(su,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var wR=wm,Lee=eP,Dee=gi,MR=wR?wR.isConcatSpreadable:void 0;function kee(t){return Dee(t)||Lee(t)||!!(MR&&t&&t[MR])}var Uee=kee,Fee=RB,Bee=Uee;function XB(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=Bee),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?XB(s,e-1,n,r,i):Fee(i,s):r||(i[i.length]=s)}return i}var qB=XB;function zee(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var jee=zee,$ee=jee,Vee=$ee(),Hee=Vee,Gee=Hee,Wee=C_;function Xee(t,e){return t&&Gee(t,e,Wee)}var YB=Xee,qee=Am;function Yee(t,e){return function(n,r){if(n==null)return n;if(!qee(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var Kee=Yee,Zee=YB,Jee=Kee,Qee=Jee(Zee),iP=Qee,ete=iP,tte=Am;function nte(t,e){var n=-1,r=tte(t)?Array(t.length):[];return ete(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var KB=nte;function rte(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ite=rte,ER=td;function ate(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=ER(t),o=e!==void 0,s=e===null,l=e===e,u=ER(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var ote=ate,ste=ote;function lte(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=ste(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ute=lte,E1=$T,cte=VT,fte=ul,dte=KB,hte=ite,pte=DB,mte=ute,gte=ld,vte=gi;function yte(t,e,n){e.length?e=E1(e,function(a){return vte(a)?function(o){return cte(o,a.length===1?a[0]:a)}:a}):e=[gte];var r=-1;e=E1(e,pte(fte));var i=dte(t,function(a,o,s){var l=E1(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return hte(i,function(a,o){return mte(a,o,n)})}var xte=yte;function _te(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var bte=_te,Ste=bte,AR=Math.max;function wte(t,e,n){return e=AR(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=AR(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Ste(t,this,s)}}var Mte=wte;function Ete(t){return function(){return t}}var Ate=Ete,Tte=Nu,Pte=function(){try{var t=Tte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ZB=Pte,Cte=Ate,TR=ZB,Ote=ld,Ite=TR?function(t,e){return TR(t,"toString",{configurable:!0,enumerable:!1,value:Cte(e),writable:!0})}:Ote,Rte=Ite,Nte=800,Lte=16,Dte=Date.now;function kte(t){var e=0,n=0;return function(){var r=Dte(),i=Lte-(r-n);if(n=r,i>0){if(++e>=Nte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ute=kte,Fte=Rte,Bte=Ute,zte=Bte(Fte),jte=zte,$te=ld,Vte=Mte,Hte=jte;function Gte(t,e){return Hte(Vte(t,e,$te),t+"")}var Wte=Gte,Xte=FT,qte=Am,Yte=tP,Kte=ll;function Zte(t,e,n){if(!Kte(n))return!1;var r=typeof e;return(r=="number"?qte(n)&&Yte(e,n.length):r=="string"&&e in n)?Xte(n[e],t):!1}var I_=Zte,Jte=qB,Qte=xte,ene=Wte,PR=I_,tne=ene(function(t,e){if(t==null)return[];var n=e.length;return n>1&&PR(t,e[0],e[1])?e=[]:n>2&&PR(e[0],e[1],e[2])&&(e=[e[0]]),Qte(t,Jte(e,1),[])}),nne=tne;const aP=an(nne);function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function rne(t,e){return sne(t)||one(t,e)||ane(t,e)||ine()}function ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ane(t,e){if(t){if(typeof t=="string")return CR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function one(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sne(t){if(Array.isArray(t))return t}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return e=une(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function une(t){var e=cne(t,"string");return Sp(e)=="symbol"?e:e+""}function cne(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fne(t){return Array.isArray(t)&&tr(t[0])&&tr(t[1])?t.join(" ~ "):t}var dne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,p=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,_=e.label,y=e.labelFormatter,v=e.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(c&&c.length){var k={padding:0,margin:0},B=(p?aP(c,p):c).map(function(W,$){if(W.type==="none")return null;var H=A1({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},s),V=W.formatter||f||fne,U=W.value,j=W.name,Y=U,Z=j;if(V&&Y!=null&&Z!=null){var J=V(U,j,W,$,c);if(Array.isArray(J)){var fe=rne(J,2);Y=fe[0],Z=fe[1]}else Y=J}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:H},tr(Z)?ne.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,tr(Z)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},Y),ne.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:k},B)}return null},M=A1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=A1({margin:0},u),E=!kt(_),P=E?_:"",A=Gt("recharts-default-tooltip",m),C=Gt("recharts-tooltip-label",g);E&&y&&c!==void 0&&c!==null&&(P=y(_,c));var N=x?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",uE({className:A,style:M},N),ne.createElement("p",{className:C,style:w},ne.isValidElement(P)?P:"".concat(P)),b())};function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function av(t,e,n){return e=hne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hne(t){var e=pne(t,"string");return wp(e)=="symbol"?e:e+""}function pne(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zd="recharts-tooltip-wrapper",mne={visibility:"hidden"};function gne(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Gt(Zd,av(av(av(av({},"".concat(Zd,"-right"),He(n)&&e&&He(e.x)&&n>=e.x),"".concat(Zd,"-left"),He(n)&&e&&He(e.x)&&n<e.x),"".concat(Zd,"-bottom"),He(r)&&e&&He(e.y)&&r>=e.y),"".concat(Zd,"-top"),He(r)&&e&&He(e.y)&&r<e.y))}function IR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&He(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var p=c,m=l[r];return p<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,_=l[r]+u;return g>_?Math.max(c,l[r]):Math.max(f,l[r])}function vne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yne(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=IR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=IR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=vne({translateX:c,translateY:f,useTranslate3d:s})):u=mne,{cssProperties:u,cssClasses:gne({translateX:c,translateY:f,coordinate:n})}}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){fE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QB(r.key),r)}}function bne(t,e,n){return e&&_ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sne(t,e,n){return e=h0(e),wne(t,JB()?Reflect.construct(e,n||[],h0(t).constructor):e.apply(t,n))}function wne(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mne(t)}function Mne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JB=function(){return!!t})()}function h0(t){return h0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},h0(t)}function Ene(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function fE(t,e,n){return e=QB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QB(t){var e=Ane(t,"string");return Sf(e)=="symbol"?e:e+""}function Ane(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LR=1,Tne=function(t){function e(){var n;xne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Sne(this,e,[].concat(i)),fE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),fE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ene(e,t),bne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>LR||Math.abs(r.height-this.state.lastBoundingBox.height)>LR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,p=i.isAnimationActive,m=i.offset,g=i.position,_=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,x=i.wrapperStyle,b=yne({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),M=b.cssClasses,w=b.cssProperties,E=NR(NR({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return ne.createElement("div",{tabIndex:-1,className:M,style:E,ref:function(A){r.wrapperNode=A}},u)}}])}(z.PureComponent),Pne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ud={isSsr:Pne()};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){oP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function One(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tz(r.key),r)}}function Ine(t,e,n){return e&&One(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rne(t,e,n){return e=p0(e),Nne(t,ez()?Reflect.construct(e,n||[],p0(t).constructor):e.apply(t,n))}function Nne(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lne(t)}function Lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ez(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ez=function(){return!!t})()}function p0(t){return p0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p0(t)}function Dne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function oP(t,e,n){return e=tz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tz(t){var e=kne(t,"string");return wf(e)=="symbol"?e:e+""}function kne(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Une(t){return t.dataKey}function Fne(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(dne,e)}var Ta=function(t){function e(){return Cne(this,e),Rne(this,e,arguments)}return Dne(e,t),Ine(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,p=i.isAnimationActive,m=i.offset,g=i.payload,_=i.payloadUniqBy,y=i.position,v=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,M=i.wrapperStyle,w=g??[];f&&w.length&&(w=HB(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),_,Une));var E=w.length>0;return ne.createElement(Tne,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:c,hasPayload:E,offset:m,position:y,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:M},Fne(u,kR(kR({},this.props),{},{payload:w})))}}])}(z.PureComponent);oP(Ta,"displayName","Tooltip");oP(Ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ud.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bne=go,zne=function(){return Bne.Date.now()},jne=zne,$ne=/\s/;function Vne(t){for(var e=t.length;e--&&$ne.test(t.charAt(e)););return e}var Hne=Vne,Gne=Hne,Wne=/^\s+/;function Xne(t){return t&&t.slice(0,Gne(t)+1).replace(Wne,"")}var qne=Xne,Yne=qne,UR=ll,Kne=td,FR=NaN,Zne=/^[-+]0x[0-9a-f]+$/i,Jne=/^0b[01]+$/i,Qne=/^0o[0-7]+$/i,ere=parseInt;function tre(t){if(typeof t=="number")return t;if(Kne(t))return FR;if(UR(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=UR(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yne(t);var n=Jne.test(t);return n||Qne.test(t)?ere(t.slice(2),n?2:8):Zne.test(t)?FR:+t}var nz=tre,nre=ll,T1=jne,BR=nz,rre="Expected a function",ire=Math.max,are=Math.min;function ore(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(rre);e=BR(e)||0,nre(n)&&(c=!!n.leading,f="maxWait"in n,a=f?ire(BR(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p);function m(E){var P=r,A=i;return r=i=void 0,u=E,o=t.apply(A,P),o}function g(E){return u=E,s=setTimeout(v,e),c?m(E):o}function _(E){var P=E-l,A=E-u,C=e-P;return f?are(C,a-A):C}function y(E){var P=E-l,A=E-u;return l===void 0||P>=e||P<0||f&&A>=a}function v(){var E=T1();if(y(E))return x(E);s=setTimeout(v,_(E))}function x(E){return s=void 0,p&&r?m(E):(r=i=void 0,o)}function b(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function M(){return s===void 0?o:x(T1())}function w(){var E=T1(),P=y(E);if(r=arguments,i=this,l=E,P){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),o}return w.cancel=b,w.flush=M,w}var sre=ore,lre=sre,ure=ll,cre="Expected a function";function fre(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cre);return ure(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lre(t,e,{leading:r,maxWait:e,trailing:i})}var dre=fre;const rz=an(dre);function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return e=pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return Mp(e)=="symbol"?e:e+""}function mre(t,e){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gre(t,e){return _re(t)||xre(t,e)||yre(t,e)||vre()}function vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return jR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(t,e)}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _re(t){if(Array.isArray(t))return t}var $R=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,p=t.maxHeight,m=t.children,g=t.debounce,_=g===void 0?0:g,y=t.id,v=t.className,x=t.onResize,b=t.style,M=b===void 0?{}:b,w=z.useRef(null),E=z.useRef();E.current=x,z.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=z.useState({containerWidth:i.width,containerHeight:i.height}),A=gre(P,2),C=A[0],N=A[1],I=z.useCallback(function(B,W){N(function($){var H=Math.round(B),V=Math.round(W);return $.containerWidth===H&&$.containerHeight===V?$:{containerWidth:H,containerHeight:V}})},[]);z.useEffect(function(){var B=function(j){var Y,Z=j[0].contentRect,J=Z.width,fe=Z.height;I(J,fe),(Y=E.current)===null||Y===void 0||Y.call(E,J,fe)};_>0&&(B=rz(B,_,{trailing:!0,leading:!1}));var W=new ResizeObserver(B),$=w.current.getBoundingClientRect(),H=$.width,V=$.height;return I(H,V),W.observe(w.current),function(){W.disconnect()}},[I,_]);var k=z.useMemo(function(){var B=C.containerWidth,W=C.containerHeight;if(B<0||W<0)return null;Ho(Zl(o)||Zl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Zl(o)?B:o,H=Zl(l)?W:l;n&&n>0&&($?H=$/n:H&&($=H*n),p&&H>p&&(H=p)),Ho($>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,H,o,l,c,f,n);var V=!Array.isArray(m)&&Vo(m.type).endsWith("Chart");return ne.Children.map(m,function(U){return ne.isValidElement(U)?z.cloneElement(U,ov({width:$,height:H},V?{style:ov({height:"100%",width:"100%",maxHeight:H,maxWidth:$},U.props.style)}:{})):U})},[n,m,l,p,f,c,C,o]);return ne.createElement("div",{id:y?"".concat(y):void 0,className:Gt("recharts-responsive-container",v),style:ov(ov({},M),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:p}),ref:w},k)}),iz=function(e){return null};iz.displayName="Cell";function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=wre(t,"string");return Ep(e)=="symbol"?e:e+""}function wre(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ac={widthCache:{},cacheCount:0},Mre=2e3,Ere={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HR="recharts_measurement_span";function Are(t){var e=hE({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Fh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ud.isSsr)return{width:0,height:0};var r=Are(n),i=JSON.stringify({text:e,copyStyle:r});if(ac.widthCache[i])return ac.widthCache[i];try{var a=document.getElementById(HR);a||(a=document.createElement("span"),a.setAttribute("id",HR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=hE(hE({},Ere),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return ac.widthCache[i]=l,++ac.cacheCount>Mre&&(ac.cacheCount=0,ac.widthCache={}),l}catch{return{width:0,height:0}}},Tre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function m0(t,e){return Ire(t)||Ore(t,e)||Cre(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cre(t,e){if(t){if(typeof t=="string")return GR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GR(t,e)}}function GR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ore(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ire(t){if(Array.isArray(t))return t}function Rre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lre(r.key),r)}}function Nre(t,e,n){return e&&WR(t.prototype,e),n&&WR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lre(t){var e=Dre(t,"string");return Ap(e)=="symbol"?e:e+""}function Dre(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ure=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,az={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Fre=Object.keys(az),Xc="NaN";function Bre(t,e){return t*az[e]}var sv=function(){function t(e,n){Rre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!kre.test(n)&&(this.num=NaN,this.unit=""),Fre.includes(n)&&(this.num=Bre(e,n),this.unit="px")}return Nre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ure.exec(n))!==null&&r!==void 0?r:[],a=m0(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function oz(t){if(t.includes(Xc))return Xc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=XR.exec(e))!==null&&n!==void 0?n:[],i=m0(r,4),a=i[1],o=i[2],s=i[3],l=sv.parse(a??""),u=sv.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Xc;e=e.replace(XR,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,p=(f=qR.exec(e))!==null&&f!==void 0?f:[],m=m0(p,4),g=m[1],_=m[2],y=m[3],v=sv.parse(g??""),x=sv.parse(y??""),b=_==="+"?v.add(x):v.subtract(x);if(b.isNaN())return Xc;e=e.replace(qR,b.toString())}return e}var YR=/\(([^()]*)\)/;function zre(t){for(var e=t;e.includes("(");){var n=YR.exec(e),r=m0(n,2),i=r[1];e=e.replace(YR,oz(i))}return e}function jre(t){var e=t.replace(/\s+/g,"");return e=zre(e),e=oz(e),e}function $re(t){try{return jre(t)}catch{return Xc}}function P1(t){var e=$re(t.slice(5,-1));return e===Xc?"":e}var Vre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hre=["dx","dy","angle","className","breakAll"];function pE(){return pE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pE.apply(this,arguments)}function KR(t,e){if(t==null)return{};var n=Gre(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZR(t,e){return Yre(t)||qre(t,e)||Xre(t,e)||Wre()}function Wre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xre(t,e){if(t){if(typeof t=="string")return JR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(t,e)}}function JR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yre(t){if(Array.isArray(t))return t}var sz=/[ \f\n\r\t\v\u2028\u2029]+/,lz=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];kt(n)||(r?a=n.toString().split(""):a=n.toString().split(sz));var o=a.map(function(l){return{word:l,width:Fh(l,i).width}}),s=r?0:Fh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Kre=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=He(o),f=s,p=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(H,V){var U=V.word,j=V.width,Y=H[H.length-1];if(Y&&(i==null||a||Y.width+j+r<Number(i)))Y.words.push(U),Y.width+=j+r;else{var Z={words:[U],width:j};H.push(Z)}return H},[])},m=p(n),g=function($){return $.reduce(function(H,V){return H.width>V.width?H:V})};if(!c)return m;for(var _="",y=function($){var H=f.slice(0,$),V=lz({breakAll:u,style:l,children:H+_}).wordsWithComputedWidth,U=p(V),j=U.length>o||g(U).width>Number(i);return[j,U]},v=0,x=f.length-1,b=0,M;v<=x&&b<=f.length-1;){var w=Math.floor((v+x)/2),E=w-1,P=y(E),A=ZR(P,2),C=A[0],N=A[1],I=y(w),k=ZR(I,1),B=k[0];if(!C&&!B&&(v=w+1),C&&B&&(x=w-1),!C&&B){M=N;break}b++}return M||m},QR=function(e){var n=kt(e)?[]:e.toString().split(sz);return[{words:n}]},Zre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!ud.isSsr){var l,u,c=lz({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,p=c.spaceWidth;l=f,u=p}else return QR(i);return Kre({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return QR(i)},e3="#808080",g0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,p=e.textAnchor,m=p===void 0?"start":p,g=e.verticalAnchor,_=g===void 0?"end":g,y=e.fill,v=y===void 0?e3:y,x=KR(e,Vre),b=z.useMemo(function(){return Zre({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),M=x.dx,w=x.dy,E=x.angle,P=x.className,A=x.breakAll,C=KR(x,Hre);if(!tr(r)||!tr(a))return null;var N=r+(He(M)?M:0),I=a+(He(w)?w:0),k;switch(_){case"start":k=P1("calc(".concat(u,")"));break;case"middle":k=P1("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:k=P1("calc(".concat(b.length-1," * -").concat(s,")"));break}var B=[];if(f){var W=b[0].width,$=x.width;B.push("scale(".concat((He($)?$/W:1)/W,")"))}return E&&B.push("rotate(".concat(E,", ").concat(N,", ").concat(I,")")),B.length&&(C.transform=B.join(" ")),ne.createElement("text",pE({},jt(C,!0),{x:N,y:I,className:Gt("recharts-text",P),textAnchor:m,fill:v.includes("url")?e3:v}),b.map(function(H,V){var U=H.words.join(A?"":" ");return ne.createElement("tspan",{x:N,dy:V===0?k:s,key:"".concat(U,"-").concat(V)},U)}))};function Zs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sP(t){let e,n,r;t.length!==2?(e=Zs,n=(s,l)=>Zs(t(s),l),r=(s,l)=>t(s)-l):(e=t===Zs||t===Jre?t:Qre,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function Qre(){return 0}function uz(t){return t===null?NaN:+t}function*eie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tie=sP(Zs),Tm=tie.right;sP(uz).center;class t3 extends Map{constructor(e,n=iie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(n3(this,e))}has(e){return super.has(n3(this,e))}set(e,n){return super.set(nie(this,e),n)}delete(e){return super.delete(rie(this,e))}}function n3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function iie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function aie(t=Zs){if(t===Zs)return cz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const oie=Math.sqrt(50),sie=Math.sqrt(10),lie=Math.sqrt(2);function v0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=oie?10:a>=sie?5:a>=lie?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?v0(t,e,n*2):[s,l,u]}function mE(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?v0(e,t,n):v0(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function gE(t,e,n){return e=+e,t=+t,n=+n,v0(t,e,n)[2]}function vE(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?gE(e,t,n):gE(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function r3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function i3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function fz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cz:aie(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+p)),g=Math.min(r,Math.floor(e+(l-u)*f/l+p));fz(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Jd(t,n,e),i(t[r],a)>0&&Jd(t,n,r);o<s;){for(Jd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Jd(t,n,s):(++s,Jd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Jd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function uie(t,e,n){if(t=Float64Array.from(eie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return i3(t);if(e>=1)return r3(t);var r,i=(r-1)*e,a=Math.floor(i),o=r3(fz(t,a).subarray(0,a+1)),s=i3(t.subarray(a+1));return o+(s-o)*(i-a)}}function cie(t,e,n=uz){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function fie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ma(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ss(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yE=Symbol("implicit");function lP(){var t=new t3,e=[],n=[],r=yE;function i(a){let o=t.get(a);if(o===void 0){if(r!==yE)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new t3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return lP(e,n).unknown(r)},ma.apply(i,arguments),i}function Tp(){var t=lP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var p=e().length,m=i<r,g=m?i:r,_=m?r:i;a=(_-g)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),g+=(_-g-a*(p-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var y=fie(p).map(function(v){return g+a*v});return n(m?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),f()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,f()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},t.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),f()):c},t.copy=function(){return Tp(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},ma.apply(f(),arguments)}function dz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dz(e())},t}function Bh(){return dz(Tp.apply(null,arguments).paddingInner(1))}function uP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pm(){}var Pp=.7,y0=1/Pp,lf="\\s*([+-]?\\d+)\\s*",Cp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",uo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",die=/^#([0-9a-f]{3,8})$/,hie=new RegExp(`^rgb\\(${lf},${lf},${lf}\\)$`),pie=new RegExp(`^rgb\\(${uo},${uo},${uo}\\)$`),mie=new RegExp(`^rgba\\(${lf},${lf},${lf},${Cp}\\)$`),gie=new RegExp(`^rgba\\(${uo},${uo},${uo},${Cp}\\)$`),vie=new RegExp(`^hsl\\(${Cp},${uo},${uo}\\)$`),yie=new RegExp(`^hsla\\(${Cp},${uo},${uo},${Cp}\\)$`),a3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uP(Pm,Op,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:o3,formatHex:o3,formatHex8:xie,formatHsl:_ie,formatRgb:s3,toString:s3});function o3(){return this.rgb().formatHex()}function xie(){return this.rgb().formatHex8()}function _ie(){return pz(this).formatHsl()}function s3(){return this.rgb().formatRgb()}function Op(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=die.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?l3(e):n===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?lv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?lv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hie.exec(t))?new ci(e[1],e[2],e[3],1):(e=pie.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mie.exec(t))?lv(e[1],e[2],e[3],e[4]):(e=gie.exec(t))?lv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=vie.exec(t))?f3(e[1],e[2]/100,e[3]/100,1):(e=yie.exec(t))?f3(e[1],e[2]/100,e[3]/100,e[4]):a3.hasOwnProperty(t)?l3(a3[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function l3(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function lv(t,e,n,r){return r<=0&&(t=e=n=NaN),new ci(t,e,n,r)}function bie(t){return t instanceof Pm||(t=Op(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function xE(t,e,n,r){return arguments.length===1?bie(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}uP(ci,xE,hz(Pm,{brighter(t){return t=t==null?y0:Math.pow(y0,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pp:Math.pow(Pp,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(lu(this.r),lu(this.g),lu(this.b),x0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u3,formatHex:u3,formatHex8:Sie,formatRgb:c3,toString:c3}));function u3(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}`}function Sie(){return`#${Jl(this.r)}${Jl(this.g)}${Jl(this.b)}${Jl((isNaN(this.opacity)?1:this.opacity)*255)}`}function c3(){const t=x0(this.opacity);return`${t===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${t===1?")":`, ${t})`}`}function x0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Jl(t){return t=lu(t),(t<16?"0":"")+t.toString(16)}function f3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ra(t,e,n,r)}function pz(t){if(t instanceof Ra)return new Ra(t.h,t.s,t.l,t.opacity);if(t instanceof Pm||(t=Op(t)),!t)return new Ra;if(t instanceof Ra)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Ra(o,s,l,t.opacity)}function wie(t,e,n,r){return arguments.length===1?pz(t):new Ra(t,e,n,r??1)}function Ra(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}uP(Ra,wie,hz(Pm,{brighter(t){return t=t==null?y0:Math.pow(y0,t),new Ra(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pp:Math.pow(Pp,t),new Ra(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ci(C1(t>=240?t-240:t+120,i,r),C1(t,i,r),C1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ra(d3(this.h),uv(this.s),uv(this.l),x0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=x0(this.opacity);return`${t===1?"hsl(":"hsla("}${d3(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function d3(t){return t=(t||0)%360,t<0?t+360:t}function uv(t){return Math.max(0,Math.min(1,t||0))}function C1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const cP=t=>()=>t;function Mie(t,e){return function(n){return t+n*e}}function Eie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Aie(t){return(t=+t)==1?mz:function(e,n){return n-e?Eie(e,n,t):cP(isNaN(e)?n:e)}}function mz(t,e){var n=e-t;return n?Mie(t,n):cP(isNaN(t)?e:t)}const h3=function t(e){var n=Aie(e);function r(i,a){var o=n((i=xE(i)).r,(a=xE(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=mz(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Tie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Pie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=cd(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Oie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Iie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=cd(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var _E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O1=new RegExp(_E.source,"g");function Rie(t){return function(){return t}}function Nie(t){return function(e){return t(e)+""}}function Lie(t,e){var n=_E.lastIndex=O1.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=_E.exec(t))&&(i=O1.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:_0(r,i)})),n=O1.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Nie(l[0].x):Rie(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function cd(t,e){var n=typeof e,r;return e==null||n==="boolean"?cP(e):(n==="number"?_0:n==="string"?(r=Op(e))?(e=r,h3):Lie:e instanceof Op?h3:e instanceof Date?Oie:Pie(e)?Tie:Array.isArray(e)?Cie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Iie:_0)(t,e)}function fP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Die(t,e){e===void 0&&(e=t,t=cd);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function kie(t){return function(){return t}}function b0(t){return+t}var p3=[0,1];function Xr(t){return t}function bE(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kie(isNaN(e)?NaN:.5)}function Uie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Fie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=bE(i,r),a=n(o,a)):(r=bE(r,i),a=n(a,o)),function(s){return a(r(s))}}function Bie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=bE(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=Tm(t,s,1,r)-1;return a[l](i[l](s))}}function Cm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function R_(){var t=p3,e=p3,n=cd,r,i,a,o=Xr,s,l,u;function c(){var p=Math.min(t.length,e.length);return o!==Xr&&(o=Uie(t[0],t[p-1])),s=p>2?Bie:Fie,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(r),e,n)))(r(o(p)))}return f.invert=function(p){return o(i((u||(u=s(e,t.map(r),_0)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,b0),c()):t.slice()},f.range=function(p){return arguments.length?(e=Array.from(p),c()):e.slice()},f.rangeRound=function(p){return e=Array.from(p),n=fP,c()},f.clamp=function(p){return arguments.length?(o=p?!0:Xr,c()):o!==Xr},f.interpolate=function(p){return arguments.length?(n=p,c()):n},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return r=p,i=m,c()}}function dP(){return R_()(Xr,Xr)}function zie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function S0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Mf(t){return t=S0(Math.abs(t)),t?t[1]:NaN}function jie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function $ie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Vie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ip(t){if(!(e=Vie.exec(t)))throw new Error("invalid format: "+t);var e;return new hP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ip.prototype=hP.prototype;function hP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gz;function Gie(t,e){var n=S0(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(gz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+S0(t,Math.max(0,e+a-1))[0]}function m3(t,e){var n=S0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const g3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>m3(t*100,e),r:m3,s:Gie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function v3(t){return t}var y3=Array.prototype.map,x3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Wie(t){var e=t.grouping===void 0||t.thousands===void 0?v3:jie(y3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?v3:$ie(y3.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ip(f);var p=f.fill,m=f.align,g=f.sign,_=f.symbol,y=f.zero,v=f.width,x=f.comma,b=f.precision,M=f.trim,w=f.type;w==="n"?(x=!0,w="g"):g3[w]||(b===void 0&&(b=12),M=!0,w="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=_==="$"?r:/[%p]/.test(w)?o:"",A=g3[w],C=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function N(I){var k=E,B=P,W,$,H;if(w==="c")B=A(I)+B,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?l:A(Math.abs(I),b),M&&(I=Hie(I)),V&&+I==0&&g!=="+"&&(V=!1),k=(V?g==="("?g:s:g==="-"||g==="("?"":g)+k,B=(w==="s"?x3[8+gz/3]:"")+B+(V&&g==="("?")":""),C){for(W=-1,$=I.length;++W<$;)if(H=I.charCodeAt(W),48>H||H>57){B=(H===46?i+I.slice(W+1):I.slice(W))+B,I=I.slice(0,W);break}}}x&&!y&&(I=e(I,1/0));var U=k.length+I.length+B.length,j=U<v?new Array(v-U+1).join(p):"";switch(x&&y&&(I=e(j+I,j.length?v-B.length:1/0),j=""),m){case"<":I=k+I+B+j;break;case"=":I=k+j+I+B;break;case"^":I=j.slice(0,U=j.length>>1)+k+I+B+j.slice(U);break;default:I=j+k+I+B;break}return a(I)}return N.toString=function(){return f+""},N}function c(f,p){var m=u((f=Ip(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Mf(p)/3)))*3,_=Math.pow(10,-g),y=x3[8+g/3];return function(v){return m(_*v)+y}}return{format:u,formatPrefix:c}}var cv,pP,vz;Xie({thousands:",",grouping:[3],currency:["$",""]});function Xie(t){return cv=Wie(t),pP=cv.format,vz=cv.formatPrefix,cv}function qie(t){return Math.max(0,-Mf(Math.abs(t)))}function Yie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mf(e)/3)))*3-Mf(Math.abs(t)))}function Kie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Mf(e)-Mf(t))+1}function yz(t,e,n,r){var i=vE(t,e,n),a;switch(r=Ip(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Yie(i,o))&&(r.precision=a),vz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Kie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=qie(i))&&(r.precision=a-(r.type==="%")*2);break}}return pP(r)}function cl(t){var e=t.domain;return t.ticks=function(n){var r=e();return mE(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return yz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=gE(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function w0(){var t=dP();return t.copy=function(){return Cm(t,w0())},ma.apply(t,arguments),cl(t)}function xz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,b0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xz(t).unknown(e)},t=arguments.length?Array.from(t,b0):[0,1],cl(n)}function _z(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function _3(t){return Math.log(t)}function b3(t){return Math.exp(t)}function Zie(t){return-Math.log(-t)}function Jie(t){return-Math.exp(-t)}function Qie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eae(t){return t===10?Qie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S3(t){return(e,n)=>-t(-e,n)}function mP(t){const e=t(_3,b3),n=e.domain;let r=10,i,a;function o(){return i=tae(r),a=eae(r),n()[0]<0?(i=S3(i),a=S3(a),t(Zie,Jie)):t(_3,b3),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let p=i(u),m=i(c),g,_;const y=s==null?10:+s;let v=[];if(!(r%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(g=1;g<r;++g)if(_=p<0?g/a(-p):g*a(p),!(_<u)){if(_>c)break;v.push(_)}}else for(;p<=m;++p)for(g=r-1;g>=1;--g)if(_=p>0?g/a(-p):g*a(p),!(_<u)){if(_>c)break;v.push(_)}v.length*2<y&&(v=mE(u,c,y))}else v=mE(p,m,Math.min(m-p,y)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ip(l)).precision==null&&(l.trim=!0),l=pP(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(_z(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function bz(){const t=mP(R_()).domain([1,10]);return t.copy=()=>Cm(t,bz()).base(t.base()),ma.apply(t,arguments),t}function w3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function M3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function gP(t){var e=1,n=t(w3(e),M3(e));return n.constant=function(r){return arguments.length?t(w3(e=+r),M3(e)):e},cl(n)}function Sz(){var t=gP(R_());return t.copy=function(){return Cm(t,Sz()).constant(t.constant())},ma.apply(t,arguments)}function E3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rae(t){return t<0?-t*t:t*t}function vP(t){var e=t(Xr,Xr),n=1;function r(){return n===1?t(Xr,Xr):n===.5?t(nae,rae):t(E3(n),E3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},cl(e)}function yP(){var t=vP(R_());return t.copy=function(){return Cm(t,yP()).exponent(t.exponent())},ma.apply(t,arguments),t}function iae(){return yP.apply(null,arguments).exponent(.5)}function A3(t){return Math.sign(t)*t*t}function aae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wz(){var t=dP(),e=[0,1],n=!1,r;function i(a){var o=aae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(A3(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,b0)).map(A3)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return wz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ma.apply(i,arguments),cl(i)}function Mz(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=cie(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Tm(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Zs),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Mz().domain(t).range(e).unknown(r)},ma.apply(a,arguments)}function Ez(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Tm(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Ez().domain([t,e]).range(i).unknown(a)},ma.apply(cl(o),arguments)}function Az(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Tm(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Az().domain(t).range(e).unknown(n)},ma.apply(i,arguments)}const I1=new Date,R1=new Date;function ir(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>ir(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(I1.setTime(+a),R1.setTime(+o),t(I1),t(R1),Math.floor(n(I1,R1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const M0=ir(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);M0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ir(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):M0);M0.range;const Bo=1e3,aa=Bo*60,zo=aa*60,Zo=zo*24,xP=Zo*7,T3=Zo*30,N1=Zo*365,Ql=ir(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCSeconds());Ql.range;const _P=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getMinutes());_P.range;const bP=ir(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCMinutes());bP.range;const SP=ir(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bo-t.getMinutes()*aa)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getHours());SP.range;const wP=ir(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCHours());wP.range;const Om=ir(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*aa)/Zo,t=>t.getDate()-1);Om.range;const N_=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>t.getUTCDate()-1);N_.range;const Tz=ir(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zo,t=>Math.floor(t/Zo));Tz.range;function Lu(t){return ir(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*aa)/xP)}const L_=Lu(0),E0=Lu(1),oae=Lu(2),sae=Lu(3),Ef=Lu(4),lae=Lu(5),uae=Lu(6);L_.range;E0.range;oae.range;sae.range;Ef.range;lae.range;uae.range;function Du(t){return ir(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xP)}const D_=Du(0),A0=Du(1),cae=Du(2),fae=Du(3),Af=Du(4),dae=Du(5),hae=Du(6);D_.range;A0.range;cae.range;fae.range;Af.range;dae.range;hae.range;const MP=ir(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());MP.range;const EP=ir(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());EP.range;const Jo=ir(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Jo.range;const Qo=ir(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ir(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qo.range;function Pz(t,e,n,r,i,a){const o=[[Ql,1,Bo],[Ql,5,5*Bo],[Ql,15,15*Bo],[Ql,30,30*Bo],[a,1,aa],[a,5,5*aa],[a,15,15*aa],[a,30,30*aa],[i,1,zo],[i,3,3*zo],[i,6,6*zo],[i,12,12*zo],[r,1,Zo],[r,2,2*Zo],[n,1,xP],[e,1,T3],[e,3,3*T3],[t,1,N1]];function s(u,c,f){const p=c<u;p&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return p?g.reverse():g}function l(u,c,f){const p=Math.abs(c-u)/f,m=sP(([,,y])=>y).right(o,p);if(m===o.length)return t.every(vE(u/N1,c/N1,f));if(m===0)return M0.every(Math.max(vE(u,c,f),1));const[g,_]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return g.every(_)}return[s,l]}const[pae,mae]=Pz(Qo,EP,D_,Tz,wP,bP),[gae,vae]=Pz(Jo,MP,L_,Om,SP,_P);function L1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function D1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=eh(i),c=th(i),f=eh(a),p=th(a),m=eh(o),g=th(o),_=eh(s),y=th(s),v=eh(l),x=th(l),b={a:V,A:U,b:j,B:Y,c:null,d:N3,e:N3,f:jae,g:Zae,G:Qae,H:Fae,I:Bae,j:zae,L:Cz,m:$ae,M:Vae,p:Z,q:J,Q:k3,s:U3,S:Hae,u:Gae,U:Wae,V:Xae,w:qae,W:Yae,x:null,X:null,y:Kae,Y:Jae,Z:eoe,"%":D3},M={a:fe,A:we,b:De,B:ae,c:null,d:L3,e:L3,f:ioe,g:poe,G:goe,H:toe,I:noe,j:roe,L:Iz,m:aoe,M:ooe,p:be,q:Ae,Q:k3,s:U3,S:soe,u:loe,U:uoe,V:coe,w:foe,W:doe,x:null,X:null,y:hoe,Y:moe,Z:voe,"%":D3},w={a:N,A:I,b:k,B,c:W,d:I3,e:I3,f:Lae,g:O3,G:C3,H:R3,I:R3,j:Oae,L:Nae,m:Cae,M:Iae,p:C,q:Pae,Q:kae,s:Uae,S:Rae,u:wae,U:Mae,V:Eae,w:Sae,W:Aae,x:$,X:H,y:O3,Y:C3,Z:Tae,"%":Dae};b.x=E(n,b),b.X=E(r,b),b.c=E(e,b),M.x=E(n,M),M.X=E(r,M),M.c=E(e,M);function E(me,Te){return function(Pe){var pe=[],Ge=-1,ce=0,Se=me.length,xe,Ne,q;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ge<Se;)me.charCodeAt(Ge)===37&&(pe.push(me.slice(ce,Ge)),(Ne=P3[xe=me.charAt(++Ge)])!=null?xe=me.charAt(++Ge):Ne=xe==="e"?" ":"0",(q=Te[xe])&&(xe=q(Pe,Ne)),pe.push(xe),ce=Ge+1);return pe.push(me.slice(ce,Ge)),pe.join("")}}function P(me,Te){return function(Pe){var pe=Qd(1900,void 0,1),Ge=A(pe,me,Pe+="",0),ce,Se;if(Ge!=Pe.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(Te&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ce=D1(Qd(pe.y,0,1)),Se=ce.getUTCDay(),ce=Se>4||Se===0?A0.ceil(ce):A0(ce),ce=N_.offset(ce,(pe.V-1)*7),pe.y=ce.getUTCFullYear(),pe.m=ce.getUTCMonth(),pe.d=ce.getUTCDate()+(pe.w+6)%7):(ce=L1(Qd(pe.y,0,1)),Se=ce.getDay(),ce=Se>4||Se===0?E0.ceil(ce):E0(ce),ce=Om.offset(ce,(pe.V-1)*7),pe.y=ce.getFullYear(),pe.m=ce.getMonth(),pe.d=ce.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),Se="Z"in pe?D1(Qd(pe.y,0,1)).getUTCDay():L1(Qd(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(Se+5)%7:pe.w+pe.U*7-(Se+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,D1(pe)):L1(pe)}}function A(me,Te,Pe,pe){for(var Ge=0,ce=Te.length,Se=Pe.length,xe,Ne;Ge<ce;){if(pe>=Se)return-1;if(xe=Te.charCodeAt(Ge++),xe===37){if(xe=Te.charAt(Ge++),Ne=w[xe in P3?Te.charAt(Ge++):xe],!Ne||(pe=Ne(me,Pe,pe))<0)return-1}else if(xe!=Pe.charCodeAt(pe++))return-1}return pe}function C(me,Te,Pe){var pe=u.exec(Te.slice(Pe));return pe?(me.p=c.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function N(me,Te,Pe){var pe=m.exec(Te.slice(Pe));return pe?(me.w=g.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function I(me,Te,Pe){var pe=f.exec(Te.slice(Pe));return pe?(me.w=p.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function k(me,Te,Pe){var pe=v.exec(Te.slice(Pe));return pe?(me.m=x.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function B(me,Te,Pe){var pe=_.exec(Te.slice(Pe));return pe?(me.m=y.get(pe[0].toLowerCase()),Pe+pe[0].length):-1}function W(me,Te,Pe){return A(me,e,Te,Pe)}function $(me,Te,Pe){return A(me,n,Te,Pe)}function H(me,Te,Pe){return A(me,r,Te,Pe)}function V(me){return o[me.getDay()]}function U(me){return a[me.getDay()]}function j(me){return l[me.getMonth()]}function Y(me){return s[me.getMonth()]}function Z(me){return i[+(me.getHours()>=12)]}function J(me){return 1+~~(me.getMonth()/3)}function fe(me){return o[me.getUTCDay()]}function we(me){return a[me.getUTCDay()]}function De(me){return l[me.getUTCMonth()]}function ae(me){return s[me.getUTCMonth()]}function be(me){return i[+(me.getUTCHours()>=12)]}function Ae(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Te=E(me+="",b);return Te.toString=function(){return me},Te},parse:function(me){var Te=P(me+="",!1);return Te.toString=function(){return me},Te},utcFormat:function(me){var Te=E(me+="",M);return Te.toString=function(){return me},Te},utcParse:function(me){var Te=P(me+="",!0);return Te.toString=function(){return me},Te}}}var P3={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,xae=/^%/,_ae=/[\\^$*+?|[\]().{}]/g;function Jt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function bae(t){return t.replace(_ae,"\\$&")}function eh(t){return new RegExp("^(?:"+t.map(bae).join("|")+")","i")}function th(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Sae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function wae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Mae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Eae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Aae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function C3(t,e,n){var r=pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function O3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Tae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pae(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function I3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Oae(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R3(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Iae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rae(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nae(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Lae(t,e,n){var r=pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dae(t,e,n){var r=xae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function kae(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Uae(t,e,n){var r=pr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function N3(t,e){return Jt(t.getDate(),e,2)}function Fae(t,e){return Jt(t.getHours(),e,2)}function Bae(t,e){return Jt(t.getHours()%12||12,e,2)}function zae(t,e){return Jt(1+Om.count(Jo(t),t),e,3)}function Cz(t,e){return Jt(t.getMilliseconds(),e,3)}function jae(t,e){return Cz(t,e)+"000"}function $ae(t,e){return Jt(t.getMonth()+1,e,2)}function Vae(t,e){return Jt(t.getMinutes(),e,2)}function Hae(t,e){return Jt(t.getSeconds(),e,2)}function Gae(t){var e=t.getDay();return e===0?7:e}function Wae(t,e){return Jt(L_.count(Jo(t)-1,t),e,2)}function Oz(t){var e=t.getDay();return e>=4||e===0?Ef(t):Ef.ceil(t)}function Xae(t,e){return t=Oz(t),Jt(Ef.count(Jo(t),t)+(Jo(t).getDay()===4),e,2)}function qae(t){return t.getDay()}function Yae(t,e){return Jt(E0.count(Jo(t)-1,t),e,2)}function Kae(t,e){return Jt(t.getFullYear()%100,e,2)}function Zae(t,e){return t=Oz(t),Jt(t.getFullYear()%100,e,2)}function Jae(t,e){return Jt(t.getFullYear()%1e4,e,4)}function Qae(t,e){var n=t.getDay();return t=n>=4||n===0?Ef(t):Ef.ceil(t),Jt(t.getFullYear()%1e4,e,4)}function eoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Jt(e/60|0,"0",2)+Jt(e%60,"0",2)}function L3(t,e){return Jt(t.getUTCDate(),e,2)}function toe(t,e){return Jt(t.getUTCHours(),e,2)}function noe(t,e){return Jt(t.getUTCHours()%12||12,e,2)}function roe(t,e){return Jt(1+N_.count(Qo(t),t),e,3)}function Iz(t,e){return Jt(t.getUTCMilliseconds(),e,3)}function ioe(t,e){return Iz(t,e)+"000"}function aoe(t,e){return Jt(t.getUTCMonth()+1,e,2)}function ooe(t,e){return Jt(t.getUTCMinutes(),e,2)}function soe(t,e){return Jt(t.getUTCSeconds(),e,2)}function loe(t){var e=t.getUTCDay();return e===0?7:e}function uoe(t,e){return Jt(D_.count(Qo(t)-1,t),e,2)}function Rz(t){var e=t.getUTCDay();return e>=4||e===0?Af(t):Af.ceil(t)}function coe(t,e){return t=Rz(t),Jt(Af.count(Qo(t),t)+(Qo(t).getUTCDay()===4),e,2)}function foe(t){return t.getUTCDay()}function doe(t,e){return Jt(A0.count(Qo(t)-1,t),e,2)}function hoe(t,e){return Jt(t.getUTCFullYear()%100,e,2)}function poe(t,e){return t=Rz(t),Jt(t.getUTCFullYear()%100,e,2)}function moe(t,e){return Jt(t.getUTCFullYear()%1e4,e,4)}function goe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Af(t):Af.ceil(t),Jt(t.getUTCFullYear()%1e4,e,4)}function voe(){return"+0000"}function D3(){return"%"}function k3(t){return+t}function U3(t){return Math.floor(+t/1e3)}var oc,Nz,Lz;yoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yoe(t){return oc=yae(t),Nz=oc.format,oc.parse,Lz=oc.utcFormat,oc.utcParse,oc}function xoe(t){return new Date(t)}function _oe(t){return t instanceof Date?+t:+new Date(+t)}function AP(t,e,n,r,i,a,o,s,l,u){var c=dP(),f=c.invert,p=c.domain,m=u(".%L"),g=u(":%S"),_=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),x=u("%b %d"),b=u("%B"),M=u("%Y");function w(E){return(l(E)<E?m:s(E)<E?g:o(E)<E?_:a(E)<E?y:r(E)<E?i(E)<E?v:x:n(E)<E?b:M)(E)}return c.invert=function(E){return new Date(f(E))},c.domain=function(E){return arguments.length?p(Array.from(E,_oe)):p().map(xoe)},c.ticks=function(E){var P=p();return t(P[0],P[P.length-1],E??10)},c.tickFormat=function(E,P){return P==null?w:u(P)},c.nice=function(E){var P=p();return(!E||typeof E.range!="function")&&(E=e(P[0],P[P.length-1],E??10)),E?p(_z(P,E)):c},c.copy=function(){return Cm(c,AP(t,e,n,r,i,a,o,s,l,u))},c}function boe(){return ma.apply(AP(gae,vae,Jo,MP,L_,Om,SP,_P,Ql,Nz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Soe(){return ma.apply(AP(pae,mae,Qo,EP,D_,N_,wP,bP,Ql,Lz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k_(){var t=0,e=1,n,r,i,a,o=Xr,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(p){var m,g;return arguments.length?([m,g]=p,o=f(m,g),u):[o(0),o(1)]}}return u.range=c(cd),u.rangeRound=c(fP),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function fl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Dz(){var t=cl(k_()(Xr));return t.copy=function(){return fl(t,Dz())},ss.apply(t,arguments)}function kz(){var t=mP(k_()).domain([1,10]);return t.copy=function(){return fl(t,kz()).base(t.base())},ss.apply(t,arguments)}function Uz(){var t=gP(k_());return t.copy=function(){return fl(t,Uz()).constant(t.constant())},ss.apply(t,arguments)}function TP(){var t=vP(k_());return t.copy=function(){return fl(t,TP()).exponent(t.exponent())},ss.apply(t,arguments)}function woe(){return TP.apply(null,arguments).exponent(.5)}function Fz(){var t=[],e=Xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tm(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Zs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uie(t,a/r))},n.copy=function(){return Fz(e).domain(t)},ss.apply(n,arguments)}function U_(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=Xr,c,f=!1,p;function m(_){return isNaN(_=+_)?p:(_=.5+((_=+c(_))-a)*(r*_<r*a?s:l),u(f?Math.max(0,Math.min(1,_)):_))}m.domain=function(_){return arguments.length?([t,e,n]=_,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(_){return arguments.length?(f=!!_,m):f},m.interpolator=function(_){return arguments.length?(u=_,m):u};function g(_){return function(y){var v,x,b;return arguments.length?([v,x,b]=y,u=Die(_,[v,x,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(cd),m.rangeRound=g(fP),m.unknown=function(_){return arguments.length?(p=_,m):p},function(_){return c=_,i=_(t),a=_(e),o=_(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function Bz(){var t=cl(U_()(Xr));return t.copy=function(){return fl(t,Bz())},ss.apply(t,arguments)}function zz(){var t=mP(U_()).domain([.1,1,10]);return t.copy=function(){return fl(t,zz()).base(t.base())},ss.apply(t,arguments)}function jz(){var t=gP(U_());return t.copy=function(){return fl(t,jz()).constant(t.constant())},ss.apply(t,arguments)}function PP(){var t=vP(U_());return t.copy=function(){return fl(t,PP()).exponent(t.exponent())},ss.apply(t,arguments)}function Moe(){return PP.apply(null,arguments).exponent(.5)}const F3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tp,scaleDiverging:Bz,scaleDivergingLog:zz,scaleDivergingPow:PP,scaleDivergingSqrt:Moe,scaleDivergingSymlog:jz,scaleIdentity:xz,scaleImplicit:yE,scaleLinear:w0,scaleLog:bz,scaleOrdinal:lP,scalePoint:Bh,scalePow:yP,scaleQuantile:Mz,scaleQuantize:Ez,scaleRadial:wz,scaleSequential:Dz,scaleSequentialLog:kz,scaleSequentialPow:TP,scaleSequentialQuantile:Fz,scaleSequentialSqrt:woe,scaleSequentialSymlog:Uz,scaleSqrt:iae,scaleSymlog:Sz,scaleThreshold:Az,scaleTime:boe,scaleUtc:Soe,tickFormat:yz},Symbol.toStringTag,{value:"Module"}));var Eoe=td;function Aoe(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Eoe(o):n(o,s)))var s=o,l=a}return l}var $z=Aoe;function Toe(t,e){return t>e}var Poe=Toe,Coe=$z,Ooe=Poe,Ioe=ld;function Roe(t){return t&&t.length?Coe(t,Ioe,Ooe):void 0}var Noe=Roe;const F_=an(Noe);function Loe(t,e){return t<e}var Doe=Loe,koe=$z,Uoe=Doe,Foe=ld;function Boe(t){return t&&t.length?koe(t,Foe,Uoe):void 0}var zoe=Boe;const B_=an(zoe);var joe=$T,$oe=ul,Voe=KB,Hoe=gi;function Goe(t,e){var n=Hoe(t)?joe:Voe;return n(t,$oe(e))}var Woe=Goe,Xoe=qB,qoe=Woe;function Yoe(t,e){return Xoe(qoe(t,e),1)}var Koe=Yoe;const Zoe=an(Koe);var Joe=rP;function Qoe(t,e){return Joe(t,e)}var ese=Qoe;const z_=an(ese);var fd=1e9,tse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OP,Sn=!0,da="[DecimalError] ",uu=da+"Invalid argument: ",CP=da+"Exponent out of range: ",dd=Math.floor,Gl=Math.pow,nse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,cr=1e7,yn=7,Vz=9007199254740991,T0=dd(Vz/yn),it={};it.absoluteValue=it.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};it.comparedTo=it.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};it.decimalPlaces=it.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};it.dividedBy=it.div=function(t){return Go(this,new this.constructor(t))};it.dividedToIntegerBy=it.idiv=function(t){var e=this,n=e.constructor;return fn(Go(e,new n(t),0,1),n.precision)};it.equals=it.eq=function(t){return!this.cmp(t)};it.exponent=function(){return Xn(this)};it.greaterThan=it.gt=function(t){return this.cmp(t)>0};it.greaterThanOrEqualTo=it.gte=function(t){return this.cmp(t)>=0};it.isInteger=it.isint=function(){return this.e>this.d.length-2};it.isNegative=it.isneg=function(){return this.s<0};it.isPositive=it.ispos=function(){return this.s>0};it.isZero=function(){return this.s===0};it.lessThan=it.lt=function(t){return this.cmp(t)<0};it.lessThanOrEqualTo=it.lte=function(t){return this.cmp(t)<1};it.logarithm=it.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(da+"NaN");if(n.s<1)throw Error(da+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(Sn=!1,e=Go(Rp(n,a),Rp(t,a),a),Sn=!0,fn(e,i))};it.minus=it.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wz(e,t):Hz(e,(t.s=-t.s,t))};it.modulo=it.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(da+"NaN");return n.s?(Sn=!1,e=Go(n,t,0,1).times(t),Sn=!0,n.minus(e)):fn(new r(n),i)};it.naturalExponential=it.exp=function(){return Gz(this)};it.naturalLogarithm=it.ln=function(){return Rp(this)};it.negated=it.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};it.plus=it.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Hz(e,t):Wz(e,(t.s=-t.s,t))};it.precision=it.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uu+t);if(e=Xn(i)+1,r=i.d.length-1,n=r*yn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};it.squareRoot=it.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(da+"NaN")}for(t=Xn(s),Sn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=io(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(Go(s,a,o+2)).times(.5),io(a.d).slice(0,o)===(e=io(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(fn(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Sn=!0,fn(r,n)};it.times=it.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,p=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*p[i-r-1]+e,a[i--]=s%cr|0,e=s/cr|0;a[i]=(a[i]+e)%cr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Sn?fn(t,f.precision):t};it.toDecimalPlaces=it.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ho(t,0,fd),e===void 0?e=r.rounding:ho(e,0,8),fn(n,t+Xn(n)+1,e))};it.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=bu(r,!0):(ho(t,0,fd),e===void 0?e=i.rounding:ho(e,0,8),r=fn(new i(r),t+1,e),n=bu(r,!0,t+1)),n};it.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?bu(i):(ho(t,0,fd),e===void 0?e=a.rounding:ho(e,0,8),r=fn(new a(i),t+Xn(i)+1,e),n=bu(r.abs(),!1,t+Xn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};it.toInteger=it.toint=function(){var t=this,e=t.constructor;return fn(new e(t),Xn(t)+1,e.rounding)};it.toNumber=function(){return+this};it.toPower=it.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Oi);if(s=new l(s),!s.s){if(t.s<1)throw Error(da+"Infinity");return s}if(s.eq(Oi))return s;if(r=l.precision,t.eq(Oi))return fn(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=Vz){for(i=new l(Oi),e=Math.ceil(r/yn+4),Sn=!1;n%2&&(i=i.times(s),z3(i.d,e)),n=dd(n/2),n!==0;)s=s.times(s),z3(s.d,e);return Sn=!0,t.s<0?new l(Oi).div(i):fn(i,r)}}else if(a<0)throw Error(da+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Sn=!1,i=t.times(Rp(s,r+u)),Sn=!0,i=Gz(i),i.s=a,i};it.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Xn(i),r=bu(i,n<=a.toExpNeg||n>=a.toExpPos)):(ho(t,1,fd),e===void 0?e=a.rounding:ho(e,0,8),i=fn(new a(i),t,e),n=Xn(i),r=bu(i,t<=n||n<=a.toExpNeg,t)),r};it.toSignificantDigits=it.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ho(t,1,fd),e===void 0?e=r.rounding:ho(e,0,8)),fn(new r(n),t,e)};it.toString=it.valueOf=it.val=it.toJSON=it[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Xn(t),n=t.constructor;return bu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Hz(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Sn?fn(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/yn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/cr|0,l[a]%=cr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Sn?fn(e,f):e}function ho(t,e,n){if(t!==~~t||t<e||t>n)throw Error(uu+t)}function io(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=yn-r.length,n&&(a+=Ps(n)),a+=r;o=t[e],r=o+"",n=yn-r.length,n&&(a+=Ps(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Go=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%cr|0,o=a/cr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*cr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,p,m,g,_,y,v,x,b,M,w,E,P,A,C=r.constructor,N=r.s==i.s?1:-1,I=r.d,k=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(da+"Division by zero");for(l=r.e-i.e,P=k.length,w=I.length,m=new C(N),g=m.d=[],u=0;k[u]==(I[u]||0);)++u;if(k[u]>(I[u]||0)&&--l,a==null?x=a=C.precision:o?x=a+(Xn(r)-Xn(i))+1:x=a,x<0)return new C(0);if(x=x/yn+2|0,u=0,P==1)for(c=0,k=k[0],x++;(u<w||c)&&x--;u++)b=c*cr+(I[u]||0),g[u]=b/k|0,c=b%k|0;else{for(c=cr/(k[0]+1)|0,c>1&&(k=t(k,c),I=t(I,c),P=k.length,w=I.length),M=P,_=I.slice(0,P),y=_.length;y<P;)_[y++]=0;A=k.slice(),A.unshift(0),E=k[0],k[1]>=cr/2&&++E;do c=0,s=e(k,_,P,y),s<0?(v=_[0],P!=y&&(v=v*cr+(_[1]||0)),c=v/E|0,c>1?(c>=cr&&(c=cr-1),f=t(k,c),p=f.length,y=_.length,s=e(f,_,p,y),s==1&&(c--,n(f,P<p?A:k,p))):(c==0&&(s=c=1),f=k.slice()),p=f.length,p<y&&f.unshift(0),n(_,f,y),s==-1&&(y=_.length,s=e(k,_,P,y),s<1&&(c++,n(_,P<y?A:k,y))),y=_.length):s===0&&(c++,_=[0]),g[u++]=c,s&&_[0]?_[y++]=I[M]||0:(_=[I[M]],y=1);while((M++<w||_[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=l,fn(m,o?a+Xn(m)+1:a)}}();function Gz(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(Xn(t)>16)throw Error(CP+Xn(t));if(!t.s)return new c(Oi);for(Sn=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Gl(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(Oi),c.precision=s;;){if(i=fn(i.times(t),s),n=n.times(++l),o=a.plus(Go(i,n,s)),io(o.d).slice(0,s)===io(a.d).slice(0,s)){for(;u--;)a=fn(a.times(a),s);return c.precision=f,e==null?(Sn=!0,fn(a,f)):a}a=o}}function Xn(t){for(var e=t.e*yn,n=t.d[0];n>=10;n/=10)e++;return e}function k1(t,e,n){if(e>t.LN10.sd())throw Sn=!0,n&&(t.precision=n),Error(da+"LN10 precision limit exceeded");return fn(new t(t.LN10),e)}function Ps(t){for(var e="";t--;)e+="0";return e}function Rp(t,e){var n,r,i,a,o,s,l,u,c,f=1,p=10,m=t,g=m.d,_=m.constructor,y=_.precision;if(m.s<1)throw Error(da+(m.s?"NaN":"-Infinity"));if(m.eq(Oi))return new _(0);if(e==null?(Sn=!1,u=y):u=e,m.eq(10))return e==null&&(Sn=!0),k1(_,u);if(u+=p,_.precision=u,n=io(g),r=n.charAt(0),a=Xn(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=io(m.d),r=n.charAt(0),f++;a=Xn(m),r>1?(m=new _("0."+n),a++):m=new _(r+"."+n.slice(1))}else return l=k1(_,u+2,y).times(a+""),m=Rp(new _(r+"."+n.slice(1)),u-p).plus(l),_.precision=y,e==null?(Sn=!0,fn(m,y)):m;for(s=o=m=Go(m.minus(Oi),m.plus(Oi),u),c=fn(m.times(m),u),i=3;;){if(o=fn(o.times(c),u),l=s.plus(Go(o,new _(i),u)),io(l.d).slice(0,u)===io(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(k1(_,u+2,y).times(a+""))),s=Go(s,new _(f),u),_.precision=y,e==null?(Sn=!0,fn(s,y)):s;s=l,i+=2}}function B3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dd(n/yn),t.d=[],r=(n+1)%yn,n<0&&(r+=yn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yn;r<i;)t.d.push(+e.slice(r,r+=yn));e=e.slice(r),r=yn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Sn&&(t.e>T0||t.e<-T0))throw Error(CP+n)}else t.s=0,t.e=0,t.d=[0];return t}function fn(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=yn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/yn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=yn,i=r-yn+o}if(n!==void 0&&(a=Gl(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/Gl(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=Xn(t),f.length=1,e=e-a-1,f[0]=Gl(10,(yn-e%yn)%yn),t.e=dd(-e/yn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=Gl(10,yn-r),f[c]=i>0?(u/Gl(10,o-i)%Gl(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==cr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=cr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Sn&&(t.e>T0||t.e<-T0))throw Error(CP+Xn(t));return t}function Wz(t,e){var n,r,i,a,o,s,l,u,c,f,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Sn?fn(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/yn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=cr-1;--l[a],l[i]+=cr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Sn?fn(e,m):e):new p(0)}function bu(t,e,n){var r,i=Xn(t),a=io(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ps(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ps(-i-1)+a,n&&(r=n-o)>0&&(a+=Ps(r))):i>=o?(a+=Ps(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Ps(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Ps(r))),t.s<0?"-"+a:a}function z3(t,e){if(t.length>e)return t.length=e,!0}function Xz(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return B3(o,a.toString())}else if(typeof a!="string")throw Error(uu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,nse.test(a))B3(o,a);else throw Error(uu+a)}if(i.prototype=it,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Xz,i.config=i.set=rse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function rse(t){if(!t||typeof t!="object")throw Error(da+"Object expected");var e,n,r,i=["precision",1,fd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(uu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(uu+n+": "+r);return this}var OP=Xz(tse);Oi=new OP(1);const ln=OP;function ise(t){return lse(t)||sse(t)||ose(t)||ase()}function ase(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(t,e){if(t){if(typeof t=="string")return SE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(t,e)}}function sse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lse(t){if(Array.isArray(t))return SE(t)}function SE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var use=function(e){return e},qz={},Yz=function(e){return e===qz},j3=function(e){return function n(){return arguments.length===0||arguments.length===1&&Yz(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},cse=function t(e,n){return e===1?n:j3(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==qz}).length;return o>=e?n.apply(void 0,i):t(e-o,j3(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return Yz(f)?l.shift():f});return n.apply(void 0,ise(c).concat(l))}))})},j_=function(e){return cse(e.length,e)},wE=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fse=j_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),dse=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return use;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},ME=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kz=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function hse(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function pse(t,e,n){for(var r=new ln(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var mse=j_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),gse=j_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vse=j_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const $_={rangeStep:pse,getDigitCount:hse,interpolateNumber:mse,uninterpolateNumber:gse,uninterpolateTruncation:vse};function EE(t){return _se(t)||xse(t)||Zz(t)||yse()}function yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _se(t){if(Array.isArray(t))return AE(t)}function Np(t,e){return wse(t)||Sse(t,e)||Zz(t,e)||bse()}function bse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zz(t,e){if(t){if(typeof t=="string")return AE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AE(t,e)}}function AE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function wse(t){if(Array.isArray(t))return t}function Jz(t){var e=Np(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function Qz(t,e,n){if(t.lte(0))return new ln(0);var r=$_.getDigitCount(t.toNumber()),i=new ln(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new ln(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new ln(Math.ceil(l))}function Mse(t,e,n){var r=1,i=new ln(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new ln(10).pow($_.getDigitCount(t)-1),i=new ln(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):n||(i=new ln(Math.floor(t)));var o=Math.floor((e-1)/2),s=dse(fse(function(l){return i.add(new ln(l-o).mul(r)).toNumber()}),wE);return s(0,e)}function e4(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=Qz(new ln(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new ln(0):(o=new ln(t).add(e).div(2),o=o.sub(new ln(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new ln(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?e4(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new ln(s).mul(a)),tickMax:o.add(new ln(l).mul(a))})}function Ese(t){var e=Np(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=Jz([n,r]),l=Np(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(EE(wE(0,i-1).map(function(){return 1/0}))):[].concat(EE(wE(0,i-1).map(function(){return-1/0})),[c]);return n>r?ME(f):f}if(u===c)return Mse(u,i,a);var p=e4(u,c,o,a),m=p.step,g=p.tickMin,_=p.tickMax,y=$_.rangeStep(g,_.add(new ln(.1).mul(m)),m);return n>r?ME(y):y}function Ase(t,e){var n=Np(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Jz([r,i]),s=Np(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=Qz(new ln(u).sub(l).div(c-1),a,0),p=[].concat(EE($_.rangeStep(new ln(l),new ln(u).sub(new ln(.99).mul(f)),f)),[u]);return r>i?ME(p):p}var Tse=Kz(Ese),Pse=Kz(Ase),Cse="Invariant failed";function Su(t,e){throw new Error(Cse)}var Ose=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P0.apply(this,arguments)}function Ise(t,e){return Dse(t)||Lse(t,e)||Nse(t,e)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nse(t,e){if(t){if(typeof t=="string")return $3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $3(t,e)}}function $3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Dse(t){if(Array.isArray(t))return t}function kse(t,e){if(t==null)return{};var n=Use(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Use(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r4(r.key),r)}}function zse(t,e,n){return e&&Bse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jse(t,e,n){return e=C0(e),$se(t,t4()?Reflect.construct(e,n||[],C0(t).constructor):e.apply(t,n))}function $se(t,e){if(e&&(Tf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vse(t)}function Vse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function C0(t){return C0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C0(t)}function Hse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function n4(t,e,n){return e=r4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r4(t){var e=Gse(t,"string");return Tf(e)=="symbol"?e:e+""}function Gse(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Im=function(t){function e(){return Fse(this,e),jse(this,e,arguments)}return Hse(e,t),zse(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,p=kse(r,Ose),m=jt(p,!1);this.props.direction==="x"&&c.type!=="number"&&Su();var g=l.map(function(_){var y=u(_,s),v=y.x,x=y.y,b=y.value,M=y.errorVal;if(!M)return null;var w=[],E,P;if(Array.isArray(M)){var A=Ise(M,2);E=A[0],P=A[1]}else E=P=M;if(a==="vertical"){var C=c.scale,N=x+i,I=N+o,k=N-o,B=C(b-E),W=C(b+P);w.push({x1:W,y1:I,x2:W,y2:k}),w.push({x1:B,y1:N,x2:W,y2:N}),w.push({x1:B,y1:I,x2:B,y2:k})}else if(a==="horizontal"){var $=f.scale,H=v+i,V=H-o,U=H+o,j=$(b-E),Y=$(b+P);w.push({x1:V,y1:Y,x2:U,y2:Y}),w.push({x1:H,y1:j,x2:H,y2:Y}),w.push({x1:V,y1:j,x2:U,y2:j})}return ne.createElement(Bn,P0({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),w.map(function(Z){return ne.createElement("line",P0({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ne.createElement(Bn,{className:"recharts-errorBars"},g)}}])}(ne.Component);n4(Im,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n4(Im,"displayName","ErrorBar");function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return e=Xse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=qse(t,"string");return Lp(e)=="symbol"?e:e+""}function qse(t,e){if(Lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i4=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Pi(n,su);if(!o)return null;var s=su.defaultProps,l=s!==void 0?Al(Al({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var p=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(_){return{type:o.props.iconType||p.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(c){var f=c.item,p=f.type.defaultProps,m=p!==void 0?Al(Al({},p),f.props):{},g=m.dataKey,_=m.name,y=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||y||"square",color:IP(f),value:_||g,payload:m}}),Al(Al(Al({},l),su.getWithHeight(o,i)),{},{payload:u,item:o})};function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function H3(t){return Jse(t)||Zse(t)||Kse(t)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kse(t,e){if(t){if(typeof t=="string")return PE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PE(t,e)}}function Zse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jse(t){if(Array.isArray(t))return PE(t)}function PE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G3(Object(n),!0).forEach(function(r){uf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uf(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=ele(t,"string");return Dp(e)=="symbol"?e:e+""}function ele(t,e){if(Dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ki(t,e,n){return kt(t)||kt(e)?n:tr(e)?sa(t,e,n):Lt(e)?e(t):n}function zh(t,e,n,r){var i=Zoe(t,function(s){return ki(s,e)});if(n==="number"){var a=i.filter(function(s){return He(s)||parseFloat(s)});return a.length?[B_(a),F_(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!kt(s)}):i;return o.map(function(s){return tr(s)||s instanceof Date?s:""})}var tle=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Na(f-c)!==Na(p-f)){var g=[];if(Na(p-f)===Na(l[1]-l[0])){m=p;var _=f+l[1]-l[0];g[0]=Math.min(_,(_+c)/2),g[1]=Math.max(_,(_+c)/2)}else{m=c;var y=p+l[1]-l[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var x=Math.min(c,p),b=Math.max(c,p);if(e>(x+f)/2&&e<=(b+f)/2){o=i[u].index;break}}}else for(var M=0;M<s;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===s-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},IP=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},nle=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),p=0,m=f.length;p<m;p++){var g=c[f[p]],_=g.items,y=g.cateAxisId,v=_.filter(function(P){return Vo(P.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?Dn(Dn({},x),v[0].props):v[0].props,M=b.barSize,w=b[y];o[w]||(o[w]=[]);var E=kt(M)?n:M;o[w].push({item:v[0],stackList:v.slice(1),barSize:kt(E)?void 0:_u(E,r,0)})}}return o},rle=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=_u(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,g=o.reduce(function(M,w){return M+w.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(p=!0,m*=.9,g=l*m);var _=(i-g)/2>>0,y={offset:_-u,size:0};c=o.reduce(function(M,w){var E={item:w.item,position:{offset:y.offset+y.size+u,size:p?m:w.barSize}},P=[].concat(H3(M),[E]);return y=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:y})}),P},f)}else{var v=_u(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var x=(i-2*v-(l-1)*u)/l;x>1&&(x>>=0);var b=s===+s?Math.min(x,s):x;c=o.reduce(function(M,w,E){var P=[].concat(H3(M),[{item:w.item,position:{offset:v+(x+u)*E+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(A){P.push({item:A,position:P[P.length-1].position})}),P},f)}return c},ile=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=i4({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,p=c.height,m=u.align,g=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&g==="middle")&&m!=="center"&&He(e[m]))return Dn(Dn({},e),{},uf({},m,e[m]+(f||0)));if((_==="horizontal"||_==="vertical"&&m==="center")&&g!=="middle"&&He(e[g]))return Dn(Dn({},e),{},uf({},g,e[g]+(p||0)))}return e},ale=function(e,n,r){return kt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},a4=function(e,n,r,i,a){var o=n.props.children,s=la(o,Im).filter(function(u){return ale(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=ki(c,r);if(kt(f))return u;var p=Array.isArray(f)?[B_(f),F_(f)]:[f,f],m=l.reduce(function(g,_){var y=ki(c,_,0),v=p[0]-Math.abs(Array.isArray(y)?y[0]:y),x=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},ole=function(e,n,r,i,a){var o=n.map(function(s){return a4(e,s,r,a,i)}).filter(function(s){return!kt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},o4=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&a4(e,l,u,i)||zh(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},s4=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},l4=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},jo=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Na(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var p=a?a.indexOf(f):f;return{coordinate:i(p)+u,value:f,offset:u}});return c.filter(function(f){return!Mm(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,p){return{coordinate:i(f)+u,value:f,index:p,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,p){return{coordinate:i(f)+u,value:a?a[f]:f,index:p,offset:u}})},U1=new WeakMap,fv=function(e,n){if(typeof n!="function")return e;U1.has(e)||U1.set(e,new WeakMap);var r=U1.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},sle=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Tp(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:w0(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Bh(),realScaleType:"point"}:a==="category"?{scale:Tp(),realScaleType:"band"}:{scale:w0(),realScaleType:"linear"};if(xu(i)){var l="scale".concat(E_(i));return{scale:(F3[l]||Bh)(),realScaleType:F3[l]?l:"point"}}return Lt(i)?{scale:i}:{scale:Bh(),realScaleType:"point"}},W3=1e-4,lle=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-W3,o=Math.max(i[0],i[1])+W3,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},ule=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},cle=function(e,n){if(!n||n.length!==2||!He(n[0])||!He(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!He(e[0])||e[0]<r)&&(a[0]=r),(!He(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},fle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=Mm(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},dle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=Mm(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},hle={sign:fle,expand:Pq,none:xf,silhouette:Cq,wiggle:Oq,positive:dle},ple=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=hle[r],o=Tq().keys(i).value(function(s,l){return+ki(s,l,0)}).order(QM).offset(a);return o(e)},mle=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,p){var m,g=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Dn(Dn({},p.type.defaultProps),p.props):p.props,_=g.stackId,y=g.hide;if(y)return f;var v=g[r],x=f[v]||{hasStack:!1,stackGroups:{}};if(tr(_)){var b=x.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};b.items.push(p),x.hasStack=!0,x.stackGroups[_]=b}else x.stackGroups[Em("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Dn(Dn({},f),{},uf({},v,x))},l),c={};return Object.keys(u).reduce(function(f,p){var m=u[p];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(_,y){var v=m.stackGroups[y];return Dn(Dn({},_),{},uf({},y,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:ple(e,v.items,a)}))},g)}return Dn(Dn({},f),{},uf({},p,m))},c)},gle=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Tse(u,a,s);return e.domain([B_(c),F_(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),p=Pse(f,a,s);return{niceTicks:p}}return null};function X3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!kt(i[e.dataKey])){var s=e0(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=ki(i,kt(o)?e.dataKey:o);return kt(l)?null:e.scale(l)}var q3=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=ki(o,n.dataKey,n.domain[s]);return kt(l)?null:n.scale(l)-a/2+i},vle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},yle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(tr(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},xle=function(e){return e.reduce(function(n,r){return[B_(r.concat([n[0]]).filter(He)),F_(r.concat([n[1]]).filter(He))]},[1/0,-1/0])},u4=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=xle(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Y3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CE=function(e,n,r){if(Lt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(He(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Y3.test(e[0])){var a=+Y3.exec(e[0])[1];i[0]=n[0]-a}else Lt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(He(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(K3.test(e[1])){var o=+K3.exec(e[1])[1];i[1]=n[1]+o}else Lt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},O0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=aP(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},Z3=function(e,n,r){return!e||!e.length||z_(e,sa(r,"type.defaultProps.domain"))?n:e},c4=function(e,n){var r=e.type.defaultProps?Dn(Dn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Dn(Dn({},jt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:IP(e),value:ki(n,i),type:l,payload:n,chartType:u,hide:c})};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return e=ble(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ble(t){var e=Sle(t,"string");return kp(e)=="symbol"?e:e+""}function Sle(t,e){if(kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I0=Math.PI/180,wle=function(e){return e*180/Math.PI},yr=function(e,n,r,i){return{x:e+Math.cos(-I0*i)*r,y:n+Math.sin(-I0*i)*r}},Mle=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Ele=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=Mle({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:wle(u),angleInRadian:u}},Ale=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Tle=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},eN=function(e,n){var r=e.x,i=e.y,a=Ele({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Ale(n),f=c.startAngle,p=c.endAngle,m=s,g;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=f}return g?Q3(Q3({},n),{},{radius:o,angle:Tle(m,n)}):null};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Up(t)}var Ple=["offset"];function Cle(t){return Nle(t)||Rle(t)||Ile(t)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nle(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lle(t,e){if(t==null)return{};var n=Dle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e,n){return e=Ule(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ule(t){var e=Fle(t,"string");return Up(e)=="symbol"?e:e+""}function Fle(t,e){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fp.apply(this,arguments)}var Ble=function(e){var n=e.value,r=e.formatter,i=kt(e.children)?n:e.children;return Lt(r)?r(i):i},zle=function(e,n){var r=Na(n-e),i=Math.min(Math.abs(n-e),360);return r*i},jle=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,p=l.outerRadius,m=l.startAngle,g=l.endAngle,_=l.clockWise,y=(f+p)/2,v=zle(m,g),x=v>=0?1:-1,b,M;i==="insideStart"?(b=m+x*o,M=_):i==="insideEnd"?(b=g-x*o,M=!_):i==="end"&&(b=g+x*o,M=_),M=v<=0?M:!M;var w=yr(u,c,y,b),E=yr(u,c,y,b+(M?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(M?0:1,`,
    `).concat(E.x,",").concat(E.y),A=kt(e.id)?Em("recharts-radial-line-"):e.id;return ne.createElement("text",Fp({},r,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",s)}),ne.createElement("defs",null,ne.createElement("path",{id:A,d:P})),ne.createElement("textPath",{xlinkHref:"#".concat(A)},n))},$le=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,p=(c+f)/2;if(i==="outside"){var m=yr(o,s,u+r,p),g=m.x,_=m.y;return{x:g,y:_,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(l+u)/2,v=yr(o,s,y,p),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Vle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,p=f*i,m=f>0?"end":"start",g=f>0?"start":"end",_=u>=0?1:-1,y=_*i,v=_>0?"end":"start",x=_>0?"start":"end";if(a==="top"){var b={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return Jn(Jn({},b),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var M={x:s+u/2,y:l+c+p,textAnchor:"middle",verticalAnchor:g};return Jn(Jn({},M),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var w={x:s-y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return Jn(Jn({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(a==="right"){var E={x:s+u+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Jn(Jn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:c}:{})}var P=r?{width:u,height:c}:{};return a==="insideLeft"?Jn({x:s+y,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},P):a==="insideRight"?Jn({x:s+u-y,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?Jn({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:g},P):a==="insideBottom"?Jn({x:s+u/2,y:l+c-p,textAnchor:"middle",verticalAnchor:m},P):a==="insideTopLeft"?Jn({x:s+y,y:l+p,textAnchor:x,verticalAnchor:g},P):a==="insideTopRight"?Jn({x:s+u-y,y:l+p,textAnchor:v,verticalAnchor:g},P):a==="insideBottomLeft"?Jn({x:s+y,y:l+c-p,textAnchor:x,verticalAnchor:m},P):a==="insideBottomRight"?Jn({x:s+u-y,y:l+c-p,textAnchor:v,verticalAnchor:m},P):nd(a)&&(He(a.x)||Zl(a.x))&&(He(a.y)||Zl(a.y))?Jn({x:s+_u(a.x,u),y:l+_u(a.y,c),textAnchor:"end",verticalAnchor:"end"},P):Jn({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Hle=function(e){return"cx"in e&&He(e.cx)};function Lr(t){var e=t.offset,n=e===void 0?5:e,r=Lle(t,Ple),i=Jn({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,p=i.textBreakAll;if(!a||kt(s)&&kt(l)&&!z.isValidElement(u)&&!Lt(u))return null;if(z.isValidElement(u))return z.cloneElement(u,i);var m;if(Lt(u)){if(m=z.createElement(u,i),z.isValidElement(m))return m}else m=Ble(i);var g=Hle(a),_=jt(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jle(i,m,_);var y=g?$le(i):Vle(i);return ne.createElement(g0,Fp({className:Gt("recharts-label",f)},_,y,{breakAll:p}),m)}Lr.displayName="Label";var f4=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,p=e.y,m=e.top,g=e.left,_=e.width,y=e.height,v=e.clockWise,x=e.labelViewBox;if(x)return x;if(He(_)&&He(y)){if(He(f)&&He(p))return{x:f,y:p,width:_,height:y};if(He(m)&&He(g))return{x:m,y:g,width:_,height:y}}return He(f)&&He(p)?{x:f,y:p,width:0,height:0}:He(n)&&He(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},Gle=function(e,n){return e?e===!0?ne.createElement(Lr,{key:"label-implicit",viewBox:n}):tr(e)?ne.createElement(Lr,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===Lr?z.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):Lt(e)?ne.createElement(Lr,{key:"label-implicit",content:e,viewBox:n}):nd(e)?ne.createElement(Lr,Fp({viewBox:n},e,{key:"label-implicit"})):null:null},Wle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=f4(e),o=la(i,Lr).map(function(l,u){return z.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=Gle(e.label,n||a);return[s].concat(Cle(o))};Lr.parseViewBox=f4;Lr.renderCallByParent=Wle;function Xle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var qle=Xle;const Yle=an(qle);function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}var Kle=["valueAccessor"],Zle=["data","dataKey","clockWise","id","textBreakAll"];function Jle(t){return nue(t)||tue(t)||eue(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function tue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nue(t){if(Array.isArray(t))return IE(t)}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rue(t,e,n){return e=iue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iue(t){var e=aue(t,"string");return Bp(e)=="symbol"?e:e+""}function aue(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iN(t,e){if(t==null)return{};var n=oue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sue=function(e){return Array.isArray(e.value)?Yle(e.value):e.value};function Js(t){var e=t.valueAccessor,n=e===void 0?sue:e,r=iN(t,Kle),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=iN(r,Zle);return!i||!i.length?null:ne.createElement(Bn,{className:"recharts-label-list"},i.map(function(c,f){var p=kt(a)?n(c,f):ki(c&&c.payload,a),m=kt(s)?{}:{id:"".concat(s,"-").concat(f)};return ne.createElement(Lr,R0({},jt(c,!0),u,m,{parentViewBox:c.parentViewBox,value:p,textBreakAll:l,viewBox:Lr.parseViewBox(kt(o)?c:rN(rN({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Js.displayName="LabelList";function lue(t,e){return t?t===!0?ne.createElement(Js,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Lt(t)?ne.createElement(Js,{key:"labelList-implicit",data:e,content:t}):nd(t)?ne.createElement(Js,R0({data:e},t,{key:"labelList-implicit"})):null:null}function uue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=la(r,Js).map(function(o,s){return z.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=lue(t.label,e);return[a].concat(Jle(i))}Js.renderCallByParent=uue;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}function RE(){return RE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RE.apply(this,arguments)}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=due(t,"string");return zp(e)=="symbol"?e:e+""}function due(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hue=function(e,n){var r=Na(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},dv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/I0,p=u?a:a+o*f,m=yr(n,r,c,p),g=yr(n,r,i,p),_=u?a-o*f:a,y=yr(n,r,c*Math.cos(f*I0),_);return{center:m,circleTangency:g,lineTangency:y,theta:f}},d4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=hue(o,s),u=o+l,c=yr(n,r,a,o),f=yr(n,r,a,u),p="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=yr(n,r,i,o),g=yr(n,r,i,u);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},pue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Na(c-u),p=dv({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,g=p.lineTangency,_=p.theta,y=dv({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=y.circleTangency,x=y.lineTangency,b=y.theta,M=l?Math.abs(u-c):Math.abs(u-c)-_-b;if(M<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):d4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var E=dv({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),P=E.circleTangency,A=E.lineTangency,C=E.theta,N=dv({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=N.circleTangency,k=N.lineTangency,B=N.theta,W=l?Math.abs(u-c):Math.abs(u-c)-C-B;if(W<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},mue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},h4=function(e){var n=oN(oN({},mue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,p=n.className;if(o<a||c===f)return null;var m=Gt("recharts-sector",p),g=o-a,_=_u(s,g,0,!0),y;return _>0&&Math.abs(c-f)<360?y=pue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(_,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):y=d4({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),ne.createElement("path",RE({},jt(n,!0),{className:m,d:y,role:"img"}))};function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){gue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gue(t,e,n){return e=vue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vue(t){var e=yue(t,"string");return jp(e)=="symbol"?e:e+""}function yue(t,e){if(jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uN={curveBasisClosed:gq,curveBasisOpen:vq,curveBasis:mq,curveBumpX:tq,curveBumpY:nq,curveLinearClosed:yq,curveLinear:T_,curveMonotoneX:xq,curveMonotoneY:_q,curveNatural:bq,curveStep:Sq,curveStepAfter:Mq,curveStepBefore:wq},hv=function(e){return e.x===+e.x&&e.y===+e.y},nh=function(e){return e.x},rh=function(e){return e.y},xue=function(e,n){if(Lt(e))return e;var r="curve".concat(E_(e));return(r==="curveMonotone"||r==="curveBump")&&n?uN["".concat(r).concat(n==="vertical"?"Y":"X")]:uN[r]||T_},_ue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=xue(r,s),f=u?a.filter(function(_){return hv(_)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(_){return hv(_)}):o,g=f.map(function(_,y){return lN(lN({},_),{},{base:m[y]})});return s==="vertical"?p=rv().y(rh).x1(nh).x0(function(_){return _.base.x}):p=rv().x(nh).y1(rh).y0(function(_){return _.base.y}),p.defined(hv).curve(c),p(g)}return s==="vertical"&&He(o)?p=rv().y(rh).x1(nh).x0(o):He(o)?p=rv().x(nh).y1(rh).y0(o):p=hB().x(nh).y(rh),p.defined(hv).curve(c),p(f)},LE=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?_ue(e):i;return z.createElement("path",NE({},jt(e,!1),t0(e),{className:Gt("recharts-curve",n),d:o,ref:a}))},p4={exports:{}},bue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Sue=bue,wue=Sue;function m4(){}function g4(){}g4.resetWarningCache=m4;var Mue=function(){function t(r,i,a,o,s,l){if(l!==wue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:g4,resetWarningCache:m4};return n.PropTypes=n,n};p4.exports=Mue();var Eue=p4.exports;const en=an(Eue);var Aue=Object.getOwnPropertyNames,Tue=Object.getOwnPropertySymbols,Pue=Object.prototype.hasOwnProperty;function cN(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function pv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Cue(t){return t!=null?t[Symbol.toStringTag]:void 0}function fN(t){return Aue(t).concat(Tue(t))}var Oue=Object.hasOwn||function(t,e){return Pue.call(t,e)};function ku(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Iue="__v",Rue="__o",Nue="_owner",dN=Object.getOwnPropertyDescriptor,hN=Object.keys;function Lue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Due(t,e){return ku(t.getTime(),e.getTime())}function kue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Uue(t,e){return t===e}function pN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var p=o.value,m=s.value;if(n.equals(p[0],m[0],l,f,t,e,n)&&n.equals(p[1],m[1],p[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var Fue=ku;function Bue(t,e,n){var r=hN(t),i=r.length;if(hN(e).length!==i)return!1;for(;i-- >0;)if(!v4(t,e,n,r[i]))return!1;return!0}function ih(t,e,n){var r=fN(t),i=r.length;if(fN(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!v4(t,e,n,a)||(o=dN(t,a),s=dN(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function zue(t,e){return ku(t.valueOf(),e.valueOf())}function jue(t,e){return t.source===e.source&&t.flags===e.flags}function mN(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function $ue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function v4(t,e,n,r){return(r===Nue||r===Rue||r===Iue)&&(t.$$typeof||e.$$typeof)?!0:Oue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Hue="[object Arguments]",Gue="[object Boolean]",Wue="[object Date]",Xue="[object Error]",que="[object Map]",Yue="[object Number]",Kue="[object Object]",Zue="[object RegExp]",Jue="[object Set]",Que="[object String]",ece="[object URL]",tce=Array.isArray,gN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vN=Object.assign,nce=Object.prototype.toString.call.bind(Object.prototype.toString);function rce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,p=t.areUrlsEqual,m=t.unknownTagComparators;return function(_,y,v){if(_===y)return!0;if(_==null||y==null)return!1;var x=typeof _;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?o(_,y,v):x==="function"?i(_,y,v):!1;var b=_.constructor;if(b!==y.constructor)return!1;if(b===Object)return s(_,y,v);if(tce(_))return e(_,y,v);if(gN!=null&&gN(_))return f(_,y,v);if(b===Date)return n(_,y,v);if(b===RegExp)return u(_,y,v);if(b===Map)return a(_,y,v);if(b===Set)return c(_,y,v);var M=nce(_);if(M===Wue)return n(_,y,v);if(M===Zue)return u(_,y,v);if(M===que)return a(_,y,v);if(M===Jue)return c(_,y,v);if(M===Kue)return typeof _.then!="function"&&typeof y.then!="function"&&s(_,y,v);if(M===ece)return p(_,y,v);if(M===Xue)return r(_,y,v);if(M===Hue)return s(_,y,v);if(M===Gue||M===Yue||M===Que)return l(_,y,v);if(m){var w=m[M];if(!w){var E=Cue(_);E&&(w=m[E])}if(w)return w(_,y,v)}return!1}}function ice(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?ih:Lue,areDatesEqual:Due,areErrorsEqual:kue,areFunctionsEqual:Uue,areMapsEqual:r?cN(pN,ih):pN,areNumbersEqual:Fue,areObjectsEqual:r?ih:Bue,arePrimitiveWrappersEqual:zue,areRegExpsEqual:jue,areSetsEqual:r?cN(mN,ih):mN,areTypedArraysEqual:r?ih:$ue,areUrlsEqual:Vue,unknownTagComparators:void 0};if(n&&(i=vN({},i,n(i))),e){var a=pv(i.areArraysEqual),o=pv(i.areMapsEqual),s=pv(i.areObjectsEqual),l=pv(i.areSetsEqual);i=vN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function ace(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function oce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,p=f===void 0?e?new WeakMap:void 0:f,m=c.meta;return n(l,u,{cache:p,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var sce=dl();dl({strict:!0});dl({circular:!0});dl({circular:!0,strict:!0});dl({createInternalComparator:function(){return ku}});dl({strict:!0,createInternalComparator:function(){return ku}});dl({circular:!0,createInternalComparator:function(){return ku}});dl({circular:!0,createInternalComparator:function(){return ku},strict:!0});function dl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=ice(t),l=rce(s),u=r?r(l):ace(l);return oce({circular:n,comparator:l,createState:i,equals:u,strict:o})}function lce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):lce(i)};requestAnimationFrame(r)}function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}function uce(t){return hce(t)||dce(t)||fce(t)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return xN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xN(t,e)}}function xN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return t}function pce(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=uce(o),l=s[0],u=s.slice(1);if(typeof l=="number"){yN(i.bind(null,u),l);return}i(l),yN(i.bind(null,u));return}DE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$p(t)}function _N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_N(Object(n),!0).forEach(function(r){y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y4(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return $p(e)==="symbol"?e:String(e)}function gce(t,e){if($p(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($p(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},yce=function(e){return e},xce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},jh=function(e,n){return Object.keys(n).reduce(function(r,i){return bN(bN({},r),{},y4({},i,e(i,n[i])))},{})},SN=function(e,n,r){return e.map(function(i){return"".concat(xce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function _ce(t,e){return wce(t)||Sce(t,e)||x4(t,e)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function wce(t){if(Array.isArray(t))return t}function Mce(t){return Tce(t)||Ace(t)||x4(t)||Ece()}function Ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function Ace(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tce(t){if(Array.isArray(t))return kE(t)}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var N0=1e-4,_4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},b4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},wN=function(e,n){return function(r){var i=_4(e,n);return b4(i,r)}},Pce=function(e,n){return function(r){var i=_4(e,n),a=[].concat(Mce(i.map(function(o,s){return o*s}).slice(1)),[0]);return b4(a,r)}},MN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),c=_ce(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=wN(i,o),p=wN(a,s),m=Pce(i,o),g=function(v){return v>1?1:v<0?0:v},_=function(v){for(var x=v>1?1:v,b=x,M=0;M<8;++M){var w=f(b)-x,E=m(b);if(Math.abs(w-x)<N0||E<N0)return p(b);b=g(b-w/E)}return p(b)};return _.isStepper=!1,_},Cce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,p){var m=-(c-f)*r,g=p*a,_=p+(m-g)*s/1e3,y=p*s/1e3+c;return Math.abs(y-f)<N0&&Math.abs(_)<N0?[f,0]:[y,_]};return l.isStepper=!0,l.dt=s,l},Oce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return MN(i);case"spring":return Cce();default:if(i.split("(")[0]==="cubic-bezier")return MN(i)}return typeof i=="function"?i:null};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vp(t)}function EN(t){return Nce(t)||Rce(t)||S4(t)||Ice()}function Ice(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nce(t){if(Array.isArray(t))return FE(t)}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){UE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UE(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=Dce(t,"string");return Vp(e)==="symbol"?e:String(e)}function Dce(t,e){if(Vp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kce(t,e){return Bce(t)||Fce(t,e)||S4(t,e)||Uce()}function Uce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(t,e){if(t){if(typeof t=="string")return FE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FE(t,e)}}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bce(t){if(Array.isArray(t))return t}var L0=function(e,n,r){return e+(n-e)*r},BE=function(e){var n=e.from,r=e.to;return n!==r},zce=function t(e,n,r){var i=jh(function(a,o){if(BE(o)){var s=e(o.from,o.to,o.velocity),l=kce(s,2),u=l[0],c=l[1];return gr(gr({},o),{},{from:u,velocity:c})}return o},n);return r<1?jh(function(a,o){return BE(o)?gr(gr({},o),{},{velocity:L0(o.velocity,i[a].velocity,r),from:L0(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const jce=function(t,e,n,r,i){var a=vce(t,e),o=a.reduce(function(y,v){return gr(gr({},y),{},UE({},v,[t[v],e[v]]))},{}),s=a.reduce(function(y,v){return gr(gr({},y),{},UE({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},p=function(){return jh(function(v,x){return x.from},s)},m=function(){return!Object.values(s).filter(BE).length},g=function(v){u||(u=v);var x=v-u,b=x/n.dt;s=zce(n,s,b),i(gr(gr(gr({},t),e),p())),u=v,m()||(l=requestAnimationFrame(f))},_=function(v){c||(c=v);var x=(v-c)/r,b=jh(function(w,E){return L0.apply(void 0,EN(E).concat([n(x)]))},o);if(i(gr(gr(gr({},t),e),b)),x<1)l=requestAnimationFrame(f);else{var M=jh(function(w,E){return L0.apply(void 0,EN(E).concat([n(1)]))},o);i(gr(gr(gr({},t),e),M))}};return f=n.isStepper?g:_,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}var $ce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vce(t,e){if(t==null)return{};var n=Hce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function F1(t){return qce(t)||Xce(t)||Wce(t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wce(t,e){if(t){if(typeof t=="string")return zE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zE(t,e)}}function Xce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qce(t){if(Array.isArray(t))return zE(t)}function zE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){Eh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eh(t,e,n){return e=w4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w4(r.key),r)}}function Zce(t,e,n){return e&&Kce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w4(t){var e=Jce(t,"string");return Pf(e)==="symbol"?e:String(e)}function Jce(t,e){if(Pf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jE(t,e)}function jE(t,e){return jE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jE(t,e)}function efe(t){var e=tfe();return function(){var r=D0(t),i;if(e){var a=D0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $E(this,i)}}function $E(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VE(t)}function VE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tfe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}var es=function(t){Qce(n,t);var e=efe(n);function n(r,i){var a;Yce(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(VE(a)),a.changeStyle=a.changeStyle.bind(VE(a)),!s||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:c}),$E(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof p=="function")return a.state={style:u},$E(a);a.state={style:l?Eh({},l,u):u}}else a.state={style:{}};return a}return Zce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,p=this.state.style;if(s){if(!o){var m={style:l?Eh({},l,c):c};this.state&&p&&(l&&p[l]!==c||!l&&p!==c)&&this.setState(m);return}if(!(sce(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=g||u?f:i.to;if(this.state&&p){var y={style:l?Eh({},l,_):_};(l&&p[l]!==_||!l&&p!==_)&&this.setState(y)}this.runAnimation(ba(ba({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,p=i.onAnimationStart,m=jce(o,s,Oce(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([p,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,p=f===void 0?0:f,m=function(_,y,v){if(v===0)return _;var x=y.duration,b=y.easing,M=b===void 0?"ease":b,w=y.style,E=y.properties,P=y.onAnimationEnd,A=v>0?o[v-1]:y,C=E||Object.keys(w);if(typeof M=="function"||M==="spring")return[].concat(F1(_),[a.runJSAnimation.bind(a,{from:A.style,to:w,duration:x,easing:M}),x]);var N=SN(C,x,M),I=ba(ba(ba({},A.style),w),{},{transition:N});return[].concat(F1(_),[I,x,P]).filter(yce)};return this.manager.start([l].concat(F1(o.reduce(m,[c,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=pce());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,p=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var _=s?Eh({},s,l):l,y=SN(Object.keys(_),o,u);g.start([c,a,ba(ba({},_),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Vce(i,$ce),u=z.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,_=g.style,y=_===void 0?{}:_,v=g.className,x=z.cloneElement(m,ba(ba({},l),{},{style:ba(ba({},y),c),className:v}));return x};return u===1?f(z.Children.only(a)):ne.createElement("div",null,z.Children.map(a,function(p){return f(p)}))}}]),n}(z.PureComponent);es.displayName="Animate";es.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};es.propTypes={from:en.oneOfType([en.object,en.string]),to:en.oneOfType([en.object,en.string]),attributeName:en.string,duration:en.number,begin:en.number,easing:en.oneOfType([en.string,en.func]),steps:en.arrayOf(en.shape({duration:en.number.isRequired,style:en.object.isRequired,easing:en.oneOfType([en.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),en.func]),properties:en.arrayOf("string"),onAnimationEnd:en.func})),children:en.oneOfType([en.node,en.func]),isActive:en.bool,canBegin:en.bool,onAnimationEnd:en.func,shouldReAnimate:en.bool,onAnimationStart:en.func,onAnimationReStart:en.func};function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HE.apply(null,arguments)}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function nfe(t,e){return ofe(t)||afe(t,e)||ife(t,e)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ife(t,e){if(t){if(typeof t=="string")return PN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function afe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ofe(t){if(Array.isArray(t))return t}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sfe(t,e,n){return e=lfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lfe(t){var e=ufe(t,"string");return Hp(e)=="symbol"?e:e+""}function ufe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IN=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],p=0,m=4;p<m;p++)f[p]=a[p]>o?o:a[p];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},cfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),p=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=p}return!1},ffe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RP=function(e){var n=ON(ON({},ffe),e),r=z.useRef(),i=z.useState(-1),a=nfe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&s(M)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,p=n.radius,m=n.className,g=n.animationEasing,_=n.animationDuration,y=n.animationBegin,v=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var b=Gt("recharts-rectangle",m);return x?ne.createElement(es,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:_,animationEasing:g,isActive:x},function(M){var w=M.width,E=M.height,P=M.x,A=M.y;return ne.createElement(es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:_,isActive:v,easing:g},ne.createElement("path",k0({},jt(n,!0),{className:b,d:IN(P,A,w,E,p),ref:r})))}):ne.createElement("path",k0({},jt(n,!0),{className:b,d:IN(l,u,c,f,p)}))};function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(this,arguments)}var NP=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Gt("recharts-dot",a);return n===+n&&r===+r&&i===+i?z.createElement("circle",GE({},jt(e,!1),t0(e),{className:o,cx:n,cy:r,r:i})):null};function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}var dfe=["x","y","top","left","width","height","className"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(this,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return Gp(e)=="symbol"?e:e+""}function gfe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vfe(t,e){if(t==null)return{};var n=yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xfe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},_fe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,p=e.height,m=p===void 0?0:p,g=e.className,_=vfe(e,dfe),y=hfe({x:r,y:a,top:s,left:u,width:f,height:m},_);return!He(r)||!He(a)||!He(f)||!He(m)||!He(s)||!He(u)?null:ne.createElement("path",WE({},jt(y,!0),{className:Gt("recharts-cross",g),d:xfe(r,a,f,m,s,u)}))},bfe=UB,Sfe=bfe(Object.getPrototypeOf,Object),wfe=Sfe,Mfe=as,Efe=wfe,Afe=os,Tfe="[object Object]",Pfe=Function.prototype,Cfe=Object.prototype,M4=Pfe.toString,Ofe=Cfe.hasOwnProperty,Ife=M4.call(Object);function Rfe(t){if(!Afe(t)||Mfe(t)!=Tfe)return!1;var e=Efe(t);if(e===null)return!0;var n=Ofe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&M4.call(n)==Ife}var Nfe=Rfe;const Lfe=an(Nfe);var Dfe=as,kfe=os,Ufe="[object Boolean]";function Ffe(t){return t===!0||t===!1||kfe(t)&&Dfe(t)==Ufe}var Bfe=Ffe;const zfe=an(Bfe);function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(this,arguments)}function jfe(t,e){return Gfe(t)||Hfe(t,e)||Vfe(t,e)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(t,e){if(t){if(typeof t=="string")return NN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NN(t,e)}}function NN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gfe(t){if(Array.isArray(t))return t}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return e=Xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=qfe(t,"string");return Wp(e)=="symbol"?e:e+""}function qfe(t,e){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kN=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},Yfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Kfe=function(e){var n=DN(DN({},Yfe),e),r=z.useRef(),i=z.useState(-1),a=jfe(i,2),o=a[0],s=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,p=n.height,m=n.className,g=n.animationEasing,_=n.animationDuration,y=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||p!==+p||c===0&&f===0||p===0)return null;var x=Gt("recharts-trapezoid",m);return v?ne.createElement(es,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:p,x:l,y:u},duration:_,animationEasing:g,isActive:v},function(b){var M=b.upperWidth,w=b.lowerWidth,E=b.height,P=b.x,A=b.y;return ne.createElement(es,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:_,easing:g},ne.createElement("path",U0({},jt(n,!0),{className:x,d:kN(P,A,M,w,E),ref:r})))}):ne.createElement("g",null,ne.createElement("path",U0({},jt(n,!0),{className:x,d:kN(l,u,c,f,p)})))},Zfe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function Jfe(t,e){if(t==null)return{};var n=Qfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return Xp(e)=="symbol"?e:e+""}function nde(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e){return F0(F0({},e),t)}function ide(t,e){return t==="symbols"}function FN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(RP,n);case"trapezoid":return ne.createElement(Kfe,n);case"sector":return ne.createElement(h4,n);case"symbols":if(ide(e))return ne.createElement(ZT,n);break;default:return null}}function ade(t){return z.isValidElement(t)?t.props:t}function ode(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rde:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=Jfe(t,Zfe),u;if(z.isValidElement(e))u=z.cloneElement(e,F0(F0({},l),ade(e)));else if(Lt(e))u=e(l);else if(Lfe(e)&&!zfe(e)){var c=i(e,l);u=ne.createElement(FN,{shapeType:n,elementProps:c})}else{var f=l;u=ne.createElement(FN,{shapeType:n,elementProps:f})}return s?ne.createElement(Bn,{className:o},u):u}function V_(t,e){return e!=null&&"trapezoids"in t.props}function H_(t,e){return e!=null&&"sectors"in t.props}function qp(t,e){return e!=null&&"points"in t.props}function sde(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function lde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ude(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function cde(t,e){var n;return V_(t,e)?n=sde:H_(t,e)?n=lde:qp(t,e)&&(n=ude),n}function fde(t,e){var n;return V_(t,e)?n="trapezoids":H_(t,e)?n="sectors":qp(t,e)&&(n="points"),n}function dde(t,e){if(V_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(H_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return qp(t,e)?e.payload:{}}function hde(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=fde(n,e),a=dde(n,e),o=r.filter(function(l,u){var c=z_(a,l),f=n.props[i].filter(function(g){var _=cde(n,e);return _(g,e)}),p=n.props[i].indexOf(f[f.length-1]),m=u===p;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var pde=Math.ceil,mde=Math.max;function gde(t,e,n,r){for(var i=-1,a=mde(pde((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var vde=gde,yde=nz,BN=1/0,xde=17976931348623157e292;function _de(t){if(!t)return t===0?t:0;if(t=yde(t),t===BN||t===-BN){var e=t<0?-1:1;return e*xde}return t===t?t:0}var E4=_de,bde=vde,Sde=I_,B1=E4;function wde(t){return function(e,n,r){return r&&typeof r!="number"&&Sde(e,n,r)&&(n=r=void 0),e=B1(e),n===void 0?(n=e,e=0):n=B1(n),r=r===void 0?e<n?1:-1:B1(r),bde(e,n,r,t)}}var Mde=wde,Ede=Mde,Ade=Ede(),Tde=Ade;const B0=an(Tde);function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function zN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zN(Object(n),!0).forEach(function(r){A4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A4(t,e,n){return e=Pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pde(t){var e=Cde(t,"string");return Yp(e)=="symbol"?e:e+""}function Cde(t,e){if(Yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ode=["Webkit","Moz","O","ms"],Ide=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Ode.reduce(function(a,o){return jN(jN({},a),{},A4({},o+r,n))},{});return i[e]=n,i};function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(this,arguments)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$N(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function Nde(t,e,n){return e&&VN(t.prototype,e),n&&VN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lde(t,e,n){return e=j0(e),Dde(t,T4()?Reflect.construct(e,n||[],j0(t).constructor):e.apply(t,n))}function Dde(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(t)}function kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function j0(t){return j0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j0(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XE(t,e)}function XE(t,e){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XE(t,e)}function Ai(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=Fde(t,"string");return Cf(e)=="symbol"?e:e+""}function Fde(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Bh().domain(B0(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},HN=function(e){return e.changedTouches&&!!e.changedTouches.length},Of=function(t){function e(n){var r;return Rde(this,e),r=Lde(this,e,[n]),Ai(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ai(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ai(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),Ai(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ai(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ai(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ai(r,"handleSlideDragStart",function(i){var a=HN(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Ude(e,t),Nde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(o,f),g=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=ki(a[r],s,r);return Lt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,p=l.startIndex,m=l.endIndex,g=l.onChange,_=r.pageX-a;_>0?_=Math.min(_,u+c-f-s,u+c-f-o):_<0&&(_=Math.max(_,u-o,u-s));var y=this.getIndex({startX:o+_,endX:s+_});(y.startIndex!==p||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+_,endX:s+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=HN(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,p=c.width,m=c.travellerWidth,g=c.onChange,_=c.gap,y=c.data,v={startX:this.state.startX,endX:this.state.endX},x=r.pageX-a;x>0?x=Math.min(x,f+p-m-u):x<0&&(x=Math.max(x,f-u)),v[o]=u+x;var b=this.getIndex(v),M=b.startIndex,w=b.endIndex,E=function(){var A=y.length-1;return o==="startX"&&(s>l?M%_===0:w%_===0)||s<l&&w===A||o==="endX"&&(s>l?w%_===0:M%_===0)||s>l&&w===A};this.setState(Ai(Ai({},o,u+x),"brushMoveStartX",r.pageX),function(){g&&E()&&g(b)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var p=f+r;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(Ai({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return ne.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=z.Children.only(u);return f?ne.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,p=l.traveller,m=l.ariaLabel,g=l.data,_=l.startIndex,y=l.endIndex,v=Math.max(r,this.props.x),x=z1(z1({},jt(this.props,!1)),{},{x:v,y:u,width:c,height:f}),b=m||"Min value: ".concat((a=g[_])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return ne.createElement(Bn,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),s.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,x))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,p=c.endX,m=5,g={pointerEvents:"none",fill:u};return ne.createElement(Bn,{className:"recharts-brush-texts"},ne.createElement(g0,z0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-m,y:o+s/2},g),this.getTextOfTick(i)),ne.createElement(g0,z0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,p=this.state,m=p.startX,g=p.endX,_=p.isTextActive,y=p.isSlideMoving,v=p.isTravellerMoving,x=p.isTravellerFocused;if(!i||!i.length||!He(s)||!He(l)||!He(u)||!He(c)||u<=0||c<=0)return null;var b=Gt("recharts-brush",a),M=ne.Children.count(o)===1,w=Ide("userSelect","none");return ne.createElement(Bn,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(_||y||v||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ne.isValidElement(r)?a=ne.cloneElement(r,i):Lt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return z1({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Bde({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(z.PureComponent);Ai(Of,"displayName","Brush");Ai(Of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zde=iP;function jde(t,e){var n;return zde(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var $de=jde,Vde=CB,Hde=ul,Gde=$de,Wde=gi,Xde=I_;function qde(t,e,n){var r=Wde(t)?Vde:Gde;return n&&Xde(t,e,n)&&(e=void 0),r(t,Hde(e))}var Yde=qde;const Kde=an(Yde);var co=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},GN=ZB;function Zde(t,e,n){e=="__proto__"&&GN?GN(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Jde=Zde,Qde=Jde,ehe=YB,the=ul;function nhe(t,e){var n={};return e=the(e),ehe(t,function(r,i,a){Qde(n,i,e(r,i,a))}),n}var rhe=nhe;const ihe=an(rhe);function ahe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ohe=ahe,she=iP;function lhe(t,e){var n=!0;return she(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var uhe=lhe,che=ohe,fhe=uhe,dhe=ul,hhe=gi,phe=I_;function mhe(t,e,n){var r=hhe(t)?che:fhe;return n&&phe(t,e,n)&&(e=void 0),r(t,dhe(e))}var ghe=mhe;const C4=an(ghe);var vhe=["x","y"];function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function qE(){return qE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qE.apply(this,arguments)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return e=xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=_he(t,"string");return Kp(e)=="symbol"?e:e+""}function _he(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bhe(t,e){if(t==null)return{};var n=She(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function She(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function whe(t,e){var n=t.x,r=t.y,i=bhe(t,vhe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),p=parseInt(f,10);return ah(ah(ah(ah(ah({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:p,name:e.name,radius:e.radius})}function XN(t){return ne.createElement(ode,qE({shapeType:"rectangle",propTransformer:whe,activeClassName:"recharts-active-bar"},t))}var Mhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=He(r)||z7(r);return a?e(r,i):(a||Su(),n)}},Ehe=["value","background"],O4;function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function Ahe(t,e){if(t==null)return{};var n=The(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function The(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$0.apply(this,arguments)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R4(r.key),r)}}function Che(t,e,n){return e&&YN(t.prototype,e),n&&YN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ohe(t,e,n){return e=V0(e),Ihe(t,I4()?Reflect.construct(e,n||[],V0(t).constructor):e.apply(t,n))}function Ihe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(t)}function Rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I4=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(t)}function Nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YE(t,e)}function Us(t,e,n){return e=R4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R4(t){var e=Lhe(t,"string");return If(e)=="symbol"?e:e+""}function Lhe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){var n;Phe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ohe(this,e,[].concat(i)),Us(n,"state",{isAnimationFinished:!1}),Us(n,"id",Em("recharts-bar-")),Us(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Us(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Nhe(e,t),Che(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=jt(this.props,!1);return r&&r.map(function(f,p){var m=p===l,g=m?u:o,_=Gn(Gn(Gn({},c),f),{},{isActive:m,option:g,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(Bn,$0({className:"recharts-bar-rectangle"},n0(i.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),ne.createElement(XN,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,p=this.state.prevData;return ne.createElement(es,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,_=a.map(function(y,v){var x=p&&p[v];if(x){var b=Ia(x.x,y.x),M=Ia(x.y,y.y),w=Ia(x.width,y.width),E=Ia(x.height,y.height);return Gn(Gn({},y),{},{x:b(g),y:M(g),width:w(g),height:E(g)})}if(o==="horizontal"){var P=Ia(0,y.height),A=P(g);return Gn(Gn({},y),{},{y:y.y+y.height-A,height:A})}var C=Ia(0,y.width),N=C(g);return Gn(Gn({},y),{},{width:N})});return ne.createElement(Bn,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!z_(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=jt(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,p=Ahe(u,Ehe);if(!f)return null;var m=Gn(Gn(Gn(Gn(Gn({},p),{},{fill:"#eee"},f),l),n0(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return ne.createElement(XN,$0({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=la(c,Im);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:ki(y,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Bn,g,f.map(function(_){return ne.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,p=r.height,m=r.isAnimationActive,g=r.background,_=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,v=Gt("recharts-bar",o),x=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,M=x||b,w=kt(_)?this.id:_;return ne.createElement(Bn,{className:v},x||b?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(w)},ne.createElement("rect",{x:x?u:u-f/2,y:b?c:c-p/2,width:x?f:f*2,height:b?p:p*2}))):null,ne.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,w),(!m||y)&&Js.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);O4=Uu;Us(Uu,"displayName","Bar");Us(Uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ud.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Us(Uu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,p=t.offset,m=ule(r,n);if(!m)return null;var g=e.layout,_=n.type.defaultProps,y=_!==void 0?Gn(Gn({},_),n.props):n.props,v=y.dataKey,x=y.children,b=y.minPointSize,M=g==="horizontal"?o:a,w=u?M.scale.domain():null,E=vle({numericAxis:M}),P=la(x,iz),A=f.map(function(C,N){var I,k,B,W,$,H;u?I=cle(u[c+N],w):(I=ki(C,v),Array.isArray(I)||(I=[E,I]));var V=Mhe(b,O4.defaultProps.minPointSize)(I[1],N);if(g==="horizontal"){var U,j=[o.scale(I[0]),o.scale(I[1])],Y=j[0],Z=j[1];k=q3({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:C,index:N}),B=(U=Z??Y)!==null&&U!==void 0?U:void 0,W=m.size;var J=Y-Z;if($=Number.isNaN(J)?0:J,H={x:k,y:o.y,width:W,height:o.height},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var fe=Na($||V)*(Math.abs(V)-Math.abs($));B-=fe,$+=fe}}else{var we=[a.scale(I[0]),a.scale(I[1])],De=we[0],ae=we[1];if(k=De,B=q3({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:C,index:N}),W=ae-De,$=m.size,H={x:a.x,y:B,width:a.width,height:$},Math.abs(V)>0&&Math.abs(W)<Math.abs(V)){var be=Na(W||V)*(Math.abs(V)-Math.abs(W));W+=be}}return Gn(Gn(Gn({},C),{},{x:k,y:B,width:W,height:$,value:u?I:I[1],payload:C,background:H},P&&P[N]&&P[N].props),{},{tooltipPayload:[c4(n,C)],tooltipPosition:{x:k+W/2,y:B+$/2}})});return Gn({data:A,layout:g},p)});function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N4(r.key),r)}}function khe(t,e,n){return e&&KN(t.prototype,e),n&&KN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){G_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_(t,e,n){return e=N4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N4(t){var e=Uhe(t,"string");return Zp(e)=="symbol"?e:e+""}function Uhe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L4=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!Pi(u,Uu);return c.reduce(function(m,g){var _=n[g],y=_.orientation,v=_.domain,x=_.padding,b=x===void 0?{}:x,M=_.mirror,w=_.reversed,E="".concat(y).concat(M?"Mirror":""),P,A,C,N,I;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var k=v[1]-v[0],B=1/0,W=_.categoricalDomain.sort(V7);if(W.forEach(function(we,De){De>0&&(B=Math.min((we||0)-(W[De-1]||0),B))}),Number.isFinite(B)){var $=B/k,H=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(P=$*H/2),_.padding==="no-gap"){var V=_u(e.barCategoryGap,$*H),U=$*H/2;P=U-V-(U-V)/H*V}}}i==="xAxis"?A=[r.left+(b.left||0)+(P||0),r.left+r.width-(b.right||0)-(P||0)]:i==="yAxis"?A=l==="horizontal"?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(P||0),r.top+r.height-(b.bottom||0)-(P||0)]:A=_.range,w&&(A=[A[1],A[0]]);var j=sle(_,a,p),Y=j.scale,Z=j.realScaleType;Y.domain(v).range(A),lle(Y);var J=gle(Y,Pa(Pa({},_),{},{realScaleType:Z}));i==="xAxis"?(I=y==="top"&&!M||y==="bottom"&&M,C=r.left,N=f[E]-I*_.height):i==="yAxis"&&(I=y==="left"&&!M||y==="right"&&M,C=f[E]-I*_.width,N=r.top);var fe=Pa(Pa(Pa({},_),J),{},{realScaleType:Z,x:C,y:N,scale:Y,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return fe.bandSize=O0(fe,J),!_.hide&&i==="xAxis"?f[E]+=(I?-1:1)*fe.height:_.hide||(f[E]+=(I?-1:1)*fe.width),Pa(Pa({},m),{},G_({},g,fe))},{})},D4=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Fhe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return D4({x:n,y:r},{x:i,y:a})},k4=function(){function t(e){Dhe(this,t),this.scale=e}return khe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();G_(k4,"EPS",1e-4);var LP=function(e){var n=Object.keys(e).reduce(function(r,i){return Pa(Pa({},r),{},G_({},i,k4.create(e[i])))},{});return Pa(Pa({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return ihe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return C4(i,function(a,o){return n[o].isInRange(a)})}})};function Bhe(t){return(t%180+180)%180}var zhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Bhe(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},jhe=ul,$he=Am,Vhe=C_;function Hhe(t){return function(e,n,r){var i=Object(e);if(!$he(e)){var a=jhe(n);e=Vhe(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var Ghe=Hhe,Whe=E4;function Xhe(t){var e=Whe(t),n=e%1;return e===e?n?e-n:e:0}var qhe=Xhe,Yhe=VB,Khe=ul,Zhe=qhe,Jhe=Math.max;function Qhe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Zhe(n);return i<0&&(i=Jhe(r+i,0)),Yhe(t,Khe(e),i)}var epe=Qhe,tpe=Ghe,npe=epe,rpe=tpe(npe),ipe=rpe;const ape=an(ipe);var ope=W9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),DP=z.createContext(void 0),kP=z.createContext(void 0),U4=z.createContext(void 0),F4=z.createContext({}),B4=z.createContext(void 0),z4=z.createContext(0),j4=z.createContext(0),JN=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=ope(a);return ne.createElement(DP.Provider,{value:r},ne.createElement(kP.Provider,{value:i},ne.createElement(F4.Provider,{value:a},ne.createElement(U4.Provider,{value:c},ne.createElement(B4.Provider,{value:o},ne.createElement(z4.Provider,{value:u},ne.createElement(j4.Provider,{value:l},s)))))))},spe=function(){return z.useContext(B4)},$4=function(e){var n=z.useContext(DP);n==null&&Su();var r=n[e];return r==null&&Su(),r},lpe=function(){var e=z.useContext(DP);return Rs(e)},upe=function(){var e=z.useContext(kP),n=ape(e,function(r){return C4(r.domain,Number.isFinite)});return n||Rs(e)},V4=function(e){var n=z.useContext(kP);n==null&&Su();var r=n[e];return r==null&&Su(),r},cpe=function(){var e=z.useContext(U4);return e},fpe=function(){return z.useContext(F4)},UP=function(){return z.useContext(j4)},FP=function(){return z.useContext(z4)};function Rf(t){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rf(t)}function dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function ppe(t,e,n){return e&&hpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mpe(t,e,n){return e=H0(e),gpe(t,H4()?Reflect.construct(e,n||[],H0(t).constructor):e.apply(t,n))}function gpe(t,e){if(e&&(Rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(t)}function ype(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KE(t,e)}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){BP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BP(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=xpe(t,"string");return Rf(e)=="symbol"?e:e+""}function xpe(t,e){if(Rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _pe(t,e){return Mpe(t)||wpe(t,e)||Spe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Spe(t,e){if(t){if(typeof t=="string")return tL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tL(t,e)}}function tL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mpe(t){if(Array.isArray(t))return t}function ZE(){return ZE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZE.apply(this,arguments)}var Epe=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Lt(e)?r=e(n):r=ne.createElement("line",ZE({},n,{className:"recharts-reference-line-line"})),r},Ape=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,p=a.width,m=a.height;if(r){var g=u.y,_=e.y.apply(g,{position:o});if(co(u,"discard")&&!e.y.isInRange(_))return null;var y=[{x:c+p,y:_},{x:c,y:_}];return l==="left"?y.reverse():y}if(n){var v=u.x,x=e.x.apply(v,{position:o});if(co(u,"discard")&&!e.x.isInRange(x))return null;var b=[{x,y:f+m},{x,y:f}];return s==="top"?b.reverse():b}if(i){var M=u.segment,w=M.map(function(E){return e.apply(E,{position:o})});return co(u,"discard")&&Kde(w,function(E){return!e.isInRange(E)})?null:w}return null};function Tpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=spe(),c=$4(i),f=V4(a),p=cpe();if(!u||!p)return null;Ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=LP({x:c.scale,y:f.scale}),g=tr(e),_=tr(n),y=r&&r.length===2,v=Ape(m,g,_,y,p,t.position,c.orientation,f.orientation,t);if(!v)return null;var x=_pe(v,2),b=x[0],M=b.x,w=b.y,E=x[1],P=E.x,A=E.y,C=co(t,"hidden")?"url(#".concat(u,")"):void 0,N=eL(eL({clipPath:C},jt(t,!0)),{},{x1:M,y1:w,x2:P,y2:A});return ne.createElement(Bn,{className:Gt("recharts-reference-line",s)},Epe(o,N),Lr.renderCallByParent(t,Fhe({x1:M,y1:w,x2:P,y2:A})))}var zP=function(t){function e(){return dpe(this,e),mpe(this,e,arguments)}return ype(e,t),ppe(e,[{key:"render",value:function(){return ne.createElement(Tpe,this.props)}}])}(ne.Component);BP(zP,"displayName","ReferenceLine");BP(zP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JE.apply(this,arguments)}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){W_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function Ope(t,e,n){return e&&Cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ipe(t,e,n){return e=G0(e),Rpe(t,W4()?Reflect.construct(e,n||[],G0(t).constructor):e.apply(t,n))}function Rpe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Npe(t)}function Npe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W4=function(){return!!t})()}function G0(t){return G0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},G0(t)}function Lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QE(t,e)}function W_(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=Dpe(t,"string");return Nf(e)=="symbol"?e:e+""}function Dpe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kpe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=LP({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return co(e,"discard")&&!o.isInRange(s)?null:s},X_=function(t){function e(){return Ppe(this,e),Ipe(this,e,arguments)}return Lpe(e,t),Ope(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=tr(i),c=tr(a);if(Ho(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=kpe(this.props);if(!f)return null;var p=f.x,m=f.y,g=this.props,_=g.shape,y=g.className,v=co(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=rL(rL({clipPath:v},jt(this.props,!0)),{},{cx:p,cy:m});return ne.createElement(Bn,{className:Gt("recharts-reference-dot",y)},e.renderDot(_,x),Lr.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(ne.Component);W_(X_,"displayName","ReferenceDot");W_(X_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});W_(X_,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Lt(t)?n=t(e):n=ne.createElement(NP,JE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(this,arguments)}function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y4(r.key),r)}}function Bpe(t,e,n){return e&&Fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zpe(t,e,n){return e=W0(e),jpe(t,q4()?Reflect.construct(e,n||[],W0(t).constructor):e.apply(t,n))}function jpe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(t)}function $pe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q4=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},W0(t)}function Vpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tA(t,e)}function tA(t,e){return tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tA(t,e)}function q_(t,e,n){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4(t){var e=Hpe(t,"string");return Lf(e)=="symbol"?e:e+""}function Hpe(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gpe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var p=LP({x:c.scale,y:f.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(l,{position:"start"}):p.y.rangeMin},g={x:n?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return co(a,"discard")&&(!p.isInRange(m)||!p.isInRange(g))?null:D4(m,g)},Y_=function(t){function e(){return Upe(this,e),zpe(this,e,arguments)}return Vpe(e,t),Bpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ho(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=tr(i),p=tr(a),m=tr(o),g=tr(s),_=this.props.shape;if(!f&&!p&&!m&&!g&&!_)return null;var y=Gpe(f,p,m,g,this.props);if(!y&&!_)return null;var v=co(this.props,"hidden")?"url(#".concat(c,")"):void 0;return ne.createElement(Bn,{className:Gt("recharts-reference-area",l)},e.renderRect(_,aL(aL({clipPath:v},jt(this.props,!0)),y)),Lr.renderCallByParent(this.props,y))}}])}(ne.Component);q_(Y_,"displayName","ReferenceArea");q_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});q_(Y_,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Lt(t)?n=t(e):n=ne.createElement(RP,eA({},e,{className:"recharts-reference-area-rect"})),n});function K4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Wpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return zhe(r,n)}function Xpe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function X0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function qpe(t,e){return K4(t,e+1)}function Ype(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:K4(r,u)};var _=l,y,v=function(){return y===void 0&&(y=n(g,_)),y},x=g.coordinate,b=l===0||X0(t,x,v,c,s);b||(l=0,c=o,u+=1),b&&(c=x+t*(v()/2+i),l+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return e=Zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=Jpe(t,"string");return Jp(e)=="symbol"?e:e+""}function Jpe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var m=a[p],g,_=function(){return g===void 0&&(g=n(m,p)),g};if(p===o-1){var y=t*(m.coordinate+t*_()/2-l);a[p]=m=Rr(Rr({},m),{},{tickCoord:y>0?m.coordinate-y*t:m.coordinate})}else a[p]=m=Rr(Rr({},m),{},{tickCoord:m.coordinate});var v=X0(t,m.tickCoord,_,s,l);v&&(l=m.tickCoord-t*(_()/2+i),a[p]=Rr(Rr({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function eme(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),p=t*(c.coordinate+t*f/2-u);o[s-1]=c=Rr(Rr({},c),{},{tickCoord:p>0?c.coordinate-p*t:c.coordinate});var m=X0(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),o[s-1]=Rr(Rr({},c),{},{isShow:!0}))}for(var g=a?s-1:s,_=function(x){var b=o[x],M,w=function(){return M===void 0&&(M=n(b,x)),M};if(x===0){var E=t*(b.coordinate-t*w()/2-l);o[x]=b=Rr(Rr({},b),{},{tickCoord:E<0?b.coordinate-E*t:b.coordinate})}else o[x]=b=Rr(Rr({},b),{},{tickCoord:b.coordinate});var P=X0(t,b.tickCoord,w,l,u);P&&(l=b.tickCoord+t*(w()/2+i),o[x]=Rr(Rr({},b),{},{isShow:!0}))},y=0;y<g;y++)_(y);return o}function jP(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(He(l)||ud.isSsr)return qpe(i,typeof l=="number"&&He(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?Fh(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(b,M){var w=Lt(u)?u(b.value,M):b.value;return m==="width"?Wpe(Fh(w,{fontSize:e,letterSpacing:n}),g,f):Fh(w,{fontSize:e,letterSpacing:n})[m]},y=i.length>=2?Na(i[1].coordinate-i[0].coordinate):1,v=Xpe(a,y,m);return l==="equidistantPreserveStart"?Ype(y,v,_,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=eme(y,v,_,i,o,l==="preserveStartEnd"):p=Qpe(y,v,_,i,o),p.filter(function(x){return x.isShow}))}var tme=["viewBox"],nme=["viewBox"],rme=["ticks"];function Df(t){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Df(t)}function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qc.apply(this,arguments)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){$P(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j1(t,e){if(t==null)return{};var n=ime(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J4(r.key),r)}}function ome(t,e,n){return e&&lL(t.prototype,e),n&&lL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=q0(e),lme(t,Z4()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function lme(t,e){if(e&&(Df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nA(t,e)}function $P(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=fme(t,"string");return Df(e)=="symbol"?e:e+""}function fme(t,e){if(Df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hd=function(t){function e(n){var r;return ame(this,e),r=sme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cme(e,t),ome(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=j1(r,tme),s=this.props,l=s.viewBox,u=j1(s,nme);return!sf(a,l)||!sf(o,u)||!sf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,p=i.tickMargin,m,g,_,y,v,x,b=f?-1:1,M=r.tickSize||c,w=He(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,y=o+ +!f*l,_=y-b*M,x=_-b*p,v=w;break;case"left":_=y=r.coordinate,g=a+ +!f*s,m=g-b*M,v=m-b*p,x=w;break;case"right":_=y=r.coordinate,g=a+ +f*s,m=g+b*M,v=m+b*p,x=w;break;default:m=g=r.coordinate,y=o+ +f*l,_=y+b*M,x=_+b*p,v=w;break}return{line:{x1:m,y1:_,x2:g,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Zn(Zn(Zn({},jt(this.props,!1)),jt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);f=Zn(Zn({},f),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=Zn(Zn({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return ne.createElement("line",qc({},f,{className:Gt("recharts-cartesian-axis-line",sa(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,p=s.unit,m=jP(Zn(Zn({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),y=jt(this.props,!1),v=jt(c,!1),x=Zn(Zn({},y),{},{fill:"none"},jt(l,!1)),b=m.map(function(M,w){var E=o.getTickLineCoord(M),P=E.line,A=E.tick,C=Zn(Zn(Zn(Zn({textAnchor:g,verticalAnchor:_},y),{},{stroke:"none",fill:u},v),A),{},{index:w,payload:M,visibleTicksCount:m.length,tickFormatter:f});return ne.createElement(Bn,qc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},n0(o.props,M,w)),l&&ne.createElement("line",qc({},x,P,{className:Gt("recharts-cartesian-axis-tick-line",sa(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(Lt(f)?f(M.value,w):M.value).concat(p||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,p=f.ticks,m=j1(f,rme),g=p;return Lt(l)&&(g=p&&p.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:ne.createElement(Bn,{className:Gt("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Lr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=Gt(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(r)?o=ne.cloneElement(r,Zn(Zn({},i),{},{className:s})):Lt(r)?o=r(Zn(Zn({},i),{},{className:s})):o=ne.createElement(g0,qc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);$P(hd,"displayName","CartesianAxis");$P(hd,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dme=["x1","y1","x2","y2","key"],hme=["offset"];function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wu(t)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return e=mme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mme(t){var e=gme(t,"string");return wu(e)=="symbol"?e:e+""}function gme(t,e){if(wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}function cL(t,e){if(t==null)return{};var n=vme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Q4(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Lt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=cL(e,dme),u=jt(l,!1);u.offset;var c=cL(u,hme);n=ne.createElement("line",eu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function xme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dr(Dr({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return Q4(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _me(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Dr(Dr({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return Q4(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function bme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var g=!c[m+1],_=g?i+o-p:c[m+1]-p;if(_<=0)return null;var y=m%e.length;return ne.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:_,width:a,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Sme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==c[0]&&c.unshift(0);var f=c.map(function(p,m){var g=!c[m+1],_=g?a+s-p:c[m+1]-p;if(_<=0)return null;var y=m%r.length;return ne.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:_,height:l,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wme=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return l4(jP(Dr(Dr(Dr({},hd.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Mme=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return l4(jP(Dr(Dr(Dr({},hd.defaultProps),r),{},{ticks:jo(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rA(t){var e,n,r,i,a,o,s=UP(),l=FP(),u=fpe(),c=Dr(Dr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:sc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:sc.verticalFill,x:He(t.x)?t.x:u.left,y:He(t.y)?t.y:u.top,width:He(t.width)?t.width:u.width,height:He(t.height)?t.height:u.height}),f=c.x,p=c.y,m=c.width,g=c.height,_=c.syncWithTicks,y=c.horizontalValues,v=c.verticalValues,x=lpe(),b=upe();if(!He(m)||m<=0||!He(g)||g<=0||!He(f)||f!==+f||!He(p)||p!==+p)return null;var M=c.verticalCoordinatesGenerator||wme,w=c.horizontalCoordinatesGenerator||Mme,E=c.horizontalPoints,P=c.verticalPoints;if((!E||!E.length)&&Lt(w)){var A=y&&y.length,C=w({yAxis:b?Dr(Dr({},b),{},{ticks:A?y:b.ticks}):void 0,width:s,height:l,offset:u},A?!0:_);Ho(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wu(C),"]")),Array.isArray(C)&&(E=C)}if((!P||!P.length)&&Lt(M)){var N=v&&v.length,I=M({xAxis:x?Dr(Dr({},x),{},{ticks:N?v:x.ticks}):void 0,width:s,height:l,offset:u},N?!0:_);Ho(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wu(I),"]")),Array.isArray(I)&&(P=I)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(yme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),ne.createElement(xme,eu({},c,{offset:u,horizontalPoints:E,xAxis:x,yAxis:b})),ne.createElement(_me,eu({},c,{offset:u,verticalPoints:P,xAxis:x,yAxis:b})),ne.createElement(bme,eu({},c,{horizontalPoints:E})),ne.createElement(Sme,eu({},c,{verticalPoints:P})))}rA.displayName="CartesianGrid";var Eme=["type","layout","connectNulls","ref"],Ame=["key"];function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function fL(t,e){if(t==null)return{};var n=Tme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){Ca(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lc(t){return Ime(t)||Ome(t)||Cme(t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function Ome(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ime(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t5(r.key),r)}}function Nme(t,e,n){return e&&hL(t.prototype,e),n&&hL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lme(t,e,n){return e=Y0(e),Dme(t,e5()?Reflect.construct(e,n||[],Y0(t).constructor):e.apply(t,n))}function Dme(t,e){if(e&&(kf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kme(t)}function kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e5=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Y0(t)}function Ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aA(t,e)}function aA(t,e){return aA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aA(t,e)}function Ca(t,e,n){return e=t5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t5(t){var e=Fme(t,"string");return kf(e)=="symbol"?e:e+""}function Fme(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rm=function(t){function e(){var n;Rme(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Lme(this,e,[].concat(i)),Ca(n,"state",{isAnimationFinished:!0,totalLength:0}),Ca(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),Ca(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(v,x){return v+x});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,p=s-o,m=[],g=0,_=0;g<l.length;_+=l[g],++g)if(_+l[g]>f){m=[].concat(lc(l.slice(0,g)),[f-_]);break}var y=m.length%2===0?[0,p]:[p];return[].concat(lc(e.repeat(l,c)),lc(m),y).map(function(v){return"".concat(v,"px")}).join(", ")}),Ca(n,"id",Em("recharts-line-")),Ca(n,"pathRef",function(o){n.mainCurve=o}),Ca(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ca(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ume(e,t),Nme(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=la(c,Im);if(!f)return null;var p=function(_,y){return{x:_.x,y:_.y,value:_.value,errorVal:ki(_.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(Bn,m,f.map(function(g){return ne.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=jt(this.props,!1),p=jt(l,!0),m=u.map(function(_,y){var v=Ei(Ei(Ei({key:"dot-".concat(y),r:3},f),p),{},{index:y,cx:_.x,cy:_.y,value:_.value,dataKey:c,payload:_.payload,points:u});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(Bn,$h({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=fL(s,Eme),p=Ei(Ei(Ei({},jt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return ne.createElement(LE,$h({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,p=o.animationEasing,m=o.animationId,g=o.animateNewValues,_=o.width,y=o.height,v=this.state,x=v.prevPoints,b=v.totalLength;return ne.createElement(es,{begin:c,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var w=M.t;if(x){var E=x.length/s.length,P=s.map(function(k,B){var W=Math.floor(B*E);if(x[W]){var $=x[W],H=Ia($.x,k.x),V=Ia($.y,k.y);return Ei(Ei({},k),{},{x:H(w),y:V(w)})}if(g){var U=Ia(_*2,k.x),j=Ia(y/2,k.y);return Ei(Ei({},k),{},{x:U(w),y:j(w)})}return Ei(Ei({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(P,r,i)}var A=Ia(0,b),C=A(w),N;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});N=a.getStrokeDasharray(C,b,I)}else N=a.generateSimpleStrokeDasharray(b,C);return a.renderCurveStatically(s,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!z_(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,p=i.left,m=i.width,g=i.height,_=i.isAnimationActive,y=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=s.length===1,b=Gt("recharts-line",l),M=u&&u.allowDataOverflow,w=c&&c.allowDataOverflow,E=M||w,P=kt(y)?this.id:y,A=(r=jt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=A.r,N=C===void 0?3:C,I=A.strokeWidth,k=I===void 0?2:I,B=J7(o)?o:{},W=B.clipDot,$=W===void 0?!0:W,H=N*2+k;return ne.createElement(Bn,{className:b},M||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(P)},ne.createElement("rect",{x:M?p:p-m/2,y:w?f:f-g/2,width:M?m:m*2,height:w?g:g*2})),!$&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(P)},ne.createElement("rect",{x:p-H/2,y:f-H/2,width:m+H,height:g+H}))):null,!x&&this.renderCurve(E,P),this.renderErrorBar(E,P),(x||o)&&this.renderDots(E,$,P),(!_||v)&&Js.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(lc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(lc(o),lc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ne.isValidElement(r))a=ne.cloneElement(r,i);else if(Lt(r))a=r(i);else{var o=i.key,s=fL(i,Ame),l=Gt("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ne.createElement(NP,$h({key:o},s,{className:l}))}return a}}])}(z.PureComponent);Ca(Rm,"displayName","Line");Ca(Rm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ud.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ca(Rm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(p,m){var g=ki(p,o);return c==="horizontal"?{x:X3({axis:n,ticks:i,bandSize:s,entry:p,index:m}),y:kt(g)?null:r.scale(g),value:g,payload:p}:{x:kt(g)?null:n.scale(g),y:X3({axis:r,ticks:a,bandSize:s,entry:p,index:m}),value:g,payload:p}});return Ei({points:f,layout:c},u)});function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function Bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i5(r.key),r)}}function jme(t,e,n){return e&&zme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $me(t,e,n){return e=K0(e),Vme(t,n5()?Reflect.construct(e,n||[],K0(t).constructor):e.apply(t,n))}function Vme(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(t)}function Hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(t)}function Gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oA(t,e)}function oA(t,e){return oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oA(t,e)}function r5(t,e,n){return e=i5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i5(t){var e=Wme(t,"string");return Uf(e)=="symbol"?e:e+""}function Wme(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sA.apply(this,arguments)}function Xme(t){var e=t.xAxisId,n=UP(),r=FP(),i=$4(e);return i==null?null:z.createElement(hd,sA({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return jo(o,!0)}}))}var Ff=function(t){function e(){return Bme(this,e),$me(this,e,arguments)}return Gme(e,t),jme(e,[{key:"render",value:function(){return z.createElement(Xme,this.props)}}])}(z.Component);r5(Ff,"displayName","XAxis");r5(Ff,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bf(t)}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s5(r.key),r)}}function Kme(t,e,n){return e&&Yme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zme(t,e,n){return e=Z0(e),Jme(t,a5()?Reflect.construct(e,n||[],Z0(t).constructor):e.apply(t,n))}function Jme(t,e){if(e&&(Bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a5=function(){return!!t})()}function Z0(t){return Z0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z0(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lA(t,e)}function lA(t,e){return lA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lA(t,e)}function o5(t,e,n){return e=s5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s5(t){var e=tge(t,"string");return Bf(e)=="symbol"?e:e+""}function tge(t,e){if(Bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uA(){return uA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uA.apply(this,arguments)}var nge=function(e){var n=e.yAxisId,r=UP(),i=FP(),a=V4(n);return a==null?null:z.createElement(hd,uA({},a,{className:Gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return jo(s,!0)}}))},zf=function(t){function e(){return qme(this,e),Zme(this,e,arguments)}return ege(e,t),Kme(e,[{key:"render",value:function(){return z.createElement(nge,this.props)}}])}(z.Component);o5(zf,"displayName","YAxis");o5(zf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pL(t){return oge(t)||age(t)||ige(t)||rge()}function rge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return cA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cA(t,e)}}function age(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oge(t){if(Array.isArray(t))return cA(t)}function cA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fA=function(e,n,r,i,a){var o=la(e,zP),s=la(e,X_),l=[].concat(pL(o),pL(s)),u=la(e,Y_),c="".concat(i,"Id"),f=i[0],p=n;if(l.length&&(p=l.reduce(function(_,y){if(y.props[c]===r&&co(y.props,"extendDomain")&&He(y.props[f])){var v=y.props[f];return[Math.min(_[0],v),Math.max(_[1],v)]}return _},p)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");p=u.reduce(function(_,y){if(y.props[c]===r&&co(y.props,"extendDomain")&&He(y.props[m])&&He(y.props[g])){var v=y.props[m],x=y.props[g];return[Math.min(_[0],v,x),Math.max(_[1],v,x)]}return _},p)}return a&&a.length&&(p=a.reduce(function(_,y){return He(y)?[Math.min(_[0],y),Math.max(_[1],y)]:_},p)),p},l5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,p),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,p,m,g){var _=n?n+u:u;if(!this._events[_])return!1;var y=this._events[_],v=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,f),!0;case 4:return y.fn.call(y.context,c,f,p),!0;case 5:return y.fn.call(y.context,c,f,p,m),!0;case 6:return y.fn.call(y.context,c,f,p,m,g),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var M=y.length,w;for(b=0;b<M;b++)switch(y[b].once&&this.removeListener(u,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,c);break;case 3:y[b].fn.call(y[b].context,c,f);break;case 4:y[b].fn.call(y[b].context,c,f,p);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y[b].fn.apply(y[b].context,x)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,p){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var _=0,y=[],v=g.length;_<v;_++)(g[_].fn!==c||p&&!g[_].once||f&&g[_].context!==f)&&y.push(g[_]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(l5);var sge=l5.exports;const lge=an(sge);var $1=new lge,V1="recharts.syncMouseEvents";function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function fge(t,e,n){return e&&cge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H1(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=dge(t,"string");return Qp(e)=="symbol"?e:e+""}function dge(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hge=function(){function t(){uge(this,t),H1(this,"activeIndex",0),H1(this,"coordinateList",[]),H1(this,"layout","horizontal")}return fge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,p=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function pge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&He(r)&&He(i))return!0}return!1}function mge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function c5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=yr(e,n,r,i),s=yr(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function gge(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,p=yr(s,l,u,f),m=yr(s,l,c,f);r=p.x,i=p.y,a=m.x,o=m.y}else return c5(e);return[{x:r,y:i},{x:a,y:o}]}function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=xge(t,"string");return em(e)=="symbol"?e:e+""}function xge(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ge(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,p=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var g,_=LE;if(p==="ScatterChart")g=o,_=_fe;else if(p==="BarChart")g=mge(f,o,l,c),_=RP;else if(f==="radial"){var y=c5(o),v=y.cx,x=y.cy,b=y.radius,M=y.startAngle,w=y.endAngle;g={cx:v,cy:x,startAngle:M,endAngle:w,innerRadius:b,outerRadius:b},_=h4}else g={points:gge(f,o,l)},_=LE;var E=mv(mv(mv(mv({stroke:"#ccc",pointerEvents:"none"},l),g),jt(m,!1)),{},{payload:s,payloadIndex:u,className:Gt("recharts-tooltip-cursor",m.className)});return z.isValidElement(m)?z.cloneElement(m,E):z.createElement(_,E)}var bge=["item"],Sge=["children","className","width","height","style","compact","title","desc"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yc.apply(this,arguments)}function gL(t,e){return Ege(t)||Mge(t,e)||d5(t,e)||wge()}function wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ege(t){if(Array.isArray(t))return t}function vL(t,e){if(t==null)return{};var n=Age(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Age(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h5(r.key),r)}}function Cge(t,e,n){return e&&Pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oge(t,e,n){return e=J0(e),Ige(t,f5()?Reflect.construct(e,n||[],J0(t).constructor):e.apply(t,n))}function Ige(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rge(t)}function Rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f5=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},J0(t)}function Nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dA(t,e)}function $f(t){return kge(t)||Dge(t)||d5(t)||Lge()}function Lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d5(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function Dge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kge(t){if(Array.isArray(t))return hA(t)}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){bt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bt(t,e,n){return e=h5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h5(t){var e=Uge(t,"string");return jf(e)=="symbol"?e:e+""}function Uge(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fge={xAxis:["bottom","top"],yAxis:["left","right"]},Bge={width:"100%",height:"100%"},p5={x:0,y:0};function gv(t){return t}var zge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},jge=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return _e(_e(_e({},i),yr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return _e(_e(_e({},i),yr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return p5},K_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat($f(s),$f(u)):s},[]);return o.length>0?o:e&&e.length&&He(i)&&He(a)?e.slice(i,a+1):[]};function m5(t){return t==="number"?[0,"auto"]:void 0}var pA=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=K_(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;p=e0(m,o.dataKey,i)}else p=f&&f[r]||s[r];return p?[].concat($f(l),[c4(u,p)]):l},[])},xL=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=zge(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=tle(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,p=pA(e,n,c,f),m=jge(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:p,activeCoordinate:m}}return null},$ge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=e.stackOffset,m=s4(c,a);return r.reduce(function(g,_){var y,v=_.type.defaultProps!==void 0?_e(_e({},_.type.defaultProps),_.props):_.props,x=v.type,b=v.dataKey,M=v.allowDataOverflow,w=v.allowDuplicatedCategory,E=v.scale,P=v.ticks,A=v.includeHidden,C=v[o];if(g[C])return g;var N=K_(e.data,{graphicalItems:i.filter(function(J){var fe,we=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o];return we===C}),dataStartIndex:l,dataEndIndex:u}),I=N.length,k,B,W;pge(v.domain,M,x)&&(k=CE(v.domain,null,M),m&&(x==="number"||E!=="auto")&&(W=zh(N,b,"category")));var $=m5(x);if(!k||k.length===0){var H,V=(H=v.domain)!==null&&H!==void 0?H:$;if(b){if(k=zh(N,b,x),x==="category"&&m){var U=$7(k);w&&U?(B=k,k=B0(0,I)):w||(k=Z3(V,k,_).reduce(function(J,fe){return J.indexOf(fe)>=0?J:[].concat($f(J),[fe])},[]))}else if(x==="category")w?k=k.filter(function(J){return J!==""&&!kt(J)}):k=Z3(V,k,_).reduce(function(J,fe){return J.indexOf(fe)>=0||fe===""||kt(fe)?J:[].concat($f(J),[fe])},[]);else if(x==="number"){var j=ole(N,i.filter(function(J){var fe,we,De=o in J.props?J.props[o]:(fe=J.type.defaultProps)===null||fe===void 0?void 0:fe[o],ae="hide"in J.props?J.props.hide:(we=J.type.defaultProps)===null||we===void 0?void 0:we.hide;return De===C&&(A||!ae)}),b,a,c);j&&(k=j)}m&&(x==="number"||E!=="auto")&&(W=zh(N,b,"category"))}else m?k=B0(0,I):s&&s[C]&&s[C].hasStack&&x==="number"?k=p==="expand"?[0,1]:u4(s[C].stackGroups,l,u):k=o4(N,i.filter(function(J){var fe=o in J.props?J.props[o]:J.type.defaultProps[o],we="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return fe===C&&(A||!we)}),x,c,!0);if(x==="number")k=fA(f,k,C,a,P),V&&(k=CE(V,k,M));else if(x==="category"&&V){var Y=V,Z=k.every(function(J){return Y.indexOf(J)>=0});Z&&(k=Y)}}return _e(_e({},g),{},bt({},C,_e(_e({},v),{},{axisType:a,domain:k,categoricalDomain:W,duplicateDomain:B,originalDomain:(y=v.domain)!==null&&y!==void 0?y:$,isCategorical:m,layout:c})))},{})},Vge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,p=K_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=p.length,g=s4(c,a),_=-1;return r.reduce(function(y,v){var x=v.type.defaultProps!==void 0?_e(_e({},v.type.defaultProps),v.props):v.props,b=x[o],M=m5("number");if(!y[b]){_++;var w;return g?w=B0(0,m):s&&s[b]&&s[b].hasStack?(w=u4(s[b].stackGroups,l,u),w=fA(f,w,b,a)):(w=CE(M,o4(p,r.filter(function(E){var P,A,C=o in E.props?E.props[o]:(P=E.type.defaultProps)===null||P===void 0?void 0:P[o],N="hide"in E.props?E.props.hide:(A=E.type.defaultProps)===null||A===void 0?void 0:A.hide;return C===b&&!N}),"number",c),i.defaultProps.allowDataOverflow),w=fA(f,w,b,a)),_e(_e({},y),{},bt({},b,_e(_e({axisType:a},i.defaultProps),{},{hide:!0,orientation:sa(Fge,"".concat(a,".").concat(_%2),null),domain:w,originalDomain:M,isCategorical:g,layout:c})))}return y},{})},Hge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),p=la(c,a),m={};return p&&p.length?m=$ge(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=Vge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},Gge=function(e){var n=Rs(e),r=jo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aP(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:O0(n,r)}},_L=function(e){var n=e.children,r=e.defaultShowTooltip,i=Pi(n,Of),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Wge=function(e){return!e||!e.length?!1:e.some(function(n){var r=Vo(n&&n.type);return r&&r.indexOf("Bar")>=0})},bL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,p=r.margin||{},m=Pi(f,Of),g=Pi(f,su),_=Object.keys(l).reduce(function(w,E){var P=l[E],A=P.orientation;return!P.mirror&&!P.hide?_e(_e({},w),{},bt({},A,w[A]+P.width)):w},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(w,E){var P=o[E],A=P.orientation;return!P.mirror&&!P.hide?_e(_e({},w),{},bt({},A,sa(w,"".concat(A))+P.height)):w},{top:p.top||0,bottom:p.bottom||0}),v=_e(_e({},y),_),x=v.bottom;m&&(v.bottom+=m.props.height||Of.defaultProps.height),g&&n&&(v=ile(v,i,r,n));var b=u-v.left-v.right,M=c-v.top-v.bottom;return _e(_e({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(M,0)})},qge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},g5=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,p=function(v,x){var b=x.graphicalItems,M=x.stackGroups,w=x.offset,E=x.updateId,P=x.dataStartIndex,A=x.dataEndIndex,C=v.barSize,N=v.layout,I=v.barGap,k=v.barCategoryGap,B=v.maxBarSize,W=bL(N),$=W.numericAxisName,H=W.cateAxisName,V=Wge(b),U=[];return b.forEach(function(j,Y){var Z=K_(v.data,{graphicalItems:[j],dataStartIndex:P,dataEndIndex:A}),J=j.type.defaultProps!==void 0?_e(_e({},j.type.defaultProps),j.props):j.props,fe=J.dataKey,we=J.maxBarSize,De=J["".concat($,"Id")],ae=J["".concat(H,"Id")],be={},Ae=l.reduce(function(dt,Oe){var G=x["".concat(Oe.axisType,"Map")],D=J["".concat(Oe.axisType,"Id")];G&&G[D]||Oe.axisType==="zAxis"||Su();var Q=G[D];return _e(_e({},dt),{},bt(bt({},Oe.axisType,Q),"".concat(Oe.axisType,"Ticks"),jo(Q)))},be),me=Ae[H],Te=Ae["".concat(H,"Ticks")],Pe=M&&M[De]&&M[De].hasStack&&yle(j,M[De].stackGroups),pe=Vo(j.type).indexOf("Bar")>=0,Ge=O0(me,Te),ce=[],Se=V&&nle({barSize:C,stackGroups:M,totalSize:qge(Ae,H)});if(pe){var xe,Ne,q=kt(we)?B:we,ut=(xe=(Ne=O0(me,Te,!0))!==null&&Ne!==void 0?Ne:q)!==null&&xe!==void 0?xe:0;ce=rle({barGap:I,barCategoryGap:k,bandSize:ut!==Ge?ut:Ge,sizeList:Se[ae],maxBarSize:q}),ut!==Ge&&(ce=ce.map(function(dt){return _e(_e({},dt),{},{position:_e(_e({},dt.position),{},{offset:dt.position.offset-ut/2})})}))}var Ve=j&&j.type&&j.type.getComposedData;Ve&&U.push({props:_e(_e({},Ve(_e(_e({},Ae),{},{displayedData:Z,props:v,dataKey:fe,item:j,bandSize:Ge,barPosition:ce,offset:w,stackedData:Pe,layout:N,dataStartIndex:P,dataEndIndex:A}))),{},bt(bt(bt({key:j.key||"item-".concat(Y)},$,Ae[$]),H,Ae[H]),"animationId",E)),childIndex:tX(j,v.children),item:j})}),U},m=function(v,x){var b=v.props,M=v.dataStartIndex,w=v.dataEndIndex,E=v.updateId;if(!VI({props:b}))return null;var P=b.children,A=b.layout,C=b.stackOffset,N=b.data,I=b.reverseStackOrder,k=bL(A),B=k.numericAxisName,W=k.cateAxisName,$=la(P,r),H=mle(N,$,"".concat(B,"Id"),"".concat(W,"Id"),C,I),V=l.reduce(function(J,fe){var we="".concat(fe.axisType,"Map");return _e(_e({},J),{},bt({},we,Hge(b,_e(_e({},fe),{},{graphicalItems:$,stackGroups:fe.axisType===B&&H,dataStartIndex:M,dataEndIndex:w}))))},{}),U=Xge(_e(_e({},V),{},{props:b,graphicalItems:$}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(J){V[J]=c(b,V[J],U,J.replace("Map",""),n)});var j=V["".concat(W,"Map")],Y=Gge(j),Z=p(b,_e(_e({},V),{},{dataStartIndex:M,dataEndIndex:w,updateId:E,graphicalItems:$,stackGroups:H,offset:U}));return _e(_e({formattedGraphicalItems:Z,graphicalItems:$,offset:U,stackGroups:H},Y),V)},g=function(y){function v(x){var b,M,w;return Tge(this,v),w=Oge(this,v,[x]),bt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bt(w,"accessibilityManager",new hge),bt(w,"handleLegendBBoxUpdate",function(E){if(E){var P=w.state,A=P.dataStartIndex,C=P.dataEndIndex,N=P.updateId;w.setState(_e({legendBBox:E},m({props:w.props,dataStartIndex:A,dataEndIndex:C,updateId:N},_e(_e({},w.state),{},{legendBBox:E}))))}}),bt(w,"handleReceiveSyncEvent",function(E,P,A){if(w.props.syncId===E){if(A===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),bt(w,"handleBrushChange",function(E){var P=E.startIndex,A=E.endIndex;if(P!==w.state.dataStartIndex||A!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return _e({dataStartIndex:P,dataEndIndex:A},m({props:w.props,dataStartIndex:P,dataEndIndex:A,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:A})}}),bt(w,"handleMouseEnter",function(E){var P=w.getMouseInfo(E);if(P){var A=_e(_e({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseEnter;Lt(C)&&C(A,E)}}),bt(w,"triggeredAfterMouseMove",function(E){var P=w.getMouseInfo(E),A=P?_e(_e({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var C=w.props.onMouseMove;Lt(C)&&C(A,E)}),bt(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),bt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),bt(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),bt(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var A=w.props.onMouseLeave;Lt(A)&&A(P,E)}),bt(w,"handleOuterEvent",function(E){var P=eX(E),A=sa(w.props,"".concat(P));if(P&&Lt(A)){var C,N;/.*touch.*/i.test(P)?N=w.getMouseInfo(E.changedTouches[0]):N=w.getMouseInfo(E),A((C=N)!==null&&C!==void 0?C:{},E)}}),bt(w,"handleClick",function(E){var P=w.getMouseInfo(E);if(P){var A=_e(_e({},P),{},{isTooltipActive:!0});w.setState(A),w.triggerSyncEvent(A);var C=w.props.onClick;Lt(C)&&C(A,E)}}),bt(w,"handleMouseDown",function(E){var P=w.props.onMouseDown;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleMouseUp",function(E){var P=w.props.onMouseUp;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),bt(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),bt(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),bt(w,"handleDoubleClick",function(E){var P=w.props.onDoubleClick;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"handleContextMenu",function(E){var P=w.props.onContextMenu;if(Lt(P)){var A=w.getMouseInfo(E);P(A,E)}}),bt(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&$1.emit(V1,w.props.syncId,E,w.eventEmitterSymbol)}),bt(w,"applySyncEvent",function(E){var P=w.props,A=P.layout,C=P.syncMethod,N=w.state.updateId,I=E.dataStartIndex,k=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(_e({dataStartIndex:I,dataEndIndex:k},m({props:w.props,dataStartIndex:I,dataEndIndex:k,updateId:N},w.state)));else if(E.activeTooltipIndex!==void 0){var B=E.chartX,W=E.chartY,$=E.activeTooltipIndex,H=w.state,V=H.offset,U=H.tooltipTicks;if(!V)return;if(typeof C=="function")$=C(U,E);else if(C==="value"){$=-1;for(var j=0;j<U.length;j++)if(U[j].value===E.activeLabel){$=j;break}}var Y=_e(_e({},V),{},{x:V.left,y:V.top}),Z=Math.min(B,Y.x+Y.width),J=Math.min(W,Y.y+Y.height),fe=U[$]&&U[$].value,we=pA(w.state,w.props.data,$),De=U[$]?{x:A==="horizontal"?U[$].coordinate:Z,y:A==="horizontal"?J:U[$].coordinate}:p5;w.setState(_e(_e({},E),{},{activeLabel:fe,activeCoordinate:De,activePayload:we,activeTooltipIndex:$}))}else w.setState(E)}),bt(w,"renderCursor",function(E){var P,A=w.state,C=A.isTooltipActive,N=A.activeCoordinate,I=A.activePayload,k=A.offset,B=A.activeTooltipIndex,W=A.tooltipAxisBandSize,$=w.getTooltipEventType(),H=(P=E.props.active)!==null&&P!==void 0?P:C,V=w.props.layout,U=E.key||"_recharts-cursor";return ne.createElement(_ge,{key:U,activeCoordinate:N,activePayload:I,activeTooltipIndex:B,chartName:n,element:E,isActive:H,layout:V,offset:k,tooltipAxisBandSize:W,tooltipEventType:$})}),bt(w,"renderPolarAxis",function(E,P,A){var C=sa(E,"type.axisType"),N=sa(w.state,"".concat(C,"Map")),I=E.type.defaultProps,k=I!==void 0?_e(_e({},I),E.props):E.props,B=N&&N[k["".concat(C,"Id")]];return z.cloneElement(E,_e(_e({},B),{},{className:Gt(C,B.className),key:E.key||"".concat(P,"-").concat(A),ticks:jo(B,!0)}))}),bt(w,"renderPolarGrid",function(E){var P=E.props,A=P.radialLines,C=P.polarAngles,N=P.polarRadius,I=w.state,k=I.radiusAxisMap,B=I.angleAxisMap,W=Rs(k),$=Rs(B),H=$.cx,V=$.cy,U=$.innerRadius,j=$.outerRadius;return z.cloneElement(E,{polarAngles:Array.isArray(C)?C:jo($,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(N)?N:jo(W,!0).map(function(Y){return Y.coordinate}),cx:H,cy:V,innerRadius:U,outerRadius:j,key:E.key||"polar-grid",radialLines:A})}),bt(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,P=w.props,A=P.children,C=P.width,N=P.height,I=w.props.margin||{},k=C-(I.left||0)-(I.right||0),B=i4({children:A,formattedGraphicalItems:E,legendWidth:k,legendContent:u});if(!B)return null;var W=B.item,$=vL(B,bge);return z.cloneElement(W,_e(_e({},$),{},{chartWidth:C,chartHeight:N,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),bt(w,"renderTooltip",function(){var E,P=w.props,A=P.children,C=P.accessibilityLayer,N=Pi(A,Ta);if(!N)return null;var I=w.state,k=I.isTooltipActive,B=I.activeCoordinate,W=I.activePayload,$=I.activeLabel,H=I.offset,V=(E=N.props.active)!==null&&E!==void 0?E:k;return z.cloneElement(N,{viewBox:_e(_e({},H),{},{x:H.left,y:H.top}),active:V,label:$,payload:V?W:[],coordinate:B,accessibilityLayer:C})}),bt(w,"renderBrush",function(E){var P=w.props,A=P.margin,C=P.data,N=w.state,I=N.offset,k=N.dataStartIndex,B=N.dataEndIndex,W=N.updateId;return z.cloneElement(E,{key:E.key||"_recharts-brush",onChange:fv(w.handleBrushChange,E.props.onChange),data:C,x:He(E.props.x)?E.props.x:I.left,y:He(E.props.y)?E.props.y:I.top+I.height+I.brushBottom-(A.bottom||0),width:He(E.props.width)?E.props.width:I.width,startIndex:k,endIndex:B,updateId:"brush-".concat(W)})}),bt(w,"renderReferenceElement",function(E,P,A){if(!E)return null;var C=w,N=C.clipPathId,I=w.state,k=I.xAxisMap,B=I.yAxisMap,W=I.offset,$=E.type.defaultProps||{},H=E.props,V=H.xAxisId,U=V===void 0?$.xAxisId:V,j=H.yAxisId,Y=j===void 0?$.yAxisId:j;return z.cloneElement(E,{key:E.key||"".concat(P,"-").concat(A),xAxis:k[U],yAxis:B[Y],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:N})}),bt(w,"renderActivePoints",function(E){var P=E.item,A=E.activePoint,C=E.basePoint,N=E.childIndex,I=E.isRange,k=[],B=P.props.key,W=P.item.type.defaultProps!==void 0?_e(_e({},P.item.type.defaultProps),P.item.props):P.item.props,$=W.activeDot,H=W.dataKey,V=_e(_e({index:N,dataKey:H,cx:A.x,cy:A.y,r:4,fill:IP(P.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},jt($,!1)),t0($));return k.push(v.renderActiveDot($,V,"".concat(B,"-activePoint-").concat(N))),C?k.push(v.renderActiveDot($,_e(_e({},V),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(N))):I&&k.push(null),k}),bt(w,"renderGraphicChild",function(E,P,A){var C=w.filterFormatItem(E,P,A);if(!C)return null;var N=w.getTooltipEventType(),I=w.state,k=I.isTooltipActive,B=I.tooltipAxis,W=I.activeTooltipIndex,$=I.activeLabel,H=w.props.children,V=Pi(H,Ta),U=C.props,j=U.points,Y=U.isRange,Z=U.baseLine,J=C.item.type.defaultProps!==void 0?_e(_e({},C.item.type.defaultProps),C.item.props):C.item.props,fe=J.activeDot,we=J.hide,De=J.activeBar,ae=J.activeShape,be=!!(!we&&k&&V&&(fe||De||ae)),Ae={};N!=="axis"&&V&&V.props.trigger==="click"?Ae={onClick:fv(w.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(Ae={onMouseLeave:fv(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:fv(w.handleItemMouseEnter,E.props.onMouseEnter)});var me=z.cloneElement(E,_e(_e({},C.props),Ae));function Te(Oe){return typeof B.dataKey=="function"?B.dataKey(Oe.payload):null}if(be)if(W>=0){var Pe,pe;if(B.dataKey&&!B.allowDuplicatedCategory){var Ge=typeof B.dataKey=="function"?Te:"payload.".concat(B.dataKey.toString());Pe=e0(j,Ge,$),pe=Y&&Z&&e0(Z,Ge,$)}else Pe=j==null?void 0:j[W],pe=Y&&Z&&Z[W];if(ae||De){var ce=E.props.activeIndex!==void 0?E.props.activeIndex:W;return[z.cloneElement(E,_e(_e(_e({},C.props),Ae),{},{activeIndex:ce})),null,null]}if(!kt(Pe))return[me].concat($f(w.renderActivePoints({item:C,activePoint:Pe,basePoint:pe,childIndex:W,isRange:Y})))}else{var Se,xe=(Se=w.getItemByXY(w.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:me},Ne=xe.graphicalItem,q=Ne.item,ut=q===void 0?E:q,Ve=Ne.childIndex,dt=_e(_e(_e({},C.props),Ae),{},{activeIndex:Ve});return[z.cloneElement(ut,dt),null,null]}return Y?[me,null,null]:[me,null]}),bt(w,"renderCustomized",function(E,P,A){return z.cloneElement(E,_e(_e({key:"recharts-customized-".concat(A)},w.props),w.state))}),bt(w,"renderMap",{CartesianGrid:{handler:gv,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:gv},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:gv},YAxis:{handler:gv},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:Em("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=rz(w.triggeredAfterMouseMove,(M=x.throttleDelay)!==null&&M!==void 0?M:1e3/60),w.state={},w}return Nge(v,y),Cge(v,[{key:"componentDidMount",value:function(){var b,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,M=b.children,w=b.data,E=b.height,P=b.layout,A=Pi(M,Ta);if(A){var C=A.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=pA(this.state,w,C,N),k=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+E)/2,W=P==="horizontal",$=W?{x:k,y:B}:{y:k,x:B},H=this.state.formattedGraphicalItems.find(function(U){var j=U.item;return j.type.name==="Scatter"});H&&($=_e(_e({},$),H.props.points[C].tooltipPosition),I=H.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:N,activePayload:I,activeCoordinate:$};this.setState(V),this.renderCursor(A),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(b){HM([Pi(b.children,Ta)],[Pi(this.props.children,Ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=Pi(this.props.children,Ta);if(b&&typeof b.props.shared=="boolean"){var M=b.props.shared?"axis":"item";return s.indexOf(M)>=0?M:a}return a}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var M=this.container,w=M.getBoundingClientRect(),E=Tre(w),P={chartX:Math.round(b.pageX-E.left),chartY:Math.round(b.pageY-E.top)},A=w.width/M.offsetWidth||1,C=this.inRange(P.chartX,P.chartY,A);if(!C)return null;var N=this.state,I=N.xAxisMap,k=N.yAxisMap,B=this.getTooltipEventType(),W=xL(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&I&&k){var $=Rs(I).scale,H=Rs(k).scale,V=$&&$.invert?$.invert(P.chartX):null,U=H&&H.invert?H.invert(P.chartY):null;return _e(_e({},P),{},{xValue:V,yValue:U},W)}return W?_e(_e({},P),W):null}},{key:"inRange",value:function(b,M){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,P=b/w,A=M/w;if(E==="horizontal"||E==="vertical"){var C=this.state.offset,N=P>=C.left&&P<=C.left+C.width&&A>=C.top&&A<=C.top+C.height;return N?{x:P,y:A}:null}var I=this.state,k=I.angleAxisMap,B=I.radiusAxisMap;if(k&&B){var W=Rs(k);return eN({x:P,y:A},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,M=this.getTooltipEventType(),w=Pi(b,Ta),E={};w&&M==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=t0(this.props,this.handleOuterEvent);return _e(_e({},P),E)}},{key:"addListener",value:function(){$1.on(V1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$1.removeListener(V1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,M,w){for(var E=this.state.formattedGraphicalItems,P=0,A=E.length;P<A;P++){var C=E[P];if(C.item===b||C.props.key===b.key||M===Vo(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,M=this.state.offset,w=M.left,E=M.top,P=M.height,A=M.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:b},ne.createElement("rect",{x:w,y:E,height:P,width:A})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(M,w){var E=gL(w,2),P=E[0],A=E[1];return _e(_e({},M),{},bt({},P,A.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(M,w){var E=gL(w,2),P=E[0],A=E[1];return _e(_e({},M),{},bt({},P,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[b])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(b){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[b])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(b){var M=this.state,w=M.formattedGraphicalItems,E=M.activeItem;if(w&&w.length)for(var P=0,A=w.length;P<A;P++){var C=w[P],N=C.props,I=C.item,k=I.type.defaultProps!==void 0?_e(_e({},I.type.defaultProps),I.props):I.props,B=Vo(I.type);if(B==="Bar"){var W=(N.data||[]).find(function(U){return cfe(b,U)});if(W)return{graphicalItem:C,payload:W}}else if(B==="RadialBar"){var $=(N.data||[]).find(function(U){return eN(b,U)});if($)return{graphicalItem:C,payload:$}}else if(V_(C,E)||H_(C,E)||qp(C,E)){var H=hde({graphicalItem:C,activeTooltipItem:E,itemData:k.data}),V=k.activeIndex===void 0?H:k.activeIndex;return{graphicalItem:_e(_e({},C),{},{childIndex:V}),payload:qp(C,E)?k.data[H]:C.props.data[H]}}}return null}},{key:"render",value:function(){var b=this;if(!VI(this))return null;var M=this.props,w=M.children,E=M.className,P=M.width,A=M.height,C=M.style,N=M.compact,I=M.title,k=M.desc,B=vL(M,Sge),W=jt(B,!1);if(N)return ne.createElement(JN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(WM,Yc({},W,{width:P,height:A,title:I,desc:k}),this.renderClipPath(),GI(w,this.renderMap)));if(this.props.accessibilityLayer){var $,H;W.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,W.role=(H=this.props.role)!==null&&H!==void 0?H:"application",W.onKeyDown=function(U){b.accessibilityManager.keyboardEvent(U)},W.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return ne.createElement(JN,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Yc({className:Gt("recharts-wrapper",E),style:_e({position:"relative",cursor:"default",width:P,height:A},C)},V,{ref:function(j){b.container=j}}),ne.createElement(WM,Yc({},W,{width:P,height:A,title:I,desc:k,style:Bge}),this.renderClipPath(),GI(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);bt(g,"displayName",n),bt(g,"defaultProps",_e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),bt(g,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,M=y.children,w=y.width,E=y.height,P=y.layout,A=y.stackOffset,C=y.margin,N=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var k=_L(y);return _e(_e(_e({},k),{},{updateId:0},m(_e(_e({props:y},k),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:E,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:M})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||E!==v.prevHeight||P!==v.prevLayout||A!==v.prevStackOffset||!sf(C,v.prevMargin)){var B=_L(y),W={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},$=_e(_e({},xL(v,b,P)),{},{updateId:v.updateId+1}),H=_e(_e(_e({},B),W),$);return _e(_e(_e({},H),m(_e({props:y},H),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:E,prevLayout:P,prevStackOffset:A,prevMargin:C,prevChildren:M})}if(!HM(M,v.prevChildren)){var V,U,j,Y,Z=Pi(M,Of),J=Z&&(V=(U=Z.props)===null||U===void 0?void 0:U.startIndex)!==null&&V!==void 0?V:N,fe=Z&&(j=(Y=Z.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&j!==void 0?j:I,we=J!==N||fe!==I,De=!kt(b),ae=De&&!we?v.updateId:v.updateId+1;return _e(_e({updateId:ae},m(_e(_e({props:y},v),{},{updateId:ae,dataStartIndex:J,dataEndIndex:fe}),v)),{},{prevChildren:M,dataStartIndex:J,dataEndIndex:fe})}return null}),bt(g,"renderActiveDot",function(y,v,x){var b;return z.isValidElement(y)?b=z.cloneElement(y,v):Lt(y)?b=y(v):b=ne.createElement(NP,v),ne.createElement(Bn,{className:"recharts-active-dot",key:x},b)});var _=z.forwardRef(function(v,x){return ne.createElement(g,Yc({},v,{ref:x}))});return _.displayName=g.displayName,_},Yge=g5({chartName:"LineChart",GraphicalChild:Rm,axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:zf}],formatAxisMap:L4}),Kge=g5({chartName:"BarChart",GraphicalChild:Uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:zf}],formatAxisMap:L4});function Zge({address:t}){const[e,n]=z.useState([]),[r,i]=z.useState(null),[a,o]=z.useState(null),[s,l]=z.useState([]),[u,c]=z.useState(!1),[f,p]=z.useState(null);z.useEffect(()=>{if(!t){n([]),i(null),o(null),l([]),p(null);return}let A=!1;const C=new AbortController;async function N(){c(!0),p(null);try{const I="https://polycopy.onrender.com",B=await(await fetch(`${I}/users/${t}/trades`,{signal:C.signal,credentials:"include"})).json();A||n(Array.isArray(B==null?void 0:B.trades)?B.trades:[]);const $=await(await fetch(`${I}/users/${t}/portfolio`,{signal:C.signal,credentials:"include"})).json();A||i(typeof($==null?void 0:$.portfolioValue)=="number"?$.portfolioValue:null);const V=await(await fetch(`${I}/users/${t}/pnl`,{signal:C.signal,credentials:"include"})).json();A||o(typeof(V==null?void 0:V.pnl)=="number"?V.pnl:null);const j=await(await fetch(`${I}/users/${t}/open-orders`,{signal:C.signal,credentials:"include"})).json();A||l(Array.isArray(j==null?void 0:j.openOrders)?j.openOrders:[])}catch(I){A||p(I instanceof Error?I.message:"Unknown error")}finally{A||c(!1)}}return N(),()=>{A=!0,C.abort()}},[t]);const{openPositions:m,tradeHistory:g}=z.useMemo(()=>{let A=[],C=[];if(Array.isArray(e)){C=e.map(I=>{var k,B;return{date:I.created_at||I.createdAt||I.timestamp||"",market:typeof I.market=="string"?I.market:((k=I.market)==null?void 0:k.question)||((B=I.market)==null?void 0:B.title)||I.marketId||I.market_id||"",side:I.side||I.type||"",size:I.amount||I.size||I.shares||"",price:I.price,pnl:0}});const N={};e.forEach(I=>{var B,W;const k=typeof I.market=="string"?I.market:((B=I.market)==null?void 0:B.question)||((W=I.market)==null?void 0:W.title)||I.marketId||I.market_id||"";N[k]||(N[k]={market:k,position:0,pnl:0,status:"Open"}),N[k].position+=Number(I.amount||I.size||I.shares||0)}),A=Object.values(N)}return{openPositions:A,tradeHistory:C}},[e]),_=m.length,y=s.length,v=g.length;function x(A,C={maximumFractionDigits:2}){return A==null||isNaN(A)?"":A.toLocaleString(void 0,C)}const b=({text:A,children:C})=>L.jsxs("span",{className:"relative group cursor-help",children:[C,L.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 hidden group-hover:block bg-slate-800 text-xs text-slate-100 px-2 py-1 rounded shadow-lg z-10 whitespace-nowrap",children:A})]}),M=z.useMemo(()=>{let A=0;return e.map((C,N)=>(A+=0,{date:C.created_at||C.createdAt||C.timestamp||N,pnl:A}))},[e]),w=z.useMemo(()=>{const A={};return e.forEach(C=>{const N=C.created_at||C.createdAt||C.timestamp,I=N?new Date(N).toLocaleDateString():"Unknown";A[I]=(A[I]||0)+Number(C.amount||C.size||C.shares||0)}),Object.entries(A).map(([C,N])=>({day:C,volume:N}))},[e]),E=()=>L.jsxs("div",{className:"w-full h-48 bg-slate-900/60 rounded mb-4 p-2",children:[L.jsx("h4",{className:"text-xs text-slate-400 mb-1",children:"PnL Over Time"}),L.jsx($R,{width:"100%",height:"90%",children:L.jsxs(Yge,{data:M,margin:{top:10,right:20,left:0,bottom:0},children:[L.jsx(rA,{strokeDasharray:"3 3",stroke:"#334155"}),L.jsx(Ff,{dataKey:"date",tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(zf,{tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(Ta,{contentStyle:{background:"#1e293b",border:"none",color:"#fff"}}),L.jsx(Rm,{type:"monotone",dataKey:"pnl",stroke:"#34d399",strokeWidth:2,dot:!1})]})})]}),P=()=>L.jsxs("div",{className:"w-full h-48 bg-slate-900/60 rounded mb-4 p-2",children:[L.jsx("h4",{className:"text-xs text-slate-400 mb-1",children:"Trade Volume Per Day"}),L.jsx($R,{width:"100%",height:"90%",children:L.jsxs(Kge,{data:w,margin:{top:10,right:20,left:0,bottom:0},children:[L.jsx(rA,{strokeDasharray:"3 3",stroke:"#334155"}),L.jsx(Ff,{dataKey:"day",tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(zf,{tick:{fontSize:10,fill:"#94a3b8"}}),L.jsx(Ta,{contentStyle:{background:"#1e293b",border:"none",color:"#fff"}}),L.jsx(Uu,{dataKey:"volume",fill:"#60a5fa"}),L.jsx(su,{})]})})]});return L.jsxs("section",{className:"card p-6 space-y-10 mt-6 shadow-2xl border border-slate-800 bg-gradient-to-b from-slate-900/80 to-slate-900/60",children:[L.jsx("h2",{className:"text-lg font-semibold text-white",children:"Trader Dashboard"}),L.jsxs("p",{className:"text-sm text-slate-400 mb-4",children:["Portfolio and PnL for ",L.jsx("span",{className:"font-mono",children:t})]}),L.jsxs("div",{className:"flex flex-wrap gap-6 mb-2",children:[L.jsx(b,{text:"Total realized and unrealized profit/loss",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:`text-2xl font-bold ${a!==null&&a<0?"text-rose-400":"text-emerald-400"}`,children:x(a)}),L.jsx("span",{className:"text-xs text-slate-400",children:"Total PnL"})]})}),L.jsx(b,{text:"Number of markets with open positions",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:_}),L.jsx("span",{className:"text-xs text-slate-400",children:"Open Positions"})]})}),L.jsx(b,{text:"Current total portfolio value (USD)",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:x(r,{style:"currency",currency:"USD",maximumFractionDigits:2})}),L.jsx("span",{className:"text-xs text-slate-400",children:"Portfolio Value"})]})}),L.jsx(b,{text:"Number of open orders",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:y}),L.jsx("span",{className:"text-xs text-slate-400",children:"Open Orders"})]})}),L.jsx(b,{text:"Number of trades in history",children:L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx("span",{className:"text-2xl font-bold",children:v}),L.jsx("span",{className:"text-xs text-slate-400",children:"Trade History"})]})})]}),L.jsx(E,{}),L.jsx(P,{}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Open Positions"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm mb-4 border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Position"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"PnL"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),L.jsx("tbody",{children:m.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.position}),L.jsx("td",{className:`px-3 py-2 text-right font-semibold ${A.pnl>=0?"text-emerald-400":"text-rose-400"}`,children:A.pnl}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.status})]},C))})]})})]}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Open Orders"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm mb-4 border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Status"})]})}),L.jsx("tbody",{children:s.length===0?L.jsx("tr",{children:L.jsx("td",{colSpan:5,className:"text-center text-slate-500 py-2",children:"No open orders"})}):s.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.size}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.price}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.status})]},C))})]})})]}),L.jsx("hr",{className:"border-slate-800 my-2"}),L.jsxs("div",{children:[L.jsx("h3",{className:"font-semibold text-slate-200 mb-2",children:"Trade History"}),L.jsx("div",{className:"overflow-x-auto max-h-64",children:L.jsxs("table",{className:"min-w-full text-sm border-separate border-spacing-y-1",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-slate-400 bg-slate-800",children:[L.jsx("th",{className:"px-3 py-2 text-left",children:"Date"}),L.jsx("th",{className:"px-3 py-2 text-left",children:"Market"}),L.jsx("th",{className:"px-3 py-2 text-center",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"PnL"})]})}),L.jsx("tbody",{children:g.length===0?L.jsx("tr",{children:L.jsx("td",{colSpan:6,className:"text-center text-slate-500 py-2",children:"No trade history"})}):g.map((A,C)=>L.jsxs("tr",{className:"text-slate-100 even:bg-slate-900/60",children:[L.jsx("td",{className:"px-3 py-2",children:typeof A.date=="number"?new Date(A.date).toLocaleString():A.date}),L.jsx("td",{className:"px-3 py-2",children:A.market}),L.jsx("td",{className:"px-3 py-2 text-center",children:A.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.size}),L.jsx("td",{className:"px-3 py-2 text-right",children:A.price}),L.jsx("td",{className:`px-3 py-2 text-right font-semibold ${A.pnl>=0?"text-emerald-400":"text-rose-400"}`,children:A.pnl})]},C))})]})})]}),u&&L.jsx("div",{className:"text-slate-400 text-center",children:"Loading"}),f&&L.jsx("div",{className:"text-rose-400 text-center",children:f})]})}function Jge(t){if(t===null)return"";const e=Math.abs(t);return e>=1e9?`${t<0?"-":""}$${(e/1e9).toFixed(1)}B`:e>=1e6?`${t<0?"-":""}$${(e/1e6).toFixed(1)}M`:e>=1e3?`${t<0?"-":""}$${(e/1e3).toFixed(1)}K`:`${t<0?"-":""}$${e.toFixed(0)}`}function Qge({value:t,onChange:e,onSubmit:n,suggestions:r,selectedAddress:i=null,isSearching:a=!1,searchError:o=null}){const[s,l]=z.useState(!1),[u,c]=z.useState(null),f=z.useMemo(()=>{const x=t.trim().toLowerCase();if(x.length<2)return[];const b=Array.isArray(r)?r:[],M=new Map;return b.forEach(w=>{var I,k,B,W,$,H;if(!w||typeof w.address!="string")return;const E=w.address.toLowerCase();if(M.has(E))return;const P=((k=(I=w.displayName)==null?void 0:I.toLowerCase)==null?void 0:k.call(I))??"",A=((W=(B=w.username)==null?void 0:B.toLowerCase)==null?void 0:W.call(B))??"",C=((H=($=w.pseudonym)==null?void 0:$.toLowerCase)==null?void 0:H.call($))??"";(P.includes(x)||A.includes(x)||C.includes(x)||E.includes(x))&&M.set(E,w)}),Array.from(M.values()).slice(0,12)},[r,t]);z.useEffect(()=>{c(null)},[t,f.length]);const p=x=>{e(x.address),n(x.address),l(!1),c(null)},m=x=>{if(["ArrowDown","ArrowUp","Enter","Escape"].includes(x.key)){if(x.key==="Escape"){l(!1),c(null);return}if(x.key==="Enter"){if(x.preventDefault(),u!==null&&f[u]){p(f[u]);return}n(t),l(!1);return}x.preventDefault(),f.length&&(l(!0),c(b=>b===null?x.key==="ArrowDown"?0:f.length-1:x.key==="ArrowDown"?(b+1)%f.length:x.key==="ArrowUp"?(b-1+f.length)%f.length:b))}},g=x=>{if(x.preventDefault(),u!==null&&f[u]){p(f[u]);return}n(t),l(!1)},y=t.trim().length>=2,v=s&&y;return L.jsxs("form",{onSubmit:g,className:"relative z-[200] group flex flex-col gap-3",children:[L.jsxs("div",{className:"relative flex flex-col gap-3 md:flex-row md:items-center md:gap-4",children:[L.jsxs("div",{className:"relative flex-1",children:[L.jsx("input",{type:"text",value:t,onChange:x=>{const b=x.target.value;e(b),s||l(!0)},onFocus:()=>l(!0),onBlur:()=>setTimeout(()=>l(!1),120),onKeyDown:m,placeholder:"Search by wallet or username",className:"w-full rounded-2xl border border-slate-700/70 bg-slate-900/80 px-5 py-4 text-base text-white placeholder:text-slate-500 focus:border-primary focus:outline-none focus:ring-4 focus:ring-primary/40"}),v&&L.jsx("div",{className:"absolute left-0 right-0 top-full z-[210] mt-2 overflow-hidden rounded-2xl border border-slate-700/60 bg-slate-950/95 shadow-xl shadow-slate-950/40 backdrop-blur",children:f.length>0?L.jsxs(L.Fragment,{children:[L.jsx("ul",{className:"divide-y divide-slate-800/60",children:f.map((x,b)=>{const M=b===u,w=i?x.address===i:!1,E=(x.displayName||x.address).toLowerCase(),P=Number.isFinite(Number(x.rank))?Number(x.rank):null,A=x.username&&x.username.toLowerCase()!==E?x.username:null,C=x.pseudonym&&x.pseudonym.toLowerCase()!==E&&(!A||x.pseudonym.toLowerCase()!==A.toLowerCase())?x.pseudonym:null;return L.jsx("li",{children:L.jsxs("button",{type:"button",onMouseDown:N=>N.preventDefault(),onClick:()=>p(x),className:`flex w-full flex-col gap-1 px-4 py-3 text-left transition ${M?"bg-primary/15 text-white":w?"bg-slate-900/80 text-white":"bg-transparent text-slate-200 hover:bg-slate-900/60"}`,children:[L.jsxs("div",{className:"flex items-center justify-between gap-3",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[x.avatarUrl&&L.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-full border border-slate-800 bg-slate-900",children:L.jsx("img",{src:x.avatarUrl,alt:`${x.displayName} avatar`,className:"h-full w-full object-cover",loading:"lazy"})}),L.jsxs("div",{className:"flex flex-col",children:[L.jsx("span",{className:"text-sm font-medium text-slate-200",children:x.displayName}),A&&L.jsxs("span",{className:"text-xs text-slate-400",children:["@",A]})]})]}),L.jsxs("div",{className:"flex flex-col items-end gap-1 text-right",children:[P!==null&&L.jsxs("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:["#",P]}),L.jsx("span",{className:`text-xs font-semibold ${x.pnl===null?"text-slate-400":x.pnl>=0?"text-emerald-300":"text-rose-300"}`,children:Jge(x.pnl)})]})]}),L.jsxs("div",{className:"flex flex-col gap-0.5",children:[C&&L.jsxs("span",{className:"text-xs text-slate-400",children:["AKA ",C]}),L.jsx("span",{className:"text-xs text-slate-500 break-all",children:x.address})]})]})},x.address)})}),o&&L.jsx("div",{className:"border-t border-slate-800/50 px-4 py-2 text-xs text-rose-300",children:"Trader lookup is temporarily unavailable."})]}):L.jsxs("div",{className:"space-y-1 px-4 py-3 text-sm text-slate-400",children:[L.jsx("p",{children:a?"Searching traders":o?"Trader lookup is temporarily unavailable.":"No users found."}),o&&L.jsx("p",{className:"text-xs text-rose-300",children:"Try again in a few moments or paste a wallet address directly."})]})})]}),L.jsx("button",{type:"submit",className:"inline-flex items-center justify-center rounded-2xl bg-primary px-6 py-4 text-sm font-semibold text-white shadow-lg shadow-primary/20 transition hover:bg-primary/90",children:"Track trader"})]}),L.jsx("p",{className:"text-sm text-slate-400",children:"Paste a Polymarket wallet or start typing to search for traders."})]})}/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Z_="183",eve={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},tve={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},v5=0,mA=1,y5=2,nve=3,x5=0,cf=1,Vh=2,tu=3,ts=0,Yr=1,ro=2,fo=0,cu=1,gA=2,vA=3,yA=4,_5=5,rve=6,Ns=100,b5=101,S5=102,w5=103,M5=104,E5=200,A5=201,T5=202,P5=203,Q0=204,ex=205,C5=206,O5=207,I5=208,R5=209,N5=210,L5=211,D5=212,k5=213,U5=214,tx=0,nx=1,rx=2,Mu=3,ix=4,ax=5,ox=6,sx=7,Nm=0,F5=1,B5=2,ua=0,VP=1,HP=2,GP=3,J_=4,WP=5,XP=6,qP=7,xA="attached",z5="detached",Q_=300,po=301,tl=302,Hh=303,Gh=304,pd=306,tm=1e3,fi=1001,nm=1002,zn=1003,YP=1004,ive=1004,Kc=1005,ave=1005,dn=1006,Wh=1007,ove=1007,ao=1008,sve=1008,Gr=1009,KP=1010,ZP=1011,Vf=1012,eb=1013,ha=1014,kr=1015,Ba=1016,tb=1017,nb=1018,Hf=1020,JP=35902,QP=35899,eC=1021,tC=1022,Ur=1023,mo=1026,Fs=1027,rb=1028,Lm=1029,Eu=1030,ib=1031,lve=1032,ab=1033,Xh=33776,qh=33777,Yh=33778,Kh=33779,lx=35840,ux=35841,cx=35842,fx=35843,dx=36196,hx=37492,px=37496,mx=37488,gx=37489,vx=37490,yx=37491,xx=37808,_x=37809,bx=37810,Sx=37811,wx=37812,Mx=37813,Ex=37814,Ax=37815,Tx=37816,Px=37817,Cx=37818,Ox=37819,Ix=37820,Rx=37821,Nx=36492,Lx=36494,Dx=36495,kx=36283,Ux=36284,Fx=36285,Bx=36286,j5=2200,$5=2201,V5=2202,rm=2300,zx=2301,Ey=2302,_A=2303,nu=2400,ru=2401,im=2402,ob=2500,nC=2501,uve=0,cve=1,fve=2,H5=3200,dve=3201,hve=3202,pve=3203,hl=0,G5=1,Do="",oi="srgb",Au="srgb-linear",am="linear",tn="srgb",mve="",gve="rg",vve="ga",yve=0,Wl=7680,xve=7681,_ve=7682,bve=7683,Sve=34055,wve=34056,Mve=5386,Eve=512,Ave=513,Tve=514,Pve=515,Cve=516,Ove=517,Ive=518,bA=519,W5=512,X5=513,q5=514,sb=515,Y5=516,K5=517,lb=518,Z5=519,om=35044,Rve=35048,Nve=35040,Lve=35045,Dve=35049,kve=35041,Uve=35046,Fve=35050,Bve=35042,zve="100",SA="300 es",Ri=2e3,Tu=2001,jve={COMPUTE:"compute",RENDER:"render"},$ve={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Vve={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},Hve={TEXTURE_COMPARE:"depthTextureCompare"};function Gve(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Wve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Zc(t,e){return new Wve[t](e)}function J5(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Q5(){const t=sm("canvas");return t.style.display="block",t}const SL={};let nl=null;function Xve(t){nl=t}function qve(){return nl}function lm(...t){const e="THREE."+t.shift();nl?nl("log",e,...t):console.log(e,...t)}function ej(t){const e=t[0];if(typeof e=="string"&&e.startsWith("TSL:")){const n=t[1];n&&n.isStackTrace?t[0]+=" "+n.getLocation():t[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return t}function We(...t){t=ej(t);const e="THREE."+t.shift();if(nl)nl("warn",e,...t);else{const n=t[0];n&&n.isStackTrace?console.warn(n.getError(e)):console.warn(e,...t)}}function mt(...t){t=ej(t);const e="THREE."+t.shift();if(nl)nl("error",e,...t);else{const n=t[0];n&&n.isStackTrace?console.error(n.getError(e)):console.error(e,...t)}}function um(...t){const e=t.join(" ");e in SL||(SL[e]=!0,We(...t))}function Yve(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}const Kve={[tx]:nx,[rx]:ox,[ix]:sx,[Mu]:ax,[nx]:tx,[ox]:rx,[sx]:ix,[ax]:Mu};class vo{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}const Cr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let wL=1234567;const fu=Math.PI/180,Gf=180/Math.PI;function Li(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Cr[t&255]+Cr[t>>8&255]+Cr[t>>16&255]+Cr[t>>24&255]+"-"+Cr[e&255]+Cr[e>>8&255]+"-"+Cr[e>>16&15|64]+Cr[e>>24&255]+"-"+Cr[n&63|128]+Cr[n>>8&255]+"-"+Cr[n>>16&255]+Cr[n>>24&255]+Cr[r&255]+Cr[r>>8&255]+Cr[r>>16&255]+Cr[r>>24&255]).toLowerCase()}function St(t,e,n){return Math.max(e,Math.min(n,t))}function rC(t,e){return(t%e+e)%e}function Zve(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Jve(t,e,n){return t!==e?(n-t)/(e-t):0}function Zh(t,e,n){return(1-n)*t+n*e}function Qve(t,e,n,r){return Zh(t,e,1-Math.exp(-n*r))}function eye(t,e=1){return e-Math.abs(rC(t,e*2)-e)}function tye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function nye(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function rye(t,e){return t+Math.floor(Math.random()*(e-t+1))}function iye(t,e){return t+Math.random()*(e-t)}function aye(t){return t*(.5-Math.random())}function oye(t){t!==void 0&&(wL=t);let e=wL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sye(t){return t*fu}function lye(t){return t*Gf}function uye(t){return(t&t-1)===0&&t!==0}function cye(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function fye(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function dye(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),c=o((e+r)/2),f=a((e-r)/2),p=o((e-r)/2),m=a((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*p,s*u);break;case"YZY":t.set(l*p,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*p,s*c,s*u);break;case"XZX":t.set(s*c,l*g,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*g,s*u);break;case"ZYZ":t.set(l*g,l*m,s*c,s*u);break;default:We("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Wr(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ct(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const hye={DEG2RAD:fu,RAD2DEG:Gf,generateUUID:Li,clamp:St,euclideanModulo:rC,mapLinear:Zve,inverseLerp:Jve,lerp:Zh,damp:Qve,pingpong:eye,smoothstep:tye,smootherstep:nye,randInt:rye,randFloat:iye,randFloatSpread:aye,seededRandom:oye,degToRad:sye,radToDeg:lye,isPowerOfTwo:uye,ceilPowerOfTwo:cye,floorPowerOfTwo:fye,setQuaternionFromProperEuler:dye,normalize:Ct,denormalize:Wr};class Ee{constructor(e=0,n=0){Ee.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Kr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3],p=a[o+0],m=a[o+1],g=a[o+2],_=a[o+3];if(f!==_||l!==p||u!==m||c!==g){let y=l*p+u*m+c*g+f*_;y<0&&(p=-p,m=-m,g=-g,_=-_,y=-y);let v=1-s;if(y<.9995){const x=Math.acos(y),b=Math.sin(x);v=Math.sin(v*x)/b,s=Math.sin(s*x)/b,l=l*v+p*s,u=u*v+m*s,c=c*v+g*s,f=f*v+_*s}else{l=l*v+p*s,u=u*v+m*s,c=c*v+g*s,f=f*v+_*s;const x=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=x,u*=x,c*=x,f*=x}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[o],p=a[o+1],m=a[o+2],g=a[o+3];return e[n]=s*g+c*f+l*m-u*p,e[n+1]=l*g+c*p+u*f-s*m,e[n+2]=u*g+c*m+s*p-l*f,e[n+3]=c*g-s*f-l*p-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(a/2),p=l(r/2),m=l(i/2),g=l(a/2);switch(o){case"XYZ":this._x=p*c*f+u*m*g,this._y=u*m*f-p*c*g,this._z=u*c*g+p*m*f,this._w=u*c*f-p*m*g;break;case"YXZ":this._x=p*c*f+u*m*g,this._y=u*m*f-p*c*g,this._z=u*c*g-p*m*f,this._w=u*c*f+p*m*g;break;case"ZXY":this._x=p*c*f-u*m*g,this._y=u*m*f+p*c*g,this._z=u*c*g+p*m*f,this._w=u*c*f-p*m*g;break;case"ZYX":this._x=p*c*f-u*m*g,this._y=u*m*f+p*c*g,this._z=u*c*g-p*m*f,this._w=u*c*f+p*m*g;break;case"YZX":this._x=p*c*f+u*m*g,this._y=u*m*f+p*c*g,this._z=u*c*g-p*m*f,this._w=u*c*f-p*m*g;break;case"XZY":this._x=p*c*f-u*m*g,this._y=u*m*f-p*c*g,this._z=u*c*g+p*m*f,this._w=u*c*f+p*m*g;break;default:We("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],p=r+s+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(c-l)*m,this._y=(a-u)*m,this._z=(o-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(a+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(a-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(o-i)/m,this._x=(a+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(St(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*s+i*u-a*l,this._y=i*c+o*l+a*s-r*u,this._z=a*c+o*u+r*l-i*s,this._w=o*c-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){let r=e._x,i=e._y,a=e._z,o=e._w,s=this.dot(e);s<0&&(r=-r,i=-i,a=-a,o=-o,s=-s);let l=1-n;if(s<.9995){const u=Math.acos(s),c=Math.sin(u);l=Math.sin(l*u)/c,n=Math.sin(n*u)/c,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+a*n,this._w=this._w*l+o*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,n=0,r=0){X.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(ML.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(ML.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),c=2*(s*n-a*i),f=2*(a*r-o*n);return this.x=n+l*u+o*f-s*c,this.y=r+l*c+s*u-a*f,this.z=i+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this.z=St(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this.z=St(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return G1.copy(this).projectOnVector(e),this.sub(G1)}reflect(e){return this.sub(G1.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(St(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const G1=new X,ML=new Kr;class Pt{constructor(e,n,r,i,a,o,s,l,u){Pt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=a,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],p=r[2],m=r[5],g=r[8],_=i[0],y=i[3],v=i[6],x=i[1],b=i[4],M=i[7],w=i[2],E=i[5],P=i[8];return a[0]=o*_+s*x+l*w,a[3]=o*y+s*b+l*E,a[6]=o*v+s*M+l*P,a[1]=u*_+c*x+f*w,a[4]=u*y+c*b+f*E,a[7]=u*v+c*M+f*P,a[2]=p*_+m*x+g*w,a[5]=p*y+m*b+g*E,a[8]=p*v+m*M+g*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*s*u-r*a*c+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,p=s*l-c*a,m=u*a-o*l,g=n*f+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/g;return e[0]=f*_,e[1]=(i*u-c*r)*_,e[2]=(s*r-i*o)*_,e[3]=p*_,e[4]=(c*n-i*l)*_,e[5]=(i*a-s*n)*_,e[6]=m*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*a)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(W1.makeScale(e,n)),this}rotate(e){return this.premultiply(W1.makeRotation(-e)),this}translate(e,n){return this.premultiply(W1.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const W1=new Pt,EL=new Pt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),AL=new Pt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function pye(){const t={enabled:!0,workingColorSpace:Au,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===tn&&(i.r=Wo(i.r),i.g=Wo(i.g),i.b=Wo(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===tn&&(i.r=ff(i.r),i.g=ff(i.g),i.b=ff(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Do?am:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return um("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return um("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Au]:{primaries:e,whitePoint:r,transfer:am,toXYZ:EL,fromXYZ:AL,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:oi},outputColorSpaceConfig:{drawingBufferColorSpace:oi}},[oi]:{primaries:e,whitePoint:r,transfer:tn,toXYZ:EL,fromXYZ:AL,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:oi}}}),t}const zt=pye();function Wo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ff(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let uc;class tj{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{uc===void 0&&(uc=sm("canvas")),uc.width=e.width,uc.height=e.height;const i=uc.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=uc}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=sm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Wo(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Wo(n[r]/255)*255):n[r]=Wo(n[r]);return{data:n,width:e.width,height:e.height}}else return We("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let mye=0;class Bs{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:mye++}),this.uuid=Li(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):typeof VideoFrame<"u"&&n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(X1(i[o].image)):a.push(X1(i[o]))}else a=X1(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function X1(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?tj.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(We("Texture: Unable to serialize Texture."),{})}let gye=0;const q1=new X;class Cn extends vo{constructor(e=Cn.DEFAULT_IMAGE,n=Cn.DEFAULT_MAPPING,r=fi,i=fi,a=dn,o=ao,s=Ur,l=Gr,u=Cn.DEFAULT_ANISOTROPY,c=Do){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:gye++}),this.uuid=Li(),this.name="",this.source=new Bs(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new Ee(0,0),this.repeat=new Ee(1,1),this.center=new Ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(q1).x}get height(){return this.source.getSize(q1).y}get depth(){return this.source.getSize(q1).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){We(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){We(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Q_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tm:e.x=e.x-Math.floor(e.x);break;case fi:e.x=e.x<0?0:1;break;case nm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case tm:e.y=e.y-Math.floor(e.y);break;case fi:e.y=e.y<0?0:1;break;case nm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Cn.DEFAULT_IMAGE=null;Cn.DEFAULT_MAPPING=Q_;Cn.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,n=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],p=l[1],m=l[5],g=l[9],_=l[2],y=l[6],v=l[10];if(Math.abs(c-p)<.01&&Math.abs(f-_)<.01&&Math.abs(g-y)<.01){if(Math.abs(c+p)<.1&&Math.abs(f+_)<.1&&Math.abs(g+y)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const b=(u+1)/2,M=(m+1)/2,w=(v+1)/2,E=(c+p)/4,P=(f+_)/4,A=(g+y)/4;return b>M&&b>w?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=E/r,a=P/r):M>w?M<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),r=E/i,a=A/i):w<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(w),r=P/a,i=A/a),this.set(r,i,a,n),this}let x=Math.sqrt((y-g)*(y-g)+(f-_)*(f-_)+(p-c)*(p-c));return Math.abs(x)<.001&&(x=1),this.x=(y-g)/x,this.y=(f-_)/x,this.z=(p-c)/x,this.w=Math.acos((u+m+v-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=St(this.x,e.x,n.x),this.y=St(this.y,e.y,n.y),this.z=St(this.z,e.z,n.z),this.w=St(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=St(this.x,e,n),this.y=St(this.y,e,n),this.z=St(this.z,e,n),this.w=St(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(St(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iC extends vo{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:dn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new cn(0,0,e,n),this.scissorTest=!1,this.viewport=new cn(0,0,e,n),this.textures=[];const i={width:e,height:n,depth:r.depth},a=new Cn(i),o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:dn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Bs(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class mi extends iC{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class ub extends Cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class vye extends mi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new ub(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class cb extends Cn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=zn,this.minFilter=zn,this.wrapR=fi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class yye extends mi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new cb(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class wt{constructor(e,n,r,i,a,o,s,l,u,c,f,p,m,g,_,y){wt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,c,f,p,m,g,_,y)}set(e,n,r,i,a,o,s,l,u,c,f,p,m,g,_,y){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=a,v[5]=o,v[9]=s,v[13]=l,v[2]=u,v[6]=c,v[10]=f,v[14]=p,v[3]=m,v[7]=g,v[11]=_,v[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new wt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return this.determinant()===0?(e.set(1,0,0),n.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const n=this.elements,r=e.elements,i=1/cc.setFromMatrixColumn(e,0).length(),a=1/cc.setFromMatrixColumn(e,1).length(),o=1/cc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const p=o*c,m=o*f,g=s*c,_=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=p-_*u,n[9]=-s*l,n[2]=_-p*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const p=l*c,m=l*f,g=u*c,_=u*f;n[0]=p+_*s,n[4]=g*s-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-s,n[2]=m*s-g,n[6]=_+p*s,n[10]=o*l}else if(e.order==="ZXY"){const p=l*c,m=l*f,g=u*c,_=u*f;n[0]=p-_*s,n[4]=-o*f,n[8]=g+m*s,n[1]=m+g*s,n[5]=o*c,n[9]=_-p*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const p=o*c,m=o*f,g=s*c,_=s*f;n[0]=l*c,n[4]=g*u-m,n[8]=p*u+_,n[1]=l*f,n[5]=_*u+p,n[9]=m*u-g,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*u,g=s*l,_=s*u;n[0]=l*c,n[4]=_-p*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*f+g,n[10]=p-_*f}else if(e.order==="XZY"){const p=o*l,m=o*u,g=s*l,_=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=p*f+_,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=s*c,n[10]=_*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xye,e,_ye)}lookAt(e,n,r){const i=this.elements;return wi.subVectors(e,n),wi.lengthSq()===0&&(wi.z=1),wi.normalize(),xs.crossVectors(r,wi),xs.lengthSq()===0&&(Math.abs(r.z)===1?wi.x+=1e-4:wi.z+=1e-4,wi.normalize(),xs.crossVectors(r,wi)),xs.normalize(),vv.crossVectors(wi,xs),i[0]=xs.x,i[4]=vv.x,i[8]=wi.x,i[1]=xs.y,i[5]=vv.y,i[9]=wi.y,i[2]=xs.z,i[6]=vv.z,i[10]=wi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],p=r[9],m=r[13],g=r[2],_=r[6],y=r[10],v=r[14],x=r[3],b=r[7],M=r[11],w=r[15],E=i[0],P=i[4],A=i[8],C=i[12],N=i[1],I=i[5],k=i[9],B=i[13],W=i[2],$=i[6],H=i[10],V=i[14],U=i[3],j=i[7],Y=i[11],Z=i[15];return a[0]=o*E+s*N+l*W+u*U,a[4]=o*P+s*I+l*$+u*j,a[8]=o*A+s*k+l*H+u*Y,a[12]=o*C+s*B+l*V+u*Z,a[1]=c*E+f*N+p*W+m*U,a[5]=c*P+f*I+p*$+m*j,a[9]=c*A+f*k+p*H+m*Y,a[13]=c*C+f*B+p*V+m*Z,a[2]=g*E+_*N+y*W+v*U,a[6]=g*P+_*I+y*$+v*j,a[10]=g*A+_*k+y*H+v*Y,a[14]=g*C+_*B+y*V+v*Z,a[3]=x*E+b*N+M*W+w*U,a[7]=x*P+b*I+M*$+w*j,a[11]=x*A+b*k+M*H+w*Y,a[15]=x*C+b*B+M*V+w*Z,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],p=e[10],m=e[14],g=e[3],_=e[7],y=e[11],v=e[15],x=l*m-u*p,b=s*m-u*f,M=s*p-l*f,w=o*m-u*c,E=o*p-l*c,P=o*f-s*c;return n*(_*x-y*b+v*M)-r*(g*x-y*w+v*E)+i*(g*b-_*w+v*P)-a*(g*M-_*E+y*P)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],p=e[10],m=e[11],g=e[12],_=e[13],y=e[14],v=e[15],x=n*s-r*o,b=n*l-i*o,M=n*u-a*o,w=r*l-i*s,E=r*u-a*s,P=i*u-a*l,A=c*_-f*g,C=c*y-p*g,N=c*v-m*g,I=f*y-p*_,k=f*v-m*_,B=p*v-m*y,W=x*B-b*k+M*I+w*N-E*C+P*A;if(W===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const $=1/W;return e[0]=(s*B-l*k+u*I)*$,e[1]=(i*k-r*B-a*I)*$,e[2]=(_*P-y*E+v*w)*$,e[3]=(p*E-f*P-m*w)*$,e[4]=(l*N-o*B-u*C)*$,e[5]=(n*B-i*N+a*C)*$,e[6]=(y*M-g*P-v*b)*$,e[7]=(c*P-p*M+m*b)*$,e[8]=(o*k-s*N+u*A)*$,e[9]=(r*N-n*k-a*A)*$,e[10]=(g*E-_*M+v*x)*$,e[11]=(f*M-c*E-m*x)*$,e[12]=(s*C-o*I-l*A)*$,e[13]=(n*I-r*C+i*A)*$,e[14]=(_*b-g*w-y*x)*$,e[15]=(c*w-f*b+p*x)*$,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*o,0,u*l-i*s,c*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,c=o+o,f=s+s,p=a*u,m=a*c,g=a*f,_=o*c,y=o*f,v=s*f,x=l*u,b=l*c,M=l*f,w=r.x,E=r.y,P=r.z;return i[0]=(1-(_+v))*w,i[1]=(m+M)*w,i[2]=(g-b)*w,i[3]=0,i[4]=(m-M)*E,i[5]=(1-(p+v))*E,i[6]=(y+x)*E,i[7]=0,i[8]=(g+b)*P,i[9]=(y-x)*P,i[10]=(1-(p+_))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;e.x=i[12],e.y=i[13],e.z=i[14];const a=this.determinant();if(a===0)return r.set(1,1,1),n.identity(),this;let o=cc.set(i[0],i[1],i[2]).length();const s=cc.set(i[4],i[5],i[6]).length(),l=cc.set(i[8],i[9],i[10]).length();a<0&&(o=-o),Sa.copy(this);const u=1/o,c=1/s,f=1/l;return Sa.elements[0]*=u,Sa.elements[1]*=u,Sa.elements[2]*=u,Sa.elements[4]*=c,Sa.elements[5]*=c,Sa.elements[6]*=c,Sa.elements[8]*=f,Sa.elements[9]*=f,Sa.elements[10]*=f,n.setFromRotationMatrix(Sa),r.x=o,r.y=s,r.z=l,this}makePerspective(e,n,r,i,a,o,s=Ri,l=!1){const u=this.elements,c=2*a/(n-e),f=2*a/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let g,_;if(l)g=a/(o-a),_=o*a/(o-a);else if(s===Ri)g=-(o+a)/(o-a),_=-2*o*a/(o-a);else if(s===Tu)g=-o/(o-a),_=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=f,u[9]=m,u[13]=0,u[2]=0,u[6]=0,u[10]=g,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=Ri,l=!1){const u=this.elements,c=2/(n-e),f=2/(r-i),p=-(n+e)/(n-e),m=-(r+i)/(r-i);let g,_;if(l)g=1/(o-a),_=o/(o-a);else if(s===Ri)g=-2/(o-a),_=-(o+a)/(o-a);else if(s===Tu)g=-1/(o-a),_=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return u[0]=c,u[4]=0,u[8]=0,u[12]=p,u[1]=0,u[5]=f,u[9]=0,u[13]=m,u[2]=0,u[6]=0,u[10]=g,u[14]=_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const cc=new X,Sa=new wt,xye=new X(0,0,0),_ye=new X(1,1,1),xs=new X,vv=new X,wi=new X,TL=new wt,PL=new Kr;class Ui{constructor(e=0,n=0,r=0,i=Ui.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(St(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-St(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(St(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-St(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(St(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-St(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,m),this._y=0);break;default:We("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return TL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(TL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return PL.setFromEuler(this),this.setFromQuaternion(PL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ui.DEFAULT_ORDER="XYZ";class du{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let bye=0;const CL=new X,fc=new Kr,To=new wt,yv=new X,oh=new X,Sye=new X,wye=new Kr,OL=new X(1,0,0),IL=new X(0,1,0),RL=new X(0,0,1),NL={type:"added"},Mye={type:"removed"},dc={type:"childadded",child:null},Y1={type:"childremoved",child:null};class Wt extends vo{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bye++}),this.uuid=Li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wt.DEFAULT_UP.clone();const e=new X,n=new Ui,r=new Kr,i=new X(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new wt},normalMatrix:{value:new Pt}}),this.matrix=new wt,this.matrixWorld=new wt,this.matrixAutoUpdate=Wt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new du,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return fc.setFromAxisAngle(e,n),this.quaternion.multiply(fc),this}rotateOnWorldAxis(e,n){return fc.setFromAxisAngle(e,n),this.quaternion.premultiply(fc),this}rotateX(e){return this.rotateOnAxis(OL,e)}rotateY(e){return this.rotateOnAxis(IL,e)}rotateZ(e){return this.rotateOnAxis(RL,e)}translateOnAxis(e,n){return CL.copy(e).applyQuaternion(this.quaternion),this.position.add(CL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(OL,e)}translateY(e){return this.translateOnAxis(IL,e)}translateZ(e){return this.translateOnAxis(RL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(To.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?yv.copy(e):yv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),oh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?To.lookAt(oh,yv,this.up):To.lookAt(yv,oh,this.up),this.quaternion.setFromRotationMatrix(To),i&&(To.extractRotation(i.matrixWorld),fc.setFromRotationMatrix(To),this.quaternion.premultiply(fc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(mt("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(NL),dc.child=e,this.dispatchEvent(dc),dc.child=null):mt("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Mye),Y1.child=e,this.dispatchEvent(Y1),Y1.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),To.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),To.multiply(e.parent.matrixWorld)),e.applyMatrix4(To),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(NL),dc.child=e,this.dispatchEvent(dc),dc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,e,Sye),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(oh,wye,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const n=e.x,r=e.y,i=e.z,a=this.matrix.elements;a[12]+=n-a[0]*n-a[4]*r-a[8]*i,a[13]+=r-a[1]*n-a[5]*r-a[9]*i,a[14]+=i-a[2]*n-a[6]*r-a[10]*i}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),this.static!==!1&&(i.static=this.static),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.pivot!==null&&(i.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(i.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(i.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>({...s,boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>({...s})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Wt.DEFAULT_UP=new X(0,1,0);Wt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Wt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class Jc extends Wt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Eye={type:"move"};class Ay{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Jc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Jc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Jc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const _ of e.hand.values()){const y=n.getJointPose(_,r),v=this._getHandJoint(u,_);y!==null&&(v.matrix.fromArray(y.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=y.radius),v.visible=y!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],p=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&p>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&p<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Eye)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Jc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const nj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_s={h:0,s:0,l:0},xv={h:0,s:0,l:0};function K1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class et{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=oi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,zt.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=zt.workingColorSpace){return this.r=e,this.g=n,this.b=r,zt.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=zt.workingColorSpace){if(e=rC(e,1),n=St(n,0,1),r=St(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=K1(o,a,e+1/3),this.g=K1(o,a,e),this.b=K1(o,a,e-1/3)}return zt.colorSpaceToWorking(this,i),this}setStyle(e,n=oi){function r(a){a!==void 0&&parseFloat(a)<1&&We("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:We("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);We("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=oi){const r=nj[e.toLowerCase()];return r!==void 0?this.setHex(r,n):We("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wo(e.r),this.g=Wo(e.g),this.b=Wo(e.b),this}copyLinearToSRGB(e){return this.r=ff(e.r),this.g=ff(e.g),this.b=ff(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=oi){return zt.workingToColorSpace(Or.copy(this),e),Math.round(St(Or.r*255,0,255))*65536+Math.round(St(Or.g*255,0,255))*256+Math.round(St(Or.b*255,0,255))}getHexString(e=oi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=zt.workingColorSpace){zt.workingToColorSpace(Or.copy(this),n);const r=Or.r,i=Or.g,a=Or.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=zt.workingColorSpace){return zt.workingToColorSpace(Or.copy(this),n),e.r=Or.r,e.g=Or.g,e.b=Or.b,e}getStyle(e=oi){zt.workingToColorSpace(Or.copy(this),e);const n=Or.r,r=Or.g,i=Or.b;return e!==oi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(_s),this.setHSL(_s.h+e,_s.s+n,_s.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(_s),e.getHSL(xv);const r=Zh(_s.h,xv.h,n),i=Zh(_s.s,xv.s,n),a=Zh(_s.l,xv.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Or=new et;et.NAMES=nj;class fb{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new et(e),this.density=n}clone(){return new fb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class db{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new et(e),this.near=n,this.far=r}clone(){return new db(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jx extends Wt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ui,this.environmentIntensity=1,this.environmentRotation=new Ui,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const wa=new X,Po=new X,Z1=new X,Co=new X,hc=new X,pc=new X,LL=new X,J1=new X,Q1=new X,ew=new X,tw=new cn,nw=new cn,rw=new cn;class li{constructor(e=new X,n=new X,r=new X){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),wa.subVectors(e,n),i.cross(wa);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){wa.subVectors(i,n),Po.subVectors(r,n),Z1.subVectors(e,n);const o=wa.dot(wa),s=wa.dot(Po),l=wa.dot(Z1),u=Po.dot(Po),c=Po.dot(Z1),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const p=1/f,m=(u*l-s*c)*p,g=(o*c-s*l)*p;return a.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Co)===null?!1:Co.x>=0&&Co.y>=0&&Co.x+Co.y<=1}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,Co)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Co.x),l.addScaledVector(o,Co.y),l.addScaledVector(s,Co.z),l)}static getInterpolatedAttribute(e,n,r,i,a,o){return tw.setScalar(0),nw.setScalar(0),rw.setScalar(0),tw.fromBufferAttribute(e,n),nw.fromBufferAttribute(e,r),rw.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(tw,a.x),o.addScaledVector(nw,a.y),o.addScaledVector(rw,a.z),o}static isFrontFacing(e,n,r,i){return wa.subVectors(r,n),Po.subVectors(e,n),wa.cross(Po).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wa.subVectors(this.c,this.b),Po.subVectors(this.a,this.b),wa.cross(Po).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return li.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return li.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return li.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return li.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return li.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;hc.subVectors(i,r),pc.subVectors(a,r),J1.subVectors(e,r);const l=hc.dot(J1),u=pc.dot(J1);if(l<=0&&u<=0)return n.copy(r);Q1.subVectors(e,i);const c=hc.dot(Q1),f=pc.dot(Q1);if(c>=0&&f<=c)return n.copy(i);const p=l*f-c*u;if(p<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(hc,o);ew.subVectors(e,a);const m=hc.dot(ew),g=pc.dot(ew);if(g>=0&&m<=g)return n.copy(a);const _=m*u-l*g;if(_<=0&&u>=0&&g<=0)return s=u/(u-g),n.copy(r).addScaledVector(pc,s);const y=c*g-m*f;if(y<=0&&f-c>=0&&m-g>=0)return LL.subVectors(a,i),s=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(LL,s);const v=1/(y+_+p);return o=_*v,s=p*v,n.copy(r).addScaledVector(hc,o).addScaledVector(pc,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class Fr{constructor(e=new X(1/0,1/0,1/0),n=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ma.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ma.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ma.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Ma):Ma.fromBufferAttribute(a,o),Ma.applyMatrix4(e.matrixWorld),this.expandByPoint(Ma);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),_v.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),_v.copy(r.boundingBox)),_v.applyMatrix4(e.matrixWorld),this.union(_v)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ma),Ma.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(sh),bv.subVectors(this.max,sh),mc.subVectors(e.a,sh),gc.subVectors(e.b,sh),vc.subVectors(e.c,sh),bs.subVectors(gc,mc),Ss.subVectors(vc,gc),Tl.subVectors(mc,vc);let n=[0,-bs.z,bs.y,0,-Ss.z,Ss.y,0,-Tl.z,Tl.y,bs.z,0,-bs.x,Ss.z,0,-Ss.x,Tl.z,0,-Tl.x,-bs.y,bs.x,0,-Ss.y,Ss.x,0,-Tl.y,Tl.x,0];return!iw(n,mc,gc,vc,bv)||(n=[1,0,0,0,1,0,0,0,1],!iw(n,mc,gc,vc,bv))?!1:(Sv.crossVectors(bs,Ss),n=[Sv.x,Sv.y,Sv.z],iw(n,mc,gc,vc,bv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ma).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ma).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Oo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Oo=[new X,new X,new X,new X,new X,new X,new X,new X],Ma=new X,_v=new Fr,mc=new X,gc=new X,vc=new X,bs=new X,Ss=new X,Tl=new X,sh=new X,bv=new X,Sv=new X,Pl=new X;function iw(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){Pl.fromArray(t,a);const s=i.x*Math.abs(Pl.x)+i.y*Math.abs(Pl.y)+i.z*Math.abs(Pl.z),l=e.dot(Pl),u=n.dot(Pl),c=r.dot(Pl);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const ko=Aye();function Aye(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function ai(t){Math.abs(t)>65504&&We("DataUtils.toHalfFloat(): Value out of range."),t=St(t,-65504,65504),ko.floatView[0]=t;const e=ko.uint32View[0],n=e>>23&511;return ko.baseTable[n]+((e&8388607)>>ko.shiftTable[n])}function Ah(t){const e=t>>10;return ko.uint32View[0]=ko.mantissaTable[ko.offsetTable[e]+(t&1023)]+ko.exponentTable[e],ko.floatView[0]}class Tye{static toHalfFloat(e){return ai(e)}static fromHalfFloat(e){return Ah(e)}}const Hn=new X,wv=new Ee;let Pye=0;class Qt{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Pye++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=om,this.updateRanges=[],this.gpuType=kr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)wv.fromBufferAttribute(this,n),wv.applyMatrix3(e),this.setXY(n,wv.x,wv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix3(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyMatrix4(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.applyNormalMatrix(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Hn.fromBufferAttribute(this,n),Hn.transformDirection(e),this.setXYZ(n,Hn.x,Hn.y,Hn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Wr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ct(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Wr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Wr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Wr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Wr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==om&&(e.usage=this.usage),e}}class Cye extends Qt{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Oye extends Qt{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Iye extends Qt{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Rye extends Qt{constructor(e,n,r){super(new Int16Array(e),n,r)}}class aC extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Nye extends Qt{constructor(e,n,r){super(new Int32Array(e),n,r)}}class oC extends Qt{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Lye extends Qt{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Ah(this.array[e*this.itemSize]);return this.normalized&&(n=Wr(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize]=ai(n),this}getY(e){let n=Ah(this.array[e*this.itemSize+1]);return this.normalized&&(n=Wr(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+1]=ai(n),this}getZ(e){let n=Ah(this.array[e*this.itemSize+2]);return this.normalized&&(n=Wr(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+2]=ai(n),this}getW(e){let n=Ah(this.array[e*this.itemSize+3]);return this.normalized&&(n=Wr(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.array[e*this.itemSize+3]=ai(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.array[e+0]=ai(n),this.array[e+1]=ai(r),this.array[e+2]=ai(i),this.array[e+3]=ai(a),this}}class at extends Qt{constructor(e,n,r){super(new Float32Array(e),n,r)}}const Dye=new Fr,lh=new X,aw=new X;class _r{constructor(e=new X,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Dye.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;lh.subVectors(e,this.center);const n=lh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(lh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(aw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(lh.copy(e.center).add(aw)),this.expandByPoint(lh.copy(e.center).sub(aw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let kye=0;const ea=new wt,ow=new Wt,yc=new X,Mi=new Fr,uh=new Fr,ur=new X;class Et extends vo{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kye++}),this.uuid=Li(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Gve(e)?oC:aC)(e,1):this.index=e,this}setIndirect(e,n=0){return this.indirect=e,this.indirectOffset=n,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Pt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ea.makeRotationFromQuaternion(e),this.applyMatrix4(ea),this}rotateX(e){return ea.makeRotationX(e),this.applyMatrix4(ea),this}rotateY(e){return ea.makeRotationY(e),this.applyMatrix4(ea),this}rotateZ(e){return ea.makeRotationZ(e),this.applyMatrix4(ea),this}translate(e,n,r){return ea.makeTranslation(e,n,r),this.applyMatrix4(ea),this}scale(e,n,r){return ea.makeScale(e,n,r),this.applyMatrix4(ea),this}lookAt(e){return ow.lookAt(e),ow.updateMatrix(),this.applyMatrix4(ow.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(yc).negate(),this.translate(yc.x,yc.y,yc.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new at(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const a=e[i];n.setXYZ(i,a.x,a.y,a.z||0)}e.length>n.count&&We("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){mt("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];Mi.setFromBufferAttribute(a),this.morphTargetsRelative?(ur.addVectors(this.boundingBox.min,Mi.min),this.boundingBox.expandByPoint(ur),ur.addVectors(this.boundingBox.max,Mi.max),this.boundingBox.expandByPoint(ur)):(this.boundingBox.expandByPoint(Mi.min),this.boundingBox.expandByPoint(Mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&mt('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){mt("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const r=this.boundingSphere.center;if(Mi.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];uh.setFromBufferAttribute(s),this.morphTargetsRelative?(ur.addVectors(Mi.min,uh.min),Mi.expandByPoint(ur),ur.addVectors(Mi.max,uh.max),Mi.expandByPoint(ur)):(Mi.expandByPoint(uh.min),Mi.expandByPoint(uh.max))}Mi.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)ur.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(ur));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)ur.fromBufferAttribute(s,u),l&&(yc.fromBufferAttribute(e,u),ur.add(yc)),i=Math.max(i,r.distanceToSquared(ur))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&mt('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){mt("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qt(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let A=0;A<r.count;A++)s[A]=new X,l[A]=new X;const u=new X,c=new X,f=new X,p=new Ee,m=new Ee,g=new Ee,_=new X,y=new X;function v(A,C,N){u.fromBufferAttribute(r,A),c.fromBufferAttribute(r,C),f.fromBufferAttribute(r,N),p.fromBufferAttribute(a,A),m.fromBufferAttribute(a,C),g.fromBufferAttribute(a,N),c.sub(u),f.sub(u),m.sub(p),g.sub(p);const I=1/(m.x*g.y-g.x*m.y);isFinite(I)&&(_.copy(c).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(I),y.copy(f).multiplyScalar(m.x).addScaledVector(c,-g.x).multiplyScalar(I),s[A].add(_),s[C].add(_),s[N].add(_),l[A].add(y),l[C].add(y),l[N].add(y))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let A=0,C=x.length;A<C;++A){const N=x[A],I=N.start,k=N.count;for(let B=I,W=I+k;B<W;B+=3)v(e.getX(B+0),e.getX(B+1),e.getX(B+2))}const b=new X,M=new X,w=new X,E=new X;function P(A){w.fromBufferAttribute(i,A),E.copy(w);const C=s[A];b.copy(C),b.sub(w.multiplyScalar(w.dot(C))).normalize(),M.crossVectors(E,C);const I=M.dot(l[A])<0?-1:1;o.setXYZW(A,b.x,b.y,b.z,I)}for(let A=0,C=x.length;A<C;++A){const N=x[A],I=N.start,k=N.count;for(let B=I,W=I+k;B<W;B+=3)P(e.getX(B+0)),P(e.getX(B+1)),P(e.getX(B+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qt(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new X,a=new X,o=new X,s=new X,l=new X,u=new X,c=new X,f=new X;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),_=e.getX(p+1),y=e.getX(p+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,_),o.fromBufferAttribute(n,y),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,y),s.add(c),l.add(c),u.add(c),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(y,u.x,u.y,u.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),a.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),r.setXYZ(p+0,c.x,c.y,c.z),r.setXYZ(p+1,c.x,c.y,c.z),r.setXYZ(p+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ur.fromBufferAttribute(e,n),ur.normalize(),e.setXYZ(n,ur.x,ur.y,ur.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,p=new u.constructor(l.length*c);let m=0,g=0;for(let _=0,y=l.length;_<y;_++){s.isInterleavedBufferAttribute?m=l[_]*s.data.stride+s.offset:m=l[_]*c;for(let v=0;v<c;v++)p[g++]=u[m++]}return new Qt(p,c,f)}if(this.index===null)return We("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Et,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const p=u[c],m=e(p,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let p=0,m=f.length;p<m;p++)c.push(f[p].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class hb{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=om,this.updateRanges=[],this.version=0,this.uuid=Li()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Li()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const $r=new X;class Pu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyMatrix4(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.applyNormalMatrix(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)$r.fromBufferAttribute(this,n),$r.transformDirection(e),this.setXYZ(n,$r.x,$r.y,$r.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Wr(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ct(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ct(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Wr(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Wr(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Wr(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Wr(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ct(n,this.array),r=Ct(r,this.array),i=Ct(i,this.array),a=Ct(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){lm("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new Qt(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){lm("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let Uye=0;class Sr extends vo{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Uye++}),this.uuid=Li(),this.name="",this.type="Material",this.blending=cu,this.side=ts,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Q0,this.blendDst=ex,this.blendEquation=Ns,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new et(0,0,0),this.blendAlpha=0,this.depthFunc=Mu,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wl,this.stencilZFail=Wl,this.stencilZPass=Wl,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){We(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){We(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cu&&(r.blending=this.blending),this.side!==ts&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Q0&&(r.blendSrc=this.blendSrc),this.blendDst!==ex&&(r.blendDst=this.blendDst),this.blendEquation!==Ns&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Mu&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wl&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Wl&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Wl&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sC extends Sr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let xc;const ch=new X,_c=new X,bc=new X,Sc=new Ee,fh=new Ee,rj=new wt,Mv=new X,dh=new X,Ev=new X,DL=new Ee,sw=new Ee,kL=new Ee;class ij extends Wt{constructor(e=new sC){if(super(),this.isSprite=!0,this.type="Sprite",xc===void 0){xc=new Et;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new hb(n,5);xc.setIndex([0,1,2,0,2,3]),xc.setAttribute("position",new Pu(r,3,0,!1)),xc.setAttribute("uv",new Pu(r,2,3,!1))}this.geometry=xc,this.material=e,this.center=new Ee(.5,.5),this.count=1}raycast(e,n){e.camera===null&&mt('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_c.setFromMatrixScale(this.matrixWorld),rj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),bc.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_c.multiplyScalar(-bc.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;Av(Mv.set(-.5,-.5,0),bc,o,_c,i,a),Av(dh.set(.5,-.5,0),bc,o,_c,i,a),Av(Ev.set(.5,.5,0),bc,o,_c,i,a),DL.set(0,0),sw.set(1,0),kL.set(1,1);let s=e.ray.intersectTriangle(Mv,dh,Ev,!1,ch);if(s===null&&(Av(dh.set(-.5,.5,0),bc,o,_c,i,a),sw.set(0,1),s=e.ray.intersectTriangle(Mv,Ev,dh,!1,ch),s===null))return;const l=e.ray.origin.distanceTo(ch);l<e.near||l>e.far||n.push({distance:l,point:ch.clone(),uv:li.getInterpolation(ch,Mv,dh,Ev,DL,sw,kL,new Ee),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Av(t,e,n,r,i,a){Sc.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(fh.x=a*Sc.x-i*Sc.y,fh.y=i*Sc.x+a*Sc.y):fh.copy(Sc),t.copy(e),t.x+=fh.x,t.y+=fh.y,t.applyMatrix4(rj)}const Tv=new X,UL=new X;class aj extends Wt{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Tv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Tv);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Tv.setFromMatrixPosition(e.matrixWorld),UL.setFromMatrixPosition(this.matrixWorld);const r=Tv.distanceTo(UL)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Io=new X,lw=new X,Pv=new X,ws=new X,uw=new X,Cv=new X,cw=new X;class md{constructor(e=new X,n=new X(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Io)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Io.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Io.copy(this.origin).addScaledVector(this.direction,n),Io.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){lw.copy(e).add(n).multiplyScalar(.5),Pv.copy(n).sub(e).normalize(),ws.copy(this.origin).sub(lw);const a=e.distanceTo(n)*.5,o=-this.direction.dot(Pv),s=ws.dot(this.direction),l=-ws.dot(Pv),u=ws.lengthSq(),c=Math.abs(1-o*o);let f,p,m,g;if(c>0)if(f=o*l-s,p=o*s-l,g=a*c,f>=0)if(p>=-g)if(p<=g){const _=1/c;f*=_,p*=_,m=f*(f+o*p+2*s)+p*(o*f+p+2*l)+u}else p=a,f=Math.max(0,-(o*p+s)),m=-f*f+p*(p+2*l)+u;else p=-a,f=Math.max(0,-(o*p+s)),m=-f*f+p*(p+2*l)+u;else p<=-g?(f=Math.max(0,-(-o*a+s)),p=f>0?-a:Math.min(Math.max(-a,-l),a),m=-f*f+p*(p+2*l)+u):p<=g?(f=0,p=Math.min(Math.max(-a,-l),a),m=p*(p+2*l)+u):(f=Math.max(0,-(o*a+s)),p=f>0?a:Math.min(Math.max(-a,-l),a),m=-f*f+p*(p+2*l)+u);else p=o>0?-a:a,f=Math.max(0,-(o*p+s)),m=-f*f+p*(p+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(lw).addScaledVector(Pv,p),m}intersectSphere(e,n){Io.subVectors(e.center,this.origin);const r=Io.dot(this.direction),i=Io.dot(Io)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,p=this.origin;return u>=0?(r=(e.min.x-p.x)*u,i=(e.max.x-p.x)*u):(r=(e.max.x-p.x)*u,i=(e.min.x-p.x)*u),c>=0?(a=(e.min.y-p.y)*c,o=(e.max.y-p.y)*c):(a=(e.max.y-p.y)*c,o=(e.min.y-p.y)*c),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(s=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Io)!==null}intersectTriangle(e,n,r,i,a){uw.subVectors(n,e),Cv.subVectors(r,e),cw.crossVectors(uw,Cv);let o=this.direction.dot(cw),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;ws.subVectors(this.origin,e);const l=s*this.direction.dot(Cv.crossVectors(ws,Cv));if(l<0)return null;const u=s*this.direction.dot(uw.cross(ws));if(u<0||l+u>o)return null;const c=-s*ws.dot(cw);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pl extends Sr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Nm,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const FL=new wt,Cl=new md,Ov=new _r,BL=new X,Iv=new X,Rv=new X,Nv=new X,fw=new X,Lv=new X,zL=new X,Dv=new X;class qn extends Wt{constructor(e=new Et,n=new pl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){Lv.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(fw.fromBufferAttribute(f,e),o?Lv.addScaledVector(fw,c):Lv.addScaledVector(fw.sub(n),c))}n.add(Lv)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ov.copy(r.boundingSphere),Ov.applyMatrix4(a),Cl.copy(e.ray).recast(e.near),!(Ov.containsPoint(Cl.origin)===!1&&(Cl.intersectSphere(Ov,BL)===null||Cl.origin.distanceToSquared(BL)>(e.far-e.near)**2))&&(FL.copy(a).invert(),Cl.copy(e.ray).applyMatrix4(FL),!(r.boundingBox!==null&&Cl.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Cl)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,p=a.groups,m=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,_=p.length;g<_;g++){const y=p[g],v=o[y.materialIndex],x=Math.max(y.start,m.start),b=Math.min(s.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,w=b;M<w;M+=3){const E=s.getX(M),P=s.getX(M+1),A=s.getX(M+2);i=kv(this,v,e,r,u,c,f,E,P,A),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(s.count,m.start+m.count);for(let y=g,v=_;y<v;y+=3){const x=s.getX(y),b=s.getX(y+1),M=s.getX(y+2);i=kv(this,o,e,r,u,c,f,x,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,_=p.length;g<_;g++){const y=p[g],v=o[y.materialIndex],x=Math.max(y.start,m.start),b=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let M=x,w=b;M<w;M+=3){const E=M,P=M+1,A=M+2;i=kv(this,v,e,r,u,c,f,E,P,A),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let y=g,v=_;y<v;y+=3){const x=y,b=y+1,M=y+2;i=kv(this,o,e,r,u,c,f,x,b,M),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function Fye(t,e,n,r,i,a,o,s){let l;if(e.side===Yr?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===ts,s),l===null)return null;Dv.copy(s),Dv.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Dv);return u<n.near||u>n.far?null:{distance:u,point:Dv.clone(),object:t}}function kv(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,Iv),t.getVertexPosition(l,Rv),t.getVertexPosition(u,Nv);const c=Fye(t,e,n,r,Iv,Rv,Nv,zL);if(c){const f=new X;li.getBarycoord(zL,Iv,Rv,Nv,f),i&&(c.uv=li.getInterpolatedAttribute(i,s,l,u,f,new Ee)),a&&(c.uv1=li.getInterpolatedAttribute(a,s,l,u,f,new Ee)),o&&(c.normal=li.getInterpolatedAttribute(o,s,l,u,f,new X),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const p={a:s,b:l,c:u,normal:new X,materialIndex:0};li.getNormal(Iv,Rv,Nv,p.normal),c.face=p,c.barycoord=f}return c}const jL=new X,$L=new cn,VL=new cn,Bye=new X,HL=new wt,Uv=new X,dw=new _r,GL=new wt,hw=new md;class oj extends qn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=xA,this.bindMatrix=new wt,this.bindMatrixInverse=new wt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Fr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Uv),this.boundingBox.expandByPoint(Uv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new _r),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Uv),this.boundingSphere.expandByPoint(Uv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),dw.copy(this.boundingSphere),dw.applyMatrix4(i),e.ray.intersectsSphere(dw)!==!1&&(GL.copy(i).invert(),hw.copy(e.ray).applyMatrix4(GL),!(this.boundingBox!==null&&hw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,hw)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===xA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===z5?this.bindMatrixInverse.copy(this.bindMatrix).invert():We("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;$L.fromBufferAttribute(i.attributes.skinIndex,e),VL.fromBufferAttribute(i.attributes.skinWeight,e),jL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=VL.getComponent(a);if(o!==0){const s=$L.getComponent(a);HL.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(Bye.copy(jL).applyMatrix4(HL),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class lC extends Wt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ua extends Cn{constructor(e=null,n=1,r=1,i,a,o,s,l,u=zn,c=zn,f,p){super(null,o,s,l,u,c,i,a,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const WL=new wt,zye=new wt;class pb{constructor(e=[],n=[]){this.uuid=Li(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){We("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new wt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new wt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:zye;WL.multiplyMatrices(s,n[a]),WL.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new pb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ua(n,e,e,Ur,kr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(We("Skeleton: No bone found with UUID:",a),o=new lC),this.bones.push(o),this.boneInverses.push(new wt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Wf extends Qt{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const wc=new wt,XL=new wt,Fv=[],qL=new Fr,jye=new wt,hh=new qn,ph=new _r;class sj extends qn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Wf(new Float32Array(r*16),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,jye)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Fr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,wc),qL.copy(e.boundingBox).applyMatrix4(wc),this.boundingBox.union(qL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new _r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,wc),ph.copy(e.boundingSphere).applyMatrix4(wc),this.boundingSphere.union(ph)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.previousInstanceMatrix!==null&&(this.previousInstanceMatrix=e.previousInstanceMatrix.clone()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(hh.geometry=this.geometry,hh.material=this.material,hh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ph.copy(this.boundingSphere),ph.applyMatrix4(r),e.ray.intersectsSphere(ph)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,wc),XL.multiplyMatrices(r,wc),hh.matrixWorld=XL,hh.raycast(e,Fv);for(let o=0,s=Fv.length;o<s;o++){const l=Fv[o];l.instanceId=a,l.object=this,n.push(l)}Fv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Wf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ua(new Float32Array(i*this.count),i,this.count,rb,kr));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const pw=new X,$ye=new X,Vye=new Pt;class Cs{constructor(e=new X(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=pw.subVectors(r,n).cross($ye.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(pw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Vye.getNormalMatrix(e),i=this.coplanarPoint(pw).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ol=new _r,Hye=new Ee(.5,.5),Bv=new X;class gd{constructor(e=new Cs,n=new Cs,r=new Cs,i=new Cs,a=new Cs,o=new Cs){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ri,r=!1){const i=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],u=a[3],c=a[4],f=a[5],p=a[6],m=a[7],g=a[8],_=a[9],y=a[10],v=a[11],x=a[12],b=a[13],M=a[14],w=a[15];if(i[0].setComponents(u-o,m-c,v-g,w-x).normalize(),i[1].setComponents(u+o,m+c,v+g,w+x).normalize(),i[2].setComponents(u+s,m+f,v+_,w+b).normalize(),i[3].setComponents(u-s,m-f,v-_,w-b).normalize(),r)i[4].setComponents(l,p,y,M).normalize(),i[5].setComponents(u-l,m-p,v-y,w-M).normalize();else if(i[4].setComponents(u-l,m-p,v-y,w-M).normalize(),n===Ri)i[5].setComponents(u+l,m+p,v+y,w+M).normalize();else if(n===Tu)i[5].setComponents(l,p,y,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ol.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ol.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ol)}intersectsSprite(e){Ol.center.set(0,0,0);const n=Hye.distanceTo(e.center);return Ol.radius=.7071067811865476+n,Ol.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ol)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Bv.x=i.normal.x>0?e.max.x:e.min.x,Bv.y=i.normal.y>0?e.max.y:e.min.y,Bv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Bv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Za=new wt,Ja=new gd;class mb{constructor(){this.coordinateSystem=Ri}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ja.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Ja.containsPoint(e))return!0}return!1}clone(){return new mb}}function mw(t,e){return t-e}function Gye(t,e){return t.z-e.z}function Wye(t,e){return e.z-t.z}class Xye{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const ii=new wt,qye=new et(1,1,1),YL=new gd,Yye=new mb,zv=new Fr,Il=new _r,mh=new X,KL=new X,Kye=new X,gw=new Xye,Ir=new qn,jv=[];function Zye(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Rl(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class lj extends qn{constructor(e,n,r=n*2,i){super(new Et,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Ua(n,e,e,Ur,kr);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Ua(n,e,e,Lm,ha);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Ua(n,e,e,Ur,kr);r.colorSpace=zt.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:u}=o,c=new s.constructor(r*l),f=new Qt(c,l,u);n.setAttribute(a,f)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Qt(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Fr);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,ii),this.getBoundingBoxAt(a,zv).applyMatrix4(ii),e.union(zv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new _r);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const a=n[r].geometryIndex;this.getMatrixAt(r,ii),this.getBoundingSphereAt(a,Il).applyMatrix4(ii),e.union(Il)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(mw),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;ii.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(qye.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(mw),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),s=this._geometryInfo[e];if(i&&o.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const c in r.attributes){const f=n.getAttribute(c),p=r.getAttribute(c);Zye(f,p,l);const m=f.itemSize;for(let g=f.count,_=u;g<_;g++){const y=l+g;for(let v=0;v<m;v++)p.setComponent(y,v,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,u*m)}if(i){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)a.setX(c+p,l+o.getX(p));for(let p=o.count,m=f;p<m;p++)a.setX(c+p,l);a.needsUpdate=!0,a.addUpdateRange(c,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,s)=>s).sort((o,s)=>r[o].vertexStart-r[s].vertexStart),a=this.geometry;for(let o=0,s=r.length;o<s;o++){const l=i[o],u=r[l];if(u.active!==!1){if(a.index!==null){if(u.indexStart!==n){const{indexStart:c,vertexStart:f,reservedIndexCount:p}=u,m=a.index,g=m.array,_=e-f;for(let y=c;y<c+p;y++)g[y]=g[y]+_;m.array.copyWithin(n,c,c+p),m.addUpdateRange(n,p),m.needsUpdate=!0,u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,p=a.attributes;for(const m in p){const g=p[m],{array:_,itemSize:y}=g;_.copyWithin(e*y,c*y,(c+f)*y),g.addUpdateRange(e*y,f*y),g.needsUpdate=!0}u.vertexStart=e}e+=u.reservedVertexCount,u.start=a.index?u.indexStart:u.vertexStart}}return this._nextIndexStart=n,this._nextVertexStart=e,this._visibilityChanged=!0,this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Fr,o=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;o&&(c=o.getX(c)),a.expandByPoint(mh.fromBufferAttribute(s,c))}i.boundingBox=a}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new _r;this.getBoundingBoxAt(e,zv),zv.getCenter(a.center);const o=r.index,s=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;o&&(f=o.getX(f)),mh.fromBufferAttribute(s,f),l=Math.max(l,a.center.distanceToSquared(mh))}a.radius=Math.sqrt(l),i.boundingSphere=a}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(mw);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Rl(this._multiDrawCounts,i),Rl(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Rl(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Rl(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Rl(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Et,this._initializeGeometry(a));const o=this.geometry;a.index&&Rl(a.index.array,o.index.array);for(const s in a.attributes)Rl(a.attributes[s].array,o.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Ir.material=this.material,Ir.geometry.index=o.index,Ir.geometry.attributes=o.attributes,Ir.geometry.boundingBox===null&&(Ir.geometry.boundingBox=new Fr),Ir.geometry.boundingSphere===null&&(Ir.geometry.boundingSphere=new _r);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,c=i[u];Ir.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,Ir.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Ir.geometry.boundingBox),this.getBoundingSphereAt(u,Ir.geometry.boundingSphere),Ir.raycast(e,jv);for(let f=0,p=jv.length;f<p;f++){const m=jv[f];m.object=this,m.batchId=s,n.push(m)}jv.length=0}Ir.material=null,Ir.geometry.index=null,Ir.geometry.attributes={},Ir.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex();let s=o===null?1:o.array.BYTES_PER_ELEMENT,l=1;a.wireframe&&(l=2,s=i.attributes.position.count>65535?4:2);const u=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,p=this._geometryInfo,m=this.perObjectFrustumCulled,g=this._indirectTexture,_=g.image.data,y=r.isArrayCamera?Yye:YL;m&&!r.isArrayCamera&&(ii.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),YL.setFromProjectionMatrix(ii,r.coordinateSystem,r.reversedDepth));let v=0;if(this.sortObjects){ii.copy(this.matrixWorld).invert(),mh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ii),KL.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ii);for(let M=0,w=u.length;M<w;M++)if(u[M].visible&&u[M].active){const E=u[M].geometryIndex;this.getMatrixAt(M,ii),this.getBoundingSphereAt(E,Il).applyMatrix4(ii);let P=!1;if(m&&(P=!y.intersectsSphere(Il,r)),!P){const A=p[E],C=Kye.subVectors(Il.center,mh).dot(KL);gw.push(A.start,A.count,C,M)}}const x=gw.list,b=this.customSort;b===null?x.sort(a.transparent?Wye:Gye):b.call(this,x,r);for(let M=0,w=x.length;M<w;M++){const E=x[M];c[v]=E.start*s*l,f[v]=E.count*l,_[v]=E.index,v++}gw.reset()}else for(let x=0,b=u.length;x<b;x++)if(u[x].visible&&u[x].active){const M=u[x].geometryIndex;let w=!1;if(m&&(this.getMatrixAt(x,ii),this.getBoundingSphereAt(M,Il).applyMatrix4(ii),w=!y.intersectsSphere(Il,r)),!w){const E=p[M];c[v]=E.start*s*l,f[v]=E.count*l,_[v]=x,v++}}g.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Qr extends Sr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const $x=new X,Vx=new X,ZL=new wt,gh=new md,$v=new _r,vw=new X,JL=new X;class rl extends Wt{constructor(e=new Et,n=new Qr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)$x.fromBufferAttribute(n,i-1),Vx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=$x.distanceTo(Vx);e.setAttribute("lineDistance",new at(r,1))}else We("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$v.copy(r.boundingSphere),$v.applyMatrix4(i),$v.radius+=a,e.ray.intersectsSphere($v)===!1)return;ZL.copy(i).invert(),gh.copy(e.ray).applyMatrix4(ZL);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,p=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let _=m,y=g-1;_<y;_+=u){const v=c.getX(_),x=c.getX(_+1),b=Vv(this,e,gh,l,v,x,_);b&&n.push(b)}if(this.isLineLoop){const _=c.getX(g-1),y=c.getX(m),v=Vv(this,e,gh,l,_,y,g-1);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(p.count,o.start+o.count);for(let _=m,y=g-1;_<y;_+=u){const v=Vv(this,e,gh,l,_,_+1,_);v&&n.push(v)}if(this.isLineLoop){const _=Vv(this,e,gh,l,g-1,m,g-1);_&&n.push(_)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function Vv(t,e,n,r,i,a,o){const s=t.geometry.attributes.position;if($x.fromBufferAttribute(s,i),Vx.fromBufferAttribute(s,a),n.distanceSqToSegment($x,Vx,vw,JL)>r)return;vw.applyMatrix4(t.matrixWorld);const u=e.ray.origin.distanceTo(vw);if(!(u<e.near||u>e.far))return{distance:u,point:JL.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const QL=new X,eD=new X;class yo extends rl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)QL.fromBufferAttribute(n,i),eD.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+QL.distanceTo(eD);e.setAttribute("lineDistance",new at(r,1))}else We("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class uj extends rl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class uC extends Sr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const tD=new wt,wA=new md,Hv=new _r,Gv=new X;class cj extends Wt{constructor(e=new Et,n=new uC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Hv.copy(r.boundingSphere),Hv.applyMatrix4(i),Hv.radius+=a,e.ray.intersectsSphere(Hv)===!1)return;tD.copy(i).invert(),wA.copy(e.ray).applyMatrix4(tD);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,_=m;g<_;g++){const y=u.getX(g);Gv.fromBufferAttribute(f,y),nD(Gv,y,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=p,_=m;g<_;g++)Gv.fromBufferAttribute(f,g),nD(Gv,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function nD(t,e,n,r,i,a,o){const s=wA.distanceSqToPoint(t);if(s<n){const l=new X;wA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class fj extends Cn{constructor(e,n,r,i,a=dn,o=dn,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;function f(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(f))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Jye extends fj{constructor(e,n,r,i,a,o,s,l){super({},e,n,r,i,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Qye extends Cn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=zn,this.minFilter=zn,this.generateMipmaps=!1,this.needsUpdate=!0}}class gb extends Cn{constructor(e,n,r,i,a,o,s,l,u,c,f,p){super(null,o,s,l,u,c,i,a,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class e0e extends gb{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=fi,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class t0e extends gb{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,po),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Dm extends Cn{constructor(e=[],n=po,r,i,a,o,s,l,u,c){super(e,n,r,i,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class n0e extends Cn{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Cu extends Cn{constructor(e,n,r=ha,i,a,o,s=zn,l=zn,u,c=mo,f=1){if(c!==mo&&c!==Fs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:n,depth:f};super(p,i,a,o,s,l,c,r,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Bs(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class dj extends Cu{constructor(e,n=ha,r=po,i,a,o=zn,s=zn,l,u=mo){const c={width:e,height:e,depth:1},f=[c,c,c,c,c,c];super(e,e,n,r,i,a,o,s,l,u),this.image=f,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class cC extends Cn{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Fu extends Et{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let p=0,m=0;g("z","y","x",-1,-1,r,n,e,o,a,0),g("z","y","x",1,-1,r,n,-e,o,a,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(f,2));function g(_,y,v,x,b,M,w,E,P,A,C){const N=M/P,I=w/A,k=M/2,B=w/2,W=E/2,$=P+1,H=A+1;let V=0,U=0;const j=new X;for(let Y=0;Y<H;Y++){const Z=Y*I-B;for(let J=0;J<$;J++){const fe=J*N-k;j[_]=fe*x,j[y]=Z*b,j[v]=W,u.push(j.x,j.y,j.z),j[_]=0,j[y]=0,j[v]=E>0?1:-1,c.push(j.x,j.y,j.z),f.push(J/P),f.push(1-Y/A),V+=1}}for(let Y=0;Y<A;Y++)for(let Z=0;Z<P;Z++){const J=p+Z+$*Y,fe=p+Z+$*(Y+1),we=p+(Z+1)+$*(Y+1),De=p+(Z+1)+$*Y;l.push(J,fe,De),l.push(fe,we,De),U+=6}s.addGroup(m,U,C),m+=U,p+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class vb extends Et{constructor(e=1,n=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:a},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],u=[],c=n/2,f=Math.PI/2*e,p=n,m=2*f+p,g=r*2+a,_=i+1,y=new X,v=new X;for(let x=0;x<=g;x++){let b=0,M=0,w=0,E=0;if(x<=r){const C=x/r,N=C*Math.PI/2;M=-c-e*Math.cos(N),w=e*Math.sin(N),E=-e*Math.cos(N),b=C*f}else if(x<=r+a){const C=(x-r)/a;M=-c+C*n,w=e,E=0,b=f+C*p}else{const C=(x-r-a)/r,N=C*Math.PI/2;M=c+e*Math.sin(N),w=e*Math.cos(N),E=e*Math.sin(N),b=f+p+C*f}const P=Math.max(0,Math.min(1,b/m));let A=0;x===0?A=.5/i:x===g&&(A=-.5/i);for(let C=0;C<=i;C++){const N=C/i,I=N*Math.PI*2,k=Math.sin(I),B=Math.cos(I);v.x=-w*B,v.y=M,v.z=w*k,s.push(v.x,v.y,v.z),y.set(-w*B,E,w*k),y.normalize(),l.push(y.x,y.y,y.z),u.push(N+A,P)}if(x>0){const C=(x-1)*_;for(let N=0;N<i;N++){const I=C+N,k=C+N+1,B=x*_+N,W=x*_+N+1;o.push(I,k,B),o.push(k,W,B)}}}this.setIndex(o),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class yb extends Et{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new X,c=new Ee;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[p]/e+1)/2,c.y=(o[p+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class km extends Et{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],p=[],m=[];let g=0;const _=[],y=r/2;let v=0;x(),o===!1&&(e>0&&b(!0),n>0&&b(!1)),this.setIndex(c),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function x(){const M=new X,w=new X;let E=0;const P=(n-e)/r;for(let A=0;A<=a;A++){const C=[],N=A/a,I=N*(n-e)+e;for(let k=0;k<=i;k++){const B=k/i,W=B*l+s,$=Math.sin(W),H=Math.cos(W);w.x=I*$,w.y=-N*r+y,w.z=I*H,f.push(w.x,w.y,w.z),M.set($,P,H).normalize(),p.push(M.x,M.y,M.z),m.push(B,1-N),C.push(g++)}_.push(C)}for(let A=0;A<i;A++)for(let C=0;C<a;C++){const N=_[C][A],I=_[C+1][A],k=_[C+1][A+1],B=_[C][A+1];(e>0||C!==0)&&(c.push(N,I,B),E+=3),(n>0||C!==a-1)&&(c.push(I,k,B),E+=3)}u.addGroup(v,E,0),v+=E}function b(M){const w=g,E=new Ee,P=new X;let A=0;const C=M===!0?e:n,N=M===!0?1:-1;for(let k=1;k<=i;k++)f.push(0,y*N,0),p.push(0,N,0),m.push(.5,.5),g++;const I=g;for(let k=0;k<=i;k++){const W=k/i*l+s,$=Math.cos(W),H=Math.sin(W);P.x=C*H,P.y=y*N,P.z=C*$,f.push(P.x,P.y,P.z),p.push(0,N,0),E.x=$*.5+.5,E.y=H*.5*N+.5,m.push(E.x,E.y),g++}for(let k=0;k<i;k++){const B=w+k,W=I+k;M===!0?c.push(W,W+1,B):c.push(W+1,W,B),A+=3}u.addGroup(v,A,M===!0?1:2),v+=A}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new km(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Um extends km{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new Um(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ml extends Et{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),c(),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(a.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(x){const b=new X,M=new X,w=new X;for(let E=0;E<n.length;E+=3)m(n[E+0],b),m(n[E+1],M),m(n[E+2],w),l(b,M,w,x)}function l(x,b,M,w){const E=w+1,P=[];for(let A=0;A<=E;A++){P[A]=[];const C=x.clone().lerp(M,A/E),N=b.clone().lerp(M,A/E),I=E-A;for(let k=0;k<=I;k++)k===0&&A===E?P[A][k]=C:P[A][k]=C.clone().lerp(N,k/I)}for(let A=0;A<E;A++)for(let C=0;C<2*(E-A)-1;C++){const N=Math.floor(C/2);C%2===0?(p(P[A][N+1]),p(P[A+1][N]),p(P[A][N])):(p(P[A][N+1]),p(P[A+1][N+1]),p(P[A+1][N]))}}function u(x){const b=new X;for(let M=0;M<a.length;M+=3)b.x=a[M+0],b.y=a[M+1],b.z=a[M+2],b.normalize().multiplyScalar(x),a[M+0]=b.x,a[M+1]=b.y,a[M+2]=b.z}function c(){const x=new X;for(let b=0;b<a.length;b+=3){x.x=a[b+0],x.y=a[b+1],x.z=a[b+2];const M=y(x)/2/Math.PI+.5,w=v(x)/Math.PI+.5;o.push(M,1-w)}g(),f()}function f(){for(let x=0;x<o.length;x+=6){const b=o[x+0],M=o[x+2],w=o[x+4],E=Math.max(b,M,w),P=Math.min(b,M,w);E>.9&&P<.1&&(b<.2&&(o[x+0]+=1),M<.2&&(o[x+2]+=1),w<.2&&(o[x+4]+=1))}}function p(x){a.push(x.x,x.y,x.z)}function m(x,b){const M=x*3;b.x=e[M+0],b.y=e[M+1],b.z=e[M+2]}function g(){const x=new X,b=new X,M=new X,w=new X,E=new Ee,P=new Ee,A=new Ee;for(let C=0,N=0;C<a.length;C+=9,N+=6){x.set(a[C+0],a[C+1],a[C+2]),b.set(a[C+3],a[C+4],a[C+5]),M.set(a[C+6],a[C+7],a[C+8]),E.set(o[N+0],o[N+1]),P.set(o[N+2],o[N+3]),A.set(o[N+4],o[N+5]),w.copy(x).add(b).add(M).divideScalar(3);const I=y(w);_(E,N+0,x,I),_(P,N+2,b,I),_(A,N+4,M,I)}}function _(x,b,M,w){w<0&&x.x===1&&(o[b]=x.x-1),M.x===0&&M.z===0&&(o[b]=w/2/Math.PI+.5)}function y(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ml(e.vertices,e.indices,e.radius,e.detail)}}class xb extends ml{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xb(e.radius,e.detail)}}const Wv=new X,Xv=new X,yw=new X,qv=new li;class hj extends Et{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(fu*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:_,b:y,c:v}=qv;if(_.fromBufferAttribute(s,u[0]),y.fromBufferAttribute(s,u[1]),v.fromBufferAttribute(s,u[2]),qv.getNormal(yw),f[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const b=(x+1)%3,M=f[x],w=f[b],E=qv[c[x]],P=qv[c[b]],A=`${M}_${w}`,C=`${w}_${M}`;C in p&&p[C]?(yw.dot(p[C].normal)<=a&&(m.push(E.x,E.y,E.z),m.push(P.x,P.y,P.z)),p[C]=null):A in p||(p[A]={index0:u[x],index1:u[b],normal:yw.clone()})}}for(const g in p)if(p[g]){const{index0:_,index1:y}=p[g];Wv.fromBufferAttribute(s,_),Xv.fromBufferAttribute(s,y),m.push(Wv.x,Wv.y,Wv.z),m.push(Xv.x,Xv.y,Xv.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ja{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){We("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const c=r[i],p=r[i+1]-c,m=(o-c)/p;return(i+m)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new Ee:new X);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new X,i=[],a=[],o=[],s=new X,l=new wt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new X)}a[0]=new X,o[0]=new X;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),p<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let m=1;m<=e;m++){if(a[m]=a[m-1].clone(),o[m]=o[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(St(i[m-1].dot(i[m]),-1,1));a[m].applyMatrix4(l.makeRotationAxis(s,g))}o[m].crossVectors(i[m],a[m])}if(n===!0){let m=Math.acos(St(a[0].dot(a[e]),-1,1));m/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(m=-m);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class _b extends ja{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new Ee){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=u-this.aY;l=p*c-m*f+this.aX,u=p*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class pj extends _b{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function fC(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let p=(o-a)/u-(s-a)/(u+c)+(s-o)/c,m=(s-o)/c-(l-o)/(c+f)+(l-s)/f;p*=c,m*=c,i(o,s,p,m)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const Yv=new X,xw=new fC,_w=new fC,bw=new fC;class mj extends ja{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new X){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%a]:(Yv.subVectors(i[0],i[1]).add(i[0]),u=Yv);const f=i[s%a],p=i[(s+1)%a];if(this.closed||s+2<a?c=i[(s+2)%a]:(Yv.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=Yv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),_=Math.pow(f.distanceToSquared(p),m),y=Math.pow(p.distanceToSquared(c),m);_<1e-4&&(_=1),g<1e-4&&(g=_),y<1e-4&&(y=_),xw.initNonuniformCatmullRom(u.x,f.x,p.x,c.x,g,_,y),_w.initNonuniformCatmullRom(u.y,f.y,p.y,c.y,g,_,y),bw.initNonuniformCatmullRom(u.z,f.z,p.z,c.z,g,_,y)}else this.curveType==="catmullrom"&&(xw.initCatmullRom(u.x,f.x,p.x,c.x,this.tension),_w.initCatmullRom(u.y,f.y,p.y,c.y,this.tension),bw.initCatmullRom(u.z,f.z,p.z,c.z,this.tension));return r.set(xw.calc(l),_w.calc(l),bw.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function rD(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function r0e(t,e){const n=1-t;return n*n*e}function i0e(t,e){return 2*(1-t)*t*e}function a0e(t,e){return t*t*e}function Jh(t,e,n,r){return r0e(t,e)+i0e(t,n)+a0e(t,r)}function o0e(t,e){const n=1-t;return n*n*n*e}function s0e(t,e){const n=1-t;return 3*n*n*t*e}function l0e(t,e){return 3*(1-t)*t*t*e}function u0e(t,e){return t*t*t*e}function Qh(t,e,n,r,i){return o0e(t,e)+s0e(t,n)+l0e(t,r)+u0e(t,i)}class dC extends ja{constructor(e=new Ee,n=new Ee,r=new Ee,i=new Ee){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ee){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Qh(e,i.x,a.x,o.x,s.x),Qh(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class gj extends ja{constructor(e=new X,n=new X,r=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new X){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Qh(e,i.x,a.x,o.x,s.x),Qh(e,i.y,a.y,o.y,s.y),Qh(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class hC extends ja{constructor(e=new Ee,n=new Ee){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ee){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ee){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vj extends ja{constructor(e=new X,n=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new X){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new X){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pC extends ja{constructor(e=new Ee,n=new Ee,r=new Ee){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ee){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(Jh(e,i.x,a.x,o.x),Jh(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mC extends ja{constructor(e=new X,n=new X,r=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new X){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(Jh(e,i.x,a.x,o.x),Jh(e,i.y,a.y,o.y),Jh(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gC extends ja{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ee){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(rD(s,l.x,u.x,c.x,f.x),rD(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ee().fromArray(i))}return this}}var Hx=Object.freeze({__proto__:null,ArcCurve:pj,CatmullRomCurve3:mj,CubicBezierCurve:dC,CubicBezierCurve3:gj,EllipseCurve:_b,LineCurve:hC,LineCurve3:vj,QuadraticBezierCurve:pC,QuadraticBezierCurve3:mC,SplineCurve:gC});class yj extends ja{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Hx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Hx[i.type]().fromJSON(i))}return this}}class Gx extends yj{constructor(e){super(),this.type="Path",this.currentPoint=new Ee,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new hC(this.currentPoint.clone(),new Ee(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new pC(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new dC(this.currentPoint.clone(),new Ee(e,n),new Ee(r,i),new Ee(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new gC(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new _b(e,n,r,i,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hu extends Gx{constructor(e){super(e),this.uuid=Li(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Gx().fromJSON(i))}return this}}function c0e(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=xj(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u;if(r&&(a=m0e(t,e,a,n)),t.length>80*n){s=t[0],l=t[1];let c=s,f=l;for(let p=n;p<i;p+=n){const m=t[p],g=t[p+1];m<s&&(s=m),g<l&&(l=g),m>c&&(c=m),g>f&&(f=g)}u=Math.max(c-s,f-l),u=u!==0?32767/u:0}return cm(a,o,n,s,l,u,0),o}function xj(t,e,n,r,i){let a;if(i===A0e(t,e,n,r)>0)for(let o=e;o<n;o+=r)a=iD(o/r|0,t[o],t[o+1],a);else for(let o=n-r;o>=e;o-=r)a=iD(o/r|0,t[o],t[o+1],a);return a&&Xf(a,a.next)&&(dm(a),a=a.next),a}function Ou(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Xf(n,n.next)||Tn(n.prev,n,n.next)===0)){if(dm(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function cm(t,e,n,r,i,a,o){if(!t)return;!o&&a&&_0e(t,r,i,a);let s=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(a?d0e(t,r,i,a):f0e(t)){e.push(l.i,t.i,u.i),dm(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=h0e(Ou(t),e),cm(t,e,n,r,i,a,2)):o===2&&p0e(t,e,n,r,i,a):cm(Ou(t),e,n,r,i,a,1);break}}}function f0e(t){const e=t.prev,n=t,r=t.next;if(Tn(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=Math.min(i,a,o),f=Math.min(s,l,u),p=Math.max(i,a,o),m=Math.max(s,l,u);let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=p&&g.y>=f&&g.y<=m&&Th(i,s,a,l,o,u,g.x,g.y)&&Tn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function d0e(t,e,n,r){const i=t.prev,a=t,o=t.next;if(Tn(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,p=o.y,m=Math.min(s,l,u),g=Math.min(c,f,p),_=Math.max(s,l,u),y=Math.max(c,f,p),v=MA(m,g,e,n,r),x=MA(_,y,e,n,r);let b=t.prevZ,M=t.nextZ;for(;b&&b.z>=v&&M&&M.z<=x;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Th(s,c,l,f,u,p,b.x,b.y)&&Tn(b.prev,b,b.next)>=0||(b=b.prevZ,M.x>=m&&M.x<=_&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Th(s,c,l,f,u,p,M.x,M.y)&&Tn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;b&&b.z>=v;){if(b.x>=m&&b.x<=_&&b.y>=g&&b.y<=y&&b!==i&&b!==o&&Th(s,c,l,f,u,p,b.x,b.y)&&Tn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;M&&M.z<=x;){if(M.x>=m&&M.x<=_&&M.y>=g&&M.y<=y&&M!==i&&M!==o&&Th(s,c,l,f,u,p,M.x,M.y)&&Tn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function h0e(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Xf(r,i)&&bj(r,n,n.next,i)&&fm(r,i)&&fm(i,r)&&(e.push(r.i,n.i,i.i),dm(n),dm(n.next),n=t=i),n=n.next}while(n!==t);return Ou(n)}function p0e(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&w0e(o,s)){let l=Sj(o,s);o=Ou(o,o.next),l=Ou(l,l.next),cm(o,e,n,r,i,a,0),cm(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function m0e(t,e,n,r){const i=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=xj(t,s,l,r,!1);u===u.next&&(u.steiner=!0),i.push(S0e(u))}i.sort(g0e);for(let a=0;a<i.length;a++)n=v0e(i[a],n);return n}function g0e(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function v0e(t,e){const n=y0e(t,e);if(!n)return e;const r=Sj(n,t);return Ou(r,r.next),Ou(n,n.next)}function y0e(t,e){let n=e;const r=t.x,i=t.y;let a=-1/0,o;if(Xf(t,n))return n;do{if(Xf(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const f=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=r&&f>a&&(a=f,o=n.x<n.next.x?n:n.next,f===r))return o}n=n.next}while(n!==e);if(!o)return null;const s=o,l=o.x,u=o.y;let c=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&_j(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)){const f=Math.abs(i-n.y)/(r-n.x);fm(n,t)&&(f<c||f===c&&(n.x>o.x||n.x===o.x&&x0e(o,n)))&&(o=n,c=f)}n=n.next}while(n!==s);return o}function x0e(t,e){return Tn(t.prev,t,e.prev)<0&&Tn(e.next,t,t.next)<0}function _0e(t,e,n,r){let i=t;do i.z===0&&(i.z=MA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,b0e(i)}function b0e(t){let e,n=1;do{let r=t,i;t=null;let a=null;for(e=0;r;){e++;let o=r,s=0;for(let u=0;u<n&&(s++,o=o.nextZ,!!o);u++);let l=n;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=o}a.nextZ=null,n*=2}while(e>1);return t}function MA(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function S0e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function _j(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Th(t,e,n,r,i,a,o,s){return!(t===o&&e===s)&&_j(t,e,n,r,i,a,o,s)}function w0e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M0e(t,e)&&(fm(t,e)&&fm(e,t)&&E0e(t,e)&&(Tn(t.prev,t,e.prev)||Tn(t,e.prev,e))||Xf(t,e)&&Tn(t.prev,t,t.next)>0&&Tn(e.prev,e,e.next)>0)}function Tn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Xf(t,e){return t.x===e.x&&t.y===e.y}function bj(t,e,n,r){const i=Zv(Tn(t,e,n)),a=Zv(Tn(t,e,r)),o=Zv(Tn(n,r,t)),s=Zv(Tn(n,r,e));return!!(i!==a&&o!==s||i===0&&Kv(t,n,e)||a===0&&Kv(t,r,e)||o===0&&Kv(n,t,r)||s===0&&Kv(n,e,r))}function Kv(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Zv(t){return t>0?1:t<0?-1:0}function M0e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&bj(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function fm(t,e){return Tn(t.prev,t,t.next)<0?Tn(t,e,t.next)>=0&&Tn(t,t.prev,e)>=0:Tn(t,e,t.prev)<0||Tn(t,t.next,e)<0}function E0e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Sj(t,e){const n=EA(t.i,t.x,t.y),r=EA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function iD(t,e,n,r){const i=EA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function dm(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function EA(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function A0e(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class T0e{static triangulate(e,n,r=2){return c0e(e,n,r)}}class La{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return La.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];aD(e),oD(r,e);let o=e.length;n.forEach(aD);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,oD(r,n[l]);const s=T0e.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function aD(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function oD(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class bb extends Et{constructor(e=new hu([new Ee(.5,.5),new Ee(-.5,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:P0e;let b,M=!1,w,E,P,A;if(v){b=v.getSpacedPoints(c),M=!0,p=!1;const ce=v.isCatmullRomCurve3?v.closed:!1;w=v.computeFrenetFrames(c,ce),E=new X,P=new X,A=new X}p||(y=0,m=0,g=0,_=0);const C=s.extractPoints(u);let N=C.shape;const I=C.holes;if(!La.isClockWise(N)){N=N.reverse();for(let ce=0,Se=I.length;ce<Se;ce++){const xe=I[ce];La.isClockWise(xe)&&(I[ce]=xe.reverse())}}function B(ce){const xe=10000000000000001e-36;let Ne=ce[0];for(let q=1;q<=ce.length;q++){const ut=q%ce.length,Ve=ce[ut],dt=Ve.x-Ne.x,Oe=Ve.y-Ne.y,G=dt*dt+Oe*Oe,D=Math.max(Math.abs(Ve.x),Math.abs(Ve.y),Math.abs(Ne.x),Math.abs(Ne.y)),Q=xe*D*D;if(G<=Q){ce.splice(ut,1),q--;continue}Ne=Ve}}B(N),I.forEach(B);const W=I.length,$=N;for(let ce=0;ce<W;ce++){const Se=I[ce];N=N.concat(Se)}function H(ce,Se,xe){return Se||mt("ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(Se,xe)}const V=N.length;function U(ce,Se,xe){let Ne,q,ut;const Ve=ce.x-Se.x,dt=ce.y-Se.y,Oe=xe.x-ce.x,G=xe.y-ce.y,D=Ve*Ve+dt*dt,Q=Ve*G-dt*Oe;if(Math.abs(Q)>Number.EPSILON){const he=Math.sqrt(D),Me=Math.sqrt(Oe*Oe+G*G),ge=Se.x-dt/he,nt=Se.y+Ve/he,Be=xe.x-G/Me,ht=xe.y+Oe/Me,yt=((Be-ge)*G-(ht-nt)*Oe)/(Ve*G-dt*Oe);Ne=ge+Ve*yt-ce.x,q=nt+dt*yt-ce.y;const Ce=Ne*Ne+q*q;if(Ce<=2)return new Ee(Ne,q);ut=Math.sqrt(Ce/2)}else{let he=!1;Ve>Number.EPSILON?Oe>Number.EPSILON&&(he=!0):Ve<-Number.EPSILON?Oe<-Number.EPSILON&&(he=!0):Math.sign(dt)===Math.sign(G)&&(he=!0),he?(Ne=-dt,q=Ve,ut=Math.sqrt(D)):(Ne=Ve,q=dt,ut=Math.sqrt(D/2))}return new Ee(Ne/ut,q/ut)}const j=[];for(let ce=0,Se=$.length,xe=Se-1,Ne=ce+1;ce<Se;ce++,xe++,Ne++)xe===Se&&(xe=0),Ne===Se&&(Ne=0),j[ce]=U($[ce],$[xe],$[Ne]);const Y=[];let Z,J=j.concat();for(let ce=0,Se=W;ce<Se;ce++){const xe=I[ce];Z=[];for(let Ne=0,q=xe.length,ut=q-1,Ve=Ne+1;Ne<q;Ne++,ut++,Ve++)ut===q&&(ut=0),Ve===q&&(Ve=0),Z[Ne]=U(xe[Ne],xe[ut],xe[Ve]);Y.push(Z),J=J.concat(Z)}let fe;if(y===0)fe=La.triangulateShape($,I);else{const ce=[],Se=[];for(let xe=0;xe<y;xe++){const Ne=xe/y,q=m*Math.cos(Ne*Math.PI/2),ut=g*Math.sin(Ne*Math.PI/2)+_;for(let Ve=0,dt=$.length;Ve<dt;Ve++){const Oe=H($[Ve],j[Ve],ut);me(Oe.x,Oe.y,-q),Ne===0&&ce.push(Oe)}for(let Ve=0,dt=W;Ve<dt;Ve++){const Oe=I[Ve];Z=Y[Ve];const G=[];for(let D=0,Q=Oe.length;D<Q;D++){const he=H(Oe[D],Z[D],ut);me(he.x,he.y,-q),Ne===0&&G.push(he)}Ne===0&&Se.push(G)}}fe=La.triangulateShape(ce,Se)}const we=fe.length,De=g+_;for(let ce=0;ce<V;ce++){const Se=p?H(N[ce],J[ce],De):N[ce];M?(P.copy(w.normals[0]).multiplyScalar(Se.x),E.copy(w.binormals[0]).multiplyScalar(Se.y),A.copy(b[0]).add(P).add(E),me(A.x,A.y,A.z)):me(Se.x,Se.y,0)}for(let ce=1;ce<=c;ce++)for(let Se=0;Se<V;Se++){const xe=p?H(N[Se],J[Se],De):N[Se];M?(P.copy(w.normals[ce]).multiplyScalar(xe.x),E.copy(w.binormals[ce]).multiplyScalar(xe.y),A.copy(b[ce]).add(P).add(E),me(A.x,A.y,A.z)):me(xe.x,xe.y,f/c*ce)}for(let ce=y-1;ce>=0;ce--){const Se=ce/y,xe=m*Math.cos(Se*Math.PI/2),Ne=g*Math.sin(Se*Math.PI/2)+_;for(let q=0,ut=$.length;q<ut;q++){const Ve=H($[q],j[q],Ne);me(Ve.x,Ve.y,f+xe)}for(let q=0,ut=I.length;q<ut;q++){const Ve=I[q];Z=Y[q];for(let dt=0,Oe=Ve.length;dt<Oe;dt++){const G=H(Ve[dt],Z[dt],Ne);M?me(G.x,G.y+b[c-1].y,b[c-1].x+xe):me(G.x,G.y,f+xe)}}}ae(),be();function ae(){const ce=i.length/3;if(p){let Se=0,xe=V*Se;for(let Ne=0;Ne<we;Ne++){const q=fe[Ne];Te(q[2]+xe,q[1]+xe,q[0]+xe)}Se=c+y*2,xe=V*Se;for(let Ne=0;Ne<we;Ne++){const q=fe[Ne];Te(q[0]+xe,q[1]+xe,q[2]+xe)}}else{for(let Se=0;Se<we;Se++){const xe=fe[Se];Te(xe[2],xe[1],xe[0])}for(let Se=0;Se<we;Se++){const xe=fe[Se];Te(xe[0]+V*c,xe[1]+V*c,xe[2]+V*c)}}r.addGroup(ce,i.length/3-ce,0)}function be(){const ce=i.length/3;let Se=0;Ae($,Se),Se+=$.length;for(let xe=0,Ne=I.length;xe<Ne;xe++){const q=I[xe];Ae(q,Se),Se+=q.length}r.addGroup(ce,i.length/3-ce,1)}function Ae(ce,Se){let xe=ce.length;for(;--xe>=0;){const Ne=xe;let q=xe-1;q<0&&(q=ce.length-1);for(let ut=0,Ve=c+y*2;ut<Ve;ut++){const dt=V*ut,Oe=V*(ut+1),G=Se+Ne+dt,D=Se+q+dt,Q=Se+q+Oe,he=Se+Ne+Oe;Pe(G,D,Q,he)}}}function me(ce,Se,xe){l.push(ce),l.push(Se),l.push(xe)}function Te(ce,Se,xe){pe(ce),pe(Se),pe(xe);const Ne=i.length/3,q=x.generateTopUV(r,i,Ne-3,Ne-2,Ne-1);Ge(q[0]),Ge(q[1]),Ge(q[2])}function Pe(ce,Se,xe,Ne){pe(ce),pe(Se),pe(Ne),pe(Se),pe(xe),pe(Ne);const q=i.length/3,ut=x.generateSideWallUV(r,i,q-6,q-3,q-2,q-1);Ge(ut[0]),Ge(ut[1]),Ge(ut[3]),Ge(ut[1]),Ge(ut[2]),Ge(ut[3])}function pe(ce){i.push(l[ce*3+0]),i.push(l[ce*3+1]),i.push(l[ce*3+2])}function Ge(ce){a.push(ce.x),a.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return C0e(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Hx[i.type]().fromJSON(i)),new bb(r,e.options)}}const P0e={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new Ee(a,o),new Ee(s,l),new Ee(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],_=e[a*3],y=e[a*3+1],v=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new Ee(o,1-l),new Ee(u,1-f),new Ee(p,1-g),new Ee(_,1-v)]:[new Ee(s,1-l),new Ee(c,1-f),new Ee(m,1-g),new Ee(y,1-v)]}};function C0e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Sb extends ml{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Sb(e.radius,e.detail)}}class wb extends Et{constructor(e=[new Ee(0,-.5),new Ee(.5,0),new Ee(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=St(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/n,f=new X,p=new Ee,m=new X,g=new X,_=new X;let y=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:y=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-y,m.z=v*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:y=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-y,m.z=v*0,g.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(g)}for(let x=0;x<=n;x++){const b=r+x*c*i,M=Math.sin(b),w=Math.cos(b);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*M,f.y=e[E].y,f.z=e[E].x*w,o.push(f.x,f.y,f.z),p.x=x/n,p.y=E/(e.length-1),s.push(p.x,p.y);const P=l[3*E+0]*M,A=l[3*E+1],C=l[3*E+0]*w;u.push(P,A,C)}}for(let x=0;x<n;x++)for(let b=0;b<e.length-1;b++){const M=b+x*e.length,w=M,E=M+e.length,P=M+e.length+1,A=M+1;a.push(w,E,A),a.push(P,A,E)}this.setIndex(a),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(s,2)),this.setAttribute("normal",new at(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wb(e.points,e.segments,e.phiStart,e.phiLength)}}class Fm extends ml{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Fm(e.radius,e.detail)}}class vd extends Et{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,p=n/l,m=[],g=[],_=[],y=[];for(let v=0;v<c;v++){const x=v*p-o;for(let b=0;b<u;b++){const M=b*f-a;g.push(M,-x,0),_.push(0,0,1),y.push(b/s),y.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<s;x++){const b=x+u*v,M=x+u*(v+1),w=x+1+u*(v+1),E=x+1+u*v;m.push(b,M,E),m.push(M,w,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vd(e.width,e.height,e.widthSegments,e.heightSegments)}}class Mb extends Et{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const p=(n-e)/i,m=new X,g=new Ee;for(let _=0;_<=i;_++){for(let y=0;y<=r;y++){const v=a+y/r*o;m.x=f*Math.cos(v),m.y=f*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=p}for(let _=0;_<i;_++){const y=_*(r+1);for(let v=0;v<r;v++){const x=v+y,b=x,M=x+r+1,w=x+r+2,E=x+1;s.push(b,M,E),s.push(M,w,E)}}this.setIndex(s),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Eb extends Et{constructor(e=new hu([new Ee(0,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(o,2));function u(c){const f=i.length/3,p=c.extractPoints(n);let m=p.shape;const g=p.holes;La.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,v=g.length;y<v;y++){const x=g[y];La.isClockWise(x)===!0&&(g[y]=x.reverse())}const _=La.triangulateShape(m,g);for(let y=0,v=g.length;y<v;y++){const x=g[y];m=m.concat(x)}for(let y=0,v=m.length;y<v;y++){const x=m[y];i.push(x.x,x.y,0),a.push(0,0,1),o.push(x.x,x.y)}for(let y=0,v=_.length;y<v;y++){const x=_[y],b=x[0]+f,M=x[1]+f,w=x[2]+f;r.push(b,M,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return O0e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new Eb(r,e.curveSegments)}}function O0e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Bm extends Et{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new X,p=new X,m=[],g=[],_=[],y=[];for(let v=0;v<=r;v++){const x=[],b=v/r;let M=0;v===0&&o===0?M=.5/n:v===r&&l===Math.PI&&(M=-.5/n);for(let w=0;w<=n;w++){const E=w/n;f.x=-e*Math.cos(i+E*a)*Math.sin(o+b*s),f.y=e*Math.cos(o+b*s),f.z=e*Math.sin(i+E*a)*Math.sin(o+b*s),g.push(f.x,f.y,f.z),p.copy(f).normalize(),_.push(p.x,p.y,p.z),y.push(E+M,1-b),x.push(u++)}c.push(x)}for(let v=0;v<r;v++)for(let x=0;x<n;x++){const b=c[v][x+1],M=c[v][x],w=c[v+1][x],E=c[v+1][x+1];(v!==0||o>0)&&m.push(b,M,E),(v!==r-1||l<Math.PI)&&m.push(M,w,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(_,3)),this.setAttribute("uv",new at(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bm(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ab extends ml{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ab(e.radius,e.detail)}}class Tb extends Et{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2,o=0,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a,thetaStart:o,thetaLength:s},r=Math.floor(r),i=Math.floor(i);const l=[],u=[],c=[],f=[],p=new X,m=new X,g=new X;for(let _=0;_<=r;_++){const y=o+_/r*s;for(let v=0;v<=i;v++){const x=v/i*a;m.x=(e+n*Math.cos(y))*Math.cos(x),m.y=(e+n*Math.cos(y))*Math.sin(x),m.z=n*Math.sin(y),u.push(m.x,m.y,m.z),p.x=e*Math.cos(x),p.y=e*Math.sin(x),g.subVectors(m,p).normalize(),c.push(g.x,g.y,g.z),f.push(v/i),f.push(_/r)}}for(let _=1;_<=r;_++)for(let y=1;y<=i;y++){const v=(i+1)*_+y-1,x=(i+1)*(_-1)+y-1,b=(i+1)*(_-1)+y,M=(i+1)*_+y;l.push(v,x,M),l.push(x,b,M)}this.setIndex(l),this.setAttribute("position",new at(u,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Pb extends Et{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new X,p=new X,m=new X,g=new X,_=new X,y=new X,v=new X;for(let b=0;b<=r;++b){const M=b/r*a*Math.PI*2;x(M,a,o,e,m),x(M+.01,a,o,e,g),y.subVectors(g,m),v.addVectors(g,m),_.crossVectors(y,v),v.crossVectors(_,y),_.normalize(),v.normalize();for(let w=0;w<=i;++w){const E=w/i*Math.PI*2,P=-n*Math.cos(E),A=n*Math.sin(E);f.x=m.x+(P*v.x+A*_.x),f.y=m.y+(P*v.y+A*_.y),f.z=m.z+(P*v.z+A*_.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),u.push(p.x,p.y,p.z),c.push(b/r),c.push(w/i)}}for(let b=1;b<=r;b++)for(let M=1;M<=i;M++){const w=(i+1)*(b-1)+(M-1),E=(i+1)*b+(M-1),P=(i+1)*b+M,A=(i+1)*(b-1)+M;s.push(w,E,A),s.push(E,P,A)}this.setIndex(s),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(c,2));function x(b,M,w,E,P){const A=Math.cos(b),C=Math.sin(b),N=w/M*b,I=Math.cos(N);P.x=E*(2+I)*.5*A,P.y=E*(2+I)*C*.5,P.z=E*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Cb extends Et{constructor(e=new mC(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new X,l=new X,u=new Ee;let c=new X;const f=[],p=[],m=[],g=[];_(),this.setIndex(g),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function _(){for(let b=0;b<n;b++)y(b);y(a===!1?n:0),x(),v()}function y(b){c=e.getPointAt(b/n,c);const M=o.normals[b],w=o.binormals[b];for(let E=0;E<=i;E++){const P=E/i*Math.PI*2,A=Math.sin(P),C=-Math.cos(P);l.x=C*M.x+A*w.x,l.y=C*M.y+A*w.y,l.z=C*M.z+A*w.z,l.normalize(),p.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function v(){for(let b=1;b<=n;b++)for(let M=1;M<=i;M++){const w=(i+1)*(b-1)+(M-1),E=(i+1)*b+(M-1),P=(i+1)*b+M,A=(i+1)*(b-1)+M;g.push(w,E,A),g.push(E,P,A)}}function x(){for(let b=0;b<=n;b++)for(let M=0;M<=i;M++)u.x=b/n,u.y=M/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Cb(new Hx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class wj extends Et{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new X,a=new X;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],p=f.start,m=f.count;for(let g=p,_=p+m;g<_;g+=3)for(let y=0;y<3;y++){const v=s.getX(g+y),x=s.getX(g+(y+1)%3);i.fromBufferAttribute(o,v),a.fromBufferAttribute(o,x),sD(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),sD(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new at(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function sD(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var lD=Object.freeze({__proto__:null,BoxGeometry:Fu,CapsuleGeometry:vb,CircleGeometry:yb,ConeGeometry:Um,CylinderGeometry:km,DodecahedronGeometry:xb,EdgesGeometry:hj,ExtrudeGeometry:bb,IcosahedronGeometry:Sb,LatheGeometry:wb,OctahedronGeometry:Fm,PlaneGeometry:vd,PolyhedronGeometry:ml,RingGeometry:Mb,ShapeGeometry:Eb,SphereGeometry:Bm,TetrahedronGeometry:Ab,TorusGeometry:Tb,TorusKnotGeometry:Pb,TubeGeometry:Cb,WireframeGeometry:wj});class Mj extends Sr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}function qf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(We("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Vr(t){const e={};for(let n=0;n<t.length;n++){const r=qf(t[n]);for(const i in r)e[i]=r[i]}return e}function I0e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Ej(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:zt.workingColorSpace}const vC={clone:qf,merge:Vr};var R0e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,N0e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fi extends Sr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=R0e,this.fragmentShader=N0e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qf(e.uniforms),this.uniformsGroups=I0e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class yC extends Fi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ob extends Sr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Aj extends Ob{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return St(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Tj extends Sr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new et(16777215),this.specular=new et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Nm,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Pj extends Sr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Cj extends Sr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Oj extends Sr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ui,this.combine=Nm,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xC extends Sr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=H5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _C extends Sr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Ij extends Sr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=hl,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Rj extends Qr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function iu(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Nj(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function AA(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function bC(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push(...o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function L0e(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],p=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let _=0;_<c;++_)p.push(u.values[m*c+_])}}f.length!==0&&(u.times=iu(f,u.times.constructor),u.values=iu(p,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function D0e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===s.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let p=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=s.times.length-1;let _;if(a<=s.times[0]){const v=c,x=f-c;_=s.values.slice(v,x)}else if(a>=s.times[g]){const v=g*f+c,x=v+f-c;_=s.values.slice(v,x)}else{const v=s.createInterpolant(),x=c,b=f-c;v.evaluate(a),_=v.resultBuffer.slice(x,b)}l==="quaternion"&&new Kr().fromArray(_).normalize().conjugate().toArray(_);const y=u.times.length;for(let v=0;v<y;++v){const x=v*m+p;if(l==="quaternion")Kr.multiplyQuaternionsFlat(u.values,x,_,0,u.values,x);else{const b=m-p*2;for(let M=0;M<b;++M)u.values[x+M]-=_[M]}}}return t.blendMode=nC,t}class k0e{static convertArray(e,n){return iu(e,n)}static isTypedArray(e){return J5(e)}static getKeyframeOrder(e){return Nj(e)}static sortedArray(e,n,r){return AA(e,n,r)}static flattenJSON(e,n,r,i){bC(e,n,r,i)}static subclip(e,n,r,i,a=30){return L0e(e,n,r,i,a)}static makeClipAdditive(e,n=0,r=e,i=30){return D0e(e,n,r,i)}}class yd{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Lj extends yd{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nu,endingEnd:nu}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case ru:a=e,s=2*n-r;break;case im:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ru:o=e,l=2*r-n;break;case im:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),_=g*g,y=_*g,v=-p*y+2*p*_-p*g,x=(1+p)*y+(-1.5-2*p)*_+(-.5+p)*g+1,b=(-1-m)*y+(1.5+m)*_+.5*g,M=m*y-m*_;for(let w=0;w!==s;++w)a[w]=v*o[c+w]+x*o[u+w]+b*o[l+w]+M*o[f+w];return a}}class SC extends yd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let p=0;p!==s;++p)a[p]=o[u+p]*f+o[l+p]*c;return a}}class Dj extends yd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class kj extends yd{interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this.settings||this.DefaultSettings_,f=c.inTangents,p=c.outTangents;if(!f||!p){const _=(r-n)/(i-n),y=1-_;for(let v=0;v!==s;++v)a[v]=o[u+v]*y+o[l+v]*_;return a}const m=s*2,g=e-1;for(let _=0;_!==s;++_){const y=o[u+_],v=o[l+_],x=g*m+_*2,b=p[x],M=p[x+1],w=e*m+_*2,E=f[w],P=f[w+1];let A=(r-n)/(i-n),C,N,I,k,B;for(let W=0;W<8;W++){C=A*A,N=C*A,I=1-A,k=I*I,B=k*I;const H=B*n+3*k*A*b+3*I*C*E+N*i-r;if(Math.abs(H)<1e-10)break;const V=3*k*(b-n)+6*I*A*(E-b)+3*C*(i-E);if(Math.abs(V)<1e-10)break;A=A-H/V,A=Math.max(0,Math.min(1,A))}a[_]=B*y+3*k*A*M+3*I*C*P+N*v}return a}}class ga{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=iu(n,this.TimeBufferType),this.values=iu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:iu(e.times,Array),values:iu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Dj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Lj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){const n=new kj(this.times,this.values,this.getValueSize(),e);return this.settings&&(n.settings=this.settings),n}setInterpolation(e){let n;switch(e){case rm:n=this.InterpolantFactoryMethodDiscrete;break;case zx:n=this.InterpolantFactoryMethodLinear;break;case Ey:n=this.InterpolantFactoryMethodSmooth;break;case _A:n=this.InterpolantFactoryMethodBezier;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return We("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rm;case this.InterpolantFactoryMethodLinear:return zx;case this.InterpolantFactoryMethodSmooth:return Ey;case this.InterpolantFactoryMethodBezier:return _A}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(mt("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(mt("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){mt("KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){mt("KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&J5(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){mt("KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Ey,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,p=f-r,m=f+r;for(let g=0;g!==r;++g){const _=n[f+g];if(_!==n[p+g]||_!==n[m+g]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ga.prototype.ValueTypeName="";ga.prototype.TimeBufferType=Float32Array;ga.prototype.ValueBufferType=Float32Array;ga.prototype.DefaultInterpolation=zx;class Bu extends ga{constructor(e,n,r){super(e,n,r)}}Bu.prototype.ValueTypeName="bool";Bu.prototype.ValueBufferType=Array;Bu.prototype.DefaultInterpolation=rm;Bu.prototype.InterpolantFactoryMethodLinear=void 0;Bu.prototype.InterpolantFactoryMethodSmooth=void 0;class wC extends ga{constructor(e,n,r,i){super(e,n,r,i)}}wC.prototype.ValueTypeName="color";class hm extends ga{constructor(e,n,r,i){super(e,n,r,i)}}hm.prototype.ValueTypeName="number";class Uj extends yd{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)Kr.slerpFlat(a,0,o,u-s,o,u,l);return a}}class zm extends ga{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new Uj(this.times,this.values,this.getValueSize(),e)}}zm.prototype.ValueTypeName="quaternion";zm.prototype.InterpolantFactoryMethodSmooth=void 0;class zu extends ga{constructor(e,n,r){super(e,n,r)}}zu.prototype.ValueTypeName="string";zu.prototype.ValueBufferType=Array;zu.prototype.DefaultInterpolation=rm;zu.prototype.InterpolantFactoryMethodLinear=void 0;zu.prototype.InterpolantFactoryMethodSmooth=void 0;class pm extends ga{constructor(e,n,r,i){super(e,n,r,i)}}pm.prototype.ValueTypeName="vector";class mm{constructor(e="",n=-1,r=[],i=ob){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Li(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push(F0e(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=r.length;a!==o;++a)n.push(ga.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=Nj(l);l=AA(l,1,c),u=AA(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new hm(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let p=i[f];p||(i[f]=p=[]),p.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(We("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return mt("AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,g,_){if(m.length!==0){const y=[],v=[];bC(m,y,v,g),y.length!==0&&_.push(new f(p,y,v))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const p=u[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let _=0;_<p[g].morphTargets.length;_++)m[p[g].morphTargets[_]]=-1;for(const _ in m){const y=[],v=[];for(let x=0;x!==p[g].morphTargets.length;++x){const b=p[g];y.push(b.time),v.push(b.morphTarget===_?1:0)}i.push(new hm(".morphTargetInfluence["+_+"]",y,v))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(pm,m+".position",p,"pos",i),r(zm,m+".quaternion",p,"rot",i),r(pm,m+".scale",p,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function U0e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hm;case"vector":case"vector2":case"vector3":case"vector4":return pm;case"color":return wC;case"quaternion":return zm;case"bool":case"boolean":return Bu;case"string":return zu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function F0e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=U0e(t.type);if(t.times===void 0){const n=[],r=[];bC(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const oo={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(uD(t)||(this.files[t]=e))},get:function(t){if(this.enabled!==!1&&!uD(t))return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function uD(t){try{const e=t.slice(t.indexOf(":")+1);return new URL(e).protocol==="blob:"}catch{return!1}}class MC{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(c){s++,a===!1&&i.onStart!==void 0&&i.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,p=u.length;f<p;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const Fj=new MC;class vi{constructor(e){this.manager=e!==void 0?e:Fj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}vi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ro={};class B0e extends Error{constructor(e,n){super(e),this.response=n}}class ns extends vi{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=oo.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(Ro[e]!==void 0){Ro[e].push({onLoad:n,onProgress:r,onError:i});return}Ro[e]=[],Ro[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&We("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ro[e],f=u.body.getReader(),p=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=p?parseInt(p):0,g=m!==0;let _=0;const y=new ReadableStream({start(v){x();function x(){f.read().then(({done:b,value:M})=>{if(b)v.close();else{_+=M.byteLength;const w=new ProgressEvent("progress",{lengthComputable:g,loaded:_,total:m});for(let E=0,P=c.length;E<P;E++){const A=c[E];A.onProgress&&A.onProgress(w)}v.enqueue(M),x()}},b=>{v.error(b)})}}});return new Response(y)}else throw new B0e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{oo.add(`file:${e}`,u);const c=Ro[e];delete Ro[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=Ro[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ro[e];for(let f=0,p=c.length;f<p;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class z0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=mm.parse(e[r]);n.push(i)}return n}}class j0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new gb,l=new ns(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(p){const m=a.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=dn),s.image=o,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)c(f);else l.load(e,function(f){const p=a.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+_]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}s.image=o}else s.image.width=p.width,s.image.height=p.height,s.mipmaps=p.mipmaps;p.mipmapCount===1&&(s.minFilter=dn),s.format=p.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}const Mc=new WeakMap;class gm extends vi{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=oo.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0);else{let f=Mc.get(o);f===void 0&&(f=[],Mc.set(o,f)),f.push({onLoad:n,onError:i})}return o}const s=sm("img");function l(){c(),n&&n(this);const f=Mc.get(this)||[];for(let p=0;p<f.length;p++){const m=f[p];m.onLoad&&m.onLoad(this)}Mc.delete(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),oo.remove(`image:${e}`);const p=Mc.get(this)||[];for(let m=0;m<p.length;m++){const g=p[m];g.onError&&g.onError(f)}Mc.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),oo.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class $0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=new Dm;a.colorSpace=oi;const o=new gm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class V0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new Ua,s=new ns(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{c(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:fi,o.wrapT=u.wrapT!==void 0?u.wrapT:fi,o.magFilter=u.magFilter!==void 0?u.magFilter:dn,o.minFilter=u.minFilter!==void 0?u.minFilter:dn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=ao),u.mipmapCount===1&&(o.minFilter=dn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class H0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=new Cn,o=new gm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class gl extends Wt{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new et(e),this.intensity=n}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,n}}class Bj extends gl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}toJSON(e){const n=super.toJSON(e);return n.object.groundColor=this.groundColor.getHex(),n}}const Sw=new wt,cD=new X,fD=new X;class EC{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ee(512,512),this.mapType=Gr,this.map=null,this.mapPass=null,this.matrix=new wt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new gd,this._frameExtents=new Ee(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;cD.setFromMatrixPosition(e.matrixWorld),n.position.copy(cD),fD.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(fD),n.updateMatrixWorld(),Sw.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sw,n.coordinateSystem,n.reversedDepth),n.coordinateSystem===Tu||n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Sw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Jv=new X,Qv=new Kr,Qa=new X;class jm extends Wt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new wt,this.projectionMatrix=new wt,this.projectionMatrixInverse=new wt,this.coordinateSystem=Ri,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(Jv,Qv,Qa),Qa.x===1&&Qa.y===1&&Qa.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(Jv,Qv,Qa.set(1,1,1)).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorld.decompose(Jv,Qv,Qa),Qa.x===1&&Qa.y===1&&Qa.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(Jv,Qv,Qa.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const Ms=new X,dD=new Ee,hD=new Ee;let dr=class extends jm{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Gf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gf*2*Math.atan(Math.tan(fu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ms.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ms.x,Ms.y).multiplyScalar(-e/Ms.z),Ms.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ms.x,Ms.y).multiplyScalar(-e/Ms.z)}getViewSize(e,n){return this.getViewBounds(e,dD,hD),n.subVectors(hD,dD)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(fu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};class G0e extends EC{constructor(){super(new dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=Gf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class zj extends gl{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new G0e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.angle=this.angle,n.object.decay=this.decay,n.object.penumbra=this.penumbra,n.object.target=this.target.uuid,this.map&&this.map.isTexture&&(n.object.map=this.map.toJSON(e).uuid),n.object.shadow=this.shadow.toJSON(),n}}class W0e extends EC{constructor(){super(new dr(90,1,.5,500)),this.isPointLightShadow=!0}}class jj extends gl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new W0e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.distance=this.distance,n.object.decay=this.decay,n.object.shadow=this.shadow.toJSON(),n}}class xd extends jm{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class X0e extends EC{constructor(){super(new xd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $j extends gl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wt.DEFAULT_UP),this.updateMatrix(),this.target=new Wt,this.shadow=new X0e}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const n=super.toJSON(e);return n.object.shadow=this.shadow.toJSON(),n.object.target=this.target.uuid,n}}class Vj extends gl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Hj extends gl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class AC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class Gj extends gl{constructor(e=new AC,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Ib extends vi{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new ns(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&We("MaterialLoader: Undefined texture",a),n[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new et().setHex(o.value);break;case"v2":i.uniforms[a].value=new Ee().fromArray(o.value);break;case"v3":i.uniforms[a].value=new X().fromArray(o.value);break;case"v4":i.uniforms[a].value=new cn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new Pt().fromArray(o.value);break;case"m4":i.uniforms[a].value=new wt().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ee().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ee().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Ib.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Mj,SpriteMaterial:sC,RawShaderMaterial:yC,ShaderMaterial:Fi,PointsMaterial:uC,MeshPhysicalMaterial:Aj,MeshStandardMaterial:Ob,MeshPhongMaterial:Tj,MeshToonMaterial:Pj,MeshNormalMaterial:Cj,MeshLambertMaterial:Oj,MeshDepthMaterial:xC,MeshDistanceMaterial:_C,MeshBasicMaterial:pl,MeshMatcapMaterial:Ij,LineDashedMaterial:Rj,LineBasicMaterial:Qr,Material:Sr};return new n[e]}}class TA{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Wj extends Et{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Xj extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):mt(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const y=m.interleavedBuffers[g],v=a(m,y.buffer),x=Zc(y.type,v),b=new hb(x,y.stride);return b.uuid=y.uuid,n[g]=b,b}function a(m,g){if(r[g]!==void 0)return r[g];const y=m.arrayBuffers[g],v=new Uint32Array(y).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new Wj:new Et,s=e.data.index;if(s!==void 0){const m=Zc(s.type,s.array);o.setIndex(new Qt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let _;if(g.isInterleavedBufferAttribute){const y=i(e.data,g.data);_=new Pu(y,g.itemSize,g.offset,g.normalized)}else{const y=Zc(g.type,g.array),v=g.isInstancedBufferAttribute?Wf:Qt;_=new v(y,g.itemSize,g.normalized)}g.name!==void 0&&(_.name=g.name),g.usage!==void 0&&_.setUsage(g.usage),o.setAttribute(m,_)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],_=[];for(let y=0,v=g.length;y<v;y++){const x=g[y];let b;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);b=new Pu(M,x.itemSize,x.offset,x.normalized)}else{const M=Zc(x.type,x.array);b=new Qt(M,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),_.push(b)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const _=f[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(o.boundingSphere=new _r().fromJSON(p)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class q0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?TA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new ns(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),f("ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),mt("ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?TA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new ns(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n);let s;try{s=JSON.parse(o)}catch(u){throw new Error("ObjectLoader: Can't parse "+e+". "+u.message)}const l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),n!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new hu().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new pb().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Xj;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in lD?s=lD[l.type].fromJSON(l,n):We(`ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new Ib;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=mm.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Zc(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new MC(n);a=new gm(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],p=f.url;if(Array.isArray(p)){const m=[];for(let g=0,_=p.length;g<_;g++){const y=p[g],v=s(y);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Ua(v.data,v.width,v.height)))}i[f.uuid]=new Bs(m)}else{const m=s(f.url);i[f.uuid]=new Bs(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:Zc(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new gm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,p=u.length;f<p;f++){const m=u[f],g=await a(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Ua(g.data,g.width,g.height)))}r[l.uuid]=new Bs(c)}else{const c=await a(l.url);r[l.uuid]=new Bs(c)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(We("ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&We('ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&We("ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new Dm,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Ua:c=new Cn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,Y0e)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],pD),c.wrapT=r(s.wrap[1],pD)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,mD)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,mD)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,a){let o;function s(p){return n[p]===void 0&&We("ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,_=p.length;g<_;g++){const y=p[g];r[y]===void 0&&We("ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[p]===void 0&&We("ObjectLoader: Undefined material",p),r[p]}}function u(p){return i[p]===void 0&&We("ObjectLoader: Undefined texture",p),i[p]}let c,f;switch(e.type){case"Scene":o=new jx,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new et(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new db(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new fb(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new dr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new xd(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Vj(e.color,e.intensity);break;case"DirectionalLight":o=new $j(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new jj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Hj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new zj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Bj(e.color,e.groundColor,e.intensity);break;case"LightProbe":const p=new AC().fromArray(e.sh);o=new Gj(p,e.intensity);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new oj(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new qn(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const m=e.count,g=e.instanceMatrix,_=e.instanceColor;o=new sj(c,f,m),o.instanceMatrix=new Wf(new Float32Array(g.array),16),_!==void 0&&(o.instanceColor=new Wf(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new lj(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let v=null,x=null;return y.boundingBox!==void 0&&(v=new Fr().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(x=new _r().fromJSON(y.boundingSphere)),{...y,boundingBox:v,boundingSphere:x}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=u(e.matricesTexture.uuid),o._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new _r().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Fr().fromJSON(e.boundingBox));break;case"LOD":o=new aj;break;case"Line":o=new rl(s(e.geometry),l(e.material));break;case"LineLoop":o=new uj(s(e.geometry),l(e.material));break;case"LineSegments":o=new yo(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new cj(s(e.geometry),l(e.material));break;case"Sprite":o=new ij(l(e.material));break;case"Group":o=new Jc;break;case"Bone":o=new lC;break;default:o=new Wt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.pivot!==void 0&&(o.pivot=new X().fromArray(e.pivot)),e.morphTargetDictionary!==void 0&&(o.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),e.morphTargetInfluences!==void 0&&(o.morphTargetInfluences=e.morphTargetInfluences.slice()),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.static!==void 0&&(o.static=e.static),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,a))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],_=o.getObjectByProperty("uuid",g.object);_!==void 0&&o.addLevel(_,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?We("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Wt}})}}const Y0e={UVMapping:Q_,CubeReflectionMapping:po,CubeRefractionMapping:tl,EquirectangularReflectionMapping:Hh,EquirectangularRefractionMapping:Gh,CubeUVReflectionMapping:pd},pD={RepeatWrapping:tm,ClampToEdgeWrapping:fi,MirroredRepeatWrapping:nm},mD={NearestFilter:zn,NearestMipmapNearestFilter:YP,NearestMipmapLinearFilter:Kc,LinearFilter:dn,LinearMipmapNearestFilter:Wh,LinearMipmapLinearFilter:ao},ww=new WeakMap;class K0e extends vi{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&We("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&We("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=oo.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{if(ww.has(o)===!0)i&&i(ww.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return n&&n(u),a.manager.itemEnd(e),u});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return oo.add(`image-bitmap:${e}`,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),ww.set(l,u),oo.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});oo.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let ey;class TC{static getContext(){return ey===void 0&&(ey=new(window.AudioContext||window.webkitAudioContext)),ey}static setContext(e){ey=e}}class Z0e extends vi{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ns(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);TC.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):mt(l),a.manager.itemError(e)}}}const gD=new wt,vD=new wt,Nl=new wt;class J0e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Nl.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(fu*n.fov*.5)/n.zoom;let s,l;vD.elements[12]=-i,gD.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,Nl.elements[0]=2*n.near/(l-s),Nl.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Nl),s=-o*n.aspect-a,l=o*n.aspect-a,Nl.elements[0]=2*n.near/(l-s),Nl.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Nl)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(vD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(gD)}}const Ec=-90,Ac=1;class qj extends Wt{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new dr(Ec,Ac,e,n);i.layers=this.layers,this.add(i);const a=new dr(Ec,Ac,e,n);a.layers=this.layers,this.add(a);const o=new dr(Ec,Ac,e,n);o.layers=this.layers,this.add(o);const s=new dr(Ec,Ac,e,n);s.layers=this.layers,this.add(s);const l=new dr(Ec,Ac,e,n);l.layers=this.layers,this.add(l);const u=new dr(Ec,Ac,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===Ri)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Tu)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const _=r.texture.generateMipmaps;r.texture.generateMipmaps=!1;let y=!1;e.isWebGLRenderer===!0?y=e.state.buffers.depth.getReversed():y=e.reversedDepthBuffer,e.setRenderTarget(r,0,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,a),e.setRenderTarget(r,1,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,o),e.setRenderTarget(r,2,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,s),e.setRenderTarget(r,3,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,l),e.setRenderTarget(r,4,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,u),r.texture.generateMipmaps=_,e.setRenderTarget(r,5,i),y&&e.autoClear===!1&&e.clearDepth(),e.render(n,c),e.setRenderTarget(f,p,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class Yj extends dr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Kj{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Q0e.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Q0e(){this._document.hidden===!1&&this.reset()}const Ll=new X,Mw=new Kr,exe=new X,Dl=new X,kl=new X;class txe extends Wt{constructor(){super(),this.type="AudioListener",this.context=TC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new Kj}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e),this._timer.update();const n=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(Ll,Mw,exe),Dl.set(0,0,-1).applyQuaternion(Mw),kl.set(0,1,0).applyQuaternion(Mw),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ll.x,r),n.positionY.linearRampToValueAtTime(Ll.y,r),n.positionZ.linearRampToValueAtTime(Ll.z,r),n.forwardX.linearRampToValueAtTime(Dl.x,r),n.forwardY.linearRampToValueAtTime(Dl.y,r),n.forwardZ.linearRampToValueAtTime(Dl.z,r),n.upX.linearRampToValueAtTime(kl.x,r),n.upY.linearRampToValueAtTime(kl.y,r),n.upZ.linearRampToValueAtTime(kl.z,r)}else n.setPosition(Ll.x,Ll.y,Ll.z),n.setOrientation(Dl.x,Dl.y,Dl.z,kl.x,kl.y,kl.z)}}class Zj extends Wt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){We("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(We("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){We("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(We("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Ul=new X,yD=new Kr,nxe=new X,Fl=new X;class rxe extends Zj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ul,yD,nxe),Fl.set(0,0,1).applyQuaternion(yD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ul.x,r),n.positionY.linearRampToValueAtTime(Ul.y,r),n.positionZ.linearRampToValueAtTime(Ul.z,r),n.orientationX.linearRampToValueAtTime(Fl.x,r),n.orientationY.linearRampToValueAtTime(Fl.y,r),n.orientationZ.linearRampToValueAtTime(Fl.z,r)}else n.setPosition(Ul.x,Ul.y,Ul.z),n.setOrientation(Fl.x,Fl.y,Fl.z)}}class ixe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Jj{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Kr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;Kr.multiplyQuaternionsFlat(e,o,e,n,e,r),Kr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const PC="\\[\\]\\.:\\/",axe=new RegExp("["+PC+"]","g"),CC="[^"+PC+"]",oxe="[^"+PC.replace("\\.","")+"]",sxe=/((?:WC+[\/:])*)/.source.replace("WC",CC),lxe=/(WCOD+)?/.source.replace("WCOD",oxe),uxe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CC),cxe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CC),fxe=new RegExp("^"+sxe+lxe+uxe+cxe+"$"),dxe=["material","materials","bones","map"];class hxe{constructor(e,n,r){const i=r||Vt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vt{constructor(e,n,r){this.path=n,this.parsedPath=r||Vt.parseTrackName(n),this.node=Vt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vt.Composite(e,n,r):new Vt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(axe,"")}static parseTrackName(e){const n=fxe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);dxe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=Vt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){We("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){mt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){mt("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){mt("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){mt("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){mt("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){mt("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){mt("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;mt("PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){mt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){mt("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vt.Composite=hxe;Vt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vt.prototype.GetterByBindingType=[Vt.prototype._getValue_direct,Vt.prototype._getValue_array,Vt.prototype._getValue_arrayElement,Vt.prototype._getValue_toArray];Vt.prototype.SetterByBindingTypeAndVersioning=[[Vt.prototype._setValue_direct,Vt.prototype._setValue_direct_setNeedsUpdate,Vt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_array,Vt.prototype._setValue_array_setNeedsUpdate,Vt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_arrayElement,Vt.prototype._setValue_arrayElement_setNeedsUpdate,Vt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vt.prototype._setValue_fromArray,Vt.prototype._setValue_fromArray_setNeedsUpdate,Vt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pxe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Li(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const p=arguments[c],m=p.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(p);for(let _=0,y=o;_!==y;++_)a[_].push(new Vt(p,r[_],i[_]))}else if(g<u){s=e[g];const _=--u,y=e[_];n[y.uuid]=g,e[g]=y,n[m]=_,e[_]=p;for(let v=0,x=o;v!==x;++v){const b=a[v],M=b[_];let w=b[g];b[g]=M,w===void 0&&(w=new Vt(p,r[v],i[v])),b[_]=w}}else e[g]!==s&&mt("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=a){const f=a++,p=e[f];n[p.uuid]=c,e[c]=p,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const _=r[m],y=_[f],v=_[c];_[c]=y,_[f]=v}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<a){const p=--a,m=e[p],g=--o,_=e[g];n[m.uuid]=f,e[f]=m,n[_.uuid]=p,e[p]=_,e.pop();for(let y=0,v=i;y!==v;++y){const x=r[y],b=x[p],M=x[g];x[f]=b,x[p]=M,x.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,_=i;g!==_;++g){const y=r[g];y[f]=y[p],y.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(f);for(let p=c,m=l.length;p!==m;++p){const g=l[p];f[p]=new Vt(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class Qj{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:nu,endingEnd:nu};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case nC:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case ob:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===V5;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===j5){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=ru,i.endingEnd=ru):(e?i.endingStart=this.zeroSlopeAtStart?ru:nu:i.endingStart=im,n?i.endingEnd=this.zeroSlopeAtEnd?ru:nu:i.endingEnd=im)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const mxe=new Float32Array(1);class gxe extends vo{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const p=i[f],m=p.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const _=n&&n._propertyBindings[f].binding.parsedPath;g=new Jj(Vt.create(r,m,_),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}s[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new SC(new Float32Array(2),new Float32Array(2),1,mxe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?mm.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=ob),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new Qj(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?mm.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class vxe extends iC{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new cb(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class OC{constructor(e){this.value=e}clone(){return new OC(this.value.clone===void 0?this.value:this.value.clone())}}let yxe=0;class xxe extends vo{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:yxe++}),this.name="",this.usage=om,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class _xe extends hb{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class bxe{constructor(e,n,r,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const xD=new wt;class e${constructor(e,n,r=0,i=1/0){this.ray=new md(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new du,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):mt("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return xD.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(xD),this}intersectObject(e,n=!0,r=[]){return PA(e,this,r,n),r.sort(_D),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)PA(e[i],this,r,n);return r.sort(_D),r}}function _D(t,e){return t.distance-e.distance}function PA(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const a=t.children;for(let o=0,s=a.length;o<s;o++)PA(a[o],e,n,!0)}}class t${constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,We("THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.")}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}class Sxe{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=St(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(St(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class wxe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class IC{constructor(e,n,r,i){IC.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const a=this.elements;return a[0]=e,a[2]=n,a[1]=r,a[3]=i,this}}const bD=new Ee;class Mxe{constructor(e=new Ee(1/0,1/0),n=new Ee(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=bD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,bD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const SD=new X,ty=new X,Tc=new X,Pc=new X,Ew=new X,Exe=new X,Axe=new X;class Txe{constructor(e=new X,n=new X){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){SD.subVectors(e,this.start),ty.subVectors(this.end,this.start);const r=ty.dot(ty);let a=ty.dot(SD)/r;return n&&(a=St(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=Exe,r=Axe){const i=10000000000000001e-32;let a,o;const s=this.start,l=e.start,u=this.end,c=e.end;Tc.subVectors(u,s),Pc.subVectors(c,l),Ew.subVectors(s,l);const f=Tc.dot(Tc),p=Pc.dot(Pc),m=Pc.dot(Ew);if(f<=i&&p<=i)return n.copy(s),r.copy(l),n.sub(r),n.dot(n);if(f<=i)a=0,o=m/p,o=St(o,0,1);else{const g=Tc.dot(Ew);if(p<=i)o=0,a=St(-g/f,0,1);else{const _=Tc.dot(Pc),y=f*p-_*_;y!==0?a=St((_*m-g*p)/y,0,1):a=0,o=(_*a+m)/p,o<0?(o=0,a=St(-g/f,0,1)):o>1&&(o=1,a=St((_-g)/f,0,1))}}return n.copy(s).addScaledVector(Tc,a),r.copy(l).addScaledVector(Pc,o),n.distanceToSquared(r)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const wD=new X;class Pxe extends Wt{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Et,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new at(i,3));const a=new Qr({fog:!1,toneMapped:!1});this.cone=new yo(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),wD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(wD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Es=new X,ny=new wt,Aw=new wt;class Cxe extends yo{constructor(e){const n=n$(e),r=new Et,i=[],a=[];for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(a,3));const o=new Qr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new et(255),l=new et(65280);this.setColors(s,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");Aw.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(ny.multiplyMatrices(Aw,s.matrixWorld),Es.setFromMatrixPosition(ny),i.setXYZ(o,Es.x,Es.y,Es.z),ny.multiplyMatrices(Aw,s.parent.matrixWorld),Es.setFromMatrixPosition(ny),i.setXYZ(o+1,Es.x,Es.y,Es.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function n$(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...n$(t.children[n]));return e}class Oxe extends qn{constructor(e,n,r){const i=new Bm(n,4,2),a=new pl({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Ixe=new X,MD=new et,ED=new et;class Rxe extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Fm(n);i.rotateY(Math.PI*.5),this.material=new pl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Qt(o,3)),this.add(new qn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");MD.copy(this.light.color),ED.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?MD:ED;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Ixe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Nxe extends yo{constructor(e=10,n=10,r=4473924,i=8947848){r=new et(r),i=new et(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let p=0,m=0,g=-s;p<=n;p++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const _=p===a?r:i;_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3,_.toArray(u,m),m+=3}const c=new Et;c.setAttribute("position",new at(l,3)),c.setAttribute("color",new at(u,3));const f=new Qr({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Lxe extends yo{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new et(a),o=new et(o);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;s.push(0,0,0),s.push(m,0,g);const _=f&1?a:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let f=0;f<r;f++){const p=f&1?a:o,m=e-e/r*f;for(let g=0;g<i;g++){let _=g/i*(Math.PI*2),y=Math.sin(_)*m,v=Math.cos(_)*m;s.push(y,0,v),l.push(p.r,p.g,p.b),_=(g+1)/i*(Math.PI*2),y=Math.sin(_)*m,v=Math.cos(_)*m,s.push(y,0,v),l.push(p.r,p.g,p.b)}}const u=new Et;u.setAttribute("position",new at(s,3)),u.setAttribute("color",new at(l,3));const c=new Qr({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const AD=new X,ry=new X,TD=new X;class Dxe extends Wt{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Et;i.setAttribute("position",new at([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Qr({fog:!1,toneMapped:!1});this.lightPlane=new rl(i,a),this.add(this.lightPlane),i=new Et,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new rl(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),AD.setFromMatrixPosition(this.light.matrixWorld),ry.setFromMatrixPosition(this.light.target.matrixWorld),TD.subVectors(ry,AD),this.lightPlane.lookAt(ry),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ry),this.targetLine.scale.z=TD.length()}}const iy=new X,Nn=new jm;class kxe extends yo{constructor(e){const n=new Et,r=new Qr({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,_){l(g),l(_)}function l(g){i.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new at(i,3)),n.setAttribute("color",new at(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new et(16755200),c=new et(16711680),f=new et(43775),p=new et(16777215),m=new et(3355443);this.setColors(u,c,f,p,m)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let a,o;if(Nn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Ri)a=-1,o=1;else if(this.camera.coordinateSystem===Tu)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Un("c",n,e,Nn,0,0,a),Un("t",n,e,Nn,0,0,o),Un("n1",n,e,Nn,-r,-i,a),Un("n2",n,e,Nn,r,-i,a),Un("n3",n,e,Nn,-r,i,a),Un("n4",n,e,Nn,r,i,a),Un("f1",n,e,Nn,-r,-i,o),Un("f2",n,e,Nn,r,-i,o),Un("f3",n,e,Nn,-r,i,o),Un("f4",n,e,Nn,r,i,o),Un("u1",n,e,Nn,r*.7,i*1.1,a),Un("u2",n,e,Nn,-r*.7,i*1.1,a),Un("u3",n,e,Nn,0,i*2,a),Un("cf1",n,e,Nn,-r,0,o),Un("cf2",n,e,Nn,r,0,o),Un("cf3",n,e,Nn,0,-i,o),Un("cf4",n,e,Nn,0,i,o),Un("cn1",n,e,Nn,-r,0,a),Un("cn2",n,e,Nn,r,0,a),Un("cn3",n,e,Nn,0,-i,a),Un("cn4",n,e,Nn,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Un(t,e,n,r,i,a,o){iy.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],iy.x,iy.y,iy.z)}}const ay=new Fr;class Uxe extends yo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Et;a.setIndex(new Qt(r,1)),a.setAttribute("position",new Qt(i,3)),super(a,new Qr({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ay.setFromObject(this.object),ay.isEmpty())return;const e=ay.min,n=ay.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fxe extends yo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Et;a.setIndex(new Qt(r,1)),a.setAttribute("position",new at(i,3)),super(a,new Qr({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Bxe extends rl{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Et;o.setAttribute("position",new at(a,3)),o.computeBoundingSphere(),super(o,new Qr({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Et;l.setAttribute("position",new at(s,3)),l.computeBoundingSphere(),this.add(new qn(l,new pl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const PD=new X;let oy,Tw;class zxe extends Wt{constructor(e=new X(0,0,1),n=new X(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",oy===void 0&&(oy=new Et,oy.setAttribute("position",new at([0,0,0,0,1,0],3)),Tw=new Um(.5,1,5,1),Tw.translate(0,-.5,0)),this.position.copy(n),this.line=new rl(oy,new Qr({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new qn(Tw,new pl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{PD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(PD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class jxe extends yo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Et;i.setAttribute("position",new at(n,3)),i.setAttribute("color",new at(r,3));const a=new Qr({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new et,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $xe{constructor(){this.type="ShapePath",this.color=new et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Gx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const x=[];for(let b=0,M=v.length;b<M;b++){const w=v[b],E=new hu;E.curves=w.curves,x.push(E)}return x}function r(v,x){const b=x.length;let M=!1;for(let w=b-1,E=0;E<b;w=E++){let P=x[w],A=x[E],C=A.x-P.x,N=A.y-P.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(P=x[E],C=-C,A=x[w],N=-N),v.y<P.y||v.y>A.y)continue;if(v.y===P.y){if(v.x===P.x)return!0}else{const I=N*(v.x-P.x)-C*(v.y-P.y);if(I===0)return!0;if(I<0)continue;M=!M}}else{if(v.y!==P.y)continue;if(A.x<=v.x&&v.x<=P.x||P.x<=v.x&&v.x<=A.x)return!0}}return M}const i=La.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new hu,l.curves=s.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],p=[];let m=[],g=0,_;p[g]=void 0,m[g]=[];for(let v=0,x=a.length;v<x;v++)s=a[v],_=s.getPoints(),o=i(_),o=e?!o:o,o?(!c&&p[g]&&g++,p[g]={s:new hu,p:_},p[g].s.curves=s.curves,c&&g++,m[g]=[]):m[g].push({h:s,p:_[0]});if(!p[0])return n(a);if(p.length>1){let v=!1,x=0;for(let b=0,M=p.length;b<M;b++)f[b]=[];for(let b=0,M=p.length;b<M;b++){const w=m[b];for(let E=0;E<w.length;E++){const P=w[E];let A=!0;for(let C=0;C<p.length;C++)r(P.p,p[C].p)&&(b!==C&&x++,A?(A=!1,f[C].push(P)):v=!0);A&&f[b].push(P)}}x>0&&v===!1&&(m=f)}let y;for(let v=0,x=p.length;v<x;v++){l=p[v].s,u.push(l),y=m[v];for(let b=0,M=y.length;b<M;b++)l.holes.push(y[b].h)}return u}}class Vxe extends vo{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){We("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Hxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Gxe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Wxe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function CA(t,e,n,r){const i=Xxe(r);switch(n){case eC:return t*e;case rb:return t*e/i.components*i.byteLength;case Lm:return t*e/i.components*i.byteLength;case Eu:return t*e*2/i.components*i.byteLength;case ib:return t*e*2/i.components*i.byteLength;case tC:return t*e*3/i.components*i.byteLength;case Ur:return t*e*4/i.components*i.byteLength;case ab:return t*e*4/i.components*i.byteLength;case Xh:case qh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Yh:case Kh:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case ux:case fx:return Math.max(t,16)*Math.max(e,8)/4;case lx:case cx:return Math.max(t,8)*Math.max(e,8)/2;case dx:case hx:case mx:case gx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case px:case vx:case yx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case xx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _x:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case bx:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Sx:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case wx:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Mx:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Ex:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Ax:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Tx:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Px:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Cx:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Ox:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Ix:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Rx:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Nx:case Lx:case Dx:return Math.ceil(t/4)*Math.ceil(e/4)*16;case kx:case Ux:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Fx:case Bx:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function Xxe(t){switch(t){case Gr:case KP:return{byteLength:1,components:1};case Vf:case ZP:case Ba:return{byteLength:2,components:1};case tb:case nb:return{byteLength:2,components:4};case ha:case eb:case kr:return{byteLength:4,components:1};case JP:case QP:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class qxe{static contain(e,n){return Hxe(e,n)}static cover(e,n){return Gxe(e,n)}static fill(e){return Wxe(e)}static getByteLength(e,n,r,i){return CA(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Z_}}));typeof window<"u"&&(window.__THREE__?We("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Z_);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function r$(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Yxe(t){const e=new WeakMap;function n(s,l){const u=s.array,c=s.usage,f=u.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,u,c),s.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)m=t.HALF_FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:p,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l.updateRanges;if(t.bindBuffer(u,s),f.length===0)t.bufferSubData(u,0,c);else{f.sort((m,g)=>m.start-g.start);let p=0;for(let m=1;m<f.length;m++){const g=f[p],_=f[m];_.start<=g.start+g.count+1?g.count=Math.max(g.count,_.start+_.count-g.start):(++p,f[p]=_)}f.length=p+1;for(let m=0,g=f.length;m<g;m++){const _=f[m];t.bufferSubData(u,_.start*c.BYTES_PER_ELEMENT,c,_.start,_.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}var Kxe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Zxe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Jxe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Qxe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,e_e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,t_e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,n_e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,r_e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,i_e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,a_e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,o_e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,s_e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,l_e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,u_e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,c_e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,f_e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,d_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,h_e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,p_e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,m_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,g_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,v_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,y_e=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,x_e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,__e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,b_e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,S_e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,w_e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,M_e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,E_e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,A_e="gl_FragColor = linearToOutputTexel( gl_FragColor );",T_e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,P_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,C_e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,O_e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,I_e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,R_e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,N_e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,L_e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,D_e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,k_e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,U_e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,F_e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,B_e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,z_e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,j_e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$_e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,V_e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,H_e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,G_e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,W_e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,X_e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,q_e=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Y_e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,K_e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Z_e=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,J_e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Q_e=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ebe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tbe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nbe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rbe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ibe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,abe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,obe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,sbe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lbe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ube=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,cbe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fbe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,dbe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hbe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pbe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mbe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gbe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vbe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ybe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xbe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,_be=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bbe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Sbe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wbe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mbe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,Ebe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Abe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Tbe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Pbe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Cbe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Obe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ibe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,Rbe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Nbe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Lbe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Dbe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kbe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Ube=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Fbe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Bbe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,zbe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jbe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,$be=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Vbe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Hbe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Gbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Wbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xbe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,qbe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ybe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Kbe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jbe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qbe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eSe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nSe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,rSe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iSe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,aSe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oSe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sSe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lSe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uSe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,cSe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fSe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dSe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hSe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pSe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mSe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gSe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vSe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ySe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xSe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,_Se=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bSe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SSe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wSe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,MSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ESe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ASe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TSe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,PSe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,It={alphahash_fragment:Kxe,alphahash_pars_fragment:Zxe,alphamap_fragment:Jxe,alphamap_pars_fragment:Qxe,alphatest_fragment:e_e,alphatest_pars_fragment:t_e,aomap_fragment:n_e,aomap_pars_fragment:r_e,batching_pars_vertex:i_e,batching_vertex:a_e,begin_vertex:o_e,beginnormal_vertex:s_e,bsdfs:l_e,iridescence_fragment:u_e,bumpmap_pars_fragment:c_e,clipping_planes_fragment:f_e,clipping_planes_pars_fragment:d_e,clipping_planes_pars_vertex:h_e,clipping_planes_vertex:p_e,color_fragment:m_e,color_pars_fragment:g_e,color_pars_vertex:v_e,color_vertex:y_e,common:x_e,cube_uv_reflection_fragment:__e,defaultnormal_vertex:b_e,displacementmap_pars_vertex:S_e,displacementmap_vertex:w_e,emissivemap_fragment:M_e,emissivemap_pars_fragment:E_e,colorspace_fragment:A_e,colorspace_pars_fragment:T_e,envmap_fragment:P_e,envmap_common_pars_fragment:C_e,envmap_pars_fragment:O_e,envmap_pars_vertex:I_e,envmap_physical_pars_fragment:$_e,envmap_vertex:R_e,fog_vertex:N_e,fog_pars_vertex:L_e,fog_fragment:D_e,fog_pars_fragment:k_e,gradientmap_pars_fragment:U_e,lightmap_pars_fragment:F_e,lights_lambert_fragment:B_e,lights_lambert_pars_fragment:z_e,lights_pars_begin:j_e,lights_toon_fragment:V_e,lights_toon_pars_fragment:H_e,lights_phong_fragment:G_e,lights_phong_pars_fragment:W_e,lights_physical_fragment:X_e,lights_physical_pars_fragment:q_e,lights_fragment_begin:Y_e,lights_fragment_maps:K_e,lights_fragment_end:Z_e,logdepthbuf_fragment:J_e,logdepthbuf_pars_fragment:Q_e,logdepthbuf_pars_vertex:ebe,logdepthbuf_vertex:tbe,map_fragment:nbe,map_pars_fragment:rbe,map_particle_fragment:ibe,map_particle_pars_fragment:abe,metalnessmap_fragment:obe,metalnessmap_pars_fragment:sbe,morphinstance_vertex:lbe,morphcolor_vertex:ube,morphnormal_vertex:cbe,morphtarget_pars_vertex:fbe,morphtarget_vertex:dbe,normal_fragment_begin:hbe,normal_fragment_maps:pbe,normal_pars_fragment:mbe,normal_pars_vertex:gbe,normal_vertex:vbe,normalmap_pars_fragment:ybe,clearcoat_normal_fragment_begin:xbe,clearcoat_normal_fragment_maps:_be,clearcoat_pars_fragment:bbe,iridescence_pars_fragment:Sbe,opaque_fragment:wbe,packing:Mbe,premultiplied_alpha_fragment:Ebe,project_vertex:Abe,dithering_fragment:Tbe,dithering_pars_fragment:Pbe,roughnessmap_fragment:Cbe,roughnessmap_pars_fragment:Obe,shadowmap_pars_fragment:Ibe,shadowmap_pars_vertex:Rbe,shadowmap_vertex:Nbe,shadowmask_pars_fragment:Lbe,skinbase_vertex:Dbe,skinning_pars_vertex:kbe,skinning_vertex:Ube,skinnormal_vertex:Fbe,specularmap_fragment:Bbe,specularmap_pars_fragment:zbe,tonemapping_fragment:jbe,tonemapping_pars_fragment:$be,transmission_fragment:Vbe,transmission_pars_fragment:Hbe,uv_pars_fragment:Gbe,uv_pars_vertex:Wbe,uv_vertex:Xbe,worldpos_vertex:qbe,background_vert:Ybe,background_frag:Kbe,backgroundCube_vert:Zbe,backgroundCube_frag:Jbe,cube_vert:Qbe,cube_frag:eSe,depth_vert:tSe,depth_frag:nSe,distance_vert:rSe,distance_frag:iSe,equirect_vert:aSe,equirect_frag:oSe,linedashed_vert:sSe,linedashed_frag:lSe,meshbasic_vert:uSe,meshbasic_frag:cSe,meshlambert_vert:fSe,meshlambert_frag:dSe,meshmatcap_vert:hSe,meshmatcap_frag:pSe,meshnormal_vert:mSe,meshnormal_frag:gSe,meshphong_vert:vSe,meshphong_frag:ySe,meshphysical_vert:xSe,meshphysical_frag:_Se,meshtoon_vert:bSe,meshtoon_frag:SSe,points_vert:wSe,points_frag:MSe,shadow_vert:ESe,shadow_frag:ASe,sprite_vert:TSe,sprite_frag:PSe},qe={common:{diffuse:{value:new et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Pt},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Pt}},envmap:{envMap:{value:null},envMapRotation:{value:new Pt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Pt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Pt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Pt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Pt},normalScale:{value:new Ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Pt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Pt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Pt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Pt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0},uvTransform:{value:new Pt}},sprite:{diffuse:{value:new et(16777215)},opacity:{value:1},center:{value:new Ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Pt},alphaMap:{value:null},alphaMapTransform:{value:new Pt},alphaTest:{value:0}}},ra={basic:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.fog]),vertexShader:It.meshbasic_vert,fragmentShader:It.meshbasic_frag},lambert:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},envMapIntensity:{value:1}}]),vertexShader:It.meshlambert_vert,fragmentShader:It.meshlambert_frag},phong:{uniforms:Vr([qe.common,qe.specularmap,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,qe.lights,{emissive:{value:new et(0)},specular:{value:new et(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:It.meshphong_vert,fragmentShader:It.meshphong_frag},standard:{uniforms:Vr([qe.common,qe.envmap,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.roughnessmap,qe.metalnessmap,qe.fog,qe.lights,{emissive:{value:new et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag},toon:{uniforms:Vr([qe.common,qe.aomap,qe.lightmap,qe.emissivemap,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.gradientmap,qe.fog,qe.lights,{emissive:{value:new et(0)}}]),vertexShader:It.meshtoon_vert,fragmentShader:It.meshtoon_frag},matcap:{uniforms:Vr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,qe.fog,{matcap:{value:null}}]),vertexShader:It.meshmatcap_vert,fragmentShader:It.meshmatcap_frag},points:{uniforms:Vr([qe.points,qe.fog]),vertexShader:It.points_vert,fragmentShader:It.points_frag},dashed:{uniforms:Vr([qe.common,qe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:It.linedashed_vert,fragmentShader:It.linedashed_frag},depth:{uniforms:Vr([qe.common,qe.displacementmap]),vertexShader:It.depth_vert,fragmentShader:It.depth_frag},normal:{uniforms:Vr([qe.common,qe.bumpmap,qe.normalmap,qe.displacementmap,{opacity:{value:1}}]),vertexShader:It.meshnormal_vert,fragmentShader:It.meshnormal_frag},sprite:{uniforms:Vr([qe.sprite,qe.fog]),vertexShader:It.sprite_vert,fragmentShader:It.sprite_frag},background:{uniforms:{uvTransform:{value:new Pt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:It.background_vert,fragmentShader:It.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Pt}},vertexShader:It.backgroundCube_vert,fragmentShader:It.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:It.cube_vert,fragmentShader:It.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:It.equirect_vert,fragmentShader:It.equirect_frag},distance:{uniforms:Vr([qe.common,qe.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:It.distance_vert,fragmentShader:It.distance_frag},shadow:{uniforms:Vr([qe.lights,qe.fog,{color:{value:new et(0)},opacity:{value:1}}]),vertexShader:It.shadow_vert,fragmentShader:It.shadow_frag}};ra.physical={uniforms:Vr([ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Pt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Pt},clearcoatNormalScale:{value:new Ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Pt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Pt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Pt},sheen:{value:0},sheenColor:{value:new et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Pt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Pt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Pt},transmissionSamplerSize:{value:new Ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Pt},attenuationDistance:{value:0},attenuationColor:{value:new et(0)},specularColor:{value:new et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Pt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Pt},anisotropyVector:{value:new Ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Pt}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag};const sy={r:0,b:0,g:0},Bl=new Ui,CSe=new wt;function OSe(t,e,n,r,i,a){const o=new et(0);let s=i===!0?0:1,l,u,c=null,f=0,p=null;function m(x){let b=x.isScene===!0?x.background:null;if(b&&b.isTexture){const M=x.backgroundBlurriness>0;b=e.get(b,M)}return b}function g(x){let b=!1;const M=m(x);M===null?y(o,s):M&&M.isColor&&(y(M,1),b=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?n.buffers.color.setClear(0,0,0,1,a):w==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,a),(t.autoClear||b)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(x,b){const M=m(b);M&&(M.isCubeTexture||M.mapping===pd)?(u===void 0&&(u=new qn(new Fu(1,1,1),new Fi({name:"BackgroundCubeMaterial",uniforms:qf(ra.backgroundCube.uniforms),vertexShader:ra.backgroundCube.vertexShader,fragmentShader:ra.backgroundCube.fragmentShader,side:Yr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Bl.copy(b.backgroundRotation),Bl.x*=-1,Bl.y*=-1,Bl.z*=-1,M.isCubeTexture&&M.isRenderTargetTexture===!1&&(Bl.y*=-1,Bl.z*=-1),u.material.uniforms.envMap.value=M,u.material.uniforms.flipEnvMap.value=M.isCubeTexture&&M.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(CSe.makeRotationFromEuler(Bl)),u.material.toneMapped=zt.getTransfer(M.colorSpace)!==tn,(c!==M||f!==M.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,c=M,f=M.version,p=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):M&&M.isTexture&&(l===void 0&&(l=new qn(new vd(2,2),new Fi({name:"BackgroundMaterial",uniforms:qf(ra.background.uniforms),vertexShader:ra.background.vertexShader,fragmentShader:ra.background.fragmentShader,side:ts,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=M,l.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,l.material.toneMapped=zt.getTransfer(M.colorSpace)!==tn,M.matrixAutoUpdate===!0&&M.updateMatrix(),l.material.uniforms.uvTransform.value.copy(M.matrix),(c!==M||f!==M.version||p!==t.toneMapping)&&(l.material.needsUpdate=!0,c=M,f=M.version,p=t.toneMapping),l.layers.enableAll(),x.unshift(l,l.geometry,l.material,0,0,null))}function y(x,b){x.getRGB(sy,Ej(t)),n.buffers.color.setClear(sy.r,sy.g,sy.b,b,a)}function v(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return o},setClearColor:function(x,b=1){o.set(x),s=b,y(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(x){s=x,y(o,s)},render:g,addToRenderList:_,dispose:v}}function ISe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let a=i,o=!1;function s(I,k,B,W,$){let H=!1;const V=f(I,W,B,k);a!==V&&(a=V,u(a.object)),H=m(I,W,B,$),H&&g(I,W,B,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(H||o)&&(o=!1,M(I,k,B,W),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function l(){return t.createVertexArray()}function u(I){return t.bindVertexArray(I)}function c(I){return t.deleteVertexArray(I)}function f(I,k,B,W){const $=W.wireframe===!0;let H=r[k.id];H===void 0&&(H={},r[k.id]=H);const V=I.isInstancedMesh===!0?I.id:0;let U=H[V];U===void 0&&(U={},H[V]=U);let j=U[B.id];j===void 0&&(j={},U[B.id]=j);let Y=j[$];return Y===void 0&&(Y=p(l()),j[$]=Y),Y}function p(I){const k=[],B=[],W=[];for(let $=0;$<n;$++)k[$]=0,B[$]=0,W[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:B,attributeDivisors:W,object:I,attributes:{},index:null}}function m(I,k,B,W){const $=a.attributes,H=k.attributes;let V=0;const U=B.getAttributes();for(const j in U)if(U[j].location>=0){const Z=$[j];let J=H[j];if(J===void 0&&(j==="instanceMatrix"&&I.instanceMatrix&&(J=I.instanceMatrix),j==="instanceColor"&&I.instanceColor&&(J=I.instanceColor)),Z===void 0||Z.attribute!==J||J&&Z.data!==J.data)return!0;V++}return a.attributesNum!==V||a.index!==W}function g(I,k,B,W){const $={},H=k.attributes;let V=0;const U=B.getAttributes();for(const j in U)if(U[j].location>=0){let Z=H[j];Z===void 0&&(j==="instanceMatrix"&&I.instanceMatrix&&(Z=I.instanceMatrix),j==="instanceColor"&&I.instanceColor&&(Z=I.instanceColor));const J={};J.attribute=Z,Z&&Z.data&&(J.data=Z.data),$[j]=J,V++}a.attributes=$,a.attributesNum=V,a.index=W}function _(){const I=a.newAttributes;for(let k=0,B=I.length;k<B;k++)I[k]=0}function y(I){v(I,0)}function v(I,k){const B=a.newAttributes,W=a.enabledAttributes,$=a.attributeDivisors;B[I]=1,W[I]===0&&(t.enableVertexAttribArray(I),W[I]=1),$[I]!==k&&(t.vertexAttribDivisor(I,k),$[I]=k)}function x(){const I=a.newAttributes,k=a.enabledAttributes;for(let B=0,W=k.length;B<W;B++)k[B]!==I[B]&&(t.disableVertexAttribArray(B),k[B]=0)}function b(I,k,B,W,$,H,V){V===!0?t.vertexAttribIPointer(I,k,B,$,H):t.vertexAttribPointer(I,k,B,W,$,H)}function M(I,k,B,W){_();const $=W.attributes,H=B.getAttributes(),V=k.defaultAttributeValues;for(const U in H){const j=H[U];if(j.location>=0){let Y=$[U];if(Y===void 0&&(U==="instanceMatrix"&&I.instanceMatrix&&(Y=I.instanceMatrix),U==="instanceColor"&&I.instanceColor&&(Y=I.instanceColor)),Y!==void 0){const Z=Y.normalized,J=Y.itemSize,fe=e.get(Y);if(fe===void 0)continue;const we=fe.buffer,De=fe.type,ae=fe.bytesPerElement,be=De===t.INT||De===t.UNSIGNED_INT||Y.gpuType===eb;if(Y.isInterleavedBufferAttribute){const Ae=Y.data,me=Ae.stride,Te=Y.offset;if(Ae.isInstancedInterleavedBuffer){for(let Pe=0;Pe<j.locationSize;Pe++)v(j.location+Pe,Ae.meshPerAttribute);I.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Ae.meshPerAttribute*Ae.count)}else for(let Pe=0;Pe<j.locationSize;Pe++)y(j.location+Pe);t.bindBuffer(t.ARRAY_BUFFER,we);for(let Pe=0;Pe<j.locationSize;Pe++)b(j.location+Pe,J/j.locationSize,De,Z,me*ae,(Te+J/j.locationSize*Pe)*ae,be)}else{if(Y.isInstancedBufferAttribute){for(let Ae=0;Ae<j.locationSize;Ae++)v(j.location+Ae,Y.meshPerAttribute);I.isInstancedMesh!==!0&&W._maxInstanceCount===void 0&&(W._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Ae=0;Ae<j.locationSize;Ae++)y(j.location+Ae);t.bindBuffer(t.ARRAY_BUFFER,we);for(let Ae=0;Ae<j.locationSize;Ae++)b(j.location+Ae,J/j.locationSize,De,Z,J*ae,J/j.locationSize*Ae*ae,be)}}else if(V!==void 0){const Z=V[U];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(j.location,Z);break;case 3:t.vertexAttrib3fv(j.location,Z);break;case 4:t.vertexAttrib4fv(j.location,Z);break;default:t.vertexAttrib1fv(j.location,Z)}}}}x()}function w(){C();for(const I in r){const k=r[I];for(const B in k){const W=k[B];for(const $ in W){const H=W[$];for(const V in H)c(H[V].object),delete H[V];delete W[$]}}delete r[I]}}function E(I){if(r[I.id]===void 0)return;const k=r[I.id];for(const B in k){const W=k[B];for(const $ in W){const H=W[$];for(const V in H)c(H[V].object),delete H[V];delete W[$]}}delete r[I.id]}function P(I){for(const k in r){const B=r[k];for(const W in B){const $=B[W];if($[I.id]===void 0)continue;const H=$[I.id];for(const V in H)c(H[V].object),delete H[V];delete $[I.id]}}}function A(I){for(const k in r){const B=r[k],W=I.isInstancedMesh===!0?I.id:0,$=B[W];if($!==void 0){for(const H in $){const V=$[H];for(const U in V)c(V[U].object),delete V[U];delete $[H]}delete B[W],Object.keys(B).length===0&&delete r[k]}}}function C(){N(),o=!0,a!==i&&(a=i,u(a.object))}function N(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:C,resetDefaultState:N,dispose:w,releaseStatesOfGeometry:E,releaseStatesOfObject:A,releaseStatesOfProgram:P,initAttributes:_,enableAttribute:y,disableUnusedAttributes:x}}function RSe(t,e,n){let r;function i(u){r=u}function a(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let m=0;for(let g=0;g<f;g++)m+=c[g];n.update(m,r,1)}function l(u,c,f,p){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<u.length;g++)o(u[g],c[g],p[g]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,c,0,p,0,f);let g=0;for(let _=0;_<f;_++)g+=c[_]*p[_];n.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function NSe(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const P=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(P.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(P){return!(P!==Ur&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(P){const A=P===Ba&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(P!==Gr&&r.convert(P)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&P!==kr&&!A)}function l(P){if(P==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";P="mediump"}return P==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(We("WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,p=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),b=t.getParameter(t.MAX_VARYING_VECTORS),M=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=t.getParameter(t.MAX_SAMPLES),E=t.getParameter(t.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reversedDepthBuffer:p,maxTextures:m,maxVertexTextures:g,maxTextureSize:_,maxCubemapSize:y,maxAttributes:v,maxVertexUniforms:x,maxVaryings:b,maxFragmentUniforms:M,maxSamples:w,samples:E}}function LSe(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new Cs,s=new Pt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,p){n=c(f,p,0)},this.setState=function(f,p,m){const g=f.clippingPlanes,_=f.clipIntersection,y=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||a&&!y)a?c(null):u();else{const x=a?0:r,b=x*4;let M=v.clippingState||null;l.value=M,M=c(g,p,b,m);for(let w=0;w!==b;++w)M[w]=n[w];v.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=x}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,p,m,g){const _=f!==null?f.length:0;let y=null;if(_!==0){if(y=l.value,g!==!0||y===null){const v=m+_*4,x=p.matrixWorldInverse;s.getNormalMatrix(x),(y===null||y.length<v)&&(y=new Float32Array(v));for(let b=0,M=m;b!==_;++b,M+=4)o.copy(f[b]).applyMatrix4(x,s),o.normal.toArray(y,M),y[M+3]=o.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,y}}const zs=4,CD=[.125,.215,.35,.446,.526,.582],Xl=20,DSe=256,vh=new xd,OD=new et;let Pw=null,Cw=0,Ow=0,Iw=!1;const kSe=new X;class OA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,a={}){const{size:o=256,position:s=kSe}=a;Pw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Iw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ND(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=RD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Pw,Cw,Ow),this._renderer.xr.enabled=Iw,e.scissorTest=!1,Cc(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===po||e.mapping===tl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Pw=this._renderer.getRenderTarget(),Cw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Iw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:dn,minFilter:dn,generateMipmaps:!1,type:Ba,format:Ur,colorSpace:Au,depthBuffer:!1},i=ID(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=ID(e,n,r);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=USe(a)),this._blurMaterial=BSe(a,e,n),this._ggxMaterial=FSe(a,e,n)}return i}_compileMaterial(e){const n=new qn(new Et,e);this._renderer.compile(n,vh)}_sceneToCubeUV(e,n,r,i,a){const l=new dr(90,1,n,r),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(OD),f.toneMapping=ua,f.autoClear=!1,f.state.buffers.depth.getReversed()&&(f.setRenderTarget(i),f.clearDepth(),f.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new qn(new Fu,new pl({name:"PMREM.Background",side:Yr,depthWrite:!1,depthTest:!1})));const _=this._backgroundBox,y=_.material;let v=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,v=!0):(y.color.copy(OD),v=!0);for(let b=0;b<6;b++){const M=b%3;M===0?(l.up.set(0,u[b],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+c[b],a.y,a.z)):M===1?(l.up.set(0,0,u[b]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+c[b],a.z)):(l.up.set(0,u[b],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+c[b]));const w=this._cubeSize;Cc(i,M*w,b>2?w:0,w,w),f.setRenderTarget(i),v&&f.render(_,l),f.render(e,l)}f.toneMapping=m,f.autoClear=p,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===po||e.mapping===tl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=ND()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=RD());const a=i?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=a;const s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;Cc(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,vh)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,a=this._pingPongRenderTarget,o=this._ggxMaterial,s=this._lodMeshes[r];s.material=o;const l=o.uniforms,u=r/(this._lodMeshes.length-1),c=n/(this._lodMeshes.length-1),f=Math.sqrt(u*u-c*c),p=0+u*1.25,m=f*p,{_lodMax:g}=this,_=this._sizeLods[r],y=3*_*(r>g-zs?r-g+zs:0),v=4*(this._cubeSize-_);l.envMap.value=e.texture,l.roughness.value=m,l.mipInt.value=g-n,Cc(a,y,v,3*_,2*_),i.setRenderTarget(a),i.render(s,vh),l.envMap.value=a.texture,l.roughness.value=0,l.mipInt.value=g-r,Cc(e,y,v,3*_,2*_),i.setRenderTarget(e),i.render(s,vh)}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&mt("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[i];f.material=u;const p=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*m):2*Math.PI/(2*Xl-1),_=a/g,y=isFinite(a)?1+Math.floor(c*_):Xl;y>Xl&&We(`sigmaRadians, ${a}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${Xl}`);const v=[];let x=0;for(let P=0;P<Xl;++P){const A=P/_,C=Math.exp(-A*A/2);v.push(C),P===0?x+=C:P<y&&(x+=2*C)}for(let P=0;P<v.length;P++)v[P]=v[P]/x;p.envMap.value=e.texture,p.samples.value=y,p.weights.value=v,p.latitudinal.value=o==="latitudinal",s&&(p.poleAxis.value=s);const{_lodMax:b}=this;p.dTheta.value=g,p.mipInt.value=b-r;const M=this._sizeLods[i],w=3*M*(i>b-zs?i-b+zs:0),E=4*(this._cubeSize-M);Cc(n,w,E,3*M,2*M),l.setRenderTarget(n),l.render(f,vh)}}function USe(t){const e=[],n=[],r=[];let i=t;const a=t-zs+1+CD.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);e.push(s);let l=1/s;o>t-zs?l=CD[o-t+zs-1]:o===0&&(l=0),n.push(l);const u=1/(s-2),c=-u,f=1+u,p=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,_=3,y=2,v=1,x=new Float32Array(_*g*m),b=new Float32Array(y*g*m),M=new Float32Array(v*g*m);for(let E=0;E<m;E++){const P=E%3*2/3-1,A=E>2?0:-1,C=[P,A,0,P+2/3,A,0,P+2/3,A+1,0,P,A,0,P+2/3,A+1,0,P,A+1,0];x.set(C,_*g*E),b.set(p,y*g*E);const N=[E,E,E,E,E,E];M.set(N,v*g*E)}const w=new Et;w.setAttribute("position",new Qt(x,_)),w.setAttribute("uv",new Qt(b,y)),w.setAttribute("faceIndex",new Qt(M,v)),r.push(new qn(w,null)),i>zs&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function ID(t,e,n){const r=new mi(t,e,n);return r.texture.mapping=pd,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cc(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function FSe(t,e,n){return new Fi({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:DSe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:Rb(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function BSe(t,e,n){const r=new Float32Array(Xl),i=new X(0,1,0);return new Fi({name:"SphericalGaussianBlur",defines:{n:Xl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function RD(){return new Fi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function ND(){return new Fi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Rb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:fo,depthTest:!1,depthWrite:!1})}function Rb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}class RC extends mi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Dm(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Fu(5,5,5),a=new Fi({name:"CubemapFromEquirect",uniforms:qf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Yr,blending:fo});a.uniforms.tEquirect.value=n;const o=new qn(i,a),s=n.minFilter;return n.minFilter===ao&&(n.minFilter=dn),new qj(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}function zSe(t){let e=new WeakMap,n=new WeakMap,r=null;function i(p,m=!1){return p==null?null:m?o(p):a(p)}function a(p){if(p&&p.isTexture){const m=p.mapping;if(m===Hh||m===Gh)if(e.has(p)){const g=e.get(p).texture;return s(g,p.mapping)}else{const g=p.image;if(g&&g.height>0){const _=new RC(g.height);return _.fromEquirectangularTexture(t,p),e.set(p,_),p.addEventListener("dispose",u),s(_.texture,p.mapping)}else return null}}return p}function o(p){if(p&&p.isTexture){const m=p.mapping,g=m===Hh||m===Gh,_=m===po||m===tl;if(g||_){let y=n.get(p);const v=y!==void 0?y.texture.pmremVersion:0;if(p.isRenderTargetTexture&&p.pmremVersion!==v)return r===null&&(r=new OA(t)),y=g?r.fromEquirectangular(p,y):r.fromCubemap(p,y),y.texture.pmremVersion=p.pmremVersion,n.set(p,y),y.texture;if(y!==void 0)return y.texture;{const x=p.image;return g&&x&&x.height>0||_&&x&&l(x)?(r===null&&(r=new OA(t)),y=g?r.fromEquirectangular(p):r.fromCubemap(p),y.texture.pmremVersion=p.pmremVersion,n.set(p,y),p.addEventListener("dispose",c),y.texture):null}}}return p}function s(p,m){return m===Hh?p.mapping=po:m===Gh&&(p.mapping=tl),p}function l(p){let m=0;const g=6;for(let _=0;_<g;_++)p[_]!==void 0&&m++;return m===g}function u(p){const m=p.target;m.removeEventListener("dispose",u);const g=e.get(m);g!==void 0&&(e.delete(m),g.dispose())}function c(p){const m=p.target;m.removeEventListener("dispose",c);const g=n.get(m);g!==void 0&&(n.delete(m),g.dispose())}function f(){e=new WeakMap,n=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:f}}function jSe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&um("WebGLRenderer: "+r+" extension not supported."),i}}}function $Se(t,e,n,r){const i={},a=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);p.removeEventListener("dispose",o),delete i[p.id];const m=a.get(p);m&&(e.remove(m),a.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function s(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function u(f){const p=[],m=f.index,g=f.attributes.position;let _=0;if(g===void 0)return;if(m!==null){const x=m.array;_=m.version;for(let b=0,M=x.length;b<M;b+=3){const w=x[b+0],E=x[b+1],P=x[b+2];p.push(w,E,E,P,P,w)}}else{const x=g.array;_=g.version;for(let b=0,M=x.length/3-1;b<M;b+=3){const w=b+0,E=b+1,P=b+2;p.push(w,E,E,P,P,w)}}const y=new(g.count>=65535?oC:aC)(p,1);y.version=_;const v=a.get(f);v&&e.remove(v),a.set(f,y)}function c(f){const p=a.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function VSe(t,e,n){let r;function i(p){r=p}let a,o;function s(p){a=p.type,o=p.bytesPerElement}function l(p,m){t.drawElements(r,m,a,p*o),n.update(m,r,1)}function u(p,m,g){g!==0&&(t.drawElementsInstanced(r,m,a,p*o,g),n.update(m,r,g))}function c(p,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,a,p,0,g);let y=0;for(let v=0;v<g;v++)y+=m[v];n.update(y,r,1)}function f(p,m,g,_){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let v=0;v<p.length;v++)u(p[v]/o,m[v],_[v]);else{y.multiDrawElementsInstancedWEBGL(r,m,0,a,p,0,_,0,g);let v=0;for(let x=0;x<g;x++)v+=m[x]*_[x];n.update(v,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function HSe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:mt("WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function GSe(t,e,n){const r=new WeakMap,i=new cn;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let p=r.get(s);if(p===void 0||p.count!==f){let N=function(){A.dispose(),r.delete(s),s.removeEventListener("dispose",N)};var m=N;p!==void 0&&p.texture.dispose();const g=s.morphAttributes.position!==void 0,_=s.morphAttributes.normal!==void 0,y=s.morphAttributes.color!==void 0,v=s.morphAttributes.position||[],x=s.morphAttributes.normal||[],b=s.morphAttributes.color||[];let M=0;g===!0&&(M=1),_===!0&&(M=2),y===!0&&(M=3);let w=s.attributes.position.count*M,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const P=new Float32Array(w*E*4*f),A=new ub(P,w,E,f);A.type=kr,A.needsUpdate=!0;const C=M*4;for(let I=0;I<f;I++){const k=v[I],B=x[I],W=b[I],$=w*E*4*I;for(let H=0;H<k.count;H++){const V=H*C;g===!0&&(i.fromBufferAttribute(k,H),P[$+V+0]=i.x,P[$+V+1]=i.y,P[$+V+2]=i.z,P[$+V+3]=0),_===!0&&(i.fromBufferAttribute(B,H),P[$+V+4]=i.x,P[$+V+5]=i.y,P[$+V+6]=i.z,P[$+V+7]=0),y===!0&&(i.fromBufferAttribute(W,H),P[$+V+8]=i.x,P[$+V+9]=i.y,P[$+V+10]=i.z,P[$+V+11]=W.itemSize===4?i.w:1)}}p={count:f,texture:A,size:new Ee(w,E)},r.set(s,p),s.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let y=0;y<u.length;y++)g+=u[y];const _=s.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:a}}function WSe(t,e,n,r,i){let a=new WeakMap;function o(u){const c=i.render.frame,f=u.geometry,p=e.get(u,f);if(a.get(p)!==c&&(e.update(p),a.set(p,c)),u.isInstancedMesh&&(u.hasEventListener("dispose",l)===!1&&u.addEventListener("dispose",l),a.get(u)!==c&&(n.update(u.instanceMatrix,t.ARRAY_BUFFER),u.instanceColor!==null&&n.update(u.instanceColor,t.ARRAY_BUFFER),a.set(u,c))),u.isSkinnedMesh){const m=u.skeleton;a.get(m)!==c&&(m.update(),a.set(m,c))}return p}function s(){a=new WeakMap}function l(u){const c=u.target;c.removeEventListener("dispose",l),r.releaseStatesOfObject(c),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}const XSe={[VP]:"LINEAR_TONE_MAPPING",[HP]:"REINHARD_TONE_MAPPING",[GP]:"CINEON_TONE_MAPPING",[J_]:"ACES_FILMIC_TONE_MAPPING",[XP]:"AGX_TONE_MAPPING",[qP]:"NEUTRAL_TONE_MAPPING",[WP]:"CUSTOM_TONE_MAPPING"};function qSe(t,e,n,r,i){const a=new mi(e,n,{type:t,depthBuffer:r,stencilBuffer:i}),o=new mi(e,n,{type:Ba,depthBuffer:!1,stencilBuffer:!1}),s=new Et;s.setAttribute("position",new at([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new at([0,2,0,0,2,0],2));const l=new yC({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),u=new qn(s,l),c=new xd(-1,1,1,-1,0,1);let f=null,p=null,m=!1,g,_=null,y=[],v=!1;this.setSize=function(x,b){a.setSize(x,b),o.setSize(x,b);for(let M=0;M<y.length;M++){const w=y[M];w.setSize&&w.setSize(x,b)}},this.setEffects=function(x){y=x,v=y.length>0&&y[0].isRenderPass===!0;const b=a.width,M=a.height;for(let w=0;w<y.length;w++){const E=y[w];E.setSize&&E.setSize(b,M)}},this.begin=function(x,b){if(m||x.toneMapping===ua&&y.length===0)return!1;if(_=b,b!==null){const M=b.width,w=b.height;(a.width!==M||a.height!==w)&&this.setSize(M,w)}return v===!1&&x.setRenderTarget(a),g=x.toneMapping,x.toneMapping=ua,!0},this.hasRenderPass=function(){return v},this.end=function(x,b){x.toneMapping=g,m=!0;let M=a,w=o;for(let E=0;E<y.length;E++){const P=y[E];if(P.enabled!==!1&&(P.render(x,w,M,b),P.needsSwap!==!1)){const A=M;M=w,w=A}}if(f!==x.outputColorSpace||p!==x.toneMapping){f=x.outputColorSpace,p=x.toneMapping,l.defines={},zt.getTransfer(f)===tn&&(l.defines.SRGB_TRANSFER="");const E=XSe[p];E&&(l.defines[E]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=M.texture,x.setRenderTarget(_),x.render(u,c),_=null,m=!1},this.isCompositing=function(){return m},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const i$=new Cn,IA=new Cu(1,1),a$=new ub,o$=new cb,s$=new Dm,LD=[],DD=[],kD=new Float32Array(16),UD=new Float32Array(9),FD=new Float32Array(4);function _d(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=LD[i];if(a===void 0&&(a=new Float32Array(i),LD[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function nr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function rr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Nb(t,e){let n=DD[e];n===void 0&&(n=new Int32Array(e),DD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function YSe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function KSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2fv(this.addr,e),rr(n,e)}}function ZSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(nr(n,e))return;t.uniform3fv(this.addr,e),rr(n,e)}}function JSe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4fv(this.addr,e),rr(n,e)}}function QSe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;FD.set(r),t.uniformMatrix2fv(this.addr,!1,FD),rr(n,r)}}function e1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;UD.set(r),t.uniformMatrix3fv(this.addr,!1,UD),rr(n,r)}}function t1e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(nr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),rr(n,e)}else{if(nr(n,r))return;kD.set(r),t.uniformMatrix4fv(this.addr,!1,kD),rr(n,r)}}function n1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function r1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2iv(this.addr,e),rr(n,e)}}function i1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3iv(this.addr,e),rr(n,e)}}function a1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4iv(this.addr,e),rr(n,e)}}function o1e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function s1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(nr(n,e))return;t.uniform2uiv(this.addr,e),rr(n,e)}}function l1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(nr(n,e))return;t.uniform3uiv(this.addr,e),rr(n,e)}}function u1e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(nr(n,e))return;t.uniform4uiv(this.addr,e),rr(n,e)}}function c1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let a;this.type===t.SAMPLER_2D_SHADOW?(IA.compareFunction=n.isReversedDepthBuffer()?lb:sb,a=IA):a=i$,n.setTexture2D(e||a,i)}function f1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||o$,i)}function d1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||s$,i)}function h1e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||a$,i)}function p1e(t){switch(t){case 5126:return YSe;case 35664:return KSe;case 35665:return ZSe;case 35666:return JSe;case 35674:return QSe;case 35675:return e1e;case 35676:return t1e;case 5124:case 35670:return n1e;case 35667:case 35671:return r1e;case 35668:case 35672:return i1e;case 35669:case 35673:return a1e;case 5125:return o1e;case 36294:return s1e;case 36295:return l1e;case 36296:return u1e;case 35678:case 36198:case 36298:case 36306:case 35682:return c1e;case 35679:case 36299:case 36307:return f1e;case 35680:case 36300:case 36308:case 36293:return d1e;case 36289:case 36303:case 36311:case 36292:return h1e}}function m1e(t,e){t.uniform1fv(this.addr,e)}function g1e(t,e){const n=_d(e,this.size,2);t.uniform2fv(this.addr,n)}function v1e(t,e){const n=_d(e,this.size,3);t.uniform3fv(this.addr,n)}function y1e(t,e){const n=_d(e,this.size,4);t.uniform4fv(this.addr,n)}function x1e(t,e){const n=_d(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function _1e(t,e){const n=_d(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function b1e(t,e){const n=_d(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function S1e(t,e){t.uniform1iv(this.addr,e)}function w1e(t,e){t.uniform2iv(this.addr,e)}function M1e(t,e){t.uniform3iv(this.addr,e)}function E1e(t,e){t.uniform4iv(this.addr,e)}function A1e(t,e){t.uniform1uiv(this.addr,e)}function T1e(t,e){t.uniform2uiv(this.addr,e)}function P1e(t,e){t.uniform3uiv(this.addr,e)}function C1e(t,e){t.uniform4uiv(this.addr,e)}function O1e(t,e,n){const r=this.cache,i=e.length,a=Nb(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));let o;this.type===t.SAMPLER_2D_SHADOW?o=IA:o=i$;for(let s=0;s!==i;++s)n.setTexture2D(e[s]||o,a[s])}function I1e(t,e,n){const r=this.cache,i=e.length,a=Nb(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||o$,a[o])}function R1e(t,e,n){const r=this.cache,i=e.length,a=Nb(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||s$,a[o])}function N1e(t,e,n){const r=this.cache,i=e.length,a=Nb(n,i);nr(r,a)||(t.uniform1iv(this.addr,a),rr(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||a$,a[o])}function L1e(t){switch(t){case 5126:return m1e;case 35664:return g1e;case 35665:return v1e;case 35666:return y1e;case 35674:return x1e;case 35675:return _1e;case 35676:return b1e;case 5124:case 35670:return S1e;case 35667:case 35671:return w1e;case 35668:case 35672:return M1e;case 35669:case 35673:return E1e;case 5125:return A1e;case 36294:return T1e;case 36295:return P1e;case 36296:return C1e;case 35678:case 36198:case 36298:case 36306:case 35682:return O1e;case 35679:case 36299:case 36307:return I1e;case 35680:case 36300:case 36308:case 36293:return R1e;case 36289:case 36303:case 36311:case 36292:return N1e}}class D1e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=p1e(n.type)}}class k1e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=L1e(n.type)}}class U1e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const Rw=/(\w+)(\])?(\[|\.)?/g;function BD(t,e){t.seq.push(e),t.map[e.id]=e}function F1e(t,e,n){const r=t.name,i=r.length;for(Rw.lastIndex=0;;){const a=Rw.exec(r),o=Rw.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){BD(n,u===void 0?new D1e(s,t,e):new k1e(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new U1e(s),BD(n,f)),n=f}}}class Ty{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const s=e.getActiveUniform(n,o),l=e.getUniformLocation(n,s.name);F1e(s,l,this)}const i=[],a=[];for(const o of this.seq)o.type===e.SAMPLER_2D_SHADOW||o.type===e.SAMPLER_CUBE_SHADOW||o.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(o):a.push(o);i.length>0&&(this.seq=i.concat(a))}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function zD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const B1e=37297;let z1e=0;function j1e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}const jD=new Pt;function $1e(t){zt._getMatrix(jD,zt.workingColorSpace,t);const e=`mat3( ${jD.elements.map(n=>n.toFixed(4))} )`;switch(zt.getTransfer(t)){case am:return[e,"LinearTransferOETF"];case tn:return[e,"sRGBTransferOETF"];default:return We("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function $D(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),a=(t.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+a+`

`+j1e(t.getShaderSource(e),s)}else return a}function V1e(t,e){const n=$1e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}const H1e={[VP]:"Linear",[HP]:"Reinhard",[GP]:"Cineon",[J_]:"ACESFilmic",[XP]:"AgX",[qP]:"Neutral",[WP]:"Custom"};function G1e(t,e){const n=H1e[e];return n===void 0?(We("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+t+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const ly=new X;function W1e(){zt.getLuminanceCoefficients(ly);const t=ly.x.toFixed(4),e=ly.y.toFixed(4),n=ly.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function X1e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ph).join(`
`)}function q1e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Y1e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function Ph(t){return t!==""}function VD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function HD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const K1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function RA(t){return t.replace(K1e,J1e)}const Z1e=new Map;function J1e(t,e){let n=It[e];if(n===void 0){const r=Z1e.get(e);if(r!==void 0)n=It[r],We('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return RA(n)}const Q1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function GD(t){return t.replace(Q1e,ewe)}function ewe(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function WD(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const twe={[cf]:"SHADOWMAP_TYPE_PCF",[tu]:"SHADOWMAP_TYPE_VSM"};function nwe(t){return twe[t.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const rwe={[po]:"ENVMAP_TYPE_CUBE",[tl]:"ENVMAP_TYPE_CUBE",[pd]:"ENVMAP_TYPE_CUBE_UV"};function iwe(t){return t.envMap===!1?"ENVMAP_TYPE_CUBE":rwe[t.envMapMode]||"ENVMAP_TYPE_CUBE"}const awe={[tl]:"ENVMAP_MODE_REFRACTION"};function owe(t){return t.envMap===!1?"ENVMAP_MODE_REFLECTION":awe[t.envMapMode]||"ENVMAP_MODE_REFLECTION"}const swe={[Nm]:"ENVMAP_BLENDING_MULTIPLY",[F5]:"ENVMAP_BLENDING_MIX",[B5]:"ENVMAP_BLENDING_ADD"};function lwe(t){return t.envMap===!1?"ENVMAP_BLENDING_NONE":swe[t.combine]||"ENVMAP_BLENDING_NONE"}function uwe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function cwe(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=nwe(n),u=iwe(n),c=owe(n),f=lwe(n),p=uwe(n),m=X1e(n),g=q1e(a),_=i.createProgram();let y,v,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Ph).join(`
`),y.length>0&&(y+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(Ph).join(`
`),v.length>0&&(v+=`
`)):(y=[WD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ph).join(`
`),v=[WD(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas||n.batchingColor?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ua?"#define TONE_MAPPING":"",n.toneMapping!==ua?It.tonemapping_pars_fragment:"",n.toneMapping!==ua?G1e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",It.colorspace_pars_fragment,V1e("linearToOutputTexel",n.outputColorSpace),W1e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ph).join(`
`)),o=RA(o),o=VD(o,n),o=HD(o,n),s=RA(s),s=VD(s,n),s=HD(s,n),o=GD(o),s=GD(s),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,v=["#define varying in",n.glslVersion===SA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const b=x+y+o,M=x+v+s,w=zD(i,i.VERTEX_SHADER,b),E=zD(i,i.FRAGMENT_SHADER,M);i.attachShader(_,w),i.attachShader(_,E),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function P(I){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(_)||"",B=i.getShaderInfoLog(w)||"",W=i.getShaderInfoLog(E)||"",$=k.trim(),H=B.trim(),V=W.trim();let U=!0,j=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(U=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,_,w,E);else{const Y=$D(i,w,"vertex"),Z=$D(i,E,"fragment");mt("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+$+`
`+Y+`
`+Z)}else $!==""?We("WebGLProgram: Program Info Log:",$):(H===""||V==="")&&(j=!1);j&&(I.diagnostics={runnable:U,programLog:$,vertexShader:{log:H,prefix:y},fragmentShader:{log:V,prefix:v}})}i.deleteShader(w),i.deleteShader(E),A=new Ty(i,_),C=Y1e(i,_)}let A;this.getUniforms=function(){return A===void 0&&P(this),A};let C;this.getAttributes=function(){return C===void 0&&P(this),C};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(_,B1e)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=z1e++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=w,this.fragmentShader=E,this}let fwe=0;class dwe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new hwe(e),n.set(e,r)),r}}class hwe{constructor(e){this.id=fwe++,this.code=e,this.usedTimes=0}}function pwe(t,e,n,r,i,a){const o=new du,s=new dwe,l=new Set,u=[],c=new Map,f=r.logarithmicDepthBuffer;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(A){return l.add(A),A===0?"uv":`uv${A}`}function _(A,C,N,I,k){const B=I.fog,W=k.geometry,$=A.isMeshStandardMaterial||A.isMeshLambertMaterial||A.isMeshPhongMaterial?I.environment:null,H=A.isMeshStandardMaterial||A.isMeshLambertMaterial&&!A.envMap||A.isMeshPhongMaterial&&!A.envMap,V=e.get(A.envMap||$,H),U=V&&V.mapping===pd?V.image.height:null,j=m[A.type];A.precision!==null&&(p=r.getMaxPrecision(A.precision),p!==A.precision&&We("WebGLProgram.getParameters:",A.precision,"not supported, using",p,"instead."));const Y=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,Z=Y!==void 0?Y.length:0;let J=0;W.morphAttributes.position!==void 0&&(J=1),W.morphAttributes.normal!==void 0&&(J=2),W.morphAttributes.color!==void 0&&(J=3);let fe,we,De,ae;if(j){const Xt=ra[j];fe=Xt.vertexShader,we=Xt.fragmentShader}else fe=A.vertexShader,we=A.fragmentShader,s.update(A),De=s.getVertexShaderID(A),ae=s.getFragmentShaderID(A);const be=t.getRenderTarget(),Ae=t.state.buffers.depth.getReversed(),me=k.isInstancedMesh===!0,Te=k.isBatchedMesh===!0,Pe=!!A.map,pe=!!A.matcap,Ge=!!V,ce=!!A.aoMap,Se=!!A.lightMap,xe=!!A.bumpMap,Ne=!!A.normalMap,q=!!A.displacementMap,ut=!!A.emissiveMap,Ve=!!A.metalnessMap,dt=!!A.roughnessMap,Oe=A.anisotropy>0,G=A.clearcoat>0,D=A.dispersion>0,Q=A.iridescence>0,he=A.sheen>0,Me=A.transmission>0,ge=Oe&&!!A.anisotropyMap,nt=G&&!!A.clearcoatMap,Be=G&&!!A.clearcoatNormalMap,ht=G&&!!A.clearcoatRoughnessMap,yt=Q&&!!A.iridescenceMap,Ce=Q&&!!A.iridescenceThicknessMap,ke=he&&!!A.sheenColorMap,lt=he&&!!A.sheenRoughnessMap,ct=!!A.specularMap,Je=!!A.specularColorMap,Ot=!!A.specularIntensityMap,ee=Me&&!!A.transmissionMap,je=Me&&!!A.thicknessMap,Ue=!!A.gradientMap,tt=!!A.alphaMap,Ie=A.alphaTest>0,ve=!!A.alphaHash,st=!!A.extensions;let Mt=ua;A.toneMapped&&(be===null||be.isXRRenderTarget===!0)&&(Mt=t.toneMapping);const nn={shaderID:j,shaderType:A.type,shaderName:A.name,vertexShader:fe,fragmentShader:we,defines:A.defines,customVertexShaderID:De,customFragmentShaderID:ae,isRawShaderMaterial:A.isRawShaderMaterial===!0,glslVersion:A.glslVersion,precision:p,batching:Te,batchingColor:Te&&k._colorsTexture!==null,instancing:me,instancingColor:me&&k.instanceColor!==null,instancingMorph:me&&k.morphTexture!==null,outputColorSpace:be===null?t.outputColorSpace:be.isXRRenderTarget===!0?be.texture.colorSpace:Au,alphaToCoverage:!!A.alphaToCoverage,map:Pe,matcap:pe,envMap:Ge,envMapMode:Ge&&V.mapping,envMapCubeUVHeight:U,aoMap:ce,lightMap:Se,bumpMap:xe,normalMap:Ne,displacementMap:q,emissiveMap:ut,normalMapObjectSpace:Ne&&A.normalMapType===G5,normalMapTangentSpace:Ne&&A.normalMapType===hl,metalnessMap:Ve,roughnessMap:dt,anisotropy:Oe,anisotropyMap:ge,clearcoat:G,clearcoatMap:nt,clearcoatNormalMap:Be,clearcoatRoughnessMap:ht,dispersion:D,iridescence:Q,iridescenceMap:yt,iridescenceThicknessMap:Ce,sheen:he,sheenColorMap:ke,sheenRoughnessMap:lt,specularMap:ct,specularColorMap:Je,specularIntensityMap:Ot,transmission:Me,transmissionMap:ee,thicknessMap:je,gradientMap:Ue,opaque:A.transparent===!1&&A.blending===cu&&A.alphaToCoverage===!1,alphaMap:tt,alphaTest:Ie,alphaHash:ve,combine:A.combine,mapUv:Pe&&g(A.map.channel),aoMapUv:ce&&g(A.aoMap.channel),lightMapUv:Se&&g(A.lightMap.channel),bumpMapUv:xe&&g(A.bumpMap.channel),normalMapUv:Ne&&g(A.normalMap.channel),displacementMapUv:q&&g(A.displacementMap.channel),emissiveMapUv:ut&&g(A.emissiveMap.channel),metalnessMapUv:Ve&&g(A.metalnessMap.channel),roughnessMapUv:dt&&g(A.roughnessMap.channel),anisotropyMapUv:ge&&g(A.anisotropyMap.channel),clearcoatMapUv:nt&&g(A.clearcoatMap.channel),clearcoatNormalMapUv:Be&&g(A.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ht&&g(A.clearcoatRoughnessMap.channel),iridescenceMapUv:yt&&g(A.iridescenceMap.channel),iridescenceThicknessMapUv:Ce&&g(A.iridescenceThicknessMap.channel),sheenColorMapUv:ke&&g(A.sheenColorMap.channel),sheenRoughnessMapUv:lt&&g(A.sheenRoughnessMap.channel),specularMapUv:ct&&g(A.specularMap.channel),specularColorMapUv:Je&&g(A.specularColorMap.channel),specularIntensityMapUv:Ot&&g(A.specularIntensityMap.channel),transmissionMapUv:ee&&g(A.transmissionMap.channel),thicknessMapUv:je&&g(A.thicknessMap.channel),alphaMapUv:tt&&g(A.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Ne||Oe),vertexColors:A.vertexColors,vertexAlphas:A.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:k.isPoints===!0&&!!W.attributes.uv&&(Pe||tt),fog:!!B,useFog:A.fog===!0,fogExp2:!!B&&B.isFogExp2,flatShading:A.wireframe===!1&&(A.flatShading===!0||W.attributes.normal===void 0&&Ne===!1&&(A.isMeshLambertMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isMeshPhysicalMaterial)),sizeAttenuation:A.sizeAttenuation===!0,logarithmicDepthBuffer:f,reversedDepthBuffer:Ae,skinning:k.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:J,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:A.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:Mt,decodeVideoTexture:Pe&&A.map.isVideoTexture===!0&&zt.getTransfer(A.map.colorSpace)===tn,decodeVideoTextureEmissive:ut&&A.emissiveMap.isVideoTexture===!0&&zt.getTransfer(A.emissiveMap.colorSpace)===tn,premultipliedAlpha:A.premultipliedAlpha,doubleSided:A.side===ro,flipSided:A.side===Yr,useDepthPacking:A.depthPacking>=0,depthPacking:A.depthPacking||0,index0AttributeName:A.index0AttributeName,extensionClipCullDistance:st&&A.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(st&&A.extensions.multiDraw===!0||Te)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:A.customProgramCacheKey()};return nn.vertexUv1s=l.has(1),nn.vertexUv2s=l.has(2),nn.vertexUv3s=l.has(3),l.clear(),nn}function y(A){const C=[];if(A.shaderID?C.push(A.shaderID):(C.push(A.customVertexShaderID),C.push(A.customFragmentShaderID)),A.defines!==void 0)for(const N in A.defines)C.push(N),C.push(A.defines[N]);return A.isRawShaderMaterial===!1&&(v(C,A),x(C,A),C.push(t.outputColorSpace)),C.push(A.customProgramCacheKey),C.join()}function v(A,C){A.push(C.precision),A.push(C.outputColorSpace),A.push(C.envMapMode),A.push(C.envMapCubeUVHeight),A.push(C.mapUv),A.push(C.alphaMapUv),A.push(C.lightMapUv),A.push(C.aoMapUv),A.push(C.bumpMapUv),A.push(C.normalMapUv),A.push(C.displacementMapUv),A.push(C.emissiveMapUv),A.push(C.metalnessMapUv),A.push(C.roughnessMapUv),A.push(C.anisotropyMapUv),A.push(C.clearcoatMapUv),A.push(C.clearcoatNormalMapUv),A.push(C.clearcoatRoughnessMapUv),A.push(C.iridescenceMapUv),A.push(C.iridescenceThicknessMapUv),A.push(C.sheenColorMapUv),A.push(C.sheenRoughnessMapUv),A.push(C.specularMapUv),A.push(C.specularColorMapUv),A.push(C.specularIntensityMapUv),A.push(C.transmissionMapUv),A.push(C.thicknessMapUv),A.push(C.combine),A.push(C.fogExp2),A.push(C.sizeAttenuation),A.push(C.morphTargetsCount),A.push(C.morphAttributeCount),A.push(C.numDirLights),A.push(C.numPointLights),A.push(C.numSpotLights),A.push(C.numSpotLightMaps),A.push(C.numHemiLights),A.push(C.numRectAreaLights),A.push(C.numDirLightShadows),A.push(C.numPointLightShadows),A.push(C.numSpotLightShadows),A.push(C.numSpotLightShadowsWithMaps),A.push(C.numLightProbes),A.push(C.shadowMapType),A.push(C.toneMapping),A.push(C.numClippingPlanes),A.push(C.numClipIntersection),A.push(C.depthPacking)}function x(A,C){o.disableAll(),C.instancing&&o.enable(0),C.instancingColor&&o.enable(1),C.instancingMorph&&o.enable(2),C.matcap&&o.enable(3),C.envMap&&o.enable(4),C.normalMapObjectSpace&&o.enable(5),C.normalMapTangentSpace&&o.enable(6),C.clearcoat&&o.enable(7),C.iridescence&&o.enable(8),C.alphaTest&&o.enable(9),C.vertexColors&&o.enable(10),C.vertexAlphas&&o.enable(11),C.vertexUv1s&&o.enable(12),C.vertexUv2s&&o.enable(13),C.vertexUv3s&&o.enable(14),C.vertexTangents&&o.enable(15),C.anisotropy&&o.enable(16),C.alphaHash&&o.enable(17),C.batching&&o.enable(18),C.dispersion&&o.enable(19),C.batchingColor&&o.enable(20),C.gradientMap&&o.enable(21),A.push(o.mask),o.disableAll(),C.fog&&o.enable(0),C.useFog&&o.enable(1),C.flatShading&&o.enable(2),C.logarithmicDepthBuffer&&o.enable(3),C.reversedDepthBuffer&&o.enable(4),C.skinning&&o.enable(5),C.morphTargets&&o.enable(6),C.morphNormals&&o.enable(7),C.morphColors&&o.enable(8),C.premultipliedAlpha&&o.enable(9),C.shadowMapEnabled&&o.enable(10),C.doubleSided&&o.enable(11),C.flipSided&&o.enable(12),C.useDepthPacking&&o.enable(13),C.dithering&&o.enable(14),C.transmission&&o.enable(15),C.sheen&&o.enable(16),C.opaque&&o.enable(17),C.pointsUvs&&o.enable(18),C.decodeVideoTexture&&o.enable(19),C.decodeVideoTextureEmissive&&o.enable(20),C.alphaToCoverage&&o.enable(21),A.push(o.mask)}function b(A){const C=m[A.type];let N;if(C){const I=ra[C];N=vC.clone(I.uniforms)}else N=A.uniforms;return N}function M(A,C){let N=c.get(C);return N!==void 0?++N.usedTimes:(N=new cwe(t,C,A,i),u.push(N),c.set(C,N)),N}function w(A){if(--A.usedTimes===0){const C=u.indexOf(A);u[C]=u[u.length-1],u.pop(),c.delete(A.cacheKey),A.destroy()}}function E(A){s.remove(A)}function P(){s.dispose()}return{getParameters:_,getProgramCacheKey:y,getUniforms:b,acquireProgram:M,releaseProgram:w,releaseShaderCache:E,programs:u,dispose:P}}function mwe(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function r(o){t.delete(o)}function i(o,s,l){t.get(o)[s]=l}function a(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:a}}function gwe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.materialVariant!==e.materialVariant?t.materialVariant-e.materialVariant:t.z!==e.z?t.z-e.z:t.id-e.id}function XD(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function qD(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(p){let m=0;return p.isInstancedMesh&&(m+=2),p.isSkinnedMesh&&(m+=1),m}function s(p,m,g,_,y,v){let x=t[e];return x===void 0?(x={id:p.id,object:p,geometry:m,material:g,materialVariant:o(p),groupOrder:_,renderOrder:p.renderOrder,z:y,group:v},t[e]=x):(x.id=p.id,x.object=p,x.geometry=m,x.material=g,x.materialVariant=o(p),x.groupOrder=_,x.renderOrder=p.renderOrder,x.z=y,x.group=v),e++,x}function l(p,m,g,_,y,v){const x=s(p,m,g,_,y,v);g.transmission>0?r.push(x):g.transparent===!0?i.push(x):n.push(x)}function u(p,m,g,_,y,v){const x=s(p,m,g,_,y,v);g.transmission>0?r.unshift(x):g.transparent===!0?i.unshift(x):n.unshift(x)}function c(p,m){n.length>1&&n.sort(p||gwe),r.length>1&&r.sort(m||XD),i.length>1&&i.sort(m||XD)}function f(){for(let p=e,m=t.length;p<m;p++){const g=t[p];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:l,unshift:u,finish:f,sort:c}}function vwe(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new qD,t.set(r,[o])):i>=a.length?(o=new qD,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function ywe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new X,color:new et};break;case"SpotLight":n={position:new X,direction:new X,color:new et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new X,color:new et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new X,skyColor:new et,groundColor:new et};break;case"RectAreaLight":n={color:new et,position:new X,halfWidth:new X,halfHeight:new X};break}return t[e.id]=n,n}}}function xwe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let _we=0;function bwe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Swe(t){const e=new ywe,n=xwe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new X);const i=new X,a=new wt,o=new wt;function s(u){let c=0,f=0,p=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let m=0,g=0,_=0,y=0,v=0,x=0,b=0,M=0,w=0,E=0,P=0;u.sort(bwe);for(let C=0,N=u.length;C<N;C++){const I=u[C],k=I.color,B=I.intensity,W=I.distance;let $=null;if(I.shadow&&I.shadow.map&&(I.shadow.map.texture.format===Eu?$=I.shadow.map.texture:$=I.shadow.map.depthTexture||I.shadow.map.texture),I.isAmbientLight)c+=k.r*B,f+=k.g*B,p+=k.b*B;else if(I.isLightProbe){for(let H=0;H<9;H++)r.probe[H].addScaledVector(I.sh.coefficients[H],B);P++}else if(I.isDirectionalLight){const H=e.get(I);if(H.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const V=I.shadow,U=n.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,r.directionalShadow[m]=U,r.directionalShadowMap[m]=$,r.directionalShadowMatrix[m]=I.shadow.matrix,x++}r.directional[m]=H,m++}else if(I.isSpotLight){const H=e.get(I);H.position.setFromMatrixPosition(I.matrixWorld),H.color.copy(k).multiplyScalar(B),H.distance=W,H.coneCos=Math.cos(I.angle),H.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),H.decay=I.decay,r.spot[_]=H;const V=I.shadow;if(I.map&&(r.spotLightMap[w]=I.map,w++,V.updateMatrices(I),I.castShadow&&E++),r.spotLightMatrix[_]=V.matrix,I.castShadow){const U=n.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,r.spotShadow[_]=U,r.spotShadowMap[_]=$,M++}_++}else if(I.isRectAreaLight){const H=e.get(I);H.color.copy(k).multiplyScalar(B),H.halfWidth.set(I.width*.5,0,0),H.halfHeight.set(0,I.height*.5,0),r.rectArea[y]=H,y++}else if(I.isPointLight){const H=e.get(I);if(H.color.copy(I.color).multiplyScalar(I.intensity),H.distance=I.distance,H.decay=I.decay,I.castShadow){const V=I.shadow,U=n.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,U.shadowCameraNear=V.camera.near,U.shadowCameraFar=V.camera.far,r.pointShadow[g]=U,r.pointShadowMap[g]=$,r.pointShadowMatrix[g]=I.shadow.matrix,b++}r.point[g]=H,g++}else if(I.isHemisphereLight){const H=e.get(I);H.skyColor.copy(I.color).multiplyScalar(B),H.groundColor.copy(I.groundColor).multiplyScalar(B),r.hemi[v]=H,v++}}y>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=qe.LTC_FLOAT_1,r.rectAreaLTC2=qe.LTC_FLOAT_2):(r.rectAreaLTC1=qe.LTC_HALF_1,r.rectAreaLTC2=qe.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==m||A.pointLength!==g||A.spotLength!==_||A.rectAreaLength!==y||A.hemiLength!==v||A.numDirectionalShadows!==x||A.numPointShadows!==b||A.numSpotShadows!==M||A.numSpotMaps!==w||A.numLightProbes!==P)&&(r.directional.length=m,r.spot.length=_,r.rectArea.length=y,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=M+w-E,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=P,A.directionalLength=m,A.pointLength=g,A.spotLength=_,A.rectAreaLength=y,A.hemiLength=v,A.numDirectionalShadows=x,A.numPointShadows=b,A.numSpotShadows=M,A.numSpotMaps=w,A.numLightProbes=P,r.version=_we++)}function l(u,c){let f=0,p=0,m=0,g=0,_=0;const y=c.matrixWorldInverse;for(let v=0,x=u.length;v<x;v++){const b=u[v];if(b.isDirectionalLight){const M=r.directional[f];M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),f++}else if(b.isSpotLight){const M=r.spot[m];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(y),m++}else if(b.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),o.identity(),a.copy(b.matrixWorld),a.premultiply(y),o.extractRotation(a),M.halfWidth.set(b.width*.5,0,0),M.halfHeight.set(0,b.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const M=r.point[p];M.position.setFromMatrixPosition(b.matrixWorld),M.position.applyMatrix4(y),p++}else if(b.isHemisphereLight){const M=r.hemi[_];M.direction.setFromMatrixPosition(b.matrixWorld),M.direction.transformDirection(y),_++}}}return{setup:s,setupView:l,state:r}}function YD(t){const e=new Swe(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function a(c){n.push(c)}function o(c){r.push(c)}function s(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function wwe(t){let e=new WeakMap;function n(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new YD(t),e.set(i,[s])):a>=o.length?(s=new YD(t),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:n,dispose:r}}const Mwe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ewe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,Awe=[new X(1,0,0),new X(-1,0,0),new X(0,1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1)],Twe=[new X(0,-1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1),new X(0,-1,0),new X(0,-1,0)],KD=new wt,yh=new X,Nw=new X;function Pwe(t,e,n){let r=new gd;const i=new Ee,a=new Ee,o=new cn,s=new xC,l=new _C,u={},c=n.maxTextureSize,f={[ts]:Yr,[Yr]:ts,[ro]:ro},p=new Fi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ee},radius:{value:4}},vertexShader:Mwe,fragmentShader:Ewe}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new Et;g.setAttribute("position",new Qt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new qn(g,p),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=cf;let v=this.type;this.render=function(E,P,A){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||E.length===0)return;this.type===Vh&&(We("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=cf);const C=t.getRenderTarget(),N=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),k=t.state;k.setBlending(fo),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const B=v!==this.type;B&&P.traverse(function(W){W.material&&(Array.isArray(W.material)?W.material.forEach($=>$.needsUpdate=!0):W.material.needsUpdate=!0)});for(let W=0,$=E.length;W<$;W++){const H=E[W],V=H.shadow;if(V===void 0){We("WebGLShadowMap:",H,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const U=V.getFrameExtents();i.multiply(U),a.copy(V.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/U.x),i.x=a.x*U.x,V.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/U.y),i.y=a.y*U.y,V.mapSize.y=a.y));const j=t.state.buffers.depth.getReversed();if(V.camera._reversedDepth=j,V.map===null||B===!0){if(V.map!==null&&(V.map.depthTexture!==null&&(V.map.depthTexture.dispose(),V.map.depthTexture=null),V.map.dispose()),this.type===tu){if(H.isPointLight){We("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}V.map=new mi(i.x,i.y,{format:Eu,type:Ba,minFilter:dn,magFilter:dn,generateMipmaps:!1}),V.map.texture.name=H.name+".shadowMap",V.map.depthTexture=new Cu(i.x,i.y,kr),V.map.depthTexture.name=H.name+".shadowMapDepth",V.map.depthTexture.format=mo,V.map.depthTexture.compareFunction=null,V.map.depthTexture.minFilter=zn,V.map.depthTexture.magFilter=zn}else H.isPointLight?(V.map=new RC(i.x),V.map.depthTexture=new dj(i.x,ha)):(V.map=new mi(i.x,i.y),V.map.depthTexture=new Cu(i.x,i.y,ha)),V.map.depthTexture.name=H.name+".shadowMap",V.map.depthTexture.format=mo,this.type===cf?(V.map.depthTexture.compareFunction=j?lb:sb,V.map.depthTexture.minFilter=dn,V.map.depthTexture.magFilter=dn):(V.map.depthTexture.compareFunction=null,V.map.depthTexture.minFilter=zn,V.map.depthTexture.magFilter=zn);V.camera.updateProjectionMatrix()}const Y=V.map.isWebGLCubeRenderTarget?6:1;for(let Z=0;Z<Y;Z++){if(V.map.isWebGLCubeRenderTarget)t.setRenderTarget(V.map,Z),t.clear();else{Z===0&&(t.setRenderTarget(V.map),t.clear());const J=V.getViewport(Z);o.set(a.x*J.x,a.y*J.y,a.x*J.z,a.y*J.w),k.viewport(o)}if(H.isPointLight){const J=V.camera,fe=V.matrix,we=H.distance||J.far;we!==J.far&&(J.far=we,J.updateProjectionMatrix()),yh.setFromMatrixPosition(H.matrixWorld),J.position.copy(yh),Nw.copy(J.position),Nw.add(Awe[Z]),J.up.copy(Twe[Z]),J.lookAt(Nw),J.updateMatrixWorld(),fe.makeTranslation(-yh.x,-yh.y,-yh.z),KD.multiplyMatrices(J.projectionMatrix,J.matrixWorldInverse),V._frustum.setFromProjectionMatrix(KD,J.coordinateSystem,J.reversedDepth)}else V.updateMatrices(H);r=V.getFrustum(),M(P,A,V.camera,H,this.type)}V.isPointLightShadow!==!0&&this.type===tu&&x(V,A),V.needsUpdate=!1}v=this.type,y.needsUpdate=!1,t.setRenderTarget(C,N,I)};function x(E,P){const A=e.update(_);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new mi(i.x,i.y,{format:Eu,type:Ba})),p.uniforms.shadow_pass.value=E.map.depthTexture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(P,null,A,p,_,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(P,null,A,m,_,null)}function b(E,P,A,C){let N=null;const I=A.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(I!==void 0)N=I;else if(N=A.isPointLight===!0?l:s,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0||P.alphaToCoverage===!0){const k=N.uuid,B=P.uuid;let W=u[k];W===void 0&&(W={},u[k]=W);let $=W[B];$===void 0&&($=N.clone(),W[B]=$,P.addEventListener("dispose",w)),N=$}if(N.visible=P.visible,N.wireframe=P.wireframe,C===tu?N.side=P.shadowSide!==null?P.shadowSide:P.side:N.side=P.shadowSide!==null?P.shadowSide:f[P.side],N.alphaMap=P.alphaMap,N.alphaTest=P.alphaToCoverage===!0?.5:P.alphaTest,N.map=P.map,N.clipShadows=P.clipShadows,N.clippingPlanes=P.clippingPlanes,N.clipIntersection=P.clipIntersection,N.displacementMap=P.displacementMap,N.displacementScale=P.displacementScale,N.displacementBias=P.displacementBias,N.wireframeLinewidth=P.wireframeLinewidth,N.linewidth=P.linewidth,A.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const k=t.properties.get(N);k.light=A}return N}function M(E,P,A,C,N){if(E.visible===!1)return;if(E.layers.test(P.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&N===tu)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,E.matrixWorld);const B=e.update(E),W=E.material;if(Array.isArray(W)){const $=B.groups;for(let H=0,V=$.length;H<V;H++){const U=$[H],j=W[U.materialIndex];if(j&&j.visible){const Y=b(E,j,C,N);E.onBeforeShadow(t,E,P,A,B,Y,U),t.renderBufferDirect(A,null,B,Y,E,U),E.onAfterShadow(t,E,P,A,B,Y,U)}}}else if(W.visible){const $=b(E,W,C,N);E.onBeforeShadow(t,E,P,A,B,$,null),t.renderBufferDirect(A,null,B,$,E,null),E.onAfterShadow(t,E,P,A,B,$,null)}}const k=E.children;for(let B=0,W=k.length;B<W;B++)M(k[B],P,A,C,N)}function w(E){E.target.removeEventListener("dispose",w);for(const A in u){const C=u[A],N=E.target.uuid;N in C&&(C[N].dispose(),delete C[N])}}}function Cwe(t,e){function n(){let ee=!1;const je=new cn;let Ue=null;const tt=new cn(0,0,0,0);return{setMask:function(Ie){Ue!==Ie&&!ee&&(t.colorMask(Ie,Ie,Ie,Ie),Ue=Ie)},setLocked:function(Ie){ee=Ie},setClear:function(Ie,ve,st,Mt,nn){nn===!0&&(Ie*=Mt,ve*=Mt,st*=Mt),je.set(Ie,ve,st,Mt),tt.equals(je)===!1&&(t.clearColor(Ie,ve,st,Mt),tt.copy(je))},reset:function(){ee=!1,Ue=null,tt.set(-1,0,0,0)}}}function r(){let ee=!1,je=!1,Ue=null,tt=null,Ie=null;return{setReversed:function(ve){if(je!==ve){const st=e.get("EXT_clip_control");ve?st.clipControlEXT(st.LOWER_LEFT_EXT,st.ZERO_TO_ONE_EXT):st.clipControlEXT(st.LOWER_LEFT_EXT,st.NEGATIVE_ONE_TO_ONE_EXT),je=ve;const Mt=Ie;Ie=null,this.setClear(Mt)}},getReversed:function(){return je},setTest:function(ve){ve?be(t.DEPTH_TEST):Ae(t.DEPTH_TEST)},setMask:function(ve){Ue!==ve&&!ee&&(t.depthMask(ve),Ue=ve)},setFunc:function(ve){if(je&&(ve=Kve[ve]),tt!==ve){switch(ve){case tx:t.depthFunc(t.NEVER);break;case nx:t.depthFunc(t.ALWAYS);break;case rx:t.depthFunc(t.LESS);break;case Mu:t.depthFunc(t.LEQUAL);break;case ix:t.depthFunc(t.EQUAL);break;case ax:t.depthFunc(t.GEQUAL);break;case ox:t.depthFunc(t.GREATER);break;case sx:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}tt=ve}},setLocked:function(ve){ee=ve},setClear:function(ve){Ie!==ve&&(Ie=ve,je&&(ve=1-ve),t.clearDepth(ve))},reset:function(){ee=!1,Ue=null,tt=null,Ie=null,je=!1}}}function i(){let ee=!1,je=null,Ue=null,tt=null,Ie=null,ve=null,st=null,Mt=null,nn=null;return{setTest:function(Xt){ee||(Xt?be(t.STENCIL_TEST):Ae(t.STENCIL_TEST))},setMask:function(Xt){je!==Xt&&!ee&&(t.stencilMask(Xt),je=Xt)},setFunc:function(Xt,ji,va){(Ue!==Xt||tt!==ji||Ie!==va)&&(t.stencilFunc(Xt,ji,va),Ue=Xt,tt=ji,Ie=va)},setOp:function(Xt,ji,va){(ve!==Xt||st!==ji||Mt!==va)&&(t.stencilOp(Xt,ji,va),ve=Xt,st=ji,Mt=va)},setLocked:function(Xt){ee=Xt},setClear:function(Xt){nn!==Xt&&(t.clearStencil(Xt),nn=Xt)},reset:function(){ee=!1,je=null,Ue=null,tt=null,Ie=null,ve=null,st=null,Mt=null,nn=null}}}const a=new n,o=new r,s=new i,l=new WeakMap,u=new WeakMap;let c={},f={},p=new WeakMap,m=[],g=null,_=!1,y=null,v=null,x=null,b=null,M=null,w=null,E=null,P=new et(0,0,0),A=0,C=!1,N=null,I=null,k=null,B=null,W=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,V=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(U)[1]),H=V>=1):U.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),H=V>=2);let j=null,Y={};const Z=t.getParameter(t.SCISSOR_BOX),J=t.getParameter(t.VIEWPORT),fe=new cn().fromArray(Z),we=new cn().fromArray(J);function De(ee,je,Ue,tt){const Ie=new Uint8Array(4),ve=t.createTexture();t.bindTexture(ee,ve),t.texParameteri(ee,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ee,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let st=0;st<Ue;st++)ee===t.TEXTURE_3D||ee===t.TEXTURE_2D_ARRAY?t.texImage3D(je,0,t.RGBA,1,1,tt,0,t.RGBA,t.UNSIGNED_BYTE,Ie):t.texImage2D(je+st,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ie);return ve}const ae={};ae[t.TEXTURE_2D]=De(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=De(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=De(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=De(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),be(t.DEPTH_TEST),o.setFunc(Mu),xe(!1),Ne(mA),be(t.CULL_FACE),ce(fo);function be(ee){c[ee]!==!0&&(t.enable(ee),c[ee]=!0)}function Ae(ee){c[ee]!==!1&&(t.disable(ee),c[ee]=!1)}function me(ee,je){return f[ee]!==je?(t.bindFramebuffer(ee,je),f[ee]=je,ee===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=je),ee===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=je),!0):!1}function Te(ee,je){let Ue=m,tt=!1;if(ee){Ue=p.get(je),Ue===void 0&&(Ue=[],p.set(je,Ue));const Ie=ee.textures;if(Ue.length!==Ie.length||Ue[0]!==t.COLOR_ATTACHMENT0){for(let ve=0,st=Ie.length;ve<st;ve++)Ue[ve]=t.COLOR_ATTACHMENT0+ve;Ue.length=Ie.length,tt=!0}}else Ue[0]!==t.BACK&&(Ue[0]=t.BACK,tt=!0);tt&&t.drawBuffers(Ue)}function Pe(ee){return g!==ee?(t.useProgram(ee),g=ee,!0):!1}const pe={[Ns]:t.FUNC_ADD,[b5]:t.FUNC_SUBTRACT,[S5]:t.FUNC_REVERSE_SUBTRACT};pe[w5]=t.MIN,pe[M5]=t.MAX;const Ge={[E5]:t.ZERO,[A5]:t.ONE,[T5]:t.SRC_COLOR,[Q0]:t.SRC_ALPHA,[N5]:t.SRC_ALPHA_SATURATE,[I5]:t.DST_COLOR,[C5]:t.DST_ALPHA,[P5]:t.ONE_MINUS_SRC_COLOR,[ex]:t.ONE_MINUS_SRC_ALPHA,[R5]:t.ONE_MINUS_DST_COLOR,[O5]:t.ONE_MINUS_DST_ALPHA,[L5]:t.CONSTANT_COLOR,[D5]:t.ONE_MINUS_CONSTANT_COLOR,[k5]:t.CONSTANT_ALPHA,[U5]:t.ONE_MINUS_CONSTANT_ALPHA};function ce(ee,je,Ue,tt,Ie,ve,st,Mt,nn,Xt){if(ee===fo){_===!0&&(Ae(t.BLEND),_=!1);return}if(_===!1&&(be(t.BLEND),_=!0),ee!==_5){if(ee!==y||Xt!==C){if((v!==Ns||M!==Ns)&&(t.blendEquation(t.FUNC_ADD),v=Ns,M=Ns),Xt)switch(ee){case cu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gA:t.blendFunc(t.ONE,t.ONE);break;case vA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case yA:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:mt("WebGLState: Invalid blending: ",ee);break}else switch(ee){case cu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gA:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case vA:mt("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case yA:mt("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:mt("WebGLState: Invalid blending: ",ee);break}x=null,b=null,w=null,E=null,P.set(0,0,0),A=0,y=ee,C=Xt}return}Ie=Ie||je,ve=ve||Ue,st=st||tt,(je!==v||Ie!==M)&&(t.blendEquationSeparate(pe[je],pe[Ie]),v=je,M=Ie),(Ue!==x||tt!==b||ve!==w||st!==E)&&(t.blendFuncSeparate(Ge[Ue],Ge[tt],Ge[ve],Ge[st]),x=Ue,b=tt,w=ve,E=st),(Mt.equals(P)===!1||nn!==A)&&(t.blendColor(Mt.r,Mt.g,Mt.b,nn),P.copy(Mt),A=nn),y=ee,C=!1}function Se(ee,je){ee.side===ro?Ae(t.CULL_FACE):be(t.CULL_FACE);let Ue=ee.side===Yr;je&&(Ue=!Ue),xe(Ue),ee.blending===cu&&ee.transparent===!1?ce(fo):ce(ee.blending,ee.blendEquation,ee.blendSrc,ee.blendDst,ee.blendEquationAlpha,ee.blendSrcAlpha,ee.blendDstAlpha,ee.blendColor,ee.blendAlpha,ee.premultipliedAlpha),o.setFunc(ee.depthFunc),o.setTest(ee.depthTest),o.setMask(ee.depthWrite),a.setMask(ee.colorWrite);const tt=ee.stencilWrite;s.setTest(tt),tt&&(s.setMask(ee.stencilWriteMask),s.setFunc(ee.stencilFunc,ee.stencilRef,ee.stencilFuncMask),s.setOp(ee.stencilFail,ee.stencilZFail,ee.stencilZPass)),ut(ee.polygonOffset,ee.polygonOffsetFactor,ee.polygonOffsetUnits),ee.alphaToCoverage===!0?be(t.SAMPLE_ALPHA_TO_COVERAGE):Ae(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(ee){N!==ee&&(ee?t.frontFace(t.CW):t.frontFace(t.CCW),N=ee)}function Ne(ee){ee!==v5?(be(t.CULL_FACE),ee!==I&&(ee===mA?t.cullFace(t.BACK):ee===y5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ae(t.CULL_FACE),I=ee}function q(ee){ee!==k&&(H&&t.lineWidth(ee),k=ee)}function ut(ee,je,Ue){ee?(be(t.POLYGON_OFFSET_FILL),(B!==je||W!==Ue)&&(B=je,W=Ue,o.getReversed()&&(je=-je),t.polygonOffset(je,Ue))):Ae(t.POLYGON_OFFSET_FILL)}function Ve(ee){ee?be(t.SCISSOR_TEST):Ae(t.SCISSOR_TEST)}function dt(ee){ee===void 0&&(ee=t.TEXTURE0+$-1),j!==ee&&(t.activeTexture(ee),j=ee)}function Oe(ee,je,Ue){Ue===void 0&&(j===null?Ue=t.TEXTURE0+$-1:Ue=j);let tt=Y[Ue];tt===void 0&&(tt={type:void 0,texture:void 0},Y[Ue]=tt),(tt.type!==ee||tt.texture!==je)&&(j!==Ue&&(t.activeTexture(Ue),j=Ue),t.bindTexture(ee,je||ae[ee]),tt.type=ee,tt.texture=je)}function G(){const ee=Y[j];ee!==void 0&&ee.type!==void 0&&(t.bindTexture(ee.type,null),ee.type=void 0,ee.texture=void 0)}function D(){try{t.compressedTexImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Q(){try{t.compressedTexImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function he(){try{t.texSubImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Me(){try{t.texSubImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ge(){try{t.compressedTexSubImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function nt(){try{t.compressedTexSubImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Be(){try{t.texStorage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ht(){try{t.texStorage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function yt(){try{t.texImage2D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function Ce(){try{t.texImage3D(...arguments)}catch(ee){mt("WebGLState:",ee)}}function ke(ee){fe.equals(ee)===!1&&(t.scissor(ee.x,ee.y,ee.z,ee.w),fe.copy(ee))}function lt(ee){we.equals(ee)===!1&&(t.viewport(ee.x,ee.y,ee.z,ee.w),we.copy(ee))}function ct(ee,je){let Ue=u.get(je);Ue===void 0&&(Ue=new WeakMap,u.set(je,Ue));let tt=Ue.get(ee);tt===void 0&&(tt=t.getUniformBlockIndex(je,ee.name),Ue.set(ee,tt))}function Je(ee,je){const tt=u.get(je).get(ee);l.get(je)!==tt&&(t.uniformBlockBinding(je,tt,ee.__bindingPointIndex),l.set(je,tt))}function Ot(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},j=null,Y={},f={},p=new WeakMap,m=[],g=null,_=!1,y=null,v=null,x=null,b=null,M=null,w=null,E=null,P=new et(0,0,0),A=0,C=!1,N=null,I=null,k=null,B=null,W=null,fe.set(0,0,t.canvas.width,t.canvas.height),we.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:be,disable:Ae,bindFramebuffer:me,drawBuffers:Te,useProgram:Pe,setBlending:ce,setMaterial:Se,setFlipSided:xe,setCullFace:Ne,setLineWidth:q,setPolygonOffset:ut,setScissorTest:Ve,activeTexture:dt,bindTexture:Oe,unbindTexture:G,compressedTexImage2D:D,compressedTexImage3D:Q,texImage2D:yt,texImage3D:Ce,updateUBOMapping:ct,uniformBlockBinding:Je,texStorage2D:Be,texStorage3D:ht,texSubImage2D:he,texSubImage3D:Me,compressedTexSubImage2D:ge,compressedTexSubImage3D:nt,scissor:ke,viewport:lt,reset:Ot}}function Owe(t,e,n,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ee,c=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(G,D){return m?new OffscreenCanvas(G,D):sm("canvas")}function _(G,D,Q){let he=1;const Me=Oe(G);if((Me.width>Q||Me.height>Q)&&(he=Q/Math.max(Me.width,Me.height)),he<1)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap||typeof VideoFrame<"u"&&G instanceof VideoFrame){const ge=Math.floor(he*Me.width),nt=Math.floor(he*Me.height);f===void 0&&(f=g(ge,nt));const Be=D?g(ge,nt):f;return Be.width=ge,Be.height=nt,Be.getContext("2d").drawImage(G,0,0,ge,nt),We("WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+ge+"x"+nt+")."),Be}else return"data"in G&&We("WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),G;return G}function y(G){return G.generateMipmaps}function v(G){t.generateMipmap(G)}function x(G){return G.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:G.isWebGL3DRenderTarget?t.TEXTURE_3D:G.isWebGLArrayRenderTarget||G.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(G,D,Q,he,Me=!1){if(G!==null){if(t[G]!==void 0)return t[G];We("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let ge=D;if(D===t.RED&&(Q===t.FLOAT&&(ge=t.R32F),Q===t.HALF_FLOAT&&(ge=t.R16F),Q===t.UNSIGNED_BYTE&&(ge=t.R8)),D===t.RED_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.R8UI),Q===t.UNSIGNED_SHORT&&(ge=t.R16UI),Q===t.UNSIGNED_INT&&(ge=t.R32UI),Q===t.BYTE&&(ge=t.R8I),Q===t.SHORT&&(ge=t.R16I),Q===t.INT&&(ge=t.R32I)),D===t.RG&&(Q===t.FLOAT&&(ge=t.RG32F),Q===t.HALF_FLOAT&&(ge=t.RG16F),Q===t.UNSIGNED_BYTE&&(ge=t.RG8)),D===t.RG_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RG8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RG16UI),Q===t.UNSIGNED_INT&&(ge=t.RG32UI),Q===t.BYTE&&(ge=t.RG8I),Q===t.SHORT&&(ge=t.RG16I),Q===t.INT&&(ge=t.RG32I)),D===t.RGB_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RGB8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RGB16UI),Q===t.UNSIGNED_INT&&(ge=t.RGB32UI),Q===t.BYTE&&(ge=t.RGB8I),Q===t.SHORT&&(ge=t.RGB16I),Q===t.INT&&(ge=t.RGB32I)),D===t.RGBA_INTEGER&&(Q===t.UNSIGNED_BYTE&&(ge=t.RGBA8UI),Q===t.UNSIGNED_SHORT&&(ge=t.RGBA16UI),Q===t.UNSIGNED_INT&&(ge=t.RGBA32UI),Q===t.BYTE&&(ge=t.RGBA8I),Q===t.SHORT&&(ge=t.RGBA16I),Q===t.INT&&(ge=t.RGBA32I)),D===t.RGB&&(Q===t.UNSIGNED_INT_5_9_9_9_REV&&(ge=t.RGB9_E5),Q===t.UNSIGNED_INT_10F_11F_11F_REV&&(ge=t.R11F_G11F_B10F)),D===t.RGBA){const nt=Me?am:zt.getTransfer(he);Q===t.FLOAT&&(ge=t.RGBA32F),Q===t.HALF_FLOAT&&(ge=t.RGBA16F),Q===t.UNSIGNED_BYTE&&(ge=nt===tn?t.SRGB8_ALPHA8:t.RGBA8),Q===t.UNSIGNED_SHORT_4_4_4_4&&(ge=t.RGBA4),Q===t.UNSIGNED_SHORT_5_5_5_1&&(ge=t.RGB5_A1)}return(ge===t.R16F||ge===t.R32F||ge===t.RG16F||ge===t.RG32F||ge===t.RGBA16F||ge===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ge}function M(G,D){let Q;return G?D===null||D===ha||D===Hf?Q=t.DEPTH24_STENCIL8:D===kr?Q=t.DEPTH32F_STENCIL8:D===Vf&&(Q=t.DEPTH24_STENCIL8,We("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):D===null||D===ha||D===Hf?Q=t.DEPTH_COMPONENT24:D===kr?Q=t.DEPTH_COMPONENT32F:D===Vf&&(Q=t.DEPTH_COMPONENT16),Q}function w(G,D){return y(G)===!0||G.isFramebufferTexture&&G.minFilter!==zn&&G.minFilter!==dn?Math.log2(Math.max(D.width,D.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?D.mipmaps.length:1}function E(G){const D=G.target;D.removeEventListener("dispose",E),A(D),D.isVideoTexture&&c.delete(D)}function P(G){const D=G.target;D.removeEventListener("dispose",P),N(D)}function A(G){const D=r.get(G);if(D.__webglInit===void 0)return;const Q=G.source,he=p.get(Q);if(he){const Me=he[D.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&C(G),Object.keys(he).length===0&&p.delete(Q)}r.remove(G)}function C(G){const D=r.get(G);t.deleteTexture(D.__webglTexture);const Q=G.source,he=p.get(Q);delete he[D.__cacheKey],o.memory.textures--}function N(G){const D=r.get(G);if(G.depthTexture&&(G.depthTexture.dispose(),r.remove(G.depthTexture)),G.isWebGLCubeRenderTarget)for(let he=0;he<6;he++){if(Array.isArray(D.__webglFramebuffer[he]))for(let Me=0;Me<D.__webglFramebuffer[he].length;Me++)t.deleteFramebuffer(D.__webglFramebuffer[he][Me]);else t.deleteFramebuffer(D.__webglFramebuffer[he]);D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer[he])}else{if(Array.isArray(D.__webglFramebuffer))for(let he=0;he<D.__webglFramebuffer.length;he++)t.deleteFramebuffer(D.__webglFramebuffer[he]);else t.deleteFramebuffer(D.__webglFramebuffer);if(D.__webglDepthbuffer&&t.deleteRenderbuffer(D.__webglDepthbuffer),D.__webglMultisampledFramebuffer&&t.deleteFramebuffer(D.__webglMultisampledFramebuffer),D.__webglColorRenderbuffer)for(let he=0;he<D.__webglColorRenderbuffer.length;he++)D.__webglColorRenderbuffer[he]&&t.deleteRenderbuffer(D.__webglColorRenderbuffer[he]);D.__webglDepthRenderbuffer&&t.deleteRenderbuffer(D.__webglDepthRenderbuffer)}const Q=G.textures;for(let he=0,Me=Q.length;he<Me;he++){const ge=r.get(Q[he]);ge.__webglTexture&&(t.deleteTexture(ge.__webglTexture),o.memory.textures--),r.remove(Q[he])}r.remove(G)}let I=0;function k(){I=0}function B(){const G=I;return G>=i.maxTextures&&We("WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+i.maxTextures),I+=1,G}function W(G){const D=[];return D.push(G.wrapS),D.push(G.wrapT),D.push(G.wrapR||0),D.push(G.magFilter),D.push(G.minFilter),D.push(G.anisotropy),D.push(G.internalFormat),D.push(G.format),D.push(G.type),D.push(G.generateMipmaps),D.push(G.premultiplyAlpha),D.push(G.flipY),D.push(G.unpackAlignment),D.push(G.colorSpace),D.join()}function $(G,D){const Q=r.get(G);if(G.isVideoTexture&&Ve(G),G.isRenderTargetTexture===!1&&G.isExternalTexture!==!0&&G.version>0&&Q.__version!==G.version){const he=G.image;if(he===null)We("WebGLRenderer: Texture marked for update but no image data found.");else if(he.complete===!1)We("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(Q,G,D);return}}else G.isExternalTexture&&(Q.__webglTexture=G.sourceTexture?G.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,Q.__webglTexture,t.TEXTURE0+D)}function H(G,D){const Q=r.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&Q.__version!==G.version){ae(Q,G,D);return}else G.isExternalTexture&&(Q.__webglTexture=G.sourceTexture?G.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,Q.__webglTexture,t.TEXTURE0+D)}function V(G,D){const Q=r.get(G);if(G.isRenderTargetTexture===!1&&G.version>0&&Q.__version!==G.version){ae(Q,G,D);return}n.bindTexture(t.TEXTURE_3D,Q.__webglTexture,t.TEXTURE0+D)}function U(G,D){const Q=r.get(G);if(G.isCubeDepthTexture!==!0&&G.version>0&&Q.__version!==G.version){be(Q,G,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Q.__webglTexture,t.TEXTURE0+D)}const j={[tm]:t.REPEAT,[fi]:t.CLAMP_TO_EDGE,[nm]:t.MIRRORED_REPEAT},Y={[zn]:t.NEAREST,[YP]:t.NEAREST_MIPMAP_NEAREST,[Kc]:t.NEAREST_MIPMAP_LINEAR,[dn]:t.LINEAR,[Wh]:t.LINEAR_MIPMAP_NEAREST,[ao]:t.LINEAR_MIPMAP_LINEAR},Z={[W5]:t.NEVER,[Z5]:t.ALWAYS,[X5]:t.LESS,[sb]:t.LEQUAL,[q5]:t.EQUAL,[lb]:t.GEQUAL,[Y5]:t.GREATER,[K5]:t.NOTEQUAL};function J(G,D){if(D.type===kr&&e.has("OES_texture_float_linear")===!1&&(D.magFilter===dn||D.magFilter===Wh||D.magFilter===Kc||D.magFilter===ao||D.minFilter===dn||D.minFilter===Wh||D.minFilter===Kc||D.minFilter===ao)&&We("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(G,t.TEXTURE_WRAP_S,j[D.wrapS]),t.texParameteri(G,t.TEXTURE_WRAP_T,j[D.wrapT]),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,j[D.wrapR]),t.texParameteri(G,t.TEXTURE_MAG_FILTER,Y[D.magFilter]),t.texParameteri(G,t.TEXTURE_MIN_FILTER,Y[D.minFilter]),D.compareFunction&&(t.texParameteri(G,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(G,t.TEXTURE_COMPARE_FUNC,Z[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(D.magFilter===zn||D.minFilter!==Kc&&D.minFilter!==ao||D.type===kr&&e.has("OES_texture_float_linear")===!1)return;if(D.anisotropy>1||r.get(D).__currentAnisotropy){const Q=e.get("EXT_texture_filter_anisotropic");t.texParameterf(G,Q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy}}}function fe(G,D){let Q=!1;G.__webglInit===void 0&&(G.__webglInit=!0,D.addEventListener("dispose",E));const he=D.source;let Me=p.get(he);Me===void 0&&(Me={},p.set(he,Me));const ge=W(D);if(ge!==G.__cacheKey){Me[ge]===void 0&&(Me[ge]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Q=!0),Me[ge].usedTimes++;const nt=Me[G.__cacheKey];nt!==void 0&&(Me[G.__cacheKey].usedTimes--,nt.usedTimes===0&&C(D)),G.__cacheKey=ge,G.__webglTexture=Me[ge].texture}return Q}function we(G,D,Q){return Math.floor(Math.floor(G/Q)/D)}function De(G,D,Q,he){const ge=G.updateRanges;if(ge.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,D.width,D.height,Q,he,D.data);else{ge.sort((Ce,ke)=>Ce.start-ke.start);let nt=0;for(let Ce=1;Ce<ge.length;Ce++){const ke=ge[nt],lt=ge[Ce],ct=ke.start+ke.count,Je=we(lt.start,D.width,4),Ot=we(ke.start,D.width,4);lt.start<=ct+1&&Je===Ot&&we(lt.start+lt.count-1,D.width,4)===Je?ke.count=Math.max(ke.count,lt.start+lt.count-ke.start):(++nt,ge[nt]=lt)}ge.length=nt+1;const Be=t.getParameter(t.UNPACK_ROW_LENGTH),ht=t.getParameter(t.UNPACK_SKIP_PIXELS),yt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,D.width);for(let Ce=0,ke=ge.length;Ce<ke;Ce++){const lt=ge[Ce],ct=Math.floor(lt.start/4),Je=Math.ceil(lt.count/4),Ot=ct%D.width,ee=Math.floor(ct/D.width),je=Je,Ue=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ot),t.pixelStorei(t.UNPACK_SKIP_ROWS,ee),n.texSubImage2D(t.TEXTURE_2D,0,Ot,ee,je,Ue,Q,he,D.data)}G.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Be),t.pixelStorei(t.UNPACK_SKIP_PIXELS,ht),t.pixelStorei(t.UNPACK_SKIP_ROWS,yt)}}function ae(G,D,Q){let he=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(he=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(he=t.TEXTURE_3D);const Me=fe(G,D),ge=D.source;n.bindTexture(he,G.__webglTexture,t.TEXTURE0+Q);const nt=r.get(ge);if(ge.version!==nt.__version||Me===!0){n.activeTexture(t.TEXTURE0+Q);const Be=zt.getPrimaries(zt.workingColorSpace),ht=D.colorSpace===Do?null:zt.getPrimaries(D.colorSpace),yt=D.colorSpace===Do||Be===ht?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);let Ce=_(D.image,!1,i.maxTextureSize);Ce=dt(D,Ce);const ke=a.convert(D.format,D.colorSpace),lt=a.convert(D.type);let ct=b(D.internalFormat,ke,lt,D.colorSpace,D.isVideoTexture);J(he,D);let Je;const Ot=D.mipmaps,ee=D.isVideoTexture!==!0,je=nt.__version===void 0||Me===!0,Ue=ge.dataReady,tt=w(D,Ce);if(D.isDepthTexture)ct=M(D.format===Fs,D.type),je&&(ee?n.texStorage2D(t.TEXTURE_2D,1,ct,Ce.width,Ce.height):n.texImage2D(t.TEXTURE_2D,0,ct,Ce.width,Ce.height,0,ke,lt,null));else if(D.isDataTexture)if(Ot.length>0){ee&&je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ot[0].width,Ot[0].height);for(let Ie=0,ve=Ot.length;Ie<ve;Ie++)Je=Ot[Ie],ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Je.width,Je.height,ke,lt,Je.data):n.texImage2D(t.TEXTURE_2D,Ie,ct,Je.width,Je.height,0,ke,lt,Je.data);D.generateMipmaps=!1}else ee?(je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ce.width,Ce.height),Ue&&De(D,Ce,ke,lt)):n.texImage2D(t.TEXTURE_2D,0,ct,Ce.width,Ce.height,0,ke,lt,Ce.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){ee&&je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,ct,Ot[0].width,Ot[0].height,Ce.depth);for(let Ie=0,ve=Ot.length;Ie<ve;Ie++)if(Je=Ot[Ie],D.format!==Ur)if(ke!==null)if(ee){if(Ue)if(D.layerUpdates.size>0){const st=CA(Je.width,Je.height,D.format,D.type);for(const Mt of D.layerUpdates){const nn=Je.data.subarray(Mt*st/Je.data.BYTES_PER_ELEMENT,(Mt+1)*st/Je.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,Mt,Je.width,Je.height,1,ke,nn)}D.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,Je.width,Je.height,Ce.depth,ke,Je.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ie,ct,Je.width,Je.height,Ce.depth,0,Je.data,0,0);else We("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ee?Ue&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ie,0,0,0,Je.width,Je.height,Ce.depth,ke,lt,Je.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ie,ct,Je.width,Je.height,Ce.depth,0,ke,lt,Je.data)}else{ee&&je&&n.texStorage2D(t.TEXTURE_2D,tt,ct,Ot[0].width,Ot[0].height);for(let Ie=0,ve=Ot.length;Ie<ve;Ie++)Je=Ot[Ie],D.format!==Ur?ke!==null?ee?Ue&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ie,0,0,Je.width,Je.height,ke,Je.data):n.compressedTexImage2D(t.TEXTURE_2D,Ie,ct,Je.width,Je.height,0,Je.data):We("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,Je.width,Je.height,ke,lt,Je.data):n.texImage2D(t.TEXTURE_2D,Ie,ct,Je.width,Je.height,0,ke,lt,Je.data)}else if(D.isDataArrayTexture)if(ee){if(je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,ct,Ce.width,Ce.height,Ce.depth),Ue)if(D.layerUpdates.size>0){const Ie=CA(Ce.width,Ce.height,D.format,D.type);for(const ve of D.layerUpdates){const st=Ce.data.subarray(ve*Ie/Ce.data.BYTES_PER_ELEMENT,(ve+1)*Ie/Ce.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,ve,Ce.width,Ce.height,1,ke,lt,st)}D.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ce.width,Ce.height,Ce.depth,ke,lt,Ce.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,ct,Ce.width,Ce.height,Ce.depth,0,ke,lt,Ce.data);else if(D.isData3DTexture)ee?(je&&n.texStorage3D(t.TEXTURE_3D,tt,ct,Ce.width,Ce.height,Ce.depth),Ue&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ce.width,Ce.height,Ce.depth,ke,lt,Ce.data)):n.texImage3D(t.TEXTURE_3D,0,ct,Ce.width,Ce.height,Ce.depth,0,ke,lt,Ce.data);else if(D.isFramebufferTexture){if(je)if(ee)n.texStorage2D(t.TEXTURE_2D,tt,ct,Ce.width,Ce.height);else{let Ie=Ce.width,ve=Ce.height;for(let st=0;st<tt;st++)n.texImage2D(t.TEXTURE_2D,st,ct,Ie,ve,0,ke,lt,null),Ie>>=1,ve>>=1}}else if(Ot.length>0){if(ee&&je){const Ie=Oe(Ot[0]);n.texStorage2D(t.TEXTURE_2D,tt,ct,Ie.width,Ie.height)}for(let Ie=0,ve=Ot.length;Ie<ve;Ie++)Je=Ot[Ie],ee?Ue&&n.texSubImage2D(t.TEXTURE_2D,Ie,0,0,ke,lt,Je):n.texImage2D(t.TEXTURE_2D,Ie,ct,ke,lt,Je);D.generateMipmaps=!1}else if(ee){if(je){const Ie=Oe(Ce);n.texStorage2D(t.TEXTURE_2D,tt,ct,Ie.width,Ie.height)}Ue&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ke,lt,Ce)}else n.texImage2D(t.TEXTURE_2D,0,ct,ke,lt,Ce);y(D)&&v(he),nt.__version=ge.version,D.onUpdate&&D.onUpdate(D)}G.__version=D.version}function be(G,D,Q){if(D.image.length!==6)return;const he=fe(G,D),Me=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+Q);const ge=r.get(Me);if(Me.version!==ge.__version||he===!0){n.activeTexture(t.TEXTURE0+Q);const nt=zt.getPrimaries(zt.workingColorSpace),Be=D.colorSpace===Do?null:zt.getPrimaries(D.colorSpace),ht=D.colorSpace===Do||nt===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);const yt=D.isCompressedTexture||D.image[0].isCompressedTexture,Ce=D.image[0]&&D.image[0].isDataTexture,ke=[];for(let ve=0;ve<6;ve++)!yt&&!Ce?ke[ve]=_(D.image[ve],!0,i.maxCubemapSize):ke[ve]=Ce?D.image[ve].image:D.image[ve],ke[ve]=dt(D,ke[ve]);const lt=ke[0],ct=a.convert(D.format,D.colorSpace),Je=a.convert(D.type),Ot=b(D.internalFormat,ct,Je,D.colorSpace),ee=D.isVideoTexture!==!0,je=ge.__version===void 0||he===!0,Ue=Me.dataReady;let tt=w(D,lt);J(t.TEXTURE_CUBE_MAP,D);let Ie;if(yt){ee&&je&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,Ot,lt.width,lt.height);for(let ve=0;ve<6;ve++){Ie=ke[ve].mipmaps;for(let st=0;st<Ie.length;st++){const Mt=Ie[st];D.format!==Ur?ct!==null?ee?Ue&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,0,0,Mt.width,Mt.height,ct,Mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,Ot,Mt.width,Mt.height,0,Mt.data):We("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,0,0,Mt.width,Mt.height,ct,Je,Mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st,Ot,Mt.width,Mt.height,0,ct,Je,Mt.data)}}}else{if(Ie=D.mipmaps,ee&&je){Ie.length>0&&tt++;const ve=Oe(ke[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,Ot,ve.width,ve.height)}for(let ve=0;ve<6;ve++)if(Ce){ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ke[ve].width,ke[ve].height,ct,Je,ke[ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Ot,ke[ve].width,ke[ve].height,0,ct,Je,ke[ve].data);for(let st=0;st<Ie.length;st++){const nn=Ie[st].image[ve].image;ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,0,0,nn.width,nn.height,ct,Je,nn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,Ot,nn.width,nn.height,0,ct,Je,nn.data)}}else{ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,ct,Je,ke[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Ot,ct,Je,ke[ve]);for(let st=0;st<Ie.length;st++){const Mt=Ie[st];ee?Ue&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,0,0,ct,Je,Mt.image[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,st+1,Ot,ct,Je,Mt.image[ve])}}}y(D)&&v(t.TEXTURE_CUBE_MAP),ge.__version=Me.version,D.onUpdate&&D.onUpdate(D)}G.__version=D.version}function Ae(G,D,Q,he,Me,ge){const nt=a.convert(Q.format,Q.colorSpace),Be=a.convert(Q.type),ht=b(Q.internalFormat,nt,Be,Q.colorSpace),yt=r.get(D),Ce=r.get(Q);if(Ce.__renderTarget=D,!yt.__hasExternalTextures){const ke=Math.max(1,D.width>>ge),lt=Math.max(1,D.height>>ge);Me===t.TEXTURE_3D||Me===t.TEXTURE_2D_ARRAY?n.texImage3D(Me,ge,ht,ke,lt,D.depth,0,nt,Be,null):n.texImage2D(Me,ge,ht,ke,lt,0,nt,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,G),ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,he,Me,Ce.__webglTexture,0,q(D)):(Me===t.TEXTURE_2D||Me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,he,Me,Ce.__webglTexture,ge),n.bindFramebuffer(t.FRAMEBUFFER,null)}function me(G,D,Q){if(t.bindRenderbuffer(t.RENDERBUFFER,G),D.depthBuffer){const he=D.depthTexture,Me=he&&he.isDepthTexture?he.type:null,ge=M(D.stencilBuffer,Me),nt=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;ut(D)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(D),ge,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(D),ge,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ge,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,nt,t.RENDERBUFFER,G)}else{const he=D.textures;for(let Me=0;Me<he.length;Me++){const ge=he[Me],nt=a.convert(ge.format,ge.colorSpace),Be=a.convert(ge.type),ht=b(ge.internalFormat,nt,Be,ge.colorSpace);ut(D)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,q(D),ht,D.width,D.height):Q?t.renderbufferStorageMultisample(t.RENDERBUFFER,q(D),ht,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,ht,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Te(G,D,Q){const he=D.isWebGLCubeRenderTarget===!0;if(n.bindFramebuffer(t.FRAMEBUFFER,G),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=r.get(D.depthTexture);if(Me.__renderTarget=D,(!Me.__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),he){if(Me.__webglInit===void 0&&(Me.__webglInit=!0,D.depthTexture.addEventListener("dispose",E)),Me.__webglTexture===void 0){Me.__webglTexture=t.createTexture(),n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture),J(t.TEXTURE_CUBE_MAP,D.depthTexture);const yt=a.convert(D.depthTexture.format),Ce=a.convert(D.depthTexture.type);let ke;D.depthTexture.format===mo?ke=t.DEPTH_COMPONENT24:D.depthTexture.format===Fs&&(ke=t.DEPTH24_STENCIL8);for(let lt=0;lt<6;lt++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,ke,D.width,D.height,0,yt,Ce,null)}}else $(D.depthTexture,0);const ge=Me.__webglTexture,nt=q(D),Be=he?t.TEXTURE_CUBE_MAP_POSITIVE_X+Q:t.TEXTURE_2D,ht=D.depthTexture.format===Fs?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(D.depthTexture.format===mo)ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ht,Be,ge,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,ht,Be,ge,0);else if(D.depthTexture.format===Fs)ut(D)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ht,Be,ge,0,nt):t.framebufferTexture2D(t.FRAMEBUFFER,ht,Be,ge,0);else throw new Error("Unknown depthTexture format")}function Pe(G){const D=r.get(G),Q=G.isWebGLCubeRenderTarget===!0;if(D.__boundDepthTexture!==G.depthTexture){const he=G.depthTexture;if(D.__depthDisposeCallback&&D.__depthDisposeCallback(),he){const Me=()=>{delete D.__boundDepthTexture,delete D.__depthDisposeCallback,he.removeEventListener("dispose",Me)};he.addEventListener("dispose",Me),D.__depthDisposeCallback=Me}D.__boundDepthTexture=he}if(G.depthTexture&&!D.__autoAllocateDepthBuffer)if(Q)for(let he=0;he<6;he++)Te(D.__webglFramebuffer[he],G,he);else{const he=G.texture.mipmaps;he&&he.length>0?Te(D.__webglFramebuffer[0],G,0):Te(D.__webglFramebuffer,G,0)}else if(Q){D.__webglDepthbuffer=[];for(let he=0;he<6;he++)if(n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[he]),D.__webglDepthbuffer[he]===void 0)D.__webglDepthbuffer[he]=t.createRenderbuffer(),me(D.__webglDepthbuffer[he],G,!1);else{const Me=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=D.__webglDepthbuffer[he];t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,ge)}}else{const he=G.texture.mipmaps;if(he&&he.length>0?n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer===void 0)D.__webglDepthbuffer=t.createRenderbuffer(),me(D.__webglDepthbuffer,G,!1);else{const Me=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=D.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ge),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,ge)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function pe(G,D,Q){const he=r.get(G);D!==void 0&&Ae(he.__webglFramebuffer,G,G.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Q!==void 0&&Pe(G)}function Ge(G){const D=G.texture,Q=r.get(G),he=r.get(D);G.addEventListener("dispose",P);const Me=G.textures,ge=G.isWebGLCubeRenderTarget===!0,nt=Me.length>1;if(nt||(he.__webglTexture===void 0&&(he.__webglTexture=t.createTexture()),he.__version=D.version,o.memory.textures++),ge){Q.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer[Be]=[];for(let ht=0;ht<D.mipmaps.length;ht++)Q.__webglFramebuffer[Be][ht]=t.createFramebuffer()}else Q.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(D.mipmaps&&D.mipmaps.length>0){Q.__webglFramebuffer=[];for(let Be=0;Be<D.mipmaps.length;Be++)Q.__webglFramebuffer[Be]=t.createFramebuffer()}else Q.__webglFramebuffer=t.createFramebuffer();if(nt)for(let Be=0,ht=Me.length;Be<ht;Be++){const yt=r.get(Me[Be]);yt.__webglTexture===void 0&&(yt.__webglTexture=t.createTexture(),o.memory.textures++)}if(G.samples>0&&ut(G)===!1){Q.__webglMultisampledFramebuffer=t.createFramebuffer(),Q.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglMultisampledFramebuffer);for(let Be=0;Be<Me.length;Be++){const ht=Me[Be];Q.__webglColorRenderbuffer[Be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Q.__webglColorRenderbuffer[Be]);const yt=a.convert(ht.format,ht.colorSpace),Ce=a.convert(ht.type),ke=b(ht.internalFormat,yt,Ce,ht.colorSpace,G.isXRRenderTarget===!0),lt=q(G);t.renderbufferStorageMultisample(t.RENDERBUFFER,lt,ke,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Be,t.RENDERBUFFER,Q.__webglColorRenderbuffer[Be])}t.bindRenderbuffer(t.RENDERBUFFER,null),G.depthBuffer&&(Q.__webglDepthRenderbuffer=t.createRenderbuffer(),me(Q.__webglDepthRenderbuffer,G,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ge){n.bindTexture(t.TEXTURE_CUBE_MAP,he.__webglTexture),J(t.TEXTURE_CUBE_MAP,D);for(let Be=0;Be<6;Be++)if(D.mipmaps&&D.mipmaps.length>0)for(let ht=0;ht<D.mipmaps.length;ht++)Ae(Q.__webglFramebuffer[Be][ht],G,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,ht);else Ae(Q.__webglFramebuffer[Be],G,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);y(D)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(nt){for(let Be=0,ht=Me.length;Be<ht;Be++){const yt=Me[Be],Ce=r.get(yt);let ke=t.TEXTURE_2D;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(ke=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ke,Ce.__webglTexture),J(ke,yt),Ae(Q.__webglFramebuffer,G,yt,t.COLOR_ATTACHMENT0+Be,ke,0),y(yt)&&v(ke)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(Be=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,he.__webglTexture),J(Be,D),D.mipmaps&&D.mipmaps.length>0)for(let ht=0;ht<D.mipmaps.length;ht++)Ae(Q.__webglFramebuffer[ht],G,D,t.COLOR_ATTACHMENT0,Be,ht);else Ae(Q.__webglFramebuffer,G,D,t.COLOR_ATTACHMENT0,Be,0);y(D)&&v(Be),n.unbindTexture()}G.depthBuffer&&Pe(G)}function ce(G){const D=G.textures;for(let Q=0,he=D.length;Q<he;Q++){const Me=D[Q];if(y(Me)){const ge=x(G),nt=r.get(Me).__webglTexture;n.bindTexture(ge,nt),v(ge),n.unbindTexture()}}}const Se=[],xe=[];function Ne(G){if(G.samples>0){if(ut(G)===!1){const D=G.textures,Q=G.width,he=G.height;let Me=t.COLOR_BUFFER_BIT;const ge=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=r.get(G),Be=D.length>1;if(Be)for(let yt=0;yt<D.length;yt++)n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer);const ht=G.texture.mipmaps;ht&&ht.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let yt=0;yt<D.length;yt++){if(G.resolveDepthBuffer&&(G.depthBuffer&&(Me|=t.DEPTH_BUFFER_BIT),G.stencilBuffer&&G.resolveStencilBuffer&&(Me|=t.STENCIL_BUFFER_BIT)),Be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,nt.__webglColorRenderbuffer[yt]);const Ce=r.get(D[yt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ce,0)}t.blitFramebuffer(0,0,Q,he,0,0,Q,he,Me,t.NEAREST),l===!0&&(Se.length=0,xe.length=0,Se.push(t.COLOR_ATTACHMENT0+yt),G.depthBuffer&&G.resolveDepthBuffer===!1&&(Se.push(ge),xe.push(ge),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,xe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Se))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Be)for(let yt=0;yt<D.length;yt++){n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.RENDERBUFFER,nt.__webglColorRenderbuffer[yt]);const Ce=r.get(D[yt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+yt,t.TEXTURE_2D,Ce,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}else if(G.depthBuffer&&G.resolveDepthBuffer===!1&&l){const D=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[D])}}}function q(G){return Math.min(i.maxSamples,G.samples)}function ut(G){const D=r.get(G);return G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Ve(G){const D=o.render.frame;c.get(G)!==D&&(c.set(G,D),G.update())}function dt(G,D){const Q=G.colorSpace,he=G.format,Me=G.type;return G.isCompressedTexture===!0||G.isVideoTexture===!0||Q!==Au&&Q!==Do&&(zt.getTransfer(Q)===tn?(he!==Ur||Me!==Gr)&&We("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):mt("WebGLTextures: Unsupported texture color space:",Q)),D}function Oe(G){return typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement?(u.width=G.naturalWidth||G.width,u.height=G.naturalHeight||G.height):typeof VideoFrame<"u"&&G instanceof VideoFrame?(u.width=G.displayWidth,u.height=G.displayHeight):(u.width=G.width,u.height=G.height),u}this.allocateTextureUnit=B,this.resetTextureUnits=k,this.setTexture2D=$,this.setTexture2DArray=H,this.setTexture3D=V,this.setTextureCube=U,this.rebindTextures=pe,this.setupRenderTarget=Ge,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=Pe,this.setupFrameBufferTexture=Ae,this.useMultisampledRTT=ut,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function l$(t,e){function n(r,i=Do){let a;const o=zt.getTransfer(i);if(r===Gr)return t.UNSIGNED_BYTE;if(r===tb)return t.UNSIGNED_SHORT_4_4_4_4;if(r===nb)return t.UNSIGNED_SHORT_5_5_5_1;if(r===JP)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===QP)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===KP)return t.BYTE;if(r===ZP)return t.SHORT;if(r===Vf)return t.UNSIGNED_SHORT;if(r===eb)return t.INT;if(r===ha)return t.UNSIGNED_INT;if(r===kr)return t.FLOAT;if(r===Ba)return t.HALF_FLOAT;if(r===eC)return t.ALPHA;if(r===tC)return t.RGB;if(r===Ur)return t.RGBA;if(r===mo)return t.DEPTH_COMPONENT;if(r===Fs)return t.DEPTH_STENCIL;if(r===rb)return t.RED;if(r===Lm)return t.RED_INTEGER;if(r===Eu)return t.RG;if(r===ib)return t.RG_INTEGER;if(r===ab)return t.RGBA_INTEGER;if(r===Xh||r===qh||r===Yh||r===Kh)if(o===tn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===Xh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===qh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Yh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Kh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===Xh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===qh)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Yh)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Kh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===lx||r===ux||r===cx||r===fx)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===lx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ux)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===cx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===fx)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===dx||r===hx||r===px||r===mx||r===gx||r===vx||r===yx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===dx||r===hx)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===px)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(r===mx)return a.COMPRESSED_R11_EAC;if(r===gx)return a.COMPRESSED_SIGNED_R11_EAC;if(r===vx)return a.COMPRESSED_RG11_EAC;if(r===yx)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===xx||r===_x||r===bx||r===Sx||r===wx||r===Mx||r===Ex||r===Ax||r===Tx||r===Px||r===Cx||r===Ox||r===Ix||r===Rx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===xx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===_x)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===bx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Sx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===wx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===Mx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Ex)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Ax)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Tx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Px)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Cx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===Ox)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===Ix)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===Rx)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Nx||r===Lx||r===Dx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===Nx)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===Lx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===Dx)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===kx||r===Ux||r===Fx||r===Bx)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===kx)return a.COMPRESSED_RED_RGTC1_EXT;if(r===Ux)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===Fx)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===Bx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Hf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Iwe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Rwe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Nwe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new cC(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Fi({vertexShader:Iwe,fragmentShader:Rwe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new qn(new vd(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Lwe extends vo{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,p=null,m=null,g=null;const _=typeof XRWebGLBinding<"u",y=new Nwe,v={},x=n.getContextAttributes();let b=null,M=null;const w=[],E=[],P=new Ee;let A=null;const C=new dr;C.viewport=new cn;const N=new dr;N.viewport=new cn;const I=[C,N],k=new Yj;let B=null,W=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let be=w[ae];return be===void 0&&(be=new Ay,w[ae]=be),be.getTargetRaySpace()},this.getControllerGrip=function(ae){let be=w[ae];return be===void 0&&(be=new Ay,w[ae]=be),be.getGripSpace()},this.getHand=function(ae){let be=w[ae];return be===void 0&&(be=new Ay,w[ae]=be),be.getHandSpace()};function $(ae){const be=E.indexOf(ae.inputSource);if(be===-1)return;const Ae=w[be];Ae!==void 0&&(Ae.update(ae.inputSource,ae.frame,u||o),Ae.dispatchEvent({type:ae.type,data:ae.inputSource}))}function H(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",V);for(let ae=0;ae<w.length;ae++){const be=E[ae];be!==null&&(E[ae]=null,w[ae].disconnect(be))}B=null,W=null,y.reset();for(const ae in v)delete v[ae];e.setRenderTarget(b),m=null,p=null,f=null,i=null,M=null,De.stop(),r.isPresenting=!1,e.setPixelRatio(A),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,r.isPresenting===!0&&We("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){s=ae,r.isPresenting===!0&&We("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ae){u=ae},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f===null&&_&&(f=new XRWebGLBinding(i,n)),f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",H),i.addEventListener("inputsourceschange",V),x.xrCompatible!==!0&&await n.makeXRCompatible(),A=e.getPixelRatio(),e.getSize(P),_&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ae=null,me=null,Te=null;x.depth&&(Te=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Ae=x.stencil?Fs:mo,me=x.stencil?Hf:ha);const Pe={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:a};f=this.getBinding(),p=f.createProjectionLayer(Pe),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),M=new mi(p.textureWidth,p.textureHeight,{format:Ur,type:Gr,depthTexture:new Cu(p.textureWidth,p.textureHeight,me,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const Ae={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(i,n,Ae),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),M=new mi(m.framebufferWidth,m.framebufferHeight,{format:Ur,type:Gr,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),De.setContext(i),De.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return y.getDepthTexture()};function V(ae){for(let be=0;be<ae.removed.length;be++){const Ae=ae.removed[be],me=E.indexOf(Ae);me>=0&&(E[me]=null,w[me].disconnect(Ae))}for(let be=0;be<ae.added.length;be++){const Ae=ae.added[be];let me=E.indexOf(Ae);if(me===-1){for(let Pe=0;Pe<w.length;Pe++)if(Pe>=E.length){E.push(Ae),me=Pe;break}else if(E[Pe]===null){E[Pe]=Ae,me=Pe;break}if(me===-1)break}const Te=w[me];Te&&Te.connect(Ae)}}const U=new X,j=new X;function Y(ae,be,Ae){U.setFromMatrixPosition(be.matrixWorld),j.setFromMatrixPosition(Ae.matrixWorld);const me=U.distanceTo(j),Te=be.projectionMatrix.elements,Pe=Ae.projectionMatrix.elements,pe=Te[14]/(Te[10]-1),Ge=Te[14]/(Te[10]+1),ce=(Te[9]+1)/Te[5],Se=(Te[9]-1)/Te[5],xe=(Te[8]-1)/Te[0],Ne=(Pe[8]+1)/Pe[0],q=pe*xe,ut=pe*Ne,Ve=me/(-xe+Ne),dt=Ve*-xe;if(be.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(dt),ae.translateZ(Ve),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),Te[10]===-1)ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse);else{const Oe=pe+Ve,G=Ge+Ve,D=q-dt,Q=ut+(me-dt),he=ce*Ge/G*Oe,Me=Se*Ge/G*Oe;ae.projectionMatrix.makePerspective(D,Q,he,Me,Oe,G),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function Z(ae,be){be===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(be.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let be=ae.near,Ae=ae.far;y.texture!==null&&(y.depthNear>0&&(be=y.depthNear),y.depthFar>0&&(Ae=y.depthFar)),k.near=N.near=C.near=be,k.far=N.far=C.far=Ae,(B!==k.near||W!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),B=k.near,W=k.far),k.layers.mask=ae.layers.mask|6,C.layers.mask=k.layers.mask&-5,N.layers.mask=k.layers.mask&-3;const me=ae.parent,Te=k.cameras;Z(k,me);for(let Pe=0;Pe<Te.length;Pe++)Z(Te[Pe],me);Te.length===2?Y(k,C,N):k.projectionMatrix.copy(C.projectionMatrix),J(ae,k,me)};function J(ae,be,Ae){Ae===null?ae.matrix.copy(be.matrixWorld):(ae.matrix.copy(Ae.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(be.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(be.projectionMatrix),ae.projectionMatrixInverse.copy(be.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Gf*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ae){l=ae,p!==null&&(p.fixedFoveation=ae),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ae)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(k)},this.getCameraTexture=function(ae){return v[ae]};let fe=null;function we(ae,be){if(c=be.getViewerPose(u||o),g=be,c!==null){const Ae=c.views;m!==null&&(e.setRenderTargetFramebuffer(M,m.framebuffer),e.setRenderTarget(M));let me=!1;Ae.length!==k.cameras.length&&(k.cameras.length=0,me=!0);for(let Ge=0;Ge<Ae.length;Ge++){const ce=Ae[Ge];let Se=null;if(m!==null)Se=m.getViewport(ce);else{const Ne=f.getViewSubImage(p,ce);Se=Ne.viewport,Ge===0&&(e.setRenderTargetTextures(M,Ne.colorTexture,Ne.depthStencilTexture),e.setRenderTarget(M))}let xe=I[Ge];xe===void 0&&(xe=new dr,xe.layers.enable(Ge),xe.viewport=new cn,I[Ge]=xe),xe.matrix.fromArray(ce.transform.matrix),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.projectionMatrix.fromArray(ce.projectionMatrix),xe.projectionMatrixInverse.copy(xe.projectionMatrix).invert(),xe.viewport.set(Se.x,Se.y,Se.width,Se.height),Ge===0&&(k.matrix.copy(xe.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),me===!0&&k.cameras.push(xe)}const Te=i.enabledFeatures;if(Te&&Te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&_){f=r.getBinding();const Ge=f.getDepthInformation(Ae[0]);Ge&&Ge.isValid&&Ge.texture&&y.init(Ge,i.renderState)}if(Te&&Te.includes("camera-access")&&_){e.state.unbindTexture(),f=r.getBinding();for(let Ge=0;Ge<Ae.length;Ge++){const ce=Ae[Ge].camera;if(ce){let Se=v[ce];Se||(Se=new cC,v[ce]=Se);const xe=f.getCameraImage(ce);Se.sourceTexture=xe}}}}for(let Ae=0;Ae<w.length;Ae++){const me=E[Ae],Te=w[Ae];me!==null&&Te!==void 0&&Te.update(me,be,u||o)}fe&&fe(ae,be),be.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:be}),g=null}const De=new r$;De.setAnimationLoop(we),this.setAnimationLoop=function(ae){fe=ae},this.dispose=function(){}}}const zl=new Ui,Dwe=new wt;function kwe(t,e){function n(y,v){y.matrixAutoUpdate===!0&&y.updateMatrix(),v.value.copy(y.matrix)}function r(y,v){v.color.getRGB(y.fogColor.value,Ej(t)),v.isFog?(y.fogNear.value=v.near,y.fogFar.value=v.far):v.isFogExp2&&(y.fogDensity.value=v.density)}function i(y,v,x,b,M){v.isMeshBasicMaterial?a(y,v):v.isMeshLambertMaterial?(a(y,v),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)):v.isMeshToonMaterial?(a(y,v),f(y,v)):v.isMeshPhongMaterial?(a(y,v),c(y,v),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)):v.isMeshStandardMaterial?(a(y,v),p(y,v),v.isMeshPhysicalMaterial&&m(y,v,M)):v.isMeshMatcapMaterial?(a(y,v),g(y,v)):v.isMeshDepthMaterial?a(y,v):v.isMeshDistanceMaterial?(a(y,v),_(y,v)):v.isMeshNormalMaterial?a(y,v):v.isLineBasicMaterial?(o(y,v),v.isLineDashedMaterial&&s(y,v)):v.isPointsMaterial?l(y,v,x,b):v.isSpriteMaterial?u(y,v):v.isShadowMaterial?(y.color.value.copy(v.color),y.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(y,v){y.opacity.value=v.opacity,v.color&&y.diffuse.value.copy(v.color),v.emissive&&y.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.bumpMap&&(y.bumpMap.value=v.bumpMap,n(v.bumpMap,y.bumpMapTransform),y.bumpScale.value=v.bumpScale,v.side===Yr&&(y.bumpScale.value*=-1)),v.normalMap&&(y.normalMap.value=v.normalMap,n(v.normalMap,y.normalMapTransform),y.normalScale.value.copy(v.normalScale),v.side===Yr&&y.normalScale.value.negate()),v.displacementMap&&(y.displacementMap.value=v.displacementMap,n(v.displacementMap,y.displacementMapTransform),y.displacementScale.value=v.displacementScale,y.displacementBias.value=v.displacementBias),v.emissiveMap&&(y.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,y.emissiveMapTransform)),v.specularMap&&(y.specularMap.value=v.specularMap,n(v.specularMap,y.specularMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest);const x=e.get(v),b=x.envMap,M=x.envMapRotation;b&&(y.envMap.value=b,zl.copy(M),zl.x*=-1,zl.y*=-1,zl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(zl.y*=-1,zl.z*=-1),y.envMapRotation.value.setFromMatrix4(Dwe.makeRotationFromEuler(zl)),y.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=v.reflectivity,y.ior.value=v.ior,y.refractionRatio.value=v.refractionRatio),v.lightMap&&(y.lightMap.value=v.lightMap,y.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,y.lightMapTransform)),v.aoMap&&(y.aoMap.value=v.aoMap,y.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,y.aoMapTransform))}function o(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform))}function s(y,v){y.dashSize.value=v.dashSize,y.totalSize.value=v.dashSize+v.gapSize,y.scale.value=v.scale}function l(y,v,x,b){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.size.value=v.size*x,y.scale.value=b*.5,v.map&&(y.map.value=v.map,n(v.map,y.uvTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function u(y,v){y.diffuse.value.copy(v.color),y.opacity.value=v.opacity,y.rotation.value=v.rotation,v.map&&(y.map.value=v.map,n(v.map,y.mapTransform)),v.alphaMap&&(y.alphaMap.value=v.alphaMap,n(v.alphaMap,y.alphaMapTransform)),v.alphaTest>0&&(y.alphaTest.value=v.alphaTest)}function c(y,v){y.specular.value.copy(v.specular),y.shininess.value=Math.max(v.shininess,1e-4)}function f(y,v){v.gradientMap&&(y.gradientMap.value=v.gradientMap)}function p(y,v){y.metalness.value=v.metalness,v.metalnessMap&&(y.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,y.metalnessMapTransform)),y.roughness.value=v.roughness,v.roughnessMap&&(y.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,y.roughnessMapTransform)),v.envMap&&(y.envMapIntensity.value=v.envMapIntensity)}function m(y,v,x){y.ior.value=v.ior,v.sheen>0&&(y.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),y.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(y.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,y.sheenColorMapTransform)),v.sheenRoughnessMap&&(y.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,y.sheenRoughnessMapTransform))),v.clearcoat>0&&(y.clearcoat.value=v.clearcoat,y.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(y.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,y.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(y.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Yr&&y.clearcoatNormalScale.value.negate())),v.dispersion>0&&(y.dispersion.value=v.dispersion),v.iridescence>0&&(y.iridescence.value=v.iridescence,y.iridescenceIOR.value=v.iridescenceIOR,y.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(y.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,y.iridescenceMapTransform)),v.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),v.transmission>0&&(y.transmission.value=v.transmission,y.transmissionSamplerMap.value=x.texture,y.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(y.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,y.transmissionMapTransform)),y.thickness.value=v.thickness,v.thicknessMap&&(y.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=v.attenuationDistance,y.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(y.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(y.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=v.specularIntensity,y.specularColor.value.copy(v.specularColor),v.specularColorMap&&(y.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,y.specularColorMapTransform)),v.specularIntensityMap&&(y.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,y.specularIntensityMapTransform))}function g(y,v){v.matcap&&(y.matcap.value=v.matcap)}function _(y,v){const x=e.get(v).light;y.referencePosition.value.setFromMatrixPosition(x.matrixWorld),y.nearDistance.value=x.shadow.camera.near,y.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Uwe(t,e,n,r){let i={},a={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,b){const M=b.program;r.uniformBlockBinding(x,M)}function u(x,b){let M=i[x.id];M===void 0&&(g(x),M=c(x),i[x.id]=M,x.addEventListener("dispose",y));const w=b.program;r.updateUBOMapping(x,w);const E=e.render.frame;a[x.id]!==E&&(p(x),a[x.id]=E)}function c(x){const b=f();x.__bindingPointIndex=b;const M=t.createBuffer(),w=x.__size,E=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,w,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,b,M),M}function f(){for(let x=0;x<s;x++)if(o.indexOf(x)===-1)return o.push(x),x;return mt("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const b=i[x.id],M=x.uniforms,w=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,b);for(let E=0,P=M.length;E<P;E++){const A=Array.isArray(M[E])?M[E]:[M[E]];for(let C=0,N=A.length;C<N;C++){const I=A[C];if(m(I,E,C,w)===!0){const k=I.__offset,B=Array.isArray(I.value)?I.value:[I.value];let W=0;for(let $=0;$<B.length;$++){const H=B[$],V=_(H);typeof H=="number"||typeof H=="boolean"?(I.__data[0]=H,t.bufferSubData(t.UNIFORM_BUFFER,k+W,I.__data)):H.isMatrix3?(I.__data[0]=H.elements[0],I.__data[1]=H.elements[1],I.__data[2]=H.elements[2],I.__data[3]=0,I.__data[4]=H.elements[3],I.__data[5]=H.elements[4],I.__data[6]=H.elements[5],I.__data[7]=0,I.__data[8]=H.elements[6],I.__data[9]=H.elements[7],I.__data[10]=H.elements[8],I.__data[11]=0):(H.toArray(I.__data,W),W+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(x,b,M,w){const E=x.value,P=b+"_"+M;if(w[P]===void 0)return typeof E=="number"||typeof E=="boolean"?w[P]=E:w[P]=E.clone(),!0;{const A=w[P];if(typeof E=="number"||typeof E=="boolean"){if(A!==E)return w[P]=E,!0}else if(A.equals(E)===!1)return A.copy(E),!0}return!1}function g(x){const b=x.uniforms;let M=0;const w=16;for(let P=0,A=b.length;P<A;P++){const C=Array.isArray(b[P])?b[P]:[b[P]];for(let N=0,I=C.length;N<I;N++){const k=C[N],B=Array.isArray(k.value)?k.value:[k.value];for(let W=0,$=B.length;W<$;W++){const H=B[W],V=_(H),U=M%w,j=U%V.boundary,Y=U+j;M+=j,Y!==0&&w-Y<V.storage&&(M+=w-Y),k.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=M,M+=V.storage}}}const E=M%w;return E>0&&(M+=w-E),x.__size=M,x.__cache={},this}function _(x){const b={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?We("WebGLRenderer: Texture samplers can not be part of an uniforms group."):We("WebGLRenderer: Unsupported uniform value type.",x),b}function y(x){const b=x.target;b.removeEventListener("dispose",y);const M=o.indexOf(b.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function v(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},a={}}return{bind:l,update:u,dispose:v}}const Fwe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let eo=null;function Bwe(){return eo===null&&(eo=new Ua(Fwe,16,16,Eu,Ba),eo.name="DFG_LUT",eo.minFilter=dn,eo.magFilter=dn,eo.wrapS=fi,eo.wrapT=fi,eo.generateMipmaps=!1,eo.needsUpdate=!0),eo}class u${constructor(e={}){const{canvas:n=Q5(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reversedDepthBuffer:p=!1,outputBufferType:m=Gr}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const _=m,y=new Set([ab,ib,Lm]),v=new Set([Gr,ha,Vf,Hf,tb,nb]),x=new Uint32Array(4),b=new Int32Array(4);let M=null,w=null;const E=[],P=[];let A=null;this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ua,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const C=this;let N=!1;this._outputColorSpace=oi;let I=0,k=0,B=null,W=-1,$=null;const H=new cn,V=new cn;let U=null;const j=new et(0);let Y=0,Z=n.width,J=n.height,fe=1,we=null,De=null;const ae=new cn(0,0,Z,J),be=new cn(0,0,Z,J);let Ae=!1;const me=new gd;let Te=!1,Pe=!1;const pe=new wt,Ge=new X,ce=new cn,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let xe=!1;function Ne(){return B===null?fe:1}let q=r;function ut(F,re){return n.getContext(F,re)}try{const F={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Z_}`),n.addEventListener("webglcontextlost",st,!1),n.addEventListener("webglcontextrestored",Mt,!1),n.addEventListener("webglcontextcreationerror",nn,!1),q===null){const re="webgl2";if(q=ut(re,F),q===null)throw ut(re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw mt("WebGLRenderer: "+F.message),F}let Ve,dt,Oe,G,D,Q,he,Me,ge,nt,Be,ht,yt,Ce,ke,lt,ct,Je,Ot,ee,je,Ue,tt;function Ie(){Ve=new jSe(q),Ve.init(),je=new l$(q,Ve),dt=new NSe(q,Ve,e,je),Oe=new Cwe(q,Ve),dt.reversedDepthBuffer&&p&&Oe.buffers.depth.setReversed(!0),G=new HSe(q),D=new mwe,Q=new Owe(q,Ve,Oe,D,dt,je,G),he=new zSe(C),Me=new Yxe(q),Ue=new ISe(q,Me),ge=new $Se(q,Me,G,Ue),nt=new WSe(q,ge,Me,Ue,G),Je=new GSe(q,dt,Q),ke=new LSe(D),Be=new pwe(C,he,Ve,dt,Ue,ke),ht=new kwe(C,D),yt=new vwe,Ce=new wwe(Ve),ct=new OSe(C,he,Oe,nt,g,l),lt=new Pwe(C,nt,dt),tt=new Uwe(q,G,dt,Oe),Ot=new RSe(q,Ve,G),ee=new VSe(q,Ve,G),G.programs=Be.programs,C.capabilities=dt,C.extensions=Ve,C.properties=D,C.renderLists=yt,C.shadowMap=lt,C.state=Oe,C.info=G}Ie(),_!==Gr&&(A=new qSe(_,n.width,n.height,i,a));const ve=new Lwe(C,q);this.xr=ve,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const F=Ve.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=Ve.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return fe},this.setPixelRatio=function(F){F!==void 0&&(fe=F,this.setSize(Z,J,!1))},this.getSize=function(F){return F.set(Z,J)},this.setSize=function(F,re,ue=!0){if(ve.isPresenting){We("WebGLRenderer: Can't change size while VR device is presenting.");return}Z=F,J=re,n.width=Math.floor(F*fe),n.height=Math.floor(re*fe),ue===!0&&(n.style.width=F+"px",n.style.height=re+"px"),A!==null&&A.setSize(n.width,n.height),this.setViewport(0,0,F,re)},this.getDrawingBufferSize=function(F){return F.set(Z*fe,J*fe).floor()},this.setDrawingBufferSize=function(F,re,ue){Z=F,J=re,fe=ue,n.width=Math.floor(F*ue),n.height=Math.floor(re*ue),this.setViewport(0,0,F,re)},this.setEffects=function(F){if(_===Gr){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(F){for(let re=0;re<F.length;re++)if(F[re].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}A.setEffects(F||[])},this.getCurrentViewport=function(F){return F.copy(H)},this.getViewport=function(F){return F.copy(ae)},this.setViewport=function(F,re,ue,se){F.isVector4?ae.set(F.x,F.y,F.z,F.w):ae.set(F,re,ue,se),Oe.viewport(H.copy(ae).multiplyScalar(fe).round())},this.getScissor=function(F){return F.copy(be)},this.setScissor=function(F,re,ue,se){F.isVector4?be.set(F.x,F.y,F.z,F.w):be.set(F,re,ue,se),Oe.scissor(V.copy(be).multiplyScalar(fe).round())},this.getScissorTest=function(){return Ae},this.setScissorTest=function(F){Oe.setScissorTest(Ae=F)},this.setOpaqueSort=function(F){we=F},this.setTransparentSort=function(F){De=F},this.getClearColor=function(F){return F.copy(ct.getClearColor())},this.setClearColor=function(){ct.setClearColor(...arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha(...arguments)},this.clear=function(F=!0,re=!0,ue=!0){let se=0;if(F){let oe=!1;if(B!==null){const Xe=B.texture.format;oe=y.has(Xe)}if(oe){const Xe=B.texture.type,Ke=v.has(Xe),$e=ct.getClearColor(),Fe=ct.getClearAlpha(),ze=$e.r,_t=$e.g,vt=$e.b;Ke?(x[0]=ze,x[1]=_t,x[2]=vt,x[3]=Fe,q.clearBufferuiv(q.COLOR,0,x)):(b[0]=ze,b[1]=_t,b[2]=vt,b[3]=Fe,q.clearBufferiv(q.COLOR,0,b))}else se|=q.COLOR_BUFFER_BIT}re&&(se|=q.DEPTH_BUFFER_BIT),ue&&(se|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se!==0&&q.clear(se)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",st,!1),n.removeEventListener("webglcontextrestored",Mt,!1),n.removeEventListener("webglcontextcreationerror",nn,!1),ct.dispose(),yt.dispose(),Ce.dispose(),D.dispose(),he.dispose(),nt.dispose(),Ue.dispose(),tt.dispose(),Be.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",$u),ve.removeEventListener("sessionend",Gm),yi.stop()};function st(F){F.preventDefault(),lm("WebGLRenderer: Context Lost."),N=!0}function Mt(){lm("WebGLRenderer: Context Restored."),N=!1;const F=G.autoReset,re=lt.enabled,ue=lt.autoUpdate,se=lt.needsUpdate,oe=lt.type;Ie(),G.autoReset=F,lt.enabled=re,lt.autoUpdate=ue,lt.needsUpdate=se,lt.type=oe}function nn(F){mt("WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Xt(F){const re=F.target;re.removeEventListener("dispose",Xt),ji(re)}function ji(F){va(F),D.remove(F)}function va(F){const re=D.get(F).programs;re!==void 0&&(re.forEach(function(ue){Be.releaseProgram(ue)}),F.isShaderMaterial&&Be.releaseShaderCache(F))}this.renderBufferDirect=function(F,re,ue,se,oe,Xe){re===null&&(re=Se);const Ke=oe.isMesh&&oe.matrixWorld.determinant()<0,$e=Lb(F,re,ue,se,oe);Oe.setMaterial(se,Ke);let Fe=ue.index,ze=1;if(se.wireframe===!0){if(Fe=ge.getWireframeAttribute(ue),Fe===void 0)return;ze=2}const _t=ue.drawRange,vt=ue.attributes.position;let Qe=_t.start*ze,Ft=(_t.start+_t.count)*ze;Xe!==null&&(Qe=Math.max(Qe,Xe.start*ze),Ft=Math.min(Ft,(Xe.start+Xe.count)*ze)),Fe!==null?(Qe=Math.max(Qe,0),Ft=Math.min(Ft,Fe.count)):vt!=null&&(Qe=Math.max(Qe,0),Ft=Math.min(Ft,vt.count));const sn=Ft-Qe;if(sn<0||sn===1/0)return;Ue.setup(oe,se,$e,ue,Fe);let Dt,$t=Ot;if(Fe!==null&&(Dt=Me.get(Fe),$t=ee,$t.setIndex(Dt)),oe.isMesh)se.wireframe===!0?(Oe.setLineWidth(se.wireframeLinewidth*Ne()),$t.setMode(q.LINES)):$t.setMode(q.TRIANGLES);else if(oe.isLine){let Yn=se.linewidth;Yn===void 0&&(Yn=1),Oe.setLineWidth(Yn*Ne()),oe.isLineSegments?$t.setMode(q.LINES):oe.isLineLoop?$t.setMode(q.LINE_LOOP):$t.setMode(q.LINE_STRIP)}else oe.isPoints?$t.setMode(q.POINTS):oe.isSprite&&$t.setMode(q.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)um("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),$t.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))$t.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const Yn=oe._multiDrawStarts,ft=oe._multiDrawCounts,ar=oe._multiDrawCount,Bt=Fe?Me.get(Fe).bytesPerElement:1,wn=D.get(se).currentProgram.getUniforms();for(let $i=0;$i<ar;$i++)wn.setValue(q,"_gl_DrawID",$i),$t.render(Yn[$i]/Bt,ft[$i])}else if(oe.isInstancedMesh)$t.renderInstances(Qe,sn,oe.count);else if(ue.isInstancedBufferGeometry){const Yn=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,ft=Math.min(ue.instanceCount,Yn);$t.renderInstances(Qe,sn,ft)}else $t.render(Qe,sn)};function Vm(F,re,ue){F.transparent===!0&&F.side===ro&&F.forceSinglePass===!1?(F.side=Yr,F.needsUpdate=!0,Hu(F,re,ue),F.side=ts,F.needsUpdate=!0,Hu(F,re,ue),F.side=ro):Hu(F,re,ue)}this.compile=function(F,re,ue=null){ue===null&&(ue=F),w=Ce.get(ue),w.init(re),P.push(w),ue.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),F!==ue&&F.traverseVisible(function(oe){oe.isLight&&oe.layers.test(re.layers)&&(w.pushLight(oe),oe.castShadow&&w.pushShadow(oe))}),w.setupLights();const se=new Set;return F.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;const Xe=oe.material;if(Xe)if(Array.isArray(Xe))for(let Ke=0;Ke<Xe.length;Ke++){const $e=Xe[Ke];Vm($e,ue,oe),se.add($e)}else Vm(Xe,ue,oe),se.add(Xe)}),w=P.pop(),se},this.compileAsync=function(F,re,ue=null){const se=this.compile(F,re,ue);return new Promise(oe=>{function Xe(){if(se.forEach(function(Ke){D.get(Ke).currentProgram.isReady()&&se.delete(Ke)}),se.size===0){oe(F);return}setTimeout(Xe,10)}Ve.get("KHR_parallel_shader_compile")!==null?Xe():setTimeout(Xe,10)})};let bd=null;function Hm(F){bd&&bd(F)}function $u(){yi.stop()}function Gm(){yi.start()}const yi=new r$;yi.setAnimationLoop(Hm),typeof self<"u"&&yi.setContext(self),this.setAnimationLoop=function(F){bd=F,ve.setAnimationLoop(F),F===null?yi.stop():yi.start()},ve.addEventListener("sessionstart",$u),ve.addEventListener("sessionend",Gm),this.render=function(F,re){if(re!==void 0&&re.isCamera!==!0){mt("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(N===!0)return;const ue=ve.enabled===!0&&ve.isPresenting===!0,se=A!==null&&(B===null||ue)&&A.begin(C,B);if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),re.parent===null&&re.matrixWorldAutoUpdate===!0&&re.updateMatrixWorld(),ve.enabled===!0&&ve.isPresenting===!0&&(A===null||A.isCompositing()===!1)&&(ve.cameraAutoUpdate===!0&&ve.updateCamera(re),re=ve.getCamera()),F.isScene===!0&&F.onBeforeRender(C,F,re,B),w=Ce.get(F,P.length),w.init(re),P.push(w),pe.multiplyMatrices(re.projectionMatrix,re.matrixWorldInverse),me.setFromProjectionMatrix(pe,Ri,re.reversedDepth),Pe=this.localClippingEnabled,Te=ke.init(this.clippingPlanes,Pe),M=yt.get(F,E.length),M.init(),E.push(M),ve.enabled===!0&&ve.isPresenting===!0){const Ke=C.xr.getDepthSensingMesh();Ke!==null&&Sd(Ke,re,-1/0,C.sortObjects)}Sd(F,re,0,C.sortObjects),M.finish(),C.sortObjects===!0&&M.sort(we,De),xe=ve.enabled===!1||ve.isPresenting===!1||ve.hasDepthSensing()===!1,xe&&ct.addToRenderList(M,F),this.info.render.frame++,Te===!0&&ke.beginShadows();const oe=w.state.shadowsArray;if(lt.render(oe,F,re),Te===!0&&ke.endShadows(),this.info.autoReset===!0&&this.info.reset(),(se&&A.hasRenderPass())===!1){const Ke=M.opaque,$e=M.transmissive;if(w.setupLights(),re.isArrayCamera){const Fe=re.cameras;if($e.length>0)for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze];Xm(Ke,$e,F,vt)}xe&&ct.render(F);for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze];Wm(M,F,vt,vt.viewport)}}else $e.length>0&&Xm(Ke,$e,F,re),xe&&ct.render(F),Wm(M,F,re)}B!==null&&k===0&&(Q.updateMultisampleRenderTarget(B),Q.updateRenderTargetMipmap(B)),se&&A.end(C),F.isScene===!0&&F.onAfterRender(C,F,re),Ue.resetDefaultState(),W=-1,$=null,P.pop(),P.length>0?(w=P[P.length-1],Te===!0&&ke.setGlobalState(C.clippingPlanes,w.state.camera)):w=null,E.pop(),E.length>0?M=E[E.length-1]:M=null};function Sd(F,re,ue,se){if(F.visible===!1)return;if(F.layers.test(re.layers)){if(F.isGroup)ue=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(re);else if(F.isLight)w.pushLight(F),F.castShadow&&w.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||me.intersectsSprite(F)){se&&ce.setFromMatrixPosition(F.matrixWorld).applyMatrix4(pe);const Ke=nt.update(F),$e=F.material;$e.visible&&M.push(F,Ke,$e,ue,ce.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||me.intersectsObject(F))){const Ke=nt.update(F),$e=F.material;if(se&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),ce.copy(F.boundingSphere.center)):(Ke.boundingSphere===null&&Ke.computeBoundingSphere(),ce.copy(Ke.boundingSphere.center)),ce.applyMatrix4(F.matrixWorld).applyMatrix4(pe)),Array.isArray($e)){const Fe=Ke.groups;for(let ze=0,_t=Fe.length;ze<_t;ze++){const vt=Fe[ze],Qe=$e[vt.materialIndex];Qe&&Qe.visible&&M.push(F,Ke,Qe,ue,ce.z,vt)}}else $e.visible&&M.push(F,Ke,$e,ue,ce.z,null)}}const Xe=F.children;for(let Ke=0,$e=Xe.length;Ke<$e;Ke++)Sd(Xe[Ke],re,ue,se)}function Wm(F,re,ue,se){const{opaque:oe,transmissive:Xe,transparent:Ke}=F;w.setupLightsView(ue),Te===!0&&ke.setGlobalState(C.clippingPlanes,ue),se&&Oe.viewport(H.copy(se)),oe.length>0&&Vu(oe,re,ue),Xe.length>0&&Vu(Xe,re,ue),Ke.length>0&&Vu(Ke,re,ue),Oe.buffers.depth.setTest(!0),Oe.buffers.depth.setMask(!0),Oe.buffers.color.setMask(!0),Oe.setPolygonOffset(!1)}function Xm(F,re,ue,se){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;if(w.state.transmissionRenderTarget[se.id]===void 0){const Qe=Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float");w.state.transmissionRenderTarget[se.id]=new mi(1,1,{generateMipmaps:!0,type:Qe?Ba:Gr,minFilter:ao,samples:dt.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:zt.workingColorSpace})}const Xe=w.state.transmissionRenderTarget[se.id],Ke=se.viewport||H;Xe.setSize(Ke.z*C.transmissionResolutionScale,Ke.w*C.transmissionResolutionScale);const $e=C.getRenderTarget(),Fe=C.getActiveCubeFace(),ze=C.getActiveMipmapLevel();C.setRenderTarget(Xe),C.getClearColor(j),Y=C.getClearAlpha(),Y<1&&C.setClearColor(16777215,.5),C.clear(),xe&&ct.render(ue);const _t=C.toneMapping;C.toneMapping=ua;const vt=se.viewport;if(se.viewport!==void 0&&(se.viewport=void 0),w.setupLightsView(se),Te===!0&&ke.setGlobalState(C.clippingPlanes,se),Vu(F,ue,se),Q.updateMultisampleRenderTarget(Xe),Q.updateRenderTargetMipmap(Xe),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let Qe=!1;for(let Ft=0,sn=re.length;Ft<sn;Ft++){const Dt=re[Ft],{object:$t,geometry:Yn,material:ft,group:ar}=Dt;if(ft.side===ro&&$t.layers.test(se.layers)){const Bt=ft.side;ft.side=Yr,ft.needsUpdate=!0,qm($t,ue,se,Yn,ft,ar),ft.side=Bt,ft.needsUpdate=!0,Qe=!0}}Qe===!0&&(Q.updateMultisampleRenderTarget(Xe),Q.updateRenderTargetMipmap(Xe))}C.setRenderTarget($e,Fe,ze),C.setClearColor(j,Y),vt!==void 0&&(se.viewport=vt),C.toneMapping=_t}function Vu(F,re,ue){const se=re.isScene===!0?re.overrideMaterial:null;for(let oe=0,Xe=F.length;oe<Xe;oe++){const Ke=F[oe],{object:$e,geometry:Fe,group:ze}=Ke;let _t=Ke.material;_t.allowOverride===!0&&se!==null&&(_t=se),$e.layers.test(ue.layers)&&qm($e,re,ue,Fe,_t,ze)}}function qm(F,re,ue,se,oe,Xe){F.onBeforeRender(C,re,ue,se,oe,Xe),F.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),oe.onBeforeRender(C,re,ue,se,F,Xe),oe.transparent===!0&&oe.side===ro&&oe.forceSinglePass===!1?(oe.side=Yr,oe.needsUpdate=!0,C.renderBufferDirect(ue,re,se,oe,F,Xe),oe.side=ts,oe.needsUpdate=!0,C.renderBufferDirect(ue,re,se,oe,F,Xe),oe.side=ro):C.renderBufferDirect(ue,re,se,oe,F,Xe),F.onAfterRender(C,re,ue,se,oe,Xe)}function Hu(F,re,ue){re.isScene!==!0&&(re=Se);const se=D.get(F),oe=w.state.lights,Xe=w.state.shadowsArray,Ke=oe.state.version,$e=Be.getParameters(F,oe.state,Xe,re,ue),Fe=Be.getProgramCacheKey($e);let ze=se.programs;se.environment=F.isMeshStandardMaterial||F.isMeshLambertMaterial||F.isMeshPhongMaterial?re.environment:null,se.fog=re.fog;const _t=F.isMeshStandardMaterial||F.isMeshLambertMaterial&&!F.envMap||F.isMeshPhongMaterial&&!F.envMap;se.envMap=he.get(F.envMap||se.environment,_t),se.envMapRotation=se.environment!==null&&F.envMap===null?re.environmentRotation:F.envMapRotation,ze===void 0&&(F.addEventListener("dispose",Xt),ze=new Map,se.programs=ze);let vt=ze.get(Fe);if(vt!==void 0){if(se.currentProgram===vt&&se.lightsStateVersion===Ke)return wd(F,$e),vt}else $e.uniforms=Be.getUniforms(F),F.onBeforeCompile($e,C),vt=Be.acquireProgram($e,Fe),ze.set(Fe,vt),se.uniforms=$e.uniforms;const Qe=se.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Qe.clippingPlanes=ke.uniform),wd(F,$e),se.needsLights=kb(F),se.lightsStateVersion=Ke,se.needsLights&&(Qe.ambientLightColor.value=oe.state.ambient,Qe.lightProbe.value=oe.state.probe,Qe.directionalLights.value=oe.state.directional,Qe.directionalLightShadows.value=oe.state.directionalShadow,Qe.spotLights.value=oe.state.spot,Qe.spotLightShadows.value=oe.state.spotShadow,Qe.rectAreaLights.value=oe.state.rectArea,Qe.ltc_1.value=oe.state.rectAreaLTC1,Qe.ltc_2.value=oe.state.rectAreaLTC2,Qe.pointLights.value=oe.state.point,Qe.pointLightShadows.value=oe.state.pointShadow,Qe.hemisphereLights.value=oe.state.hemi,Qe.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,Qe.spotLightMatrix.value=oe.state.spotLightMatrix,Qe.spotLightMap.value=oe.state.spotLightMap,Qe.pointShadowMatrix.value=oe.state.pointShadowMatrix),se.currentProgram=vt,se.uniformsList=null,vt}function Ym(F){if(F.uniformsList===null){const re=F.currentProgram.getUniforms();F.uniformsList=Ty.seqWithValue(re.seq,F.uniforms)}return F.uniformsList}function wd(F,re){const ue=D.get(F);ue.outputColorSpace=re.outputColorSpace,ue.batching=re.batching,ue.batchingColor=re.batchingColor,ue.instancing=re.instancing,ue.instancingColor=re.instancingColor,ue.instancingMorph=re.instancingMorph,ue.skinning=re.skinning,ue.morphTargets=re.morphTargets,ue.morphNormals=re.morphNormals,ue.morphColors=re.morphColors,ue.morphTargetsCount=re.morphTargetsCount,ue.numClippingPlanes=re.numClippingPlanes,ue.numIntersection=re.numClipIntersection,ue.vertexAlphas=re.vertexAlphas,ue.vertexTangents=re.vertexTangents,ue.toneMapping=re.toneMapping}function Lb(F,re,ue,se,oe){re.isScene!==!0&&(re=Se),Q.resetTextureUnits();const Xe=re.fog,Ke=se.isMeshStandardMaterial||se.isMeshLambertMaterial||se.isMeshPhongMaterial?re.environment:null,$e=B===null?C.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:Au,Fe=se.isMeshStandardMaterial||se.isMeshLambertMaterial&&!se.envMap||se.isMeshPhongMaterial&&!se.envMap,ze=he.get(se.envMap||Ke,Fe),_t=se.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,vt=!!ue.attributes.tangent&&(!!se.normalMap||se.anisotropy>0),Qe=!!ue.morphAttributes.position,Ft=!!ue.morphAttributes.normal,sn=!!ue.morphAttributes.color;let Dt=ua;se.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Dt=C.toneMapping);const $t=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,Yn=$t!==void 0?$t.length:0,ft=D.get(se),ar=w.state.lights;if(Te===!0&&(Pe===!0||F!==$)){const Mn=F===$&&se.id===W;ke.setState(se,F,Mn)}let Bt=!1;se.version===ft.__version?(ft.needsLights&&ft.lightsStateVersion!==ar.state.version||ft.outputColorSpace!==$e||oe.isBatchedMesh&&ft.batching===!1||!oe.isBatchedMesh&&ft.batching===!0||oe.isBatchedMesh&&ft.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&ft.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&ft.instancing===!1||!oe.isInstancedMesh&&ft.instancing===!0||oe.isSkinnedMesh&&ft.skinning===!1||!oe.isSkinnedMesh&&ft.skinning===!0||oe.isInstancedMesh&&ft.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&ft.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&ft.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&ft.instancingMorph===!1&&oe.morphTexture!==null||ft.envMap!==ze||se.fog===!0&&ft.fog!==Xe||ft.numClippingPlanes!==void 0&&(ft.numClippingPlanes!==ke.numPlanes||ft.numIntersection!==ke.numIntersection)||ft.vertexAlphas!==_t||ft.vertexTangents!==vt||ft.morphTargets!==Qe||ft.morphNormals!==Ft||ft.morphColors!==sn||ft.toneMapping!==Dt||ft.morphTargetsCount!==Yn)&&(Bt=!0):(Bt=!0,ft.__version=se.version);let wn=ft.currentProgram;Bt===!0&&(wn=Hu(se,re,oe));let $i=!1,xo=!1,ls=!1;const qt=wn.getUniforms(),In=ft.uniforms;if(Oe.useProgram(wn.program)&&($i=!0,xo=!0,ls=!0),se.id!==W&&(W=se.id,xo=!0),$i||$!==F){Oe.buffers.depth.getReversed()&&F.reversedDepth!==!0&&(F._reversedDepth=!0,F.updateProjectionMatrix()),qt.setValue(q,"projectionMatrix",F.projectionMatrix),qt.setValue(q,"viewMatrix",F.matrixWorldInverse);const $a=qt.map.cameraPosition;$a!==void 0&&$a.setValue(q,Ge.setFromMatrixPosition(F.matrixWorld)),dt.logarithmicDepthBuffer&&qt.setValue(q,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(se.isMeshPhongMaterial||se.isMeshToonMaterial||se.isMeshLambertMaterial||se.isMeshBasicMaterial||se.isMeshStandardMaterial||se.isShaderMaterial)&&qt.setValue(q,"isOrthographic",F.isOrthographicCamera===!0),$!==F&&($=F,xo=!0,ls=!0)}if(ft.needsLights&&(ar.state.directionalShadowMap.length>0&&qt.setValue(q,"directionalShadowMap",ar.state.directionalShadowMap,Q),ar.state.spotShadowMap.length>0&&qt.setValue(q,"spotShadowMap",ar.state.spotShadowMap,Q),ar.state.pointShadowMap.length>0&&qt.setValue(q,"pointShadowMap",ar.state.pointShadowMap,Q)),oe.isSkinnedMesh){qt.setOptional(q,oe,"bindMatrix"),qt.setOptional(q,oe,"bindMatrixInverse");const Mn=oe.skeleton;Mn&&(Mn.boneTexture===null&&Mn.computeBoneTexture(),qt.setValue(q,"boneTexture",Mn.boneTexture,Q))}oe.isBatchedMesh&&(qt.setOptional(q,oe,"batchingTexture"),qt.setValue(q,"batchingTexture",oe._matricesTexture,Q),qt.setOptional(q,oe,"batchingIdTexture"),qt.setValue(q,"batchingIdTexture",oe._indirectTexture,Q),qt.setOptional(q,oe,"batchingColorTexture"),oe._colorsTexture!==null&&qt.setValue(q,"batchingColorTexture",oe._colorsTexture,Q));const ei=ue.morphAttributes;if((ei.position!==void 0||ei.normal!==void 0||ei.color!==void 0)&&Je.update(oe,ue,wn),(xo||ft.receiveShadow!==oe.receiveShadow)&&(ft.receiveShadow=oe.receiveShadow,qt.setValue(q,"receiveShadow",oe.receiveShadow)),(se.isMeshStandardMaterial||se.isMeshLambertMaterial||se.isMeshPhongMaterial)&&se.envMap===null&&re.environment!==null&&(In.envMapIntensity.value=re.environmentIntensity),In.dfgLUT!==void 0&&(In.dfgLUT.value=Bwe()),xo&&(qt.setValue(q,"toneMappingExposure",C.toneMappingExposure),ft.needsLights&&Db(In,ls),Xe&&se.fog===!0&&ht.refreshFogUniforms(In,Xe),ht.refreshMaterialUniforms(In,se,fe,J,w.state.transmissionRenderTarget[F.id]),Ty.upload(q,Ym(ft),In,Q)),se.isShaderMaterial&&se.uniformsNeedUpdate===!0&&(Ty.upload(q,Ym(ft),In,Q),se.uniformsNeedUpdate=!1),se.isSpriteMaterial&&qt.setValue(q,"center",oe.center),qt.setValue(q,"modelViewMatrix",oe.modelViewMatrix),qt.setValue(q,"normalMatrix",oe.normalMatrix),qt.setValue(q,"modelMatrix",oe.matrixWorld),se.isShaderMaterial||se.isRawShaderMaterial){const Mn=se.uniformsGroups;for(let $a=0,us=Mn.length;$a<us;$a++){const Gu=Mn[$a];tt.update(Gu,wn),tt.bind(Gu,wn)}}return wn}function Db(F,re){F.ambientLightColor.needsUpdate=re,F.lightProbe.needsUpdate=re,F.directionalLights.needsUpdate=re,F.directionalLightShadows.needsUpdate=re,F.pointLights.needsUpdate=re,F.pointLightShadows.needsUpdate=re,F.spotLights.needsUpdate=re,F.spotLightShadows.needsUpdate=re,F.rectAreaLights.needsUpdate=re,F.hemisphereLights.needsUpdate=re}function kb(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(F,re,ue){const se=D.get(F);se.__autoAllocateDepthBuffer=F.resolveDepthBuffer===!1,se.__autoAllocateDepthBuffer===!1&&(se.__useRenderToTexture=!1),D.get(F.texture).__webglTexture=re,D.get(F.depthTexture).__webglTexture=se.__autoAllocateDepthBuffer?void 0:ue,se.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(F,re){const ue=D.get(F);ue.__webglFramebuffer=re,ue.__useDefaultFramebuffer=re===void 0};const Ub=q.createFramebuffer();this.setRenderTarget=function(F,re=0,ue=0){B=F,I=re,k=ue;let se=null,oe=!1,Xe=!1;if(F){const $e=D.get(F);if($e.__useDefaultFramebuffer!==void 0){Oe.bindFramebuffer(q.FRAMEBUFFER,$e.__webglFramebuffer),H.copy(F.viewport),V.copy(F.scissor),U=F.scissorTest,Oe.viewport(H),Oe.scissor(V),Oe.setScissorTest(U),W=-1;return}else if($e.__webglFramebuffer===void 0)Q.setupRenderTarget(F);else if($e.__hasExternalTextures)Q.rebindTextures(F,D.get(F.texture).__webglTexture,D.get(F.depthTexture).__webglTexture);else if(F.depthBuffer){const _t=F.depthTexture;if($e.__boundDepthTexture!==_t){if(_t!==null&&D.has(_t)&&(F.width!==_t.image.width||F.height!==_t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Q.setupDepthRenderbuffer(F)}}const Fe=F.texture;(Fe.isData3DTexture||Fe.isDataArrayTexture||Fe.isCompressedArrayTexture)&&(Xe=!0);const ze=D.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(ze[re])?se=ze[re][ue]:se=ze[re],oe=!0):F.samples>0&&Q.useMultisampledRTT(F)===!1?se=D.get(F).__webglMultisampledFramebuffer:Array.isArray(ze)?se=ze[ue]:se=ze,H.copy(F.viewport),V.copy(F.scissor),U=F.scissorTest}else H.copy(ae).multiplyScalar(fe).floor(),V.copy(be).multiplyScalar(fe).floor(),U=Ae;if(ue!==0&&(se=Ub),Oe.bindFramebuffer(q.FRAMEBUFFER,se)&&Oe.drawBuffers(F,se),Oe.viewport(H),Oe.scissor(V),Oe.setScissorTest(U),oe){const $e=D.get(F.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+re,$e.__webglTexture,ue)}else if(Xe){const $e=re;for(let Fe=0;Fe<F.textures.length;Fe++){const ze=D.get(F.textures[Fe]);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+Fe,ze.__webglTexture,ue,$e)}}else if(F!==null&&ue!==0){const $e=D.get(F.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,$e.__webglTexture,ue)}W=-1},this.readRenderTargetPixels=function(F,re,ue,se,oe,Xe,Ke,$e=0){if(!(F&&F.isWebGLRenderTarget)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Fe=D.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ke!==void 0&&(Fe=Fe[Ke]),Fe){Oe.bindFramebuffer(q.FRAMEBUFFER,Fe);try{const ze=F.textures[$e],_t=ze.format,vt=ze.type;if(F.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+$e),!dt.textureFormatReadable(_t)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!dt.textureTypeReadable(vt)){mt("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}re>=0&&re<=F.width-se&&ue>=0&&ue<=F.height-oe&&q.readPixels(re,ue,se,oe,je.convert(_t),je.convert(vt),Xe)}finally{const ze=B!==null?D.get(B).__webglFramebuffer:null;Oe.bindFramebuffer(q.FRAMEBUFFER,ze)}}},this.readRenderTargetPixelsAsync=async function(F,re,ue,se,oe,Xe,Ke,$e=0){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Fe=D.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ke!==void 0&&(Fe=Fe[Ke]),Fe)if(re>=0&&re<=F.width-se&&ue>=0&&ue<=F.height-oe){Oe.bindFramebuffer(q.FRAMEBUFFER,Fe);const ze=F.textures[$e],_t=ze.format,vt=ze.type;if(F.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+$e),!dt.textureFormatReadable(_t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!dt.textureTypeReadable(vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Qe=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,Qe),q.bufferData(q.PIXEL_PACK_BUFFER,Xe.byteLength,q.STREAM_READ),q.readPixels(re,ue,se,oe,je.convert(_t),je.convert(vt),0);const Ft=B!==null?D.get(B).__webglFramebuffer:null;Oe.bindFramebuffer(q.FRAMEBUFFER,Ft);const sn=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await Yve(q,sn,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,Qe),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Xe),q.deleteBuffer(Qe),q.deleteSync(sn),Xe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(F,re=null,ue=0){const se=Math.pow(2,-ue),oe=Math.floor(F.image.width*se),Xe=Math.floor(F.image.height*se),Ke=re!==null?re.x:0,$e=re!==null?re.y:0;Q.setTexture2D(F,0),q.copyTexSubImage2D(q.TEXTURE_2D,ue,0,0,Ke,$e,oe,Xe),Oe.unbindTexture()};const Fb=q.createFramebuffer(),Bb=q.createFramebuffer();this.copyTextureToTexture=function(F,re,ue=null,se=null,oe=0,Xe=0){let Ke,$e,Fe,ze,_t,vt,Qe,Ft,sn;const Dt=F.isCompressedTexture?F.mipmaps[Xe]:F.image;if(ue!==null)Ke=ue.max.x-ue.min.x,$e=ue.max.y-ue.min.y,Fe=ue.isBox3?ue.max.z-ue.min.z:1,ze=ue.min.x,_t=ue.min.y,vt=ue.isBox3?ue.min.z:0;else{const In=Math.pow(2,-oe);Ke=Math.floor(Dt.width*In),$e=Math.floor(Dt.height*In),F.isDataArrayTexture?Fe=Dt.depth:F.isData3DTexture?Fe=Math.floor(Dt.depth*In):Fe=1,ze=0,_t=0,vt=0}se!==null?(Qe=se.x,Ft=se.y,sn=se.z):(Qe=0,Ft=0,sn=0);const $t=je.convert(re.format),Yn=je.convert(re.type);let ft;re.isData3DTexture?(Q.setTexture3D(re,0),ft=q.TEXTURE_3D):re.isDataArrayTexture||re.isCompressedArrayTexture?(Q.setTexture2DArray(re,0),ft=q.TEXTURE_2D_ARRAY):(Q.setTexture2D(re,0),ft=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,re.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,re.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,re.unpackAlignment);const ar=q.getParameter(q.UNPACK_ROW_LENGTH),Bt=q.getParameter(q.UNPACK_IMAGE_HEIGHT),wn=q.getParameter(q.UNPACK_SKIP_PIXELS),$i=q.getParameter(q.UNPACK_SKIP_ROWS),xo=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,Dt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Dt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,ze),q.pixelStorei(q.UNPACK_SKIP_ROWS,_t),q.pixelStorei(q.UNPACK_SKIP_IMAGES,vt);const ls=F.isDataArrayTexture||F.isData3DTexture,qt=re.isDataArrayTexture||re.isData3DTexture;if(F.isDepthTexture){const In=D.get(F),ei=D.get(re),Mn=D.get(In.__renderTarget),$a=D.get(ei.__renderTarget);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,Mn.__webglFramebuffer),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,$a.__webglFramebuffer);for(let us=0;us<Fe;us++)ls&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,D.get(F).__webglTexture,oe,vt+us),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,D.get(re).__webglTexture,Xe,sn+us)),q.blitFramebuffer(ze,_t,Ke,$e,Qe,Ft,Ke,$e,q.DEPTH_BUFFER_BIT,q.NEAREST);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(oe!==0||F.isRenderTargetTexture||D.has(F)){const In=D.get(F),ei=D.get(re);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,Fb),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,Bb);for(let Mn=0;Mn<Fe;Mn++)ls?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,In.__webglTexture,oe,vt+Mn):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,In.__webglTexture,oe),qt?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,ei.__webglTexture,Xe,sn+Mn):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ei.__webglTexture,Xe),oe!==0?q.blitFramebuffer(ze,_t,Ke,$e,Qe,Ft,Ke,$e,q.COLOR_BUFFER_BIT,q.NEAREST):qt?q.copyTexSubImage3D(ft,Xe,Qe,Ft,sn+Mn,ze,_t,Ke,$e):q.copyTexSubImage2D(ft,Xe,Qe,Ft,ze,_t,Ke,$e);Oe.bindFramebuffer(q.READ_FRAMEBUFFER,null),Oe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else qt?F.isDataTexture||F.isData3DTexture?q.texSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Yn,Dt.data):re.isCompressedArrayTexture?q.compressedTexSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Dt.data):q.texSubImage3D(ft,Xe,Qe,Ft,sn,Ke,$e,Fe,$t,Yn,Dt):F.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Ke,$e,$t,Yn,Dt.data):F.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Dt.width,Dt.height,$t,Dt.data):q.texSubImage2D(q.TEXTURE_2D,Xe,Qe,Ft,Ke,$e,$t,Yn,Dt);q.pixelStorei(q.UNPACK_ROW_LENGTH,ar),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Bt),q.pixelStorei(q.UNPACK_SKIP_PIXELS,wn),q.pixelStorei(q.UNPACK_SKIP_ROWS,$i),q.pixelStorei(q.UNPACK_SKIP_IMAGES,xo),Xe===0&&re.generateMipmaps&&q.generateMipmap(ft),Oe.unbindTexture()},this.initRenderTarget=function(F){D.get(F).__webglFramebuffer===void 0&&Q.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?Q.setTextureCube(F,0):F.isData3DTexture?Q.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?Q.setTexture2DArray(F,0):Q.setTexture2D(F,0),Oe.unbindTexture()},this.resetState=function(){I=0,k=0,B=null,Oe.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ri}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=zt._getDrawingBufferColorSpace(e),n.unpackColorSpace=zt._getUnpackColorSpace()}}const zwe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:J_,AddEquation:Ns,AddOperation:B5,AdditiveAnimationBlendMode:nC,AdditiveBlending:gA,AgXToneMapping:XP,AlphaFormat:eC,AlwaysCompare:Z5,AlwaysDepth:nx,AlwaysStencilFunc:bA,AmbientLight:Vj,AnimationAction:Qj,AnimationClip:mm,AnimationLoader:z0e,AnimationMixer:gxe,AnimationObjectGroup:pxe,AnimationUtils:k0e,ArcCurve:pj,ArrayCamera:Yj,ArrowHelper:zxe,AttachedBindMode:xA,Audio:Zj,AudioAnalyser:ixe,AudioContext:TC,AudioListener:txe,AudioLoader:Z0e,AxesHelper:jxe,BackSide:Yr,BasicDepthPacking:H5,BasicShadowMap:x5,BatchedMesh:lj,BezierInterpolant:kj,Bone:lC,BooleanKeyframeTrack:Bu,Box2:Mxe,Box3:Fr,Box3Helper:Fxe,BoxGeometry:Fu,BoxHelper:Uxe,BufferAttribute:Qt,BufferGeometry:Et,BufferGeometryLoader:Xj,ByteType:KP,Cache:oo,Camera:jm,CameraHelper:kxe,CanvasTexture:n0e,CapsuleGeometry:vb,CatmullRomCurve3:mj,CineonToneMapping:GP,CircleGeometry:yb,ClampToEdgeWrapping:fi,Clock:t$,Color:et,ColorKeyframeTrack:wC,ColorManagement:zt,Compatibility:Hve,CompressedArrayTexture:e0e,CompressedCubeTexture:t0e,CompressedTexture:gb,CompressedTextureLoader:j0e,ConeGeometry:Um,ConstantAlphaFactor:k5,ConstantColorFactor:L5,Controls:Vxe,CubeCamera:qj,CubeDepthTexture:dj,CubeReflectionMapping:po,CubeRefractionMapping:tl,CubeTexture:Dm,CubeTextureLoader:$0e,CubeUVReflectionMapping:pd,CubicBezierCurve:dC,CubicBezierCurve3:gj,CubicInterpolant:Lj,CullFaceBack:mA,CullFaceFront:y5,CullFaceFrontBack:nve,CullFaceNone:v5,Curve:ja,CurvePath:yj,CustomBlending:_5,CustomToneMapping:WP,CylinderGeometry:km,Cylindrical:wxe,Data3DTexture:cb,DataArrayTexture:ub,DataTexture:Ua,DataTextureLoader:V0e,DataUtils:Tye,DecrementStencilOp:bve,DecrementWrapStencilOp:wve,DefaultLoadingManager:Fj,DepthFormat:mo,DepthStencilFormat:Fs,DepthTexture:Cu,DetachedBindMode:z5,DirectionalLight:$j,DirectionalLightHelper:Dxe,DiscreteInterpolant:Dj,DodecahedronGeometry:xb,DoubleSide:ro,DstAlphaFactor:C5,DstColorFactor:I5,DynamicCopyUsage:Fve,DynamicDrawUsage:Rve,DynamicReadUsage:Dve,EdgesGeometry:hj,EllipseCurve:_b,EqualCompare:q5,EqualDepth:ix,EqualStencilFunc:Tve,EquirectangularReflectionMapping:Hh,EquirectangularRefractionMapping:Gh,Euler:Ui,EventDispatcher:vo,ExternalTexture:cC,ExtrudeGeometry:bb,FileLoader:ns,Float16BufferAttribute:Lye,Float32BufferAttribute:at,FloatType:kr,Fog:db,FogExp2:fb,FramebufferTexture:Qye,FrontSide:ts,Frustum:gd,FrustumArray:mb,GLBufferAttribute:bxe,GLSL1:zve,GLSL3:SA,GreaterCompare:Y5,GreaterDepth:ox,GreaterEqualCompare:lb,GreaterEqualDepth:ax,GreaterEqualStencilFunc:Ive,GreaterStencilFunc:Cve,GridHelper:Nxe,Group:Jc,HalfFloatType:Ba,HemisphereLight:Bj,HemisphereLightHelper:Rxe,IcosahedronGeometry:Sb,ImageBitmapLoader:K0e,ImageLoader:gm,ImageUtils:tj,IncrementStencilOp:_ve,IncrementWrapStencilOp:Sve,InstancedBufferAttribute:Wf,InstancedBufferGeometry:Wj,InstancedInterleavedBuffer:_xe,InstancedMesh:sj,Int16BufferAttribute:Rye,Int32BufferAttribute:Nye,Int8BufferAttribute:Cye,IntType:eb,InterleavedBuffer:hb,InterleavedBufferAttribute:Pu,Interpolant:yd,InterpolateBezier:_A,InterpolateDiscrete:rm,InterpolateLinear:zx,InterpolateSmooth:Ey,InterpolationSamplingMode:Vve,InterpolationSamplingType:$ve,InvertStencilOp:Mve,KeepStencilOp:Wl,KeyframeTrack:ga,LOD:aj,LatheGeometry:wb,Layers:du,LessCompare:X5,LessDepth:rx,LessEqualCompare:sb,LessEqualDepth:Mu,LessEqualStencilFunc:Pve,LessStencilFunc:Ave,Light:gl,LightProbe:Gj,Line:rl,Line3:Txe,LineBasicMaterial:Qr,LineCurve:hC,LineCurve3:vj,LineDashedMaterial:Rj,LineLoop:uj,LineSegments:yo,LinearFilter:dn,LinearInterpolant:SC,LinearMipMapLinearFilter:sve,LinearMipMapNearestFilter:ove,LinearMipmapLinearFilter:ao,LinearMipmapNearestFilter:Wh,LinearSRGBColorSpace:Au,LinearToneMapping:VP,LinearTransfer:am,Loader:vi,LoaderUtils:TA,LoadingManager:MC,LoopOnce:j5,LoopPingPong:V5,LoopRepeat:$5,MOUSE:eve,Material:Sr,MaterialBlending:rve,MaterialLoader:Ib,MathUtils:hye,Matrix2:IC,Matrix3:Pt,Matrix4:wt,MaxEquation:M5,Mesh:qn,MeshBasicMaterial:pl,MeshDepthMaterial:xC,MeshDistanceMaterial:_C,MeshLambertMaterial:Oj,MeshMatcapMaterial:Ij,MeshNormalMaterial:Cj,MeshPhongMaterial:Tj,MeshPhysicalMaterial:Aj,MeshStandardMaterial:Ob,MeshToonMaterial:Pj,MinEquation:w5,MirroredRepeatWrapping:nm,MixOperation:F5,MultiplyBlending:yA,MultiplyOperation:Nm,NearestFilter:zn,NearestMipMapLinearFilter:ave,NearestMipMapNearestFilter:ive,NearestMipmapLinearFilter:Kc,NearestMipmapNearestFilter:YP,NeutralToneMapping:qP,NeverCompare:W5,NeverDepth:tx,NeverStencilFunc:Eve,NoBlending:fo,NoColorSpace:Do,NoNormalPacking:mve,NoToneMapping:ua,NormalAnimationBlendMode:ob,NormalBlending:cu,NormalGAPacking:vve,NormalRGPacking:gve,NotEqualCompare:K5,NotEqualDepth:sx,NotEqualStencilFunc:Ove,NumberKeyframeTrack:hm,Object3D:Wt,ObjectLoader:q0e,ObjectSpaceNormalMap:G5,OctahedronGeometry:Fm,OneFactor:A5,OneMinusConstantAlphaFactor:U5,OneMinusConstantColorFactor:D5,OneMinusDstAlphaFactor:O5,OneMinusDstColorFactor:R5,OneMinusSrcAlphaFactor:ex,OneMinusSrcColorFactor:P5,OrthographicCamera:xd,PCFShadowMap:cf,PCFSoftShadowMap:Vh,PMREMGenerator:OA,Path:Gx,PerspectiveCamera:dr,Plane:Cs,PlaneGeometry:vd,PlaneHelper:Bxe,PointLight:jj,PointLightHelper:Oxe,Points:cj,PointsMaterial:uC,PolarGridHelper:Lxe,PolyhedronGeometry:ml,PositionalAudio:rxe,PropertyBinding:Vt,PropertyMixer:Jj,QuadraticBezierCurve:pC,QuadraticBezierCurve3:mC,Quaternion:Kr,QuaternionKeyframeTrack:zm,QuaternionLinearInterpolant:Uj,R11_EAC_Format:mx,RED_GREEN_RGTC2_Format:Fx,RED_RGTC1_Format:kx,REVISION:Z_,RG11_EAC_Format:vx,RGBADepthPacking:dve,RGBAFormat:Ur,RGBAIntegerFormat:ab,RGBA_ASTC_10x10_Format:Ox,RGBA_ASTC_10x5_Format:Tx,RGBA_ASTC_10x6_Format:Px,RGBA_ASTC_10x8_Format:Cx,RGBA_ASTC_12x10_Format:Ix,RGBA_ASTC_12x12_Format:Rx,RGBA_ASTC_4x4_Format:xx,RGBA_ASTC_5x4_Format:_x,RGBA_ASTC_5x5_Format:bx,RGBA_ASTC_6x5_Format:Sx,RGBA_ASTC_6x6_Format:wx,RGBA_ASTC_8x5_Format:Mx,RGBA_ASTC_8x6_Format:Ex,RGBA_ASTC_8x8_Format:Ax,RGBA_BPTC_Format:Nx,RGBA_ETC2_EAC_Format:px,RGBA_PVRTC_2BPPV1_Format:fx,RGBA_PVRTC_4BPPV1_Format:cx,RGBA_S3TC_DXT1_Format:qh,RGBA_S3TC_DXT3_Format:Yh,RGBA_S3TC_DXT5_Format:Kh,RGBDepthPacking:hve,RGBFormat:tC,RGBIntegerFormat:lve,RGB_BPTC_SIGNED_Format:Lx,RGB_BPTC_UNSIGNED_Format:Dx,RGB_ETC1_Format:dx,RGB_ETC2_Format:hx,RGB_PVRTC_2BPPV1_Format:ux,RGB_PVRTC_4BPPV1_Format:lx,RGB_S3TC_DXT1_Format:Xh,RGDepthPacking:pve,RGFormat:Eu,RGIntegerFormat:ib,RawShaderMaterial:yC,Ray:md,Raycaster:e$,RectAreaLight:Hj,RedFormat:rb,RedIntegerFormat:Lm,ReinhardToneMapping:HP,RenderTarget:iC,RenderTarget3D:vxe,RepeatWrapping:tm,ReplaceStencilOp:xve,ReverseSubtractEquation:S5,RingGeometry:Mb,SIGNED_R11_EAC_Format:gx,SIGNED_RED_GREEN_RGTC2_Format:Bx,SIGNED_RED_RGTC1_Format:Ux,SIGNED_RG11_EAC_Format:yx,SRGBColorSpace:oi,SRGBTransfer:tn,Scene:jx,ShaderChunk:It,ShaderLib:ra,ShaderMaterial:Fi,ShadowMaterial:Mj,Shape:hu,ShapeGeometry:Eb,ShapePath:$xe,ShapeUtils:La,ShortType:ZP,Skeleton:pb,SkeletonHelper:Cxe,SkinnedMesh:oj,Source:Bs,Sphere:_r,SphereGeometry:Bm,Spherical:Sxe,SphericalHarmonics3:AC,SplineCurve:gC,SpotLight:zj,SpotLightHelper:Pxe,Sprite:ij,SpriteMaterial:sC,SrcAlphaFactor:Q0,SrcAlphaSaturateFactor:N5,SrcColorFactor:T5,StaticCopyUsage:Uve,StaticDrawUsage:om,StaticReadUsage:Lve,StereoCamera:J0e,StreamCopyUsage:Bve,StreamDrawUsage:Nve,StreamReadUsage:kve,StringKeyframeTrack:zu,SubtractEquation:b5,SubtractiveBlending:vA,TOUCH:tve,TangentSpaceNormalMap:hl,TetrahedronGeometry:Ab,Texture:Cn,TextureLoader:H0e,TextureUtils:qxe,Timer:Kj,TimestampQuery:jve,TorusGeometry:Tb,TorusKnotGeometry:Pb,Triangle:li,TriangleFanDrawMode:fve,TriangleStripDrawMode:cve,TrianglesDrawMode:uve,TubeGeometry:Cb,UVMapping:Q_,Uint16BufferAttribute:aC,Uint32BufferAttribute:oC,Uint8BufferAttribute:Oye,Uint8ClampedBufferAttribute:Iye,Uniform:OC,UniformsGroup:xxe,UniformsLib:qe,UniformsUtils:vC,UnsignedByteType:Gr,UnsignedInt101111Type:QP,UnsignedInt248Type:Hf,UnsignedInt5999Type:JP,UnsignedIntType:ha,UnsignedShort4444Type:tb,UnsignedShort5551Type:nb,UnsignedShortType:Vf,VSMShadowMap:tu,Vector2:Ee,Vector3:X,Vector4:cn,VectorKeyframeTrack:pm,VideoFrameTexture:Jye,VideoTexture:fj,WebGL3DRenderTarget:yye,WebGLArrayRenderTarget:vye,WebGLCoordinateSystem:Ri,WebGLCubeRenderTarget:RC,WebGLRenderTarget:mi,WebGLRenderer:u$,WebGLUtils:l$,WebGPUCoordinateSystem:Tu,WebXRController:Ay,WireframeGeometry:wj,WrapAroundEnding:im,ZeroCurvatureEnding:nu,ZeroFactor:E5,ZeroSlopeEnding:ru,ZeroStencilOp:yve,createCanvasElement:Q5,error:mt,getConsoleFunction:qve,log:lm,setConsoleFunction:Xve,warn:We,warnOnce:um},Symbol.toStringTag,{value:"Module"}));var c$={exports:{}},ju={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ju.ConcurrentRoot=1;ju.ContinuousEventPriority=4;ju.DefaultEventPriority=16;ju.DiscreteEventPriority=1;ju.IdleEventPriority=536870912;ju.LegacyRoot=0;c$.exports=ju;var Qc=c$.exports;function jwe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const p=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=c(e);function m(){const g=c(e);if(!f(p,g)){const _=p;u(p=g,_)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const $we=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZD=$we?z.useEffect:z.useLayoutEffect;function Vwe(t){const e=typeof t=="function"?jwe(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=z.useReducer(y=>y+1,0),o=e.getState(),s=z.useRef(o),l=z.useRef(r),u=z.useRef(i),c=z.useRef(!1),f=z.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(s.current!==o||l.current!==r||u.current!==i||c.current)&&(p=r(o),m=!i(f.current,p)),ZD(()=>{m&&(f.current=p),s.current=o,l.current=r,u.current=i,c.current=!1});const g=z.useRef(o);ZD(()=>{const y=()=>{try{const x=e.getState(),b=l.current(x);u.current(f.current,b)||(s.current=x,f.current=b,a())}catch{c.current=!0,a()}},v=e.subscribe(y);return e.getState()!==g.current&&y(),v},[]);const _=m?p:f.current;return z.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var f$={exports:{}},Lw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function Hwe(){return JD||(JD=1,function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,H(w);else{var j=n(u);j!==null&&V(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=p;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||U&&!I());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var J=Z(f.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var we=n(u);we!==null&&V(M,we.startTime-j),fe=!1}return fe}finally{f=null,p=Y,m=!1}}var E=!1,P=null,A=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function k(){if(P!==null){var U=t.unstable_now();N=U;var j=!0;try{j=P(!0,U)}finally{j?B():(E=!1,P=null)}}else E=!1}var B;if(typeof x=="function")B=function(){x(k)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=k,B=function(){$.postMessage(null)}}else B=function(){y(k,0)};function H(U){P=U,E||(E=!0,B())}function V(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Y=p;p=j;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return j()}finally{p=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:c++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,V(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,H(w))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var j=p;return function(){var Y=p;p=j;try{return U.apply(this,arguments)}finally{p=Y}}}}(Dw)),Dw}var QD;function Gwe(){return QD||(QD=1,Lw.exports=Hwe()),Lw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wwe=function(e){var n={},r=z,i=Gwe(),a=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),w=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=w&&d[w]||d["@@iterator"],typeof d=="function"?d:null)}function P(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case f:return"StrictMode";case y:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case _:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return h=d.displayName||null,h!==null?h:P(d.type)||"Memo";case b:h=d._payload,d=d._init;try{return P(d(h))}catch{}}return null}function A(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function C(d){var h=d,S=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(S=h.return),d=h.return;while(d)}return h.tag===3?S:null}function N(d){if(C(d)!==d)throw Error(o(188))}function I(d){var h=d.alternate;if(!h){if(h=C(d),h===null)throw Error(o(188));return h!==d?null:d}for(var S=d,T=h;;){var O=S.return;if(O===null)break;var R=O.alternate;if(R===null){if(T=O.return,T!==null){S=T;continue}break}if(O.child===R.child){for(R=O.child;R;){if(R===S)return N(O),d;if(R===T)return N(O),h;R=R.sibling}throw Error(o(188))}if(S.return!==T.return)S=O,T=R;else{for(var K=!1,te=O.child;te;){if(te===S){K=!0,S=O,T=R;break}if(te===T){K=!0,T=O,S=R;break}te=te.sibling}if(!K){for(te=R.child;te;){if(te===S){K=!0,S=R,T=O;break}if(te===T){K=!0,T=R,S=O;break}te=te.sibling}if(!K)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?d:h}function k(d){return d=I(d),d!==null?B(d):null}function B(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=B(d);if(h!==null)return h;d=d.sibling}return null}function W(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=W(d);if(h!==null)return h}d=d.sibling}return null}var $=Array.isArray,H=e.getPublicInstance,V=e.getRootHostContext,U=e.getChildHostContext,j=e.prepareForCommit,Y=e.resetAfterCommit,Z=e.createInstance,J=e.appendInitialChild,fe=e.finalizeInitialChildren,we=e.prepareUpdate,De=e.shouldSetTextContent,ae=e.createTextInstance,be=e.scheduleTimeout,Ae=e.cancelTimeout,me=e.noTimeout,Te=e.isPrimaryRenderer,Pe=e.supportsMutation,pe=e.supportsPersistence,Ge=e.supportsHydration,ce=e.getInstanceFromNode,Se=e.preparePortalMount,xe=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,q=e.supportsMicrotasks,ut=e.scheduleMicrotask,Ve=e.supportsTestSelectors,dt=e.findFiberRoot,Oe=e.getBoundingRect,G=e.getTextContent,D=e.isHiddenSubtree,Q=e.matchAccessibilityRole,he=e.setFocusIfFocusable,Me=e.setupIntersectionObserver,ge=e.appendChild,nt=e.appendChildToContainer,Be=e.commitTextUpdate,ht=e.commitMount,yt=e.commitUpdate,Ce=e.insertBefore,ke=e.insertInContainerBefore,lt=e.removeChild,ct=e.removeChildFromContainer,Je=e.resetTextContent,Ot=e.hideInstance,ee=e.hideTextInstance,je=e.unhideInstance,Ue=e.unhideTextInstance,tt=e.clearContainer,Ie=e.cloneInstance,ve=e.createContainerChildSet,st=e.appendChildToContainerChildSet,Mt=e.finalizeContainerChildren,nn=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,ji=e.cloneHiddenTextInstance,va=e.canHydrateInstance,Vm=e.canHydrateTextInstance,bd=e.canHydrateSuspenseInstance,Hm=e.isSuspenseInstancePending,$u=e.isSuspenseInstanceFallback,Gm=e.registerSuspenseInstanceRetry,yi=e.getNextHydratableSibling,Sd=e.getFirstHydratableChild,Wm=e.getFirstHydratableChildWithinContainer,Xm=e.getFirstHydratableChildWithinSuspenseInstance,Vu=e.hydrateInstance,qm=e.hydrateTextInstance,Hu=e.hydrateSuspenseInstance,Ym=e.getNextHydratableInstanceAfterSuspenseInstance,wd=e.commitHydratedContainer,Lb=e.commitHydratedSuspenseInstance,Db=e.clearSuspenseBoundary,kb=e.clearSuspenseBoundaryFromContainer,Ub=e.shouldDeleteUnhydratedTailInstances,Fb=e.didNotMatchHydratedContainerTextInstance,Bb=e.didNotMatchHydratedTextInstance,F;function re(d){if(F===void 0)try{throw Error()}catch(S){var h=S.stack.trim().match(/\n( *(at )?)/);F=h&&h[1]||""}return`
`+F+d}var ue=!1;function se(d,h){if(!d||ue)return"";ue=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Le){var T=Le}Reflect.construct(d,[],h)}else{try{h.call()}catch(Le){T=Le}d.call(h.prototype)}else{try{throw Error()}catch(Le){T=Le}d()}}catch(Le){if(Le&&T&&typeof Le.stack=="string"){for(var O=Le.stack.split(`
`),R=T.stack.split(`
`),K=O.length-1,te=R.length-1;1<=K&&0<=te&&O[K]!==R[te];)te--;for(;1<=K&&0<=te;K--,te--)if(O[K]!==R[te]){if(K!==1||te!==1)do if(K--,te--,0>te||O[K]!==R[te]){var ye=`
`+O[K].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=K&&0<=te);break}}}finally{ue=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?re(d):""}var oe=Object.prototype.hasOwnProperty,Xe=[],Ke=-1;function $e(d){return{current:d}}function Fe(d){0>Ke||(d.current=Xe[Ke],Xe[Ke]=null,Ke--)}function ze(d,h){Ke++,Xe[Ke]=d.current,d.current=h}var _t={},vt=$e(_t),Qe=$e(!1),Ft=_t;function sn(d,h){var S=d.type.contextTypes;if(!S)return _t;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===h)return T.__reactInternalMemoizedMaskedChildContext;var O={},R;for(R in S)O[R]=h[R];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=O),O}function Dt(d){return d=d.childContextTypes,d!=null}function $t(){Fe(Qe),Fe(vt)}function Yn(d,h,S){if(vt.current!==_t)throw Error(o(168));ze(vt,h),ze(Qe,S)}function ft(d,h,S){var T=d.stateNode;if(h=h.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var O in T)if(!(O in h))throw Error(o(108,A(d)||"Unknown",O));return a({},S,T)}function ar(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||_t,Ft=vt.current,ze(vt,d),ze(Qe,Qe.current),!0}function Bt(d,h,S){var T=d.stateNode;if(!T)throw Error(o(169));S?(d=ft(d,h,Ft),T.__reactInternalMemoizedMergedChildContext=d,Fe(Qe),Fe(vt),ze(vt,d)):Fe(Qe),ze(Qe,S)}var wn=Math.clz32?Math.clz32:ls,$i=Math.log,xo=Math.LN2;function ls(d){return d>>>=0,d===0?32:31-($i(d)/xo|0)|0}var qt=64,In=4194304;function ei(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Mn(d,h){var S=d.pendingLanes;if(S===0)return 0;var T=0,O=d.suspendedLanes,R=d.pingedLanes,K=S&268435455;if(K!==0){var te=K&~O;te!==0?T=ei(te):(R&=K,R!==0&&(T=ei(R)))}else K=S&~O,K!==0?T=ei(K):R!==0&&(T=ei(R));if(T===0)return 0;if(h!==0&&h!==T&&!(h&O)&&(O=T&-T,R=h&-h,O>=R||O===16&&(R&4194240)!==0))return h;if(T&4&&(T|=S&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=T;0<h;)S=31-wn(h),O=1<<S,T|=d[S],h&=~O;return T}function $a(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function us(d,h){for(var S=d.suspendedLanes,T=d.pingedLanes,O=d.expirationTimes,R=d.pendingLanes;0<R;){var K=31-wn(R),te=1<<K,ye=O[K];ye===-1?(!(te&S)||te&T)&&(O[K]=$a(te,h)):ye<=h&&(d.expiredLanes|=te),R&=~te}}function Gu(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function zb(d){for(var h=[],S=0;31>S;S++)h.push(d);return h}function Md(d,h,S){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-wn(h),d[h]=S}function F$(d,h){var S=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<S;){var O=31-wn(S),R=1<<O;h[O]=0,T[O]=-1,d[O]=-1,S&=~R}}function jb(d,h){var S=d.entangledLanes|=h;for(d=d.entanglements;S;){var T=31-wn(S),O=1<<T;O&h|d[T]&h&&(d[T]|=h),S&=~O}}var Yt=0;function DC(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var $b=i.unstable_scheduleCallback,kC=i.unstable_cancelCallback,B$=i.unstable_shouldYield,z$=i.unstable_requestPaint,or=i.unstable_now,Vb=i.unstable_ImmediatePriority,j$=i.unstable_UserBlockingPriority,Hb=i.unstable_NormalPriority,$$=i.unstable_IdlePriority,Km=null,Va=null;function V$(d){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(Km,d,void 0,(d.current.flags&128)===128)}catch{}}function H$(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Ha=typeof Object.is=="function"?Object.is:H$,_o=null,Zm=!1,Gb=!1;function UC(d){_o===null?_o=[d]:_o.push(d)}function G$(d){Zm=!0,UC(d)}function Ga(){if(!Gb&&_o!==null){Gb=!0;var d=0,h=Yt;try{var S=_o;for(Yt=1;d<S.length;d++){var T=S[d];do T=T(!0);while(T!==null)}_o=null,Zm=!1}catch(O){throw _o!==null&&(_o=_o.slice(d+1)),$b(Vb,Ga),O}finally{Yt=h,Gb=!1}}return null}var W$=s.ReactCurrentBatchConfig;function Jm(d,h){if(Ha(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var S=Object.keys(d),T=Object.keys(h);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var O=S[T];if(!oe.call(h,O)||!Ha(d[O],h[O]))return!1}return!0}function X$(d){switch(d.tag){case 5:return re(d.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return d=se(d.type,!1),d;case 11:return d=se(d.type.render,!1),d;case 1:return d=se(d.type,!0),d;default:return""}}function ya(d,h){if(d&&d.defaultProps){h=a({},h),d=d.defaultProps;for(var S in d)h[S]===void 0&&(h[S]=d[S]);return h}return h}var Qm=$e(null),eg=null,Wu=null,Wb=null;function Xb(){Wb=Wu=eg=null}function FC(d,h,S){Te?(ze(Qm,h._currentValue),h._currentValue=S):(ze(Qm,h._currentValue2),h._currentValue2=S)}function qb(d){var h=Qm.current;Fe(Qm),Te?d._currentValue=h:d._currentValue2=h}function Yb(d,h,S){for(;d!==null;){var T=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,T!==null&&(T.childLanes|=h)):T!==null&&(T.childLanes&h)!==h&&(T.childLanes|=h),d===S)break;d=d.return}}function Xu(d,h){eg=d,Wb=Wu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(bi=!0),d.firstContext=null)}function Vi(d){var h=Te?d._currentValue:d._currentValue2;if(Wb!==d)if(d={context:d,memoizedValue:h,next:null},Wu===null){if(eg===null)throw Error(o(308));Wu=d,eg.dependencies={lanes:0,firstContext:d}}else Wu=Wu.next=d;return h}var Wa=null,cs=!1;function Kb(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BC(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function bo(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function fs(d,h){var S=d.updateQueue;S!==null&&(S=S.shared,$n!==null&&d.mode&1&&!(Nt&2)?(d=S.interleaved,d===null?(h.next=h,Wa===null?Wa=[S]:Wa.push(S)):(h.next=d.next,d.next=h),S.interleaved=h):(d=S.pending,d===null?h.next=h:(h.next=d.next,d.next=h),S.pending=h))}function tg(d,h,S){if(h=h.updateQueue,h!==null&&(h=h.shared,(S&4194240)!==0)){var T=h.lanes;T&=d.pendingLanes,S|=T,h.lanes=S,jb(d,S)}}function zC(d,h){var S=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var O=null,R=null;if(S=S.firstBaseUpdate,S!==null){do{var K={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};R===null?O=R=K:R=R.next=K,S=S.next}while(S!==null);R===null?O=R=h:R=R.next=h}else O=R=h;S={baseState:T.baseState,firstBaseUpdate:O,lastBaseUpdate:R,shared:T.shared,effects:T.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=h:d.next=h,S.lastBaseUpdate=h}function ng(d,h,S,T){var O=d.updateQueue;cs=!1;var R=O.firstBaseUpdate,K=O.lastBaseUpdate,te=O.shared.pending;if(te!==null){O.shared.pending=null;var ye=te,Le=ye.next;ye.next=null,K===null?R=Le:K.next=Le,K=ye;var ot=d.alternate;ot!==null&&(ot=ot.updateQueue,te=ot.lastBaseUpdate,te!==K&&(te===null?ot.firstBaseUpdate=Le:te.next=Le,ot.lastBaseUpdate=ye))}if(R!==null){var At=O.baseState;K=0,ot=Le=ye=null,te=R;do{var xt=te.lane,un=te.eventTime;if((T&xt)===xt){ot!==null&&(ot=ot.next={eventTime:un,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var gt=d,Ar=te;switch(xt=h,un=S,Ar.tag){case 1:if(gt=Ar.payload,typeof gt=="function"){At=gt.call(un,At,xt);break e}At=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ar.payload,xt=typeof gt=="function"?gt.call(un,At,xt):gt,xt==null)break e;At=a({},At,xt);break e;case 2:cs=!0}}te.callback!==null&&te.lane!==0&&(d.flags|=64,xt=O.effects,xt===null?O.effects=[te]:xt.push(te))}else un={eventTime:un,lane:xt,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ot===null?(Le=ot=un,ye=At):ot=ot.next=un,K|=xt;if(te=te.next,te===null){if(te=O.shared.pending,te===null)break;xt=te,te=xt.next,xt.next=null,O.lastBaseUpdate=xt,O.shared.pending=null}}while(!0);if(ot===null&&(ye=At),O.baseState=ye,O.firstBaseUpdate=Le,O.lastBaseUpdate=ot,h=O.shared.interleaved,h!==null){O=h;do K|=O.lane,O=O.next;while(O!==h)}else R===null&&(O.shared.lanes=0);nc|=K,d.lanes=K,d.memoizedState=At}}function jC(d,h,S){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var T=d[h],O=T.callback;if(O!==null){if(T.callback=null,T=S,typeof O!="function")throw Error(o(191,O));O.call(T)}}}var $C=new r.Component().refs;function Zb(d,h,S,T){h=d.memoizedState,S=S(T,h),S=S==null?h:a({},h,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var rg={isMounted:function(d){return(d=d._reactInternals)?C(d)===d:!1},enqueueSetState:function(d,h,S){d=d._reactInternals;var T=jr(),O=ps(d),R=bo(T,O);R.payload=h,S!=null&&(R.callback=S),fs(d,R),h=qi(d,O,T),h!==null&&tg(h,d,O)},enqueueReplaceState:function(d,h,S){d=d._reactInternals;var T=jr(),O=ps(d),R=bo(T,O);R.tag=1,R.payload=h,S!=null&&(R.callback=S),fs(d,R),h=qi(d,O,T),h!==null&&tg(h,d,O)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var S=jr(),T=ps(d),O=bo(S,T);O.tag=2,h!=null&&(O.callback=h),fs(d,O),h=qi(d,T,S),h!==null&&tg(h,d,T)}};function VC(d,h,S,T,O,R,K){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,R,K):h.prototype&&h.prototype.isPureReactComponent?!Jm(S,T)||!Jm(O,R):!0}function HC(d,h,S){var T=!1,O=_t,R=h.contextType;return typeof R=="object"&&R!==null?R=Vi(R):(O=Dt(h)?Ft:vt.current,T=h.contextTypes,R=(T=T!=null)?sn(d,O):_t),h=new h(S,R),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rg,d.stateNode=h,h._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=O,d.__reactInternalMemoizedMaskedChildContext=R),h}function GC(d,h,S,T){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(S,T),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(S,T),h.state!==d&&rg.enqueueReplaceState(h,h.state,null)}function Jb(d,h,S,T){var O=d.stateNode;O.props=S,O.state=d.memoizedState,O.refs=$C,Kb(d);var R=h.contextType;typeof R=="object"&&R!==null?O.context=Vi(R):(R=Dt(h)?Ft:vt.current,O.context=sn(d,R)),O.state=d.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(Zb(d,h,R,S),O.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(h=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),h!==O.state&&rg.enqueueReplaceState(O,O.state,null),ng(d,S,O,T),O.state=d.memoizedState),typeof O.componentDidMount=="function"&&(d.flags|=4194308)}var qu=[],Yu=0,ig=null,ag=0,Hi=[],Gi=0,vl=null,So=1,wo="";function yl(d,h){qu[Yu++]=ag,qu[Yu++]=ig,ig=d,ag=h}function WC(d,h,S){Hi[Gi++]=So,Hi[Gi++]=wo,Hi[Gi++]=vl,vl=d;var T=So;d=wo;var O=32-wn(T)-1;T&=~(1<<O),S+=1;var R=32-wn(h)+O;if(30<R){var K=O-O%5;R=(T&(1<<K)-1).toString(32),T>>=K,O-=K,So=1<<32-wn(h)+O|S<<O|T,wo=R+d}else So=1<<R|S<<O|T,wo=d}function Qb(d){d.return!==null&&(yl(d,1),WC(d,1,0))}function eS(d){for(;d===ig;)ig=qu[--Yu],qu[Yu]=null,ag=qu[--Yu],qu[Yu]=null;for(;d===vl;)vl=Hi[--Gi],Hi[Gi]=null,wo=Hi[--Gi],Hi[Gi]=null,So=Hi[--Gi],Hi[Gi]=null}var xi=null,_i=null,_n=!1,Ed=!1,xa=null;function XC(d,h){var S=Yi(5,null,null,0);S.elementType="DELETED",S.stateNode=h,S.return=d,h=d.deletions,h===null?(d.deletions=[S],d.flags|=16):h.push(S)}function qC(d,h){switch(d.tag){case 5:return h=va(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,xi=d,_i=Sd(h),!0):!1;case 6:return h=Vm(h,d.pendingProps),h!==null?(d.stateNode=h,xi=d,_i=null,!0):!1;case 13:if(h=bd(h),h!==null){var S=vl!==null?{id:So,overflow:wo}:null;return d.memoizedState={dehydrated:h,treeContext:S,retryLane:1073741824},S=Yi(18,null,null,0),S.stateNode=h,S.return=d,d.child=S,xi=d,_i=null,!0}return!1;default:return!1}}function tS(d){return(d.mode&1)!==0&&(d.flags&128)===0}function nS(d){if(_n){var h=_i;if(h){var S=h;if(!qC(d,h)){if(tS(d))throw Error(o(418));h=yi(S);var T=xi;h&&qC(d,h)?XC(T,S):(d.flags=d.flags&-4097|2,_n=!1,xi=d)}}else{if(tS(d))throw Error(o(418));d.flags=d.flags&-4097|2,_n=!1,xi=d}}}function YC(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;xi=d}function Ad(d){if(!Ge||d!==xi)return!1;if(!_n)return YC(d),_n=!0,!1;if(d.tag!==3&&(d.tag!==5||Ub(d.type)&&!De(d.type,d.memoizedProps))){var h=_i;if(h){if(tS(d)){for(d=_i;d;)d=yi(d);throw Error(o(418))}for(;h;)XC(d,h),h=yi(h)}}if(YC(d),d.tag===13){if(!Ge)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));_i=Ym(d)}else _i=xi?yi(d.stateNode):null;return!0}function Ku(){Ge&&(_i=xi=null,Ed=_n=!1)}function rS(d){xa===null?xa=[d]:xa.push(d)}function Td(d,h,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,d));var O=T,R=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===R?h.ref:(h=function(K){var te=O.refs;te===$C&&(te=O.refs={}),K===null?delete te[R]:te[R]=K},h._stringRef=R,h)}if(typeof d!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,d))}return d}function og(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function KC(d){var h=d._init;return h(d._payload)}function ZC(d){function h(le,ie){if(d){var de=le.deletions;de===null?(le.deletions=[ie],le.flags|=16):de.push(ie)}}function S(le,ie){if(!d)return null;for(;ie!==null;)h(le,ie),ie=ie.sibling;return null}function T(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function O(le,ie){return le=gs(le,ie),le.index=0,le.sibling=null,le}function R(le,ie,de){return le.index=de,d?(de=le.alternate,de!==null?(de=de.index,de<ie?(le.flags|=2,ie):de):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function K(le){return d&&le.alternate===null&&(le.flags|=2),le}function te(le,ie,de,Ze){return ie===null||ie.tag!==6?(ie=zS(de,le.mode,Ze),ie.return=le,ie):(ie=O(ie,de),ie.return=le,ie)}function ye(le,ie,de,Ze){var pt=de.type;return pt===c?ot(le,ie,de.props.children,Ze,de.key):ie!==null&&(ie.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&KC(pt)===ie.type)?(Ze=O(ie,de.props),Ze.ref=Td(le,ie,de),Ze.return=le,Ze):(Ze=Ug(de.type,de.key,de.props,null,le.mode,Ze),Ze.ref=Td(le,ie,de),Ze.return=le,Ze)}function Le(le,ie,de,Ze){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=jS(de,le.mode,Ze),ie.return=le,ie):(ie=O(ie,de.children||[]),ie.return=le,ie)}function ot(le,ie,de,Ze,pt){return ie===null||ie.tag!==7?(ie=El(de,le.mode,Ze,pt),ie.return=le,ie):(ie=O(ie,de),ie.return=le,ie)}function At(le,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=zS(""+ie,le.mode,de),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case l:return de=Ug(ie.type,ie.key,ie.props,null,le.mode,de),de.ref=Td(le,null,ie),de.return=le,de;case u:return ie=jS(ie,le.mode,de),ie.return=le,ie;case b:var Ze=ie._init;return At(le,Ze(ie._payload),de)}if($(ie)||E(ie))return ie=El(ie,le.mode,de,null),ie.return=le,ie;og(le,ie)}return null}function xt(le,ie,de,Ze){var pt=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return pt!==null?null:te(le,ie,""+de,Ze);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===pt?ye(le,ie,de,Ze):null;case u:return de.key===pt?Le(le,ie,de,Ze):null;case b:return pt=de._init,xt(le,ie,pt(de._payload),Ze)}if($(de)||E(de))return pt!==null?null:ot(le,ie,de,Ze,null);og(le,de)}return null}function un(le,ie,de,Ze,pt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return le=le.get(de)||null,te(ie,le,""+Ze,pt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case l:return le=le.get(Ze.key===null?de:Ze.key)||null,ye(ie,le,Ze,pt);case u:return le=le.get(Ze.key===null?de:Ze.key)||null,Le(ie,le,Ze,pt);case b:var Rt=Ze._init;return un(le,ie,de,Rt(Ze._payload),pt)}if($(Ze)||E(Ze))return le=le.get(de)||null,ot(ie,le,Ze,pt,null);og(ie,Ze)}return null}function gt(le,ie,de,Ze){for(var pt=null,Rt=null,Tt=ie,Kt=ie=0,lr=null;Tt!==null&&Kt<de.length;Kt++){Tt.index>Kt?(lr=Tt,Tt=null):lr=Tt.sibling;var Zt=xt(le,Tt,de[Kt],Ze);if(Zt===null){Tt===null&&(Tt=lr);break}d&&Tt&&Zt.alternate===null&&h(le,Tt),ie=R(Zt,ie,Kt),Rt===null?pt=Zt:Rt.sibling=Zt,Rt=Zt,Tt=lr}if(Kt===de.length)return S(le,Tt),_n&&yl(le,Kt),pt;if(Tt===null){for(;Kt<de.length;Kt++)Tt=At(le,de[Kt],Ze),Tt!==null&&(ie=R(Tt,ie,Kt),Rt===null?pt=Tt:Rt.sibling=Tt,Rt=Tt);return _n&&yl(le,Kt),pt}for(Tt=T(le,Tt);Kt<de.length;Kt++)lr=un(Tt,le,Kt,de[Kt],Ze),lr!==null&&(d&&lr.alternate!==null&&Tt.delete(lr.key===null?Kt:lr.key),ie=R(lr,ie,Kt),Rt===null?pt=lr:Rt.sibling=lr,Rt=lr);return d&&Tt.forEach(function(vs){return h(le,vs)}),_n&&yl(le,Kt),pt}function Ar(le,ie,de,Ze){var pt=E(de);if(typeof pt!="function")throw Error(o(150));if(de=pt.call(de),de==null)throw Error(o(151));for(var Rt=pt=null,Tt=ie,Kt=ie=0,lr=null,Zt=de.next();Tt!==null&&!Zt.done;Kt++,Zt=de.next()){Tt.index>Kt?(lr=Tt,Tt=null):lr=Tt.sibling;var vs=xt(le,Tt,Zt.value,Ze);if(vs===null){Tt===null&&(Tt=lr);break}d&&Tt&&vs.alternate===null&&h(le,Tt),ie=R(vs,ie,Kt),Rt===null?pt=vs:Rt.sibling=vs,Rt=vs,Tt=lr}if(Zt.done)return S(le,Tt),_n&&yl(le,Kt),pt;if(Tt===null){for(;!Zt.done;Kt++,Zt=de.next())Zt=At(le,Zt.value,Ze),Zt!==null&&(ie=R(Zt,ie,Kt),Rt===null?pt=Zt:Rt.sibling=Zt,Rt=Zt);return _n&&yl(le,Kt),pt}for(Tt=T(le,Tt);!Zt.done;Kt++,Zt=de.next())Zt=un(Tt,le,Kt,Zt.value,Ze),Zt!==null&&(d&&Zt.alternate!==null&&Tt.delete(Zt.key===null?Kt:Zt.key),ie=R(Zt,ie,Kt),Rt===null?pt=Zt:Rt.sibling=Zt,Rt=Zt);return d&&Tt.forEach(function(wV){return h(le,wV)}),_n&&yl(le,Kt),pt}function Ki(le,ie,de,Ze){if(typeof de=="object"&&de!==null&&de.type===c&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var pt=de.key,Rt=ie;Rt!==null;){if(Rt.key===pt){if(pt=de.type,pt===c){if(Rt.tag===7){S(le,Rt.sibling),ie=O(Rt,de.props.children),ie.return=le,le=ie;break e}}else if(Rt.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===b&&KC(pt)===Rt.type){S(le,Rt.sibling),ie=O(Rt,de.props),ie.ref=Td(le,Rt,de),ie.return=le,le=ie;break e}S(le,Rt);break}else h(le,Rt);Rt=Rt.sibling}de.type===c?(ie=El(de.props.children,le.mode,Ze,de.key),ie.return=le,le=ie):(Ze=Ug(de.type,de.key,de.props,null,le.mode,Ze),Ze.ref=Td(le,ie,de),Ze.return=le,le=Ze)}return K(le);case u:e:{for(Rt=de.key;ie!==null;){if(ie.key===Rt)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){S(le,ie.sibling),ie=O(ie,de.children||[]),ie.return=le,le=ie;break e}else{S(le,ie);break}else h(le,ie);ie=ie.sibling}ie=jS(de,le.mode,Ze),ie.return=le,le=ie}return K(le);case b:return Rt=de._init,Ki(le,ie,Rt(de._payload),Ze)}if($(de))return gt(le,ie,de,Ze);if(E(de))return Ar(le,ie,de,Ze);og(le,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(S(le,ie.sibling),ie=O(ie,de),ie.return=le,le=ie):(S(le,ie),ie=zS(de,le.mode,Ze),ie.return=le,le=ie),K(le)):S(le,ie)}return Ki}var Zu=ZC(!0),JC=ZC(!1),Pd={},Wi=$e(Pd),Cd=$e(Pd),Ju=$e(Pd);function Xa(d){if(d===Pd)throw Error(o(174));return d}function iS(d,h){ze(Ju,h),ze(Cd,d),ze(Wi,Pd),d=V(h),Fe(Wi),ze(Wi,d)}function Qu(){Fe(Wi),Fe(Cd),Fe(Ju)}function QC(d){var h=Xa(Ju.current),S=Xa(Wi.current);h=U(S,d.type,h),S!==h&&(ze(Cd,d),ze(Wi,h))}function aS(d){Cd.current===d&&(Fe(Wi),Fe(Cd))}var En=$e(0);function sg(d){for(var h=d;h!==null;){if(h.tag===13){var S=h.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Hm(S)||$u(S)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var oS=[];function sS(){for(var d=0;d<oS.length;d++){var h=oS[d];Te?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}oS.length=0}var lg=s.ReactCurrentDispatcher,Xi=s.ReactCurrentBatchConfig,ec=0,Rn=null,wr=null,sr=null,ug=!1,Od=!1,Id=0,q$=0;function Mr(){throw Error(o(321))}function lS(d,h){if(h===null)return!1;for(var S=0;S<h.length&&S<d.length;S++)if(!Ha(d[S],h[S]))return!1;return!0}function uS(d,h,S,T,O,R){if(ec=R,Rn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,lg.current=d===null||d.memoizedState===null?J$:Q$,d=S(T,O),Od){R=0;do{if(Od=!1,Id=0,25<=R)throw Error(o(301));R+=1,sr=wr=null,h.updateQueue=null,lg.current=eV,d=S(T,O)}while(Od)}if(lg.current=pg,h=wr!==null&&wr.next!==null,ec=0,sr=wr=Rn=null,ug=!1,h)throw Error(o(300));return d}function cS(){var d=Id!==0;return Id=0,d}function Mo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Rn.memoizedState=sr=d:sr=sr.next=d,sr}function qa(){if(wr===null){var d=Rn.alternate;d=d!==null?d.memoizedState:null}else d=wr.next;var h=sr===null?Rn.memoizedState:sr.next;if(h!==null)sr=h,wr=d;else{if(d===null)throw Error(o(310));wr=d,d={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},sr===null?Rn.memoizedState=sr=d:sr=sr.next=d}return sr}function xl(d,h){return typeof h=="function"?h(d):h}function cg(d){var h=qa(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=wr,O=T.baseQueue,R=S.pending;if(R!==null){if(O!==null){var K=O.next;O.next=R.next,R.next=K}T.baseQueue=O=R,S.pending=null}if(O!==null){R=O.next,T=T.baseState;var te=K=null,ye=null,Le=R;do{var ot=Le.lane;if((ec&ot)===ot)ye!==null&&(ye=ye.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),T=Le.hasEagerState?Le.eagerState:d(T,Le.action);else{var At={lane:ot,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};ye===null?(te=ye=At,K=T):ye=ye.next=At,Rn.lanes|=ot,nc|=ot}Le=Le.next}while(Le!==null&&Le!==R);ye===null?K=T:ye.next=te,Ha(T,h.memoizedState)||(bi=!0),h.memoizedState=T,h.baseState=K,h.baseQueue=ye,S.lastRenderedState=T}if(d=S.interleaved,d!==null){O=d;do R=O.lane,Rn.lanes|=R,nc|=R,O=O.next;while(O!==d)}else O===null&&(S.lanes=0);return[h.memoizedState,S.dispatch]}function fg(d){var h=qa(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var T=S.dispatch,O=S.pending,R=h.memoizedState;if(O!==null){S.pending=null;var K=O=O.next;do R=d(R,K.action),K=K.next;while(K!==O);Ha(R,h.memoizedState)||(bi=!0),h.memoizedState=R,h.baseQueue===null&&(h.baseState=R),S.lastRenderedState=R}return[R,T]}function e2(){}function t2(d,h){var S=Rn,T=qa(),O=h(),R=!Ha(T.memoizedState,O);if(R&&(T.memoizedState=O,bi=!0),T=T.queue,Nd(i2.bind(null,S,T,d),[d]),T.getSnapshot!==h||R||sr!==null&&sr.memoizedState.tag&1){if(S.flags|=2048,Rd(9,r2.bind(null,S,T,O,h),void 0,null),$n===null)throw Error(o(349));ec&30||n2(S,h,O)}return O}function n2(d,h,S){d.flags|=16384,d={getSnapshot:h,value:S},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.stores=[d]):(S=h.stores,S===null?h.stores=[d]:S.push(d))}function r2(d,h,S,T){h.value=S,h.getSnapshot=T,a2(h)&&qi(d,1,-1)}function i2(d,h,S){return S(function(){a2(h)&&qi(d,1,-1)})}function a2(d){var h=d.getSnapshot;d=d.value;try{var S=h();return!Ha(d,S)}catch{return!0}}function fS(d){var h=Mo();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:d},h.queue=d,d=d.dispatch=Z$.bind(null,Rn,d),[h.memoizedState,d]}function Rd(d,h,S,T){return d={tag:d,create:h,destroy:S,deps:T,next:null},h=Rn.updateQueue,h===null?(h={lastEffect:null,stores:null},Rn.updateQueue=h,h.lastEffect=d.next=d):(S=h.lastEffect,S===null?h.lastEffect=d.next=d:(T=S.next,S.next=d,d.next=T,h.lastEffect=d)),d}function o2(){return qa().memoizedState}function dg(d,h,S,T){var O=Mo();Rn.flags|=d,O.memoizedState=Rd(1|h,S,void 0,T===void 0?null:T)}function hg(d,h,S,T){var O=qa();T=T===void 0?null:T;var R=void 0;if(wr!==null){var K=wr.memoizedState;if(R=K.destroy,T!==null&&lS(T,K.deps)){O.memoizedState=Rd(h,S,R,T);return}}Rn.flags|=d,O.memoizedState=Rd(1|h,S,R,T)}function dS(d,h){return dg(8390656,8,d,h)}function Nd(d,h){return hg(2048,8,d,h)}function s2(d,h){return hg(4,2,d,h)}function l2(d,h){return hg(4,4,d,h)}function u2(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function c2(d,h,S){return S=S!=null?S.concat([d]):null,hg(4,4,u2.bind(null,h,d),S)}function hS(){}function f2(d,h){var S=qa();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&lS(h,T[1])?T[0]:(S.memoizedState=[d,h],d)}function d2(d,h){var S=qa();h=h===void 0?null:h;var T=S.memoizedState;return T!==null&&h!==null&&lS(h,T[1])?T[0]:(d=d(),S.memoizedState=[d,h],d)}function Y$(d,h){var S=Yt;Yt=S!==0&&4>S?S:4,d(!0);var T=Xi.transition;Xi.transition={};try{d(!1),h()}finally{Yt=S,Xi.transition=T}}function h2(){return qa().memoizedState}function K$(d,h,S){var T=ps(d);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},p2(d)?m2(h,S):(g2(d,h,S),S=jr(),d=qi(d,T,S),d!==null&&v2(d,h,T))}function Z$(d,h,S){var T=ps(d),O={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(p2(d))m2(h,O);else{g2(d,h,O);var R=d.alternate;if(d.lanes===0&&(R===null||R.lanes===0)&&(R=h.lastRenderedReducer,R!==null))try{var K=h.lastRenderedState,te=R(K,S);if(O.hasEagerState=!0,O.eagerState=te,Ha(te,K))return}catch{}finally{}S=jr(),d=qi(d,T,S),d!==null&&v2(d,h,T)}}function p2(d){var h=d.alternate;return d===Rn||h!==null&&h===Rn}function m2(d,h){Od=ug=!0;var S=d.pending;S===null?h.next=h:(h.next=S.next,S.next=h),d.pending=h}function g2(d,h,S){$n!==null&&d.mode&1&&!(Nt&2)?(d=h.interleaved,d===null?(S.next=S,Wa===null?Wa=[h]:Wa.push(h)):(S.next=d.next,d.next=S),h.interleaved=S):(d=h.pending,d===null?S.next=S:(S.next=d.next,d.next=S),h.pending=S)}function v2(d,h,S){if(S&4194240){var T=h.lanes;T&=d.pendingLanes,S|=T,h.lanes=S,jb(d,S)}}var pg={readContext:Vi,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useInsertionEffect:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useSyncExternalStore:Mr,useId:Mr,unstable_isNewReconciler:!1},J$={readContext:Vi,useCallback:function(d,h){return Mo().memoizedState=[d,h===void 0?null:h],d},useContext:Vi,useEffect:dS,useImperativeHandle:function(d,h,S){return S=S!=null?S.concat([d]):null,dg(4194308,4,u2.bind(null,h,d),S)},useLayoutEffect:function(d,h){return dg(4194308,4,d,h)},useInsertionEffect:function(d,h){return dg(4,2,d,h)},useMemo:function(d,h){var S=Mo();return h=h===void 0?null:h,d=d(),S.memoizedState=[d,h],d},useReducer:function(d,h,S){var T=Mo();return h=S!==void 0?S(h):h,T.memoizedState=T.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},T.queue=d,d=d.dispatch=K$.bind(null,Rn,d),[T.memoizedState,d]},useRef:function(d){var h=Mo();return d={current:d},h.memoizedState=d},useState:fS,useDebugValue:hS,useDeferredValue:function(d){var h=fS(d),S=h[0],T=h[1];return dS(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=fS(!1),h=d[0];return d=Y$.bind(null,d[1]),Mo().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,S){var T=Rn,O=Mo();if(_n){if(S===void 0)throw Error(o(407));S=S()}else{if(S=h(),$n===null)throw Error(o(349));ec&30||n2(T,h,S)}O.memoizedState=S;var R={value:S,getSnapshot:h};return O.queue=R,dS(i2.bind(null,T,R,d),[d]),T.flags|=2048,Rd(9,r2.bind(null,T,R,S,h),void 0,null),S},useId:function(){var d=Mo(),h=$n.identifierPrefix;if(_n){var S=wo,T=So;S=(T&~(1<<32-wn(T)-1)).toString(32)+S,h=":"+h+"R"+S,S=Id++,0<S&&(h+="H"+S.toString(32)),h+=":"}else S=q$++,h=":"+h+"r"+S.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},Q$={readContext:Vi,useCallback:f2,useContext:Vi,useEffect:Nd,useImperativeHandle:c2,useInsertionEffect:s2,useLayoutEffect:l2,useMemo:d2,useReducer:cg,useRef:o2,useState:function(){return cg(xl)},useDebugValue:hS,useDeferredValue:function(d){var h=cg(xl),S=h[0],T=h[1];return Nd(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=cg(xl)[0],h=qa().memoizedState;return[d,h]},useMutableSource:e2,useSyncExternalStore:t2,useId:h2,unstable_isNewReconciler:!1},eV={readContext:Vi,useCallback:f2,useContext:Vi,useEffect:Nd,useImperativeHandle:c2,useInsertionEffect:s2,useLayoutEffect:l2,useMemo:d2,useReducer:fg,useRef:o2,useState:function(){return fg(xl)},useDebugValue:hS,useDeferredValue:function(d){var h=fg(xl),S=h[0],T=h[1];return Nd(function(){var O=Xi.transition;Xi.transition={};try{T(d)}finally{Xi.transition=O}},[d]),S},useTransition:function(){var d=fg(xl)[0],h=qa().memoizedState;return[d,h]},useMutableSource:e2,useSyncExternalStore:t2,useId:h2,unstable_isNewReconciler:!1};function pS(d,h){try{var S="",T=h;do S+=X$(T),T=T.return;while(T);var O=S}catch(R){O=`
Error generating stack: `+R.message+`
`+R.stack}return{value:d,source:h,stack:O}}function mS(d,h){try{console.error(h.value)}catch(S){setTimeout(function(){throw S})}}var tV=typeof WeakMap=="function"?WeakMap:Map;function y2(d,h,S){S=bo(-1,S),S.tag=3,S.payload={element:null};var T=h.value;return S.callback=function(){Og||(Og=!0,NS=T),mS(d,h)},S}function x2(d,h,S){S=bo(-1,S),S.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var O=h.value;S.payload=function(){return T(O)},S.callback=function(){mS(d,h)}}var R=d.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(S.callback=function(){mS(d,h),typeof T!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})}),S}function _2(d,h,S){var T=d.pingCache;if(T===null){T=d.pingCache=new tV;var O=new Set;T.set(h,O)}else O=T.get(h),O===void 0&&(O=new Set,T.set(h,O));O.has(S)||(O.add(S),d=mV.bind(null,d,h,S),h.then(d,d))}function b2(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function S2(d,h,S,T,O){return d.mode&1?(d.flags|=65536,d.lanes=O,d):(d===h?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(h=bo(-1,1),h.tag=2,fs(S,h))),S.lanes|=1),d)}function Ya(d){d.flags|=4}function w2(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Ld,Dd,mg,gg;if(Pe)Ld=function(d,h){for(var S=h.child;S!==null;){if(S.tag===5||S.tag===6)J(d,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Dd=function(){},mg=function(d,h,S,T,O){if(d=d.memoizedProps,d!==T){var R=h.stateNode,K=Xa(Wi.current);S=we(R,S,d,T,O,K),(h.updateQueue=S)&&Ya(h)}},gg=function(d,h,S,T){S!==T&&Ya(h)};else if(pe){Ld=function(d,h,S,T){for(var O=h.child;O!==null;){if(O.tag===5){var R=O.stateNode;S&&T&&(R=Xt(R,O.type,O.memoizedProps,O)),J(d,R)}else if(O.tag===6)R=O.stateNode,S&&T&&(R=ji(R,O.memoizedProps,O)),J(d,R);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)R=O.child,R!==null&&(R.return=O),Ld(d,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===h)break;for(;O.sibling===null;){if(O.return===null||O.return===h)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var M2=function(d,h,S,T){for(var O=h.child;O!==null;){if(O.tag===5){var R=O.stateNode;S&&T&&(R=Xt(R,O.type,O.memoizedProps,O)),st(d,R)}else if(O.tag===6)R=O.stateNode,S&&T&&(R=ji(R,O.memoizedProps,O)),st(d,R);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)R=O.child,R!==null&&(R.return=O),M2(d,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===h)break;for(;O.sibling===null;){if(O.return===null||O.return===h)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};Dd=function(d,h){var S=h.stateNode;if(!w2(d,h)){d=S.containerInfo;var T=ve(d);M2(T,h,!1,!1),S.pendingChildren=T,Ya(h),Mt(d,T)}},mg=function(d,h,S,T,O){var R=d.stateNode,K=d.memoizedProps;if((d=w2(d,h))&&K===T)h.stateNode=R;else{var te=h.stateNode,ye=Xa(Wi.current),Le=null;K!==T&&(Le=we(te,S,K,T,O,ye)),d&&Le===null?h.stateNode=R:(R=Ie(R,Le,S,K,T,h,d,te),fe(R,S,T,O,ye)&&Ya(h),h.stateNode=R,d?Ya(h):Ld(R,h,!1,!1))}},gg=function(d,h,S,T){S!==T?(d=Xa(Ju.current),S=Xa(Wi.current),h.stateNode=ae(T,d,S,h),Ya(h)):h.stateNode=d.stateNode}}else Dd=function(){},mg=function(){},gg=function(){};function kd(d,h){if(!_n)switch(d.tailMode){case"hidden":h=d.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Er(d){var h=d.alternate!==null&&d.alternate.child===d.child,S=0,T=0;if(h)for(var O=d.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags&14680064,T|=O.flags&14680064,O.return=d,O=O.sibling;else for(O=d.child;O!==null;)S|=O.lanes|O.childLanes,T|=O.subtreeFlags,T|=O.flags,O.return=d,O=O.sibling;return d.subtreeFlags|=T,d.childLanes=S,h}function nV(d,h,S){var T=h.pendingProps;switch(eS(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(h),null;case 1:return Dt(h.type)&&$t(),Er(h),null;case 3:return T=h.stateNode,Qu(),Fe(Qe),Fe(vt),sS(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Ad(h)?Ya(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,xa!==null&&(kS(xa),xa=null))),Dd(d,h),Er(h),null;case 5:aS(h),S=Xa(Ju.current);var O=h.type;if(d!==null&&h.stateNode!=null)mg(d,h,O,T,S),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!T){if(h.stateNode===null)throw Error(o(166));return Er(h),null}if(d=Xa(Wi.current),Ad(h)){if(!Ge)throw Error(o(175));d=Vu(h.stateNode,h.type,h.memoizedProps,S,d,h,!Ed),h.updateQueue=d,d!==null&&Ya(h)}else{var R=Z(O,T,S,d,h);Ld(R,h,!1,!1),h.stateNode=R,fe(R,O,T,S,d)&&Ya(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Er(h),null;case 6:if(d&&h.stateNode!=null)gg(d,h,d.memoizedProps,T);else{if(typeof T!="string"&&h.stateNode===null)throw Error(o(166));if(d=Xa(Ju.current),S=Xa(Wi.current),Ad(h)){if(!Ge)throw Error(o(176));if(d=h.stateNode,T=h.memoizedProps,(S=qm(d,T,h,!Ed))&&(O=xi,O!==null))switch(R=(O.mode&1)!==0,O.tag){case 3:Fb(O.stateNode.containerInfo,d,T,R);break;case 5:Bb(O.type,O.memoizedProps,O.stateNode,d,T,R)}S&&Ya(h)}else h.stateNode=ae(T,d,S,h)}return Er(h),null;case 13:if(Fe(En),T=h.memoizedState,_n&&_i!==null&&h.mode&1&&!(h.flags&128)){for(d=_i;d;)d=yi(d);return Ku(),h.flags|=98560,h}if(T!==null&&T.dehydrated!==null){if(T=Ad(h),d===null){if(!T)throw Error(o(318));if(!Ge)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Hu(d,h)}else Ku(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Er(h),null}return xa!==null&&(kS(xa),xa=null),h.flags&128?(h.lanes=S,h):(T=T!==null,S=!1,d===null?Ad(h):S=d.memoizedState!==null,T&&!S&&(h.child.flags|=8192,h.mode&1&&(d===null||En.current&1?Kn===0&&(Kn=3):FS())),h.updateQueue!==null&&(h.flags|=4),Er(h),null);case 4:return Qu(),Dd(d,h),d===null&&Se(h.stateNode.containerInfo),Er(h),null;case 10:return qb(h.type._context),Er(h),null;case 17:return Dt(h.type)&&$t(),Er(h),null;case 19:if(Fe(En),O=h.memoizedState,O===null)return Er(h),null;if(T=(h.flags&128)!==0,R=O.rendering,R===null)if(T)kd(O,!1);else{if(Kn!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(R=sg(d),R!==null){for(h.flags|=128,kd(O,!1),d=R.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=S,T=h.child;T!==null;)S=T,O=d,S.flags&=14680066,R=S.alternate,R===null?(S.childLanes=0,S.lanes=O,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=R.childLanes,S.lanes=R.lanes,S.child=R.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=R.memoizedProps,S.memoizedState=R.memoizedState,S.updateQueue=R.updateQueue,S.type=R.type,O=R.dependencies,S.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),T=T.sibling;return ze(En,En.current&1|2),h.child}d=d.sibling}O.tail!==null&&or()>RS&&(h.flags|=128,T=!0,kd(O,!1),h.lanes=4194304)}else{if(!T)if(d=sg(R),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),kd(O,!0),O.tail===null&&O.tailMode==="hidden"&&!R.alternate&&!_n)return Er(h),null}else 2*or()-O.renderingStartTime>RS&&S!==1073741824&&(h.flags|=128,T=!0,kd(O,!1),h.lanes=4194304);O.isBackwards?(R.sibling=h.child,h.child=R):(d=O.last,d!==null?d.sibling=R:h.child=R,O.last=R)}return O.tail!==null?(h=O.tail,O.rendering=h,O.tail=h.sibling,O.renderingStartTime=or(),h.sibling=null,d=En.current,ze(En,T?d&1|2:d&1),h):(Er(h),null);case 22:case 23:return US(),T=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(h.flags|=8192),T&&h.mode&1?Si&1073741824&&(Er(h),Pe&&h.subtreeFlags&6&&(h.flags|=8192)):Er(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var rV=s.ReactCurrentOwner,bi=!1;function zr(d,h,S,T){h.child=d===null?JC(h,null,S,T):Zu(h,d.child,S,T)}function E2(d,h,S,T,O){S=S.render;var R=h.ref;return Xu(h,O),T=uS(d,h,S,T,R,O),S=cS(),d!==null&&!bi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~O,Eo(d,h,O)):(_n&&S&&Qb(h),h.flags|=1,zr(d,h,T,O),h.child)}function A2(d,h,S,T,O){if(d===null){var R=S.type;return typeof R=="function"&&!BS(R)&&R.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(h.tag=15,h.type=R,T2(d,h,R,T,O)):(d=Ug(S.type,null,T,h,h.mode,O),d.ref=h.ref,d.return=h,h.child=d)}if(R=d.child,!(d.lanes&O)){var K=R.memoizedProps;if(S=S.compare,S=S!==null?S:Jm,S(K,T)&&d.ref===h.ref)return Eo(d,h,O)}return h.flags|=1,d=gs(R,T),d.ref=h.ref,d.return=h,h.child=d}function T2(d,h,S,T,O){if(d!==null&&Jm(d.memoizedProps,T)&&d.ref===h.ref)if(bi=!1,(d.lanes&O)!==0)d.flags&131072&&(bi=!0);else return h.lanes=d.lanes,Eo(d,h,O);return gS(d,h,S,T,O)}function P2(d,h,S){var T=h.pendingProps,O=T.children,R=d!==null?d.memoizedState:null;if(T.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},ze(tc,Si),Si|=S;else if(S&1073741824)h.memoizedState={baseLanes:0,cachePool:null},T=R!==null?R.baseLanes:S,ze(tc,Si),Si|=T;else return d=R!==null?R.baseLanes|S:S,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,ze(tc,Si),Si|=d,null;else R!==null?(T=R.baseLanes|S,h.memoizedState=null):T=S,ze(tc,Si),Si|=T;return zr(d,h,O,S),h.child}function C2(d,h){var S=h.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(h.flags|=512,h.flags|=2097152)}function gS(d,h,S,T,O){var R=Dt(S)?Ft:vt.current;return R=sn(h,R),Xu(h,O),S=uS(d,h,S,T,R,O),T=cS(),d!==null&&!bi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~O,Eo(d,h,O)):(_n&&T&&Qb(h),h.flags|=1,zr(d,h,S,O),h.child)}function O2(d,h,S,T,O){if(Dt(S)){var R=!0;ar(h)}else R=!1;if(Xu(h,O),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),HC(h,S,T),Jb(h,S,T,O),T=!0;else if(d===null){var K=h.stateNode,te=h.memoizedProps;K.props=te;var ye=K.context,Le=S.contextType;typeof Le=="object"&&Le!==null?Le=Vi(Le):(Le=Dt(S)?Ft:vt.current,Le=sn(h,Le));var ot=S.getDerivedStateFromProps,At=typeof ot=="function"||typeof K.getSnapshotBeforeUpdate=="function";At||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==T||ye!==Le)&&GC(h,K,T,Le),cs=!1;var xt=h.memoizedState;K.state=xt,ng(h,T,K,O),ye=h.memoizedState,te!==T||xt!==ye||Qe.current||cs?(typeof ot=="function"&&(Zb(h,S,ot,T),ye=h.memoizedState),(te=cs||VC(h,S,te,T,xt,ye,Le))?(At||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=T,h.memoizedState=ye),K.props=T,K.state=ye,K.context=Le,T=te):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),T=!1)}else{K=h.stateNode,BC(d,h),te=h.memoizedProps,Le=h.type===h.elementType?te:ya(h.type,te),K.props=Le,At=h.pendingProps,xt=K.context,ye=S.contextType,typeof ye=="object"&&ye!==null?ye=Vi(ye):(ye=Dt(S)?Ft:vt.current,ye=sn(h,ye));var un=S.getDerivedStateFromProps;(ot=typeof un=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==At||xt!==ye)&&GC(h,K,T,ye),cs=!1,xt=h.memoizedState,K.state=xt,ng(h,T,K,O);var gt=h.memoizedState;te!==At||xt!==gt||Qe.current||cs?(typeof un=="function"&&(Zb(h,S,un,T),gt=h.memoizedState),(Le=cs||VC(h,S,Le,T,xt,gt,ye)||!1)?(ot||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(T,gt,ye),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(T,gt,ye)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),h.memoizedProps=T,h.memoizedState=gt),K.props=T,K.state=gt,K.context=ye,T=Le):(typeof K.componentDidUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),T=!1)}return vS(d,h,S,T,R,O)}function vS(d,h,S,T,O,R){C2(d,h);var K=(h.flags&128)!==0;if(!T&&!K)return O&&Bt(h,S,!1),Eo(d,h,R);T=h.stateNode,rV.current=h;var te=K&&typeof S.getDerivedStateFromError!="function"?null:T.render();return h.flags|=1,d!==null&&K?(h.child=Zu(h,d.child,null,R),h.child=Zu(h,null,te,R)):zr(d,h,te,R),h.memoizedState=T.state,O&&Bt(h,S,!0),h.child}function I2(d){var h=d.stateNode;h.pendingContext?Yn(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Yn(d,h.context,!1),iS(d,h.containerInfo)}function R2(d,h,S,T,O){return Ku(),rS(O),h.flags|=256,zr(d,h,S,T),h.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function yg(d){return{baseLanes:d,cachePool:null}}function N2(d,h,S){var T=h.pendingProps,O=En.current,R=!1,K=(h.flags&128)!==0,te;if((te=K)||(te=d!==null&&d.memoizedState===null?!1:(O&2)!==0),te?(R=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(O|=1),ze(En,O&1),d===null)return nS(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?$u(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(O=T.children,d=T.fallback,R?(T=h.mode,R=h.child,O={mode:"hidden",children:O},!(T&1)&&R!==null?(R.childLanes=0,R.pendingProps=O):R=Fg(O,T,0,null),d=El(d,T,S,null),R.return=h,d.return=h,R.sibling=d,h.child=R,h.child.memoizedState=yg(S),h.memoizedState=vg,d):yS(h,O));if(O=d.memoizedState,O!==null){if(te=O.dehydrated,te!==null){if(K)return h.flags&256?(h.flags&=-257,xg(d,h,S,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(R=T.fallback,O=h.mode,T=Fg({mode:"visible",children:T.children},O,0,null),R=El(R,O,S,null),R.flags|=2,T.return=h,R.return=h,T.sibling=R,h.child=T,h.mode&1&&Zu(h,d.child,null,S),h.child.memoizedState=yg(S),h.memoizedState=vg,R);if(!(h.mode&1))h=xg(d,h,S,null);else if($u(te))h=xg(d,h,S,Error(o(419)));else if(T=(S&d.childLanes)!==0,bi||T){if(T=$n,T!==null){switch(S&-S){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}T=R&(T.suspendedLanes|S)?0:R,T!==0&&T!==O.retryLane&&(O.retryLane=T,qi(d,T,-1))}FS(),h=xg(d,h,S,Error(o(421)))}else Hm(te)?(h.flags|=128,h.child=d.child,h=gV.bind(null,d),Gm(te,h),h=null):(S=O.treeContext,Ge&&(_i=Xm(te),xi=h,_n=!0,xa=null,Ed=!1,S!==null&&(Hi[Gi++]=So,Hi[Gi++]=wo,Hi[Gi++]=vl,So=S.id,wo=S.overflow,vl=h)),h=yS(h,h.pendingProps.children),h.flags|=4096);return h}return R?(T=D2(d,h,T.children,T.fallback,S),R=h.child,O=d.child.memoizedState,R.memoizedState=O===null?yg(S):{baseLanes:O.baseLanes|S,cachePool:null},R.childLanes=d.childLanes&~S,h.memoizedState=vg,T):(S=L2(d,h,T.children,S),h.memoizedState=null,S)}return R?(T=D2(d,h,T.children,T.fallback,S),R=h.child,O=d.child.memoizedState,R.memoizedState=O===null?yg(S):{baseLanes:O.baseLanes|S,cachePool:null},R.childLanes=d.childLanes&~S,h.memoizedState=vg,T):(S=L2(d,h,T.children,S),h.memoizedState=null,S)}function yS(d,h){return h=Fg({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function L2(d,h,S,T){var O=d.child;return d=O.sibling,S=gs(O,{mode:"visible",children:S}),!(h.mode&1)&&(S.lanes=T),S.return=h,S.sibling=null,d!==null&&(T=h.deletions,T===null?(h.deletions=[d],h.flags|=16):T.push(d)),h.child=S}function D2(d,h,S,T,O){var R=h.mode;d=d.child;var K=d.sibling,te={mode:"hidden",children:S};return!(R&1)&&h.child!==d?(S=h.child,S.childLanes=0,S.pendingProps=te,h.deletions=null):(S=gs(d,te),S.subtreeFlags=d.subtreeFlags&14680064),K!==null?T=gs(K,T):(T=El(T,R,O,null),T.flags|=2),T.return=h,S.return=h,S.sibling=T,h.child=S,T}function xg(d,h,S,T){return T!==null&&rS(T),Zu(h,d.child,null,S),d=yS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function k2(d,h,S){d.lanes|=h;var T=d.alternate;T!==null&&(T.lanes|=h),Yb(d.return,h,S)}function xS(d,h,S,T,O){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:O}:(R.isBackwards=h,R.rendering=null,R.renderingStartTime=0,R.last=T,R.tail=S,R.tailMode=O)}function U2(d,h,S){var T=h.pendingProps,O=T.revealOrder,R=T.tail;if(zr(d,h,T.children,S),T=En.current,T&2)T=T&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&k2(d,S,h);else if(d.tag===19)k2(d,S,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(ze(En,T),!(h.mode&1))h.memoizedState=null;else switch(O){case"forwards":for(S=h.child,O=null;S!==null;)d=S.alternate,d!==null&&sg(d)===null&&(O=S),S=S.sibling;S=O,S===null?(O=h.child,h.child=null):(O=S.sibling,S.sibling=null),xS(h,!1,O,S,R);break;case"backwards":for(S=null,O=h.child,h.child=null;O!==null;){if(d=O.alternate,d!==null&&sg(d)===null){h.child=O;break}d=O.sibling,O.sibling=S,S=O,O=d}xS(h,!0,S,null,R);break;case"together":xS(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Eo(d,h,S){if(d!==null&&(h.dependencies=d.dependencies),nc|=h.lanes,!(S&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,S=gs(d,d.pendingProps),h.child=S,S.return=h;d.sibling!==null;)d=d.sibling,S=S.sibling=gs(d,d.pendingProps),S.return=h;S.sibling=null}return h.child}function iV(d,h,S){switch(h.tag){case 3:I2(h),Ku();break;case 5:QC(h);break;case 1:Dt(h.type)&&ar(h);break;case 4:iS(h,h.stateNode.containerInfo);break;case 10:FC(h,h.type._context,h.memoizedProps.value);break;case 13:var T=h.memoizedState;if(T!==null)return T.dehydrated!==null?(ze(En,En.current&1),h.flags|=128,null):S&h.child.childLanes?N2(d,h,S):(ze(En,En.current&1),d=Eo(d,h,S),d!==null?d.sibling:null);ze(En,En.current&1);break;case 19:if(T=(S&h.childLanes)!==0,d.flags&128){if(T)return U2(d,h,S);h.flags|=128}var O=h.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ze(En,En.current),T)break;return null;case 22:case 23:return h.lanes=0,P2(d,h,S)}return Eo(d,h,S)}function aV(d,h){switch(eS(h),h.tag){case 1:return Dt(h.type)&&$t(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Qu(),Fe(Qe),Fe(vt),sS(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return aS(h),null;case 13:if(Fe(En),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Ku()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return Fe(En),null;case 4:return Qu(),null;case 10:return qb(h.type._context),null;case 22:case 23:return US(),null;case 24:return null;default:return null}}var _g=!1,_l=!1,oV=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function bg(d,h){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){ri(d,h,T)}else S.current=null}function _S(d,h,S){try{S()}catch(T){ri(d,h,T)}}var F2=!1;function sV(d,h){for(j(d.containerInfo),Ye=h;Ye!==null;)if(d=Ye,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ye=h;else for(;Ye!==null;){d=Ye;try{var S=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,O=S.memoizedState,R=d.stateNode,K=R.getSnapshotBeforeUpdate(d.elementType===d.type?T:ya(d.type,T),O);R.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Pe&&tt(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(te){ri(d,d.return,te)}if(h=d.sibling,h!==null){h.return=d.return,Ye=h;break}Ye=d.return}return S=F2,F2=!1,S}function bl(d,h,S){var T=h.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var O=T=T.next;do{if((O.tag&d)===d){var R=O.destroy;O.destroy=void 0,R!==void 0&&_S(h,S,R)}O=O.next}while(O!==T)}}function Ud(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var S=h=h.next;do{if((S.tag&d)===d){var T=S.create;S.destroy=T()}S=S.next}while(S!==h)}}function bS(d){var h=d.ref;if(h!==null){var S=d.stateNode;switch(d.tag){case 5:d=H(S);break;default:d=S}typeof h=="function"?h(d):h.current=d}}function B2(d,h,S){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(Km,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var T=d=d.next;do{var O=T,R=O.destroy;O=O.tag,R!==void 0&&(O&2||O&4)&&_S(h,S,R),T=T.next}while(T!==d)}break;case 1:if(bg(h,S),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(K){ri(h,S,K)}break;case 5:bg(h,S);break;case 4:Pe?G2(d,h,S):pe&&pe&&(h=h.stateNode.containerInfo,S=ve(h),nn(h,S))}}function z2(d,h,S){for(var T=h;;)if(B2(d,T,S),T.child===null||Pe&&T.tag===4){if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function j2(d){var h=d.alternate;h!==null&&(d.alternate=null,j2(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ne(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function $2(d){return d.tag===5||d.tag===3||d.tag===4}function V2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||$2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function H2(d){if(Pe){e:{for(var h=d.return;h!==null;){if($2(h))break e;h=h.return}throw Error(o(160))}var S=h;switch(S.tag){case 5:h=S.stateNode,S.flags&32&&(Je(h),S.flags&=-33),S=V2(d),wS(d,S,h);break;case 3:case 4:h=S.stateNode.containerInfo,S=V2(d),SS(d,S,h);break;default:throw Error(o(161))}}}function SS(d,h,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?ke(S,d,h):nt(S,d);else if(T!==4&&(d=d.child,d!==null))for(SS(d,h,S),d=d.sibling;d!==null;)SS(d,h,S),d=d.sibling}function wS(d,h,S){var T=d.tag;if(T===5||T===6)d=d.stateNode,h?Ce(S,d,h):ge(S,d);else if(T!==4&&(d=d.child,d!==null))for(wS(d,h,S),d=d.sibling;d!==null;)wS(d,h,S),d=d.sibling}function G2(d,h,S){for(var T=h,O=!1,R,K;;){if(!O){O=T.return;e:for(;;){if(O===null)throw Error(o(160));switch(R=O.stateNode,O.tag){case 5:K=!1;break e;case 3:R=R.containerInfo,K=!0;break e;case 4:R=R.containerInfo,K=!0;break e}O=O.return}O=!0}if(T.tag===5||T.tag===6)z2(d,T,S),K?ct(R,T.stateNode):lt(R,T.stateNode);else if(T.tag===18)K?kb(R,T.stateNode):Db(R,T.stateNode);else if(T.tag===4){if(T.child!==null){R=T.stateNode.containerInfo,K=!0,T.child.return=T,T=T.child;continue}}else if(B2(d,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===h)break;for(;T.sibling===null;){if(T.return===null||T.return===h)return;T=T.return,T.tag===4&&(O=!1)}T.sibling.return=T.return,T=T.sibling}}function MS(d,h){if(Pe){switch(h.tag){case 0:case 11:case 14:case 15:bl(3,h,h.return),Ud(3,h),bl(5,h,h.return);return;case 1:return;case 5:var S=h.stateNode;if(S!=null){var T=h.memoizedProps;d=d!==null?d.memoizedProps:T;var O=h.type,R=h.updateQueue;h.updateQueue=null,R!==null&&yt(S,R,O,d,T,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));S=h.memoizedProps,Be(h.stateNode,d!==null?d.memoizedProps:S,S);return;case 3:Ge&&d!==null&&d.memoizedState.isDehydrated&&wd(h.stateNode.containerInfo);return;case 12:return;case 13:Sg(h);return;case 19:Sg(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:bl(3,h,h.return),Ud(3,h),bl(5,h,h.return);return;case 12:return;case 13:Sg(h);return;case 19:Sg(h);return;case 3:Ge&&d!==null&&d.memoizedState.isDehydrated&&wd(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(pe){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,nn(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function Sg(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new oV),h.forEach(function(T){var O=vV.bind(null,d,T);S.has(T)||(S.add(T),T.then(O,O))})}}function lV(d,h){for(Ye=h;Ye!==null;){h=Ye;var S=h.deletions;if(S!==null)for(var T=0;T<S.length;T++){var O=S[T];try{var R=d;Pe?G2(R,O,h):z2(R,O,h);var K=O.alternate;K!==null&&(K.return=null),O.return=null}catch(pt){ri(O,h,pt)}}if(S=h.child,h.subtreeFlags&12854&&S!==null)S.return=h,Ye=S;else for(;Ye!==null;){h=Ye;try{var te=h.flags;if(te&32&&Pe&&Je(h.stateNode),te&512){var ye=h.alternate;if(ye!==null){var Le=ye.ref;Le!==null&&(typeof Le=="function"?Le(null):Le.current=null)}}if(te&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var ot=h.alternate;(ot===null||ot.memoizedState===null)&&(IS=or())}break;case 22:var At=h.memoizedState!==null,xt=h.alternate,un=xt!==null&&xt.memoizedState!==null;if(S=h,Pe){e:if(T=S,O=At,R=null,Pe)for(var gt=T;;){if(gt.tag===5){if(R===null){R=gt;var Ar=gt.stateNode;O?Ot(Ar):je(gt.stateNode,gt.memoizedProps)}}else if(gt.tag===6){if(R===null){var Ki=gt.stateNode;O?ee(Ki):Ue(Ki,gt.memoizedProps)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===T)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===T)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===T)break e;R===gt&&(R=null),gt=gt.return}R===gt&&(R=null),gt.sibling.return=gt.return,gt=gt.sibling}}if(At&&!un&&S.mode&1){Ye=S;for(var le=S.child;le!==null;){for(S=Ye=le;Ye!==null;){T=Ye;var ie=T.child;switch(T.tag){case 0:case 11:case 14:case 15:bl(4,T,T.return);break;case 1:bg(T,T.return);var de=T.stateNode;if(typeof de.componentWillUnmount=="function"){var Ze=T.return;try{de.props=T.memoizedProps,de.state=T.memoizedState,de.componentWillUnmount()}catch(pt){ri(T,Ze,pt)}}break;case 5:bg(T,T.return);break;case 22:if(T.memoizedState!==null){q2(S);continue}}ie!==null?(ie.return=T,Ye=ie):q2(S)}le=le.sibling}}}switch(te&4102){case 2:H2(h),h.flags&=-3;break;case 6:H2(h),h.flags&=-3,MS(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,MS(h.alternate,h);break;case 4:MS(h.alternate,h)}}catch(pt){ri(h,h.return,pt)}if(S=h.sibling,S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}}function uV(d,h,S){Ye=d,W2(d)}function W2(d,h,S){for(var T=(d.mode&1)!==0;Ye!==null;){var O=Ye,R=O.child;if(O.tag===22&&T){var K=O.memoizedState!==null||_g;if(!K){var te=O.alternate,ye=te!==null&&te.memoizedState!==null||_l;te=_g;var Le=_l;if(_g=K,(_l=ye)&&!Le)for(Ye=O;Ye!==null;)K=Ye,ye=K.child,K.tag===22&&K.memoizedState!==null?Y2(O):ye!==null?(ye.return=K,Ye=ye):Y2(O);for(;R!==null;)Ye=R,W2(R),R=R.sibling;Ye=O,_g=te,_l=Le}X2(d)}else O.subtreeFlags&8772&&R!==null?(R.return=O,Ye=R):X2(d)}}function X2(d){for(;Ye!==null;){var h=Ye;if(h.flags&8772){var S=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:_l||Ud(5,h);break;case 1:var T=h.stateNode;if(h.flags&4&&!_l)if(S===null)T.componentDidMount();else{var O=h.elementType===h.type?S.memoizedProps:ya(h.type,S.memoizedProps);T.componentDidUpdate(O,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var R=h.updateQueue;R!==null&&jC(h,R,T);break;case 3:var K=h.updateQueue;if(K!==null){if(S=null,h.child!==null)switch(h.child.tag){case 5:S=H(h.child.stateNode);break;case 1:S=h.child.stateNode}jC(h,K,S)}break;case 5:var te=h.stateNode;S===null&&h.flags&4&&ht(te,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ge&&h.memoizedState===null){var ye=h.alternate;if(ye!==null){var Le=ye.memoizedState;if(Le!==null){var ot=Le.dehydrated;ot!==null&&Lb(ot)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}_l||h.flags&512&&bS(h)}catch(At){ri(h,h.return,At)}}if(h===d){Ye=null;break}if(S=h.sibling,S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}function q2(d){for(;Ye!==null;){var h=Ye;if(h===d){Ye=null;break}var S=h.sibling;if(S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}function Y2(d){for(;Ye!==null;){var h=Ye;try{switch(h.tag){case 0:case 11:case 15:var S=h.return;try{Ud(4,h)}catch(ye){ri(h,S,ye)}break;case 1:var T=h.stateNode;if(typeof T.componentDidMount=="function"){var O=h.return;try{T.componentDidMount()}catch(ye){ri(h,O,ye)}}var R=h.return;try{bS(h)}catch(ye){ri(h,R,ye)}break;case 5:var K=h.return;try{bS(h)}catch(ye){ri(h,K,ye)}}}catch(ye){ri(h,h.return,ye)}if(h===d){Ye=null;break}var te=h.sibling;if(te!==null){te.return=h.return,Ye=te;break}Ye=h.return}}var wg=0,Mg=1,Eg=2,Ag=3,Tg=4;if(typeof Symbol=="function"&&Symbol.for){var Fd=Symbol.for;wg=Fd("selector.component"),Mg=Fd("selector.has_pseudo_class"),Eg=Fd("selector.role"),Ag=Fd("selector.test_id"),Tg=Fd("selector.text")}function ES(d){var h=ce(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=dt(d),d===null)throw Error(o(362));return d.stateNode.current}function AS(d,h){switch(h.$$typeof){case wg:if(d.type===h.value)return!0;break;case Mg:e:{h=h.value,d=[d,0];for(var S=0;S<d.length;){var T=d[S++],O=d[S++],R=h[O];if(T.tag!==5||!D(T)){for(;R!=null&&AS(T,R);)O++,R=h[O];if(O===h.length){h=!0;break e}else for(T=T.child;T!==null;)d.push(T,O),T=T.sibling}}h=!1}return h;case Eg:if(d.tag===5&&Q(d.stateNode,h.value))return!0;break;case Tg:if((d.tag===5||d.tag===6)&&(d=G(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case Ag:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function TS(d){switch(d.$$typeof){case wg:return"<"+(P(d.value)||"Unknown")+">";case Mg:return":has("+(TS(d)||"")+")";case Eg:return'[role="'+d.value+'"]';case Tg:return'"'+d.value+'"';case Ag:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function K2(d,h){var S=[];d=[d,0];for(var T=0;T<d.length;){var O=d[T++],R=d[T++],K=h[R];if(O.tag!==5||!D(O)){for(;K!=null&&AS(O,K);)R++,K=h[R];if(R===h.length)S.push(O);else for(O=O.child;O!==null;)d.push(O,R),O=O.sibling}}return S}function PS(d,h){if(!Ve)throw Error(o(363));d=ES(d),d=K2(d,h),h=[],d=Array.from(d);for(var S=0;S<d.length;){var T=d[S++];if(T.tag===5)D(T)||h.push(T.stateNode);else for(T=T.child;T!==null;)d.push(T),T=T.sibling}return h}var cV=Math.ceil,Pg=s.ReactCurrentDispatcher,CS=s.ReactCurrentOwner,kn=s.ReactCurrentBatchConfig,Nt=0,$n=null,Vn=null,mr=0,Si=0,tc=$e(0),Kn=0,Bd=null,nc=0,Cg=0,OS=0,zd=null,ti=null,IS=0,RS=1/0;function rc(){RS=or()+500}var Og=!1,NS=null,ds=null,Ig=!1,hs=null,Rg=0,jd=0,LS=null,Ng=-1,Lg=0;function jr(){return Nt&6?or():Ng!==-1?Ng:Ng=or()}function ps(d){return d.mode&1?Nt&2&&mr!==0?mr&-mr:W$.transition!==null?(Lg===0&&(d=qt,qt<<=1,!(qt&4194240)&&(qt=64),Lg=d),Lg):(d=Yt,d!==0?d:xe()):1}function qi(d,h,S){if(50<jd)throw jd=0,LS=null,Error(o(185));var T=Dg(d,h);return T===null?null:(Md(T,h,S),(!(Nt&2)||T!==$n)&&(T===$n&&(!(Nt&2)&&(Cg|=h),Kn===4&&ms(T,mr)),ni(T,S),h===1&&Nt===0&&!(d.mode&1)&&(rc(),Zm&&Ga())),T)}function Dg(d,h){d.lanes|=h;var S=d.alternate;for(S!==null&&(S.lanes|=h),S=d,d=d.return;d!==null;)d.childLanes|=h,S=d.alternate,S!==null&&(S.childLanes|=h),S=d,d=d.return;return S.tag===3?S.stateNode:null}function ni(d,h){var S=d.callbackNode;us(d,h);var T=Mn(d,d===$n?mr:0);if(T===0)S!==null&&kC(S),d.callbackNode=null,d.callbackPriority=0;else if(h=T&-T,d.callbackPriority!==h){if(S!=null&&kC(S),h===1)d.tag===0?G$(J2.bind(null,d)):UC(J2.bind(null,d)),q?ut(function(){Nt===0&&Ga()}):$b(Vb,Ga),S=null;else{switch(DC(T)){case 1:S=Vb;break;case 4:S=j$;break;case 16:S=Hb;break;case 536870912:S=$$;break;default:S=Hb}S=sO(S,Z2.bind(null,d))}d.callbackPriority=h,d.callbackNode=S}}function Z2(d,h){if(Ng=-1,Lg=0,Nt&6)throw Error(o(327));var S=d.callbackNode;if(Ml()&&d.callbackNode!==S)return null;var T=Mn(d,d===$n?mr:0);if(T===0)return null;if(T&30||T&d.expiredLanes||h)h=kg(d,T);else{h=T;var O=Nt;Nt|=2;var R=tO();($n!==d||mr!==h)&&(rc(),Sl(d,h));do try{hV();break}catch(te){eO(d,te)}while(!0);Xb(),Pg.current=R,Nt=O,Vn!==null?h=0:($n=null,mr=0,h=Kn)}if(h!==0){if(h===2&&(O=Gu(d),O!==0&&(T=O,h=DS(d,O))),h===1)throw S=Bd,Sl(d,0),ms(d,T),ni(d,or()),S;if(h===6)ms(d,T);else{if(O=d.current.alternate,!(T&30)&&!fV(O)&&(h=kg(d,T),h===2&&(R=Gu(d),R!==0&&(T=R,h=DS(d,R))),h===1))throw S=Bd,Sl(d,0),ms(d,T),ni(d,or()),S;switch(d.finishedWork=O,d.finishedLanes=T,h){case 0:case 1:throw Error(o(345));case 2:wl(d,ti);break;case 3:if(ms(d,T),(T&130023424)===T&&(h=IS+500-or(),10<h)){if(Mn(d,0)!==0)break;if(O=d.suspendedLanes,(O&T)!==T){jr(),d.pingedLanes|=d.suspendedLanes&O;break}d.timeoutHandle=be(wl.bind(null,d,ti),h);break}wl(d,ti);break;case 4:if(ms(d,T),(T&4194240)===T)break;for(h=d.eventTimes,O=-1;0<T;){var K=31-wn(T);R=1<<K,K=h[K],K>O&&(O=K),T&=~R}if(T=O,T=or()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*cV(T/1960))-T,10<T){d.timeoutHandle=be(wl.bind(null,d,ti),T);break}wl(d,ti);break;case 5:wl(d,ti);break;default:throw Error(o(329))}}}return ni(d,or()),d.callbackNode===S?Z2.bind(null,d):null}function DS(d,h){var S=zd;return d.current.memoizedState.isDehydrated&&(Sl(d,h).flags|=256),d=kg(d,h),d!==2&&(h=ti,ti=S,h!==null&&kS(h)),d}function kS(d){ti===null?ti=d:ti.push.apply(ti,d)}function fV(d){for(var h=d;;){if(h.flags&16384){var S=h.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var O=S[T],R=O.getSnapshot;O=O.value;try{if(!Ha(R(),O))return!1}catch{return!1}}}if(S=h.child,h.subtreeFlags&16384&&S!==null)S.return=h,h=S;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ms(d,h){for(h&=~OS,h&=~Cg,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var S=31-wn(h),T=1<<S;d[S]=-1,h&=~T}}function J2(d){if(Nt&6)throw Error(o(327));Ml();var h=Mn(d,0);if(!(h&1))return ni(d,or()),null;var S=kg(d,h);if(d.tag!==0&&S===2){var T=Gu(d);T!==0&&(h=T,S=DS(d,T))}if(S===1)throw S=Bd,Sl(d,0),ms(d,h),ni(d,or()),S;if(S===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,wl(d,ti),ni(d,or()),null}function Q2(d){hs!==null&&hs.tag===0&&!(Nt&6)&&Ml();var h=Nt;Nt|=1;var S=kn.transition,T=Yt;try{if(kn.transition=null,Yt=1,d)return d()}finally{Yt=T,kn.transition=S,Nt=h,!(Nt&6)&&Ga()}}function US(){Si=tc.current,Fe(tc)}function Sl(d,h){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==me&&(d.timeoutHandle=me,Ae(S)),Vn!==null)for(S=Vn.return;S!==null;){var T=S;switch(eS(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&$t();break;case 3:Qu(),Fe(Qe),Fe(vt),sS();break;case 5:aS(T);break;case 4:Qu();break;case 13:Fe(En);break;case 19:Fe(En);break;case 10:qb(T.type._context);break;case 22:case 23:US()}S=S.return}if($n=d,Vn=d=gs(d.current,null),mr=Si=h,Kn=0,Bd=null,OS=Cg=nc=0,ti=zd=null,Wa!==null){for(h=0;h<Wa.length;h++)if(S=Wa[h],T=S.interleaved,T!==null){S.interleaved=null;var O=T.next,R=S.pending;if(R!==null){var K=R.next;R.next=O,T.next=K}S.pending=T}Wa=null}return d}function eO(d,h){do{var S=Vn;try{if(Xb(),lg.current=pg,ug){for(var T=Rn.memoizedState;T!==null;){var O=T.queue;O!==null&&(O.pending=null),T=T.next}ug=!1}if(ec=0,sr=wr=Rn=null,Od=!1,Id=0,CS.current=null,S===null||S.return===null){Kn=1,Bd=h,Vn=null;break}e:{var R=d,K=S.return,te=S,ye=h;if(h=mr,te.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Le=ye,ot=te,At=ot.tag;if(!(ot.mode&1)&&(At===0||At===11||At===15)){var xt=ot.alternate;xt?(ot.updateQueue=xt.updateQueue,ot.memoizedState=xt.memoizedState,ot.lanes=xt.lanes):(ot.updateQueue=null,ot.memoizedState=null)}var un=b2(K);if(un!==null){un.flags&=-257,S2(un,K,te,R,h),un.mode&1&&_2(R,Le,h),h=un,ye=Le;var gt=h.updateQueue;if(gt===null){var Ar=new Set;Ar.add(ye),h.updateQueue=Ar}else gt.add(ye);break e}else{if(!(h&1)){_2(R,Le,h),FS();break e}ye=Error(o(426))}}else if(_n&&te.mode&1){var Ki=b2(K);if(Ki!==null){!(Ki.flags&65536)&&(Ki.flags|=256),S2(Ki,K,te,R,h),rS(ye);break e}}R=ye,Kn!==4&&(Kn=2),zd===null?zd=[R]:zd.push(R),ye=pS(ye,te),te=K;do{switch(te.tag){case 3:te.flags|=65536,h&=-h,te.lanes|=h;var le=y2(te,ye,h);zC(te,le);break e;case 1:R=ye;var ie=te.type,de=te.stateNode;if(!(te.flags&128)&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(ds===null||!ds.has(de)))){te.flags|=65536,h&=-h,te.lanes|=h;var Ze=x2(te,R,h);zC(te,Ze);break e}}te=te.return}while(te!==null)}rO(S)}catch(pt){h=pt,Vn===S&&S!==null&&(Vn=S=S.return);continue}break}while(!0)}function tO(){var d=Pg.current;return Pg.current=pg,d===null?pg:d}function FS(){(Kn===0||Kn===3||Kn===2)&&(Kn=4),$n===null||!(nc&268435455)&&!(Cg&268435455)||ms($n,mr)}function kg(d,h){var S=Nt;Nt|=2;var T=tO();$n===d&&mr===h||Sl(d,h);do try{dV();break}catch(O){eO(d,O)}while(!0);if(Xb(),Nt=S,Pg.current=T,Vn!==null)throw Error(o(261));return $n=null,mr=0,Kn}function dV(){for(;Vn!==null;)nO(Vn)}function hV(){for(;Vn!==null&&!B$();)nO(Vn)}function nO(d){var h=oO(d.alternate,d,Si);d.memoizedProps=d.pendingProps,h===null?rO(d):Vn=h,CS.current=null}function rO(d){var h=d;do{var S=h.alternate;if(d=h.return,h.flags&32768){if(S=aV(S,h),S!==null){S.flags&=32767,Vn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Kn=6,Vn=null;return}}else if(S=nV(S,h,Si),S!==null){Vn=S;return}if(h=h.sibling,h!==null){Vn=h;return}Vn=h=d}while(h!==null);Kn===0&&(Kn=5)}function wl(d,h){var S=Yt,T=kn.transition;try{kn.transition=null,Yt=1,pV(d,h,S)}finally{kn.transition=T,Yt=S}return null}function pV(d,h,S){do Ml();while(hs!==null);if(Nt&6)throw Error(o(327));var T=d.finishedWork,O=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var R=T.lanes|T.childLanes;if(F$(d,R),d===$n&&(Vn=$n=null,mr=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Ig||(Ig=!0,sO(Hb,function(){return Ml(),null})),R=(T.flags&15990)!==0,T.subtreeFlags&15990||R){R=kn.transition,kn.transition=null;var K=Yt;Yt=1;var te=Nt;Nt|=4,CS.current=null,sV(d,T),lV(d,T),Y(d.containerInfo),d.current=T,uV(T),z$(),Nt=te,Yt=K,kn.transition=R}else d.current=T;if(Ig&&(Ig=!1,hs=d,Rg=O),R=d.pendingLanes,R===0&&(ds=null),V$(T.stateNode),ni(d,or()),h!==null)for(S=d.onRecoverableError,T=0;T<h.length;T++)S(h[T]);if(Og)throw Og=!1,d=NS,NS=null,d;return Rg&1&&d.tag!==0&&Ml(),R=d.pendingLanes,R&1?d===LS?jd++:(jd=0,LS=d):jd=0,Ga(),null}function Ml(){if(hs!==null){var d=DC(Rg),h=kn.transition,S=Yt;try{if(kn.transition=null,Yt=16>d?16:d,hs===null)var T=!1;else{if(d=hs,hs=null,Rg=0,Nt&6)throw Error(o(331));var O=Nt;for(Nt|=4,Ye=d.current;Ye!==null;){var R=Ye,K=R.child;if(Ye.flags&16){var te=R.deletions;if(te!==null){for(var ye=0;ye<te.length;ye++){var Le=te[ye];for(Ye=Le;Ye!==null;){var ot=Ye;switch(ot.tag){case 0:case 11:case 15:bl(8,ot,R)}var At=ot.child;if(At!==null)At.return=ot,Ye=At;else for(;Ye!==null;){ot=Ye;var xt=ot.sibling,un=ot.return;if(j2(ot),ot===Le){Ye=null;break}if(xt!==null){xt.return=un,Ye=xt;break}Ye=un}}}var gt=R.alternate;if(gt!==null){var Ar=gt.child;if(Ar!==null){gt.child=null;do{var Ki=Ar.sibling;Ar.sibling=null,Ar=Ki}while(Ar!==null)}}Ye=R}}if(R.subtreeFlags&2064&&K!==null)K.return=R,Ye=K;else e:for(;Ye!==null;){if(R=Ye,R.flags&2048)switch(R.tag){case 0:case 11:case 15:bl(9,R,R.return)}var le=R.sibling;if(le!==null){le.return=R.return,Ye=le;break e}Ye=R.return}}var ie=d.current;for(Ye=ie;Ye!==null;){K=Ye;var de=K.child;if(K.subtreeFlags&2064&&de!==null)de.return=K,Ye=de;else e:for(K=ie;Ye!==null;){if(te=Ye,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:Ud(9,te)}}catch(pt){ri(te,te.return,pt)}if(te===K){Ye=null;break e}var Ze=te.sibling;if(Ze!==null){Ze.return=te.return,Ye=Ze;break e}Ye=te.return}}if(Nt=O,Ga(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(Km,d)}catch{}T=!0}return T}finally{Yt=S,kn.transition=h}}return!1}function iO(d,h,S){h=pS(S,h),h=y2(d,h,1),fs(d,h),h=jr(),d=Dg(d,1),d!==null&&(Md(d,1,h),ni(d,h))}function ri(d,h,S){if(d.tag===3)iO(d,d,S);else for(;h!==null;){if(h.tag===3){iO(h,d,S);break}else if(h.tag===1){var T=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(ds===null||!ds.has(T))){d=pS(S,d),d=x2(h,d,1),fs(h,d),d=jr(),h=Dg(h,1),h!==null&&(Md(h,1,d),ni(h,d));break}}h=h.return}}function mV(d,h,S){var T=d.pingCache;T!==null&&T.delete(h),h=jr(),d.pingedLanes|=d.suspendedLanes&S,$n===d&&(mr&S)===S&&(Kn===4||Kn===3&&(mr&130023424)===mr&&500>or()-IS?Sl(d,0):OS|=S),ni(d,h)}function aO(d,h){h===0&&(d.mode&1?(h=In,In<<=1,!(In&130023424)&&(In=4194304)):h=1);var S=jr();d=Dg(d,h),d!==null&&(Md(d,h,S),ni(d,S))}function gV(d){var h=d.memoizedState,S=0;h!==null&&(S=h.retryLane),aO(d,S)}function vV(d,h){var S=0;switch(d.tag){case 13:var T=d.stateNode,O=d.memoizedState;O!==null&&(S=O.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(h),aO(d,S)}var oO;oO=function(d,h,S){if(d!==null)if(d.memoizedProps!==h.pendingProps||Qe.current)bi=!0;else{if(!(d.lanes&S)&&!(h.flags&128))return bi=!1,iV(d,h,S);bi=!!(d.flags&131072)}else bi=!1,_n&&h.flags&1048576&&WC(h,ag,h.index);switch(h.lanes=0,h.tag){case 2:var T=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var O=sn(h,vt.current);Xu(h,S),O=uS(null,h,T,d,O,S);var R=cS();return h.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,Dt(T)?(R=!0,ar(h)):R=!1,h.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,Kb(h),O.updater=rg,h.stateNode=O,O._reactInternals=h,Jb(h,T,d,S),h=vS(null,h,T,!0,R,S)):(h.tag=0,_n&&R&&Qb(h),zr(null,h,O,S),h=h.child),h;case 16:T=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,O=T._init,T=O(T._payload),h.type=T,O=h.tag=xV(T),d=ya(T,d),O){case 0:h=gS(null,h,T,d,S);break e;case 1:h=O2(null,h,T,d,S);break e;case 11:h=E2(null,h,T,d,S);break e;case 14:h=A2(null,h,T,ya(T.type,d),S);break e}throw Error(o(306,T,""))}return h;case 0:return T=h.type,O=h.pendingProps,O=h.elementType===T?O:ya(T,O),gS(d,h,T,O,S);case 1:return T=h.type,O=h.pendingProps,O=h.elementType===T?O:ya(T,O),O2(d,h,T,O,S);case 3:e:{if(I2(h),d===null)throw Error(o(387));T=h.pendingProps,R=h.memoizedState,O=R.element,BC(d,h),ng(h,T,null,S);var K=h.memoizedState;if(T=K.element,Ge&&R.isDehydrated)if(R={element:T,isDehydrated:!1,cache:K.cache,transitions:K.transitions},h.updateQueue.baseState=R,h.memoizedState=R,h.flags&256){O=Error(o(423)),h=R2(d,h,T,S,O);break e}else if(T!==O){O=Error(o(424)),h=R2(d,h,T,S,O);break e}else for(Ge&&(_i=Wm(h.stateNode.containerInfo),xi=h,_n=!0,xa=null,Ed=!1),S=JC(h,null,T,S),h.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ku(),T===O){h=Eo(d,h,S);break e}zr(d,h,T,S)}h=h.child}return h;case 5:return QC(h),d===null&&nS(h),T=h.type,O=h.pendingProps,R=d!==null?d.memoizedProps:null,K=O.children,De(T,O)?K=null:R!==null&&De(T,R)&&(h.flags|=32),C2(d,h),zr(d,h,K,S),h.child;case 6:return d===null&&nS(h),null;case 13:return N2(d,h,S);case 4:return iS(h,h.stateNode.containerInfo),T=h.pendingProps,d===null?h.child=Zu(h,null,T,S):zr(d,h,T,S),h.child;case 11:return T=h.type,O=h.pendingProps,O=h.elementType===T?O:ya(T,O),E2(d,h,T,O,S);case 7:return zr(d,h,h.pendingProps,S),h.child;case 8:return zr(d,h,h.pendingProps.children,S),h.child;case 12:return zr(d,h,h.pendingProps.children,S),h.child;case 10:e:{if(T=h.type._context,O=h.pendingProps,R=h.memoizedProps,K=O.value,FC(h,T,K),R!==null)if(Ha(R.value,K)){if(R.children===O.children&&!Qe.current){h=Eo(d,h,S);break e}}else for(R=h.child,R!==null&&(R.return=h);R!==null;){var te=R.dependencies;if(te!==null){K=R.child;for(var ye=te.firstContext;ye!==null;){if(ye.context===T){if(R.tag===1){ye=bo(-1,S&-S),ye.tag=2;var Le=R.updateQueue;if(Le!==null){Le=Le.shared;var ot=Le.pending;ot===null?ye.next=ye:(ye.next=ot.next,ot.next=ye),Le.pending=ye}}R.lanes|=S,ye=R.alternate,ye!==null&&(ye.lanes|=S),Yb(R.return,S,h),te.lanes|=S;break}ye=ye.next}}else if(R.tag===10)K=R.type===h.type?null:R.child;else if(R.tag===18){if(K=R.return,K===null)throw Error(o(341));K.lanes|=S,te=K.alternate,te!==null&&(te.lanes|=S),Yb(K,S,h),K=R.sibling}else K=R.child;if(K!==null)K.return=R;else for(K=R;K!==null;){if(K===h){K=null;break}if(R=K.sibling,R!==null){R.return=K.return,K=R;break}K=K.return}R=K}zr(d,h,O.children,S),h=h.child}return h;case 9:return O=h.type,T=h.pendingProps.children,Xu(h,S),O=Vi(O),T=T(O),h.flags|=1,zr(d,h,T,S),h.child;case 14:return T=h.type,O=ya(T,h.pendingProps),O=ya(T.type,O),A2(d,h,T,O,S);case 15:return T2(d,h,h.type,h.pendingProps,S);case 17:return T=h.type,O=h.pendingProps,O=h.elementType===T?O:ya(T,O),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,Dt(T)?(d=!0,ar(h)):d=!1,Xu(h,S),HC(h,T,O),Jb(h,T,O,S),vS(null,h,T,!0,d,S);case 19:return U2(d,h,S);case 22:return P2(d,h,S)}throw Error(o(156,h.tag))};function sO(d,h){return $b(d,h)}function yV(d,h,S,T){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(d,h,S,T){return new yV(d,h,S,T)}function BS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function xV(d){if(typeof d=="function")return BS(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===x)return 14}return 2}function gs(d,h){var S=d.alternate;return S===null?(S=Yi(d.tag,h,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=h,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,h=d.dependencies,S.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function Ug(d,h,S,T,O,R){var K=2;if(T=d,typeof d=="function")BS(d)&&(K=1);else if(typeof d=="string")K=5;else e:switch(d){case c:return El(S.children,O,R,h);case f:K=8,O|=8;break;case p:return d=Yi(12,S,h,O|2),d.elementType=p,d.lanes=R,d;case y:return d=Yi(13,S,h,O),d.elementType=y,d.lanes=R,d;case v:return d=Yi(19,S,h,O),d.elementType=v,d.lanes=R,d;case M:return Fg(S,O,R,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:K=10;break e;case g:K=9;break e;case _:K=11;break e;case x:K=14;break e;case b:K=16,T=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Yi(K,S,h,O),h.elementType=d,h.type=T,h.lanes=R,h}function El(d,h,S,T){return d=Yi(7,d,T,h),d.lanes=S,d}function Fg(d,h,S,T){return d=Yi(22,d,T,h),d.elementType=M,d.lanes=S,d.stateNode={},d}function zS(d,h,S){return d=Yi(6,d,null,h),d.lanes=S,d}function jS(d,h,S){return h=Yi(4,d.children!==null?d.children:[],d.key,h),h.lanes=S,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function _V(d,h,S,T,O){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=me,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zb(0),this.expirationTimes=zb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zb(0),this.identifierPrefix=T,this.onRecoverableError=O,Ge&&(this.mutableSourceEagerHydrationData=null)}function lO(d,h,S,T,O,R,K,te,ye){return d=new _V(d,h,S,te,ye),h===1?(h=1,R===!0&&(h|=8)):h=0,R=Yi(3,null,null,h),d.current=R,R.stateNode=d,R.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},Kb(R),d}function uO(d){if(!d)return _t;d=d._reactInternals;e:{if(C(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(Dt(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var S=d.type;if(Dt(S))return ft(d,S,h)}return h}function cO(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=k(h),d===null?null:d.stateNode}function fO(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<h?S:h}}function $S(d,h){fO(d,h),(d=d.alternate)&&fO(d,h)}function bV(d){return d=k(d),d===null?null:d.stateNode}function SV(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=jr();qi(d,134217728,h),$S(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=jr(),S=ps(d);qi(d,S,h),$S(d,S)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var S=ei(h.pendingLanes);S!==0&&(jb(h,S|1),ni(h,or()),!(Nt&6)&&(rc(),Ga()))}break;case 13:var T=jr();Q2(function(){return qi(d,1,T)}),$S(d,1)}},n.batchedUpdates=function(d,h){var S=Nt;Nt|=1;try{return d(h)}finally{Nt=S,Nt===0&&(rc(),Zm&&Ga())}},n.createComponentSelector=function(d){return{$$typeof:wg,value:d}},n.createContainer=function(d,h,S,T,O,R,K){return lO(d,h,!1,null,S,T,O,R,K)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Mg,value:d}},n.createHydrationContainer=function(d,h,S,T,O,R,K,te,ye){return d=lO(S,T,!0,d,O,R,K,te,ye),d.context=uO(null),S=d.current,T=jr(),O=ps(S),R=bo(T,O),R.callback=h??null,fs(S,R),d.current.lanes=O,Md(d,O,T),ni(d,T),d},n.createPortal=function(d,h,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:d,containerInfo:h,implementation:S}},n.createRoleSelector=function(d){return{$$typeof:Eg,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Ag,value:d}},n.createTextSelector=function(d){return{$$typeof:Tg,value:d}},n.deferredUpdates=function(d){var h=Yt,S=kn.transition;try{return kn.transition=null,Yt=16,d()}finally{Yt=h,kn.transition=S}},n.discreteUpdates=function(d,h,S,T,O){var R=Yt,K=kn.transition;try{return kn.transition=null,Yt=1,d(h,S,T,O)}finally{Yt=R,kn.transition=K,Nt===0&&rc()}},n.findAllNodes=PS,n.findBoundingRects=function(d,h){if(!Ve)throw Error(o(363));h=PS(d,h),d=[];for(var S=0;S<h.length;S++)d.push(Oe(h[S]));for(h=d.length-1;0<h;h--){S=d[h];for(var T=S.x,O=T+S.width,R=S.y,K=R+S.height,te=h-1;0<=te;te--)if(h!==te){var ye=d[te],Le=ye.x,ot=Le+ye.width,At=ye.y,xt=At+ye.height;if(T>=Le&&R>=At&&O<=ot&&K<=xt){d.splice(h,1);break}else if(T!==Le||S.width!==ye.width||xt<R||At>K){if(!(R!==At||S.height!==ye.height||ot<T||Le>O)){Le>T&&(ye.width+=Le-T,ye.x=T),ot<O&&(ye.width=O-Le),d.splice(h,1);break}}else{At>R&&(ye.height+=At-R,ye.y=R),xt<K&&(ye.height=K-At),d.splice(h,1);break}}}return d},n.findHostInstance=cO,n.findHostInstanceWithNoPortals=function(d){return d=I(d),d=d!==null?W(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return cO(d)},n.flushControlled=function(d){var h=Nt;Nt|=1;var S=kn.transition,T=Yt;try{kn.transition=null,Yt=1,d()}finally{Yt=T,kn.transition=S,Nt=h,Nt===0&&(rc(),Ga())}},n.flushPassiveEffects=Ml,n.flushSync=Q2,n.focusWithin=function(d,h){if(!Ve)throw Error(o(363));for(d=ES(d),h=K2(d,h),h=Array.from(h),d=0;d<h.length;){var S=h[d++];if(!D(S)){if(S.tag===5&&he(S.stateNode))return!0;for(S=S.child;S!==null;)h.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Yt},n.getFindAllNodesFailureDescription=function(d,h){if(!Ve)throw Error(o(363));var S=0,T=[];d=[ES(d),0];for(var O=0;O<d.length;){var R=d[O++],K=d[O++],te=h[K];if((R.tag!==5||!D(R))&&(AS(R,te)&&(T.push(TS(te)),K++,K>S&&(S=K)),K<h.length))for(R=R.child;R!==null;)d.push(R,K),R=R.sibling}if(S<h.length){for(d=[];S<h.length;S++)d.push(TS(h[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return H(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:bV,findFiberByHostInstance:d.findFiberByHostInstance||SV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Km=h.inject(d),Va=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,S,T){if(!Ve)throw Error(o(363));d=PS(d,h);var O=Me(d,S,T).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(d,h){var S=h._getVersion;S=S(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,S]:d.mutableSourceEagerHydrationData.push(h,S)},n.runWithPriority=function(d,h){var S=Yt;try{return Yt=d,h()}finally{Yt=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,S,T){var O=h.current,R=jr(),K=ps(O);return S=uO(S),h.context===null?h.context=S:h.pendingContext=S,h=bo(R,K),h.payload={element:d},T=T===void 0?null:T,T!==null&&(h.callback=T),fs(O,h),d=qi(O,K,R),d!==null&&tg(d,O,K),K},n};f$.exports=Wwe;var Xwe=f$.exports;const qwe=an(Xwe);var d$={exports:{}},h$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,j){var Y=U.length;U.push(j);e:for(;0<Y;){var Z=Y-1>>>1,J=U[Z];if(0<i(J,j))U[Z]=j,U[Y]=J,Y=Z;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var j=U[0],Y=U.pop();if(Y!==j){U[0]=Y;e:for(var Z=0,J=U.length,fe=J>>>1;Z<fe;){var we=2*(Z+1)-1,De=U[we],ae=we+1,be=U[ae];if(0>i(De,Y))ae<J&&0>i(be,De)?(U[Z]=be,U[ae]=Y,Z=ae):(U[Z]=De,U[we]=Y,Z=we);else if(ae<J&&0>i(be,Y))U[Z]=be,U[ae]=Y,Z=ae;else break e}}return j}function i(U,j){var Y=U.sortIndex-j.sortIndex;return Y!==0?Y:U.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,p=3,m=!1,g=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=U)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function M(U){if(_=!1,b(U),!g)if(n(l)!==null)g=!0,H(w);else{var j=n(u);j!==null&&V(M,j.startTime-U)}}function w(U,j){g=!1,_&&(_=!1,v(A),A=-1),m=!0;var Y=p;try{for(b(j),f=n(l);f!==null&&(!(f.expirationTime>j)||U&&!I());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var J=Z(f.expirationTime<=j);j=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),b(j)}else r(l);f=n(l)}if(f!==null)var fe=!0;else{var we=n(u);we!==null&&V(M,we.startTime-j),fe=!1}return fe}finally{f=null,p=Y,m=!1}}var E=!1,P=null,A=-1,C=5,N=-1;function I(){return!(t.unstable_now()-N<C)}function k(){if(P!==null){var U=t.unstable_now();N=U;var j=!0;try{j=P(!0,U)}finally{j?B():(E=!1,P=null)}}else E=!1}var B;if(typeof x=="function")B=function(){x(k)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,$=W.port2;W.port1.onmessage=k,B=function(){$.postMessage(null)}}else B=function(){y(k,0)};function H(U){P=U,E||(E=!0,B())}function V(U,j){A=y(function(){U(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,H(w))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var Y=p;p=j;try{return U()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,j){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=p;p=U;try{return j()}finally{p=Y}},t.unstable_scheduleCallback=function(U,j,Y){var Z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=Y+J,U={id:c++,callback:j,priorityLevel:U,startTime:Y,expirationTime:J,sortIndex:-1},Y>Z?(U.sortIndex=Y,e(u,U),n(l)===null&&U===n(u)&&(_?(v(A),A=-1):_=!0,V(M,Y-Z))):(U.sortIndex=J,e(l,U),g||m||(g=!0,H(w))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var j=p;return function(){var Y=p;p=j;try{return U.apply(this,arguments)}finally{p=Y}}}})(h$);d$.exports=h$;var ek=d$.exports;const NC={},Ywe=t=>void Object.assign(NC,t);function Kwe(t,e){function n(c,{args:f=[],attach:p,...m},g){let _=`${c[0].toUpperCase()}${c.slice(1)}`,y;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;y=Nc(v,{type:c,root:g,attach:p,primitive:!0})}else{const v=NC[_];if(!v)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");y=Nc(new v(...f),{type:c,root:g,attach:p,memoizedProps:{args:f}})}return y.__r3f.attach===void 0&&(y instanceof Et?y.__r3f.attach="geometry":y instanceof Sr&&(y.__r3f.attach="material")),_!=="inject"&&Fw(y,m),y}function r(c,f){let p=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?Uw(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),p=!0),p||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||Nc(f,{}),f.__r3f.parent=c,LA(f),Lc(f)}}function i(c,f,p){let m=!1;if(f){var g,_;if((g=f.__r3f)!=null&&g.attach)Uw(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const y=c.children.filter(x=>x!==f),v=y.indexOf(p);c.children=[...y.slice(0,v),f,...y.slice(v)],m=!0}m||(_=c.__r3f)==null||_.objects.push(f),f.__r3f||Nc(f,{}),f.__r3f.parent=c,LA(f),Lc(f)}}function a(c,f,p=!1){c&&[...c].forEach(m=>o(f,m,p))}function o(c,f,p){if(f){var m,g,_;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(M=>M!==f)),(g=f.__r3f)!=null&&g.attach)ak(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var y;c.remove(f),(y=f.__r3f)!=null&&y.root&&rMe(Py(f),f)}const x=(_=f.__r3f)==null?void 0:_.primitive,b=!x&&(p===void 0?f.dispose!==null:p);if(!x){var v;a((v=f.__r3f)==null?void 0:v.objects,f,b),a(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?ek.unstable_scheduleCallback(ek.unstable_IdlePriority,M):M()}Lc(c)}}function s(c,f,p,m){var g;const _=(g=c.__r3f)==null?void 0:g.parent;if(!_)return;const y=n(f,p,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(y,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(y,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(_,c),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(_,y),y.raycast&&y.__r3f.eventCount&&Py(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=y,v.ref&&(typeof v.ref=="function"?v.ref(y):v.ref.current=y))})}const l=()=>{};return{reconciler:qwe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const p=c.getState().scene;p.__r3f&&(p.__r3f.root=c,r(p,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,p)=>{if(!f||!p)return;const m=c.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,p,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:y=[],children:v,...x}=m,{args:b=[],children:M,...w}=p;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,A)=>P!==b[A]))return[!0];const E=_$(c,x,w,!0);return E.changes.length?[!1,E]:null}},commitUpdate(c,[f,p],m,g,_,y){f?s(c,m,_,y):Fw(c,p)},commitMount(c,f,p,m){var g;const _=(g=c.__r3f)!=null?g:{};c.raycast&&_.handlers&&_.eventCount&&Py(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>Nc(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:p,parent:m}=(f=c.__r3f)!=null?f:{};p&&m&&ak(m,c,p),c.isObject3D&&(c.visible=!1),Lc(c)},unhideInstance(c,f){var p;const{attach:m,parent:g}=(p=c.__r3f)!=null?p:{};m&&g&&Uw(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),Lc(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Qc.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vn.fun(performance.now)?performance.now:vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Fw}}var tk,nk;const kw=t=>"colorSpace"in t||"outputColorSpace"in t,p$=()=>{var t;return(t=NC.ColorManagement)!=null?t:null},m$=t=>t&&t.isOrthographicCamera,Zwe=t=>t&&t.hasOwnProperty("current"),$m=typeof window<"u"&&((tk=window.document)!=null&&tk.createElement||((nk=window.navigator)==null?void 0:nk.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function g$(t){const e=z.useRef(t);return $m(()=>void(e.current=t),[t]),e}function Jwe({set:t}){return $m(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class v$ extends z.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}v$.getDerivedStateFromError=()=>({error:!0});const y$="__default",rk=new Map,Qwe=t=>t&&!!t.memoized&&!!t.changes;function x$(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const xh=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Py(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vn={obj:t=>t===Object(t)&&!vn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(vn.str(t)||vn.num(t)||vn.boo(t))return t===e;const a=vn.obj(t);if(a&&r==="reference")return t===e;const o=vn.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!vn.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(vn.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function eMe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Nc(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function NA(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,o)=>a[o],t),{target:n,key:i}}else return{target:n,key:e}}const ik=/-\d+$/;function Uw(t,e,n){if(vn.str(n)){if(ik.test(n)){const a=n.replace(ik,""),{target:o,key:s}=NA(t,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=NA(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function ak(t,e,n){var r,i;if(vn.str(n)){const{target:a,key:o}=NA(t,n),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function _$(t,{children:e,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),p=[];if(u){const g=Object.keys(l);for(let _=0;_<g.length;_++)i.hasOwnProperty(g[_])||f.unshift([g[_],y$+"remove"])}f.forEach(([g,_])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&g==="object"||vn.equ(_,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return p.push([g,_,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),p.push([g,_,!1,v]);for(const x in i){const b=i[x];x.startsWith(`${g}-`)&&p.push([x,b,!1,x.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:p}}function Fw(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=Qwe(e)?e:_$(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let c=0;c<s.length;c++){let[f,p,m,g]=s[c];if(kw(t)){const x="srgb",b="srgb-linear";f==="encoding"?(f="colorSpace",p=p===3001?x:b):f==="outputEncoding"&&(f="outputColorSpace",p=p===3001?x:b)}let _=t,y=_[f];if(g.length&&(y=g.reduce((v,x)=>v[x],t),!(y&&y.set))){const[v,...x]=g.reverse();_=x.reverse().reduce((b,M)=>b[M],t),f=v}if(p===y$+"remove")if(_.constructor){let v=rk.get(_.constructor);v||(v=new _.constructor,rk.set(_.constructor,v)),p=v[f]}else p=0;if(m&&r)p?r.handlers[f]=p:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof du)){if(Array.isArray(p))y.fromArray?y.fromArray(p):y.set(...p);else if(y.copy&&p&&p.constructor&&y.constructor===p.constructor)y.copy(p);else if(p!==void 0){const v=y instanceof et;!v&&y.setScalar?y.setScalar(p):y instanceof du&&p instanceof du?y.mask=p.mask:y.set(p),!p$()&&a&&!a.linear&&v&&y.convertSRGBToLinear()}}else if(_[f]=p,_[f]instanceof Cn&&_[f].format===Ur&&_[f].type===Gr&&a){const v=_[f];kw(v)&&kw(a.gl)?v.colorSpace=a.gl.outputColorSpace:v.encoding=a.gl.outputEncoding}Lc(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const c=Py(t).getState().internal,f=c.interaction.indexOf(t);f>-1&&c.interaction.splice(f,1),r.eventCount&&c.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&LA(t),t}function Lc(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function LA(t){t.onUpdate==null||t.onUpdate(t)}function tMe(t,e){t.manual||(m$(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function uy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function nMe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Qc.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Qc.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Qc.ContinuousEventPriority;default:return Qc.DefaultEventPriority}}function b$(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function rMe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{b$(n.capturedMap,e,r,i)})}function iMe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,p=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const x=xh(m[v]);x&&(x.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const x=xh(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var b;x.events.compute==null||x.events.compute(l,x,(b=x.previousRoot)==null?void 0:b.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let _=m.flatMap(g).sort((v,x)=>{const b=xh(v.object),M=xh(x.object);return!b||!M?v.distance-x.distance:M.events.priority-b.events.priority||v.distance-x.distance}).filter(v=>{const x=uy(v);return f.has(x)?!1:(f.add(x),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const v of _){let x=v.object;for(;x;){var y;(y=x.__r3f)!=null&&y.eventCount&&p.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())f.has(uy(v.intersection))||p.push(v.intersection);return p}function i(l,u,c,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const _=xh(g.object)||p,{raycaster:y,pointer:v,camera:x,internal:b}=_,M=new X(v.x,v.y,0).unproject(x),w=N=>{var I,k;return(I=(k=b.capturedMap.get(N))==null?void 0:k.has(g.eventObject))!=null?I:!1},E=N=>{const I={intersection:g,target:u.target};b.capturedMap.has(N)?b.capturedMap.get(N).set(g.eventObject,I):b.capturedMap.set(N,new Map([[g.eventObject,I]])),u.target.setPointerCapture(N)},P=N=>{const I=b.capturedMap.get(N);I&&b$(b.capturedMap,g.eventObject,I,N)};let A={};for(let N in u){let I=u[N];typeof I!="function"&&(A[N]=I)}let C={...g,...A,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:M,ray:y.ray,camera:x,stopPropagation(){const N="pointerId"in u&&b.capturedMap.get(u.pointerId);if((!N||N.has(g.eventObject))&&(C.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(I=>I.eventObject===g.eventObject))){const I=l.slice(0,l.indexOf(g));a([...I,g])}},target:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:P},currentTarget:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:P},nativeEvent:u};if(f(C),m.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const p=c.eventObject.__r3f,m=p==null?void 0:p.handlers;if(u.hovered.delete(uy(c)),p!=null&&p.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(p.initialClick=[c.offsetX,c.offsetY],p.initialHits=y.map(b=>b.eventObject)),g&&!y.length&&v<=2&&(o(c,p.interaction),f&&f(c)),m&&a(y);function x(b){const M=b.eventObject,w=M.__r3f,E=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const P=uy(b),A=p.hovered.get(P);A?A.stopped&&b.stopPropagation():(p.hovered.set(P,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const P=E[l];P?(!g||p.initialHits.includes(M))&&(o(c,p.interaction.filter(A=>!p.initialHits.includes(A))),P(b)):g&&p.initialHits.includes(M)&&o(c,p.interaction.filter(A=>!p.initialHits.includes(A)))}}i(y,c,v,x)}}return{handlePointer:s}}const S$=t=>!!(t!=null&&t.render),w$=z.createContext(null),aMe=(t,e)=>{const n=Vwe((s,l)=>{const u=new X,c=new X,f=new X;function p(v=l().camera,x=c,b=l().size){const{width:M,height:w,top:E,left:P}=b,A=M/w;x instanceof X?f.copy(x):f.set(...x);const C=v.getWorldPosition(u).distanceTo(f);if(m$(v))return{width:M/v.zoom,height:w/v.zoom,top:E,left:P,factor:1,distance:C,aspect:A};{const N=v.fov*Math.PI/180,I=2*Math.tan(N/2)*C,k=I*(M/w);return{width:k,height:I,top:E,left:P,factor:M/k,distance:C,aspect:A}}}let m;const g=v=>s(x=>({performance:{...x.performance,current:v}})),_=new Ee;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new t$,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>s(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,b,M,w)=>{const E=l().camera,P={width:v,height:x,top:M||0,left:w||0,updateStyle:b};s(A=>({size:P,viewport:{...A.viewport,...p(E,c,P)}}))},setDpr:v=>s(x=>{const b=x$(v);return{viewport:{...x.viewport,dpr:b,initialDpr:x.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),s(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,b)=>{const M=l().internal;return M.priority=M.priority+(x>0?1:0),M.subscribers.push({ref:v,priority:x,store:b}),M.subscribers=M.subscribers.sort((w,E)=>w.priority-E.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(x>0?1:0),w.subscribers=w.subscribers.filter(E=>E.ref!==v))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var p;i=l,a=u.dpr,tMe(s,l),c.setPixelRatio(u.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}s!==o&&(o=s,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let cy,oMe=new Set,sMe=new Set,lMe=new Set;function Bw(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function _h(t,e){switch(t){case"before":return Bw(oMe,e);case"after":return Bw(sMe,e);case"tail":return Bw(lMe,e)}}let zw,jw;function $w(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),zw=e.internal.subscribers,cy=0;cy<zw.length;cy++)jw=zw[cy],jw.ref.current(jw.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function uMe(t){let e=!1,n=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,_h("before",u),n=!0;for(const f of t.values()){var c;a=f.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((c=a.gl.xr)!=null&&c.isPresenting)&&(r+=$w(u,a))}if(n=!1,_h("after",u),r===0)return _h("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return t.forEach(p=>s(p.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,p){if(c&&_h("before",u),f)$w(u,f,p);else for(const m of t.values())$w(u,m.store.getState());c&&_h("after",u)}return{loop:o,invalidate:s,advance:l}}function M$(){const t=z.useContext(w$);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ep(t=n=>n,e){return M$()(t,e)}function E$(t,e=0){const n=M$(),r=n.getState().internal.subscribe,i=g$(t);return $m(()=>r(i,e,n),[e,r,n]),null}const Yf=new Map,{invalidate:ok,advance:sk}=uMe(Yf),{reconciler:Wx,applyProps:Oc}=Kwe(Yf,nMe),Ic={objects:"shallow",strict:!1},cMe=(t,e)=>{const n=typeof t=="function"?t(e):t;return S$(n)?n:new u$({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function fMe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=n}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function dMe(t){const e=Yf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||aMe(ok,sk),o=n||Wx.createContainer(a,Qc.ConcurrentRoot,null,!1,null,"",i,null);e||Yf.set(t,{fiber:o,store:a});let s,l=!1,u;return{configure(c={}){let{gl:f,size:p,scene:m,events:g,onCreated:_,shadows:y=!1,linear:v=!1,flat:x=!1,legacy:b=!1,orthographic:M=!1,frameloop:w="always",dpr:E=[1,2],performance:P,raycaster:A,camera:C,onPointerMissed:N}=c,I=a.getState(),k=I.gl;I.gl||I.set({gl:k=cMe(f,t)});let B=I.raycaster;B||I.set({raycaster:B=new e$});const{params:W,...$}=A||{};if(vn.equ($,B,Ic)||Oc(B,{...$}),vn.equ(W,B.params,Ic)||Oc(B,{params:{...B.params,...W}}),!I.camera||I.camera===u&&!vn.equ(u,C,Ic)){u=C;const Y=C instanceof jm,Z=Y?C:M?new xd(0,0,0,0,.1,1e3):new dr(75,0,.1,1e3);Y||(Z.position.z=5,C&&(Oc(Z,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(Z.manual=!0,Z.updateProjectionMatrix())),!I.camera&&!(C!=null&&C.rotation)&&Z.lookAt(0,0,0)),I.set({camera:Z}),B.camera=Z}if(!I.scene){let Y;m instanceof jx?Y=m:(Y=new jx,m&&Oc(Y,m)),I.set({scene:Nc(Y)})}if(!I.xr){var H;const Y=(fe,we)=>{const De=a.getState();De.frameloop!=="never"&&sk(fe,!0,De,we)},Z=()=>{const fe=a.getState();fe.gl.xr.enabled=fe.gl.xr.isPresenting,fe.gl.xr.setAnimationLoop(fe.gl.xr.isPresenting?Y:null),fe.gl.xr.isPresenting||ok(fe)},J={connect(){const fe=a.getState().gl;fe.xr.addEventListener("sessionstart",Z),fe.xr.addEventListener("sessionend",Z)},disconnect(){const fe=a.getState().gl;fe.xr.removeEventListener("sessionstart",Z),fe.xr.removeEventListener("sessionend",Z)}};typeof((H=k.xr)==null?void 0:H.addEventListener)=="function"&&J.connect(),I.set({xr:J})}if(k.shadowMap){const Y=k.shadowMap.enabled,Z=k.shadowMap.type;if(k.shadowMap.enabled=!!y,vn.boo(y))k.shadowMap.type=Vh;else if(vn.str(y)){var V;const J={basic:x5,percentage:cf,soft:Vh,variance:tu};k.shadowMap.type=(V=J[y])!=null?V:Vh}else vn.obj(y)&&Object.assign(k.shadowMap,y);(Y!==k.shadowMap.enabled||Z!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const U=p$();U&&("enabled"in U?U.enabled=!b:"legacyMode"in U&&(U.legacyMode=b)),l||Oc(k,{outputEncoding:v?3e3:3001,toneMapping:x?ua:J_}),I.legacy!==b&&I.set(()=>({legacy:b})),I.linear!==v&&I.set(()=>({linear:v})),I.flat!==x&&I.set(()=>({flat:x})),f&&!vn.fun(f)&&!S$(f)&&!vn.equ(f,k,Ic)&&Oc(k,f),g&&!I.events.handlers&&I.set({events:g(a)});const j=fMe(t,p);return vn.equ(j,I.size,Ic)||I.setSize(j.width,j.height,j.updateStyle,j.top,j.left),E&&I.viewport.dpr!==x$(E)&&I.setDpr(E),I.frameloop!==w&&I.setFrameloop(w),I.onPointerMissed||I.set({onPointerMissed:N}),P&&!vn.equ(P,I.performance,Ic)&&I.set(Y=>({performance:{...Y.performance,...P}})),s=_,l=!0,this},render(c){return l||this.configure(),Wx.updateContainer(L.jsx(hMe,{store:a,children:c,onCreated:s,rootElement:t}),o,null,()=>{}),a},unmount(){A$(t)}}}function hMe({store:t,children:e,onCreated:n,rootElement:r}){return $m(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),L.jsx(w$.Provider,{value:t,children:e})}function A$(t,e){const n=Yf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Wx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),eMe(i),Yf.delete(t)}catch{}},500)})}}Wx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:z.version});const Vw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pMe(t){const{handlePointer:e}=iMe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Vw).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=Vw[o];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=Vw[a];r.connected.removeEventListener(s,o)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function DA(t,e,n){var r,i,a,o,s;e==null&&(e=100);function l(){var c=Date.now()-o;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(a,i),a=i=null))}var u=function(){a=this,i=arguments,o=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(a,i),a=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(a,i),a=i=null,clearTimeout(r),r=null)},u}DA.debounce=DA;var mMe=DA;const lk=an(mMe);var gMe=Object.defineProperty,vMe=Object.defineProperties,yMe=Object.getOwnPropertyDescriptors,uk=Object.getOwnPropertySymbols,xMe=Object.prototype.hasOwnProperty,_Me=Object.prototype.propertyIsEnumerable,ck=(t,e,n)=>e in t?gMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fk=(t,e)=>{for(var n in e||(e={}))xMe.call(e,n)&&ck(t,n,e[n]);if(uk)for(var n of uk(e))_Me.call(e,n)&&ck(t,n,e[n]);return t},bMe=(t,e)=>vMe(t,yMe(e)),dk,hk;typeof window<"u"&&((dk=window.document)!=null&&dk.createElement||((hk=window.navigator)==null?void 0:hk.product)==="ReactNative")?z.useLayoutEffect:z.useEffect;function T$(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=T$(r,e,n);if(i)return i;r=r.sibling}}function P$(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const pk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=pk;return}return pk.apply(this,arguments)};const LC=P$(z.createContext(null));class C$ extends z.Component{render(){return z.createElement(LC.Provider,{value:this._reactInternals},this.props.children)}}function SMe(){const t=z.useContext(LC);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=z.useId();return z.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=T$(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function wMe(){const t=SMe(),[e]=z.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==LC&&!e.has(i)&&e.set(i,z.useContext(P$(i)))}n=n.return}return e}function MMe(){const t=wMe();return z.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>z.createElement(e,null,z.createElement(n.Provider,bMe(fk({},r),{value:t.get(n)}))),e=>z.createElement(C$,fk({},e))),[t])}function EMe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[a,o]=z.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return a.width=1280,a.height=800,[()=>{},a,()=>{}];const s=z.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=z.useRef(!1);z.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,p,m]=z.useMemo(()=>{const v=()=>{if(!s.current.element)return;const{left:x,top:b,width:M,height:w,bottom:E,right:P,x:A,y:C}=s.current.element.getBoundingClientRect(),N={left:x,top:b,width:M,height:w,bottom:E,right:P,x:A,y:C};s.current.element instanceof HTMLElement&&r&&(N.height=s.current.element.offsetHeight,N.width=s.current.element.offsetWidth),Object.freeze(N),c.current&&!CMe(s.current.lastBounds,N)&&o(s.current.lastBounds=N)};return[v,u?lk(v,u):v,l?lk(v,l):v]},[o,r,l,u]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function _(){var v;s.current.element&&(s.current.resizeObserver=new i(p),(v=s.current.resizeObserver)==null||v.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const y=v=>{!v||v===s.current.element||(g(),s.current.element=v,s.current.scrollContainers=O$(v),_())};return TMe(m,!!e),AMe(p),z.useEffect(()=>{g(),_()},[e,m,p]),z.useEffect(()=>g,[]),[y,a,f]}function AMe(t){z.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function TMe(t,e){z.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function O$(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...O$(t.parentElement)]}const PMe=["x","y","top","bottom","left","right","width","height"],CMe=(t,e)=>PMe.every(n=>t[n]===e[n]),OMe=z.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:o=pMe,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:_,performance:y,raycaster:v,camera:x,scene:b,onPointerMissed:M,onCreated:w,...E},P){z.useMemo(()=>Ywe(zwe),[]);const A=MMe(),[C,N]=EMe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=z.useRef(null),k=z.useRef(null);z.useImperativeHandle(P,()=>I.current);const B=g$(M),[W,$]=z.useState(!1),[H,V]=z.useState(!1);if(W)throw W;if(H)throw H;const U=z.useRef(null);$m(()=>{const Y=I.current;N.width>0&&N.height>0&&Y&&(U.current||(U.current=dMe(Y)),U.current.configure({gl:a,events:o,shadows:u,linear:c,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:_,performance:y,raycaster:v,camera:x,scene:b,size:N,onPointerMissed:(...Z)=>B.current==null?void 0:B.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(s?Zwe(s)?s.current:s:k.current),l&&Z.setEvents({compute:(J,fe)=>{const we=J[l+"X"],De=J[l+"Y"];fe.pointer.set(we/fe.size.width*2-1,-(De/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),w==null||w(Z)}}),U.current.render(L.jsx(A,{children:L.jsx(v$,{set:V,children:L.jsx(z.Suspense,{fallback:L.jsx(Jwe,{set:$}),children:e})})})))}),z.useEffect(()=>{const Y=I.current;if(Y)return()=>A$(Y)},[]);const j=s?"none":"auto";return L.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...E,children:L.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:L.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),IMe=z.forwardRef(function(e,n){return L.jsx(C$,{children:L.jsx(OMe,{...e,ref:n})})});function RMe(t,e,n){const r=ep(p=>p.size),i=ep(p=>p.viewport),a=typeof t=="number"?t:r.width*i.dpr,o=r.height*i.dpr,s=(typeof t=="number"?n:t)||{},{samples:l=0,depth:u,...c}=s,f=z.useMemo(()=>{const p=new mi(a,o,{minFilter:dn,magFilter:dn,type:Ba,...c});return u&&(p.depthTexture=new Cu(a,o,kr)),p.samples=l,p},[]);return z.useLayoutEffect(()=>{f.setSize(a,o),l&&(f.samples=l)},[l,f,a,o]),z.useEffect(()=>()=>f.dispose(),[]),f}const NMe=t=>typeof t=="function",LMe=z.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...a},o)=>{const s=ep(({set:y})=>y),l=ep(({camera:y})=>y),u=ep(({size:y})=>y),c=z.useRef(null);z.useImperativeHandle(o,()=>c.current,[]);const f=z.useRef(null),p=RMe(e);z.useLayoutEffect(()=>{a.manual||(c.current.aspect=u.width/u.height)},[u,a]),z.useLayoutEffect(()=>{c.current.updateProjectionMatrix()});let m=0,g=null;const _=NMe(i);return E$(y=>{_&&(n===1/0||m<n)&&(f.current.visible=!1,y.gl.setRenderTarget(p),g=y.scene.background,t&&(y.scene.background=t),y.gl.render(y.scene,c.current),y.scene.background=g,y.gl.setRenderTarget(null),f.current.visible=!0,m++)}),z.useLayoutEffect(()=>{if(r){const y=l;return s(()=>({camera:c.current})),()=>s(()=>({camera:y}))}},[c,r,s]),z.createElement(z.Fragment,null,z.createElement("perspectiveCamera",HE({ref:c},a),!_&&i),z.createElement("group",{ref:f},_&&i(p.texture)))}),DMe=Math.PI/180;function kMe(t){return t*DMe}function UMe(t,e){var p;const n=ra.physical,{vertexShader:r,fragmentShader:i,uniforms:a}=n,o=n.defines??{},s=vC.clone(a),l=new t(e.material||{});l.color&&(s.diffuse.value=l.color),"roughness"in l&&(s.roughness.value=l.roughness),"metalness"in l&&(s.metalness.value=l.metalness),"envMap"in l&&(s.envMap.value=l.envMap),"envMapIntensity"in l&&(s.envMapIntensity.value=l.envMapIntensity),Object.entries(e.uniforms??{}).forEach(([m,g])=>{s[m]=g!==null&&typeof g=="object"&&"value"in g?g:{value:g}});let u=`${e.header}
${e.vertexHeader??""}
${r}`,c=`${e.header}
${e.fragmentHeader??""}
${i}`;for(const[m,g]of Object.entries(e.vertex??{}))u=u.replace(m,`${m}
${g}`);for(const[m,g]of Object.entries(e.fragment??{}))c=c.replace(m,`${m}
${g}`);return new Fi({defines:{...o},uniforms:s,vertexShader:u,fragmentShader:c,lights:!0,fog:!!((p=e.material)!=null&&p.fog)})}const FMe=({children:t})=>L.jsx(IMe,{dpr:[1,2],frameloop:"always",className:"w-full h-full relative",children:t}),BMe=t=>{const e=t.replace("#",""),n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return[n/255,r/255,i/255]},zMe=`
float random (in vec2 st) {
    return fract(sin(dot(st.xy,
                         vec2(12.9898,78.233)))*
        43758.5453123);
}
float noise (in vec2 st) {
    vec2 i = floor(st);
    vec2 f = fract(st);
    float a = random(i);
    float b = random(i + vec2(1.0, 0.0));
    float c = random(i + vec2(0.0, 1.0));
    float d = random(i + vec2(1.0, 1.0));
    vec2 u = f * f * (3.0 - 2.0 * f);
    return mix(a, b, u.x) +
           (c - a)* u.y * (1.0 - u.x) +
           (d - b) * u.x * u.y;
}
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}
vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}
vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}
float cnoise(vec3 P){
  vec3 Pi0 = floor(P);
  vec3 Pi1 = Pi0 + vec3(1.0);
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);
  vec3 Pf1 = Pf0 - vec3(1.0);
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;
  vec4 ixy = permute(permute(ix) + iy);
  vec4 ixy0 = permute(ixy + iz0);
  vec4 ixy1 = permute(ixy + iz1);
  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
  vec4 norm0 = taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));
  g000 *= norm0.x; g010 *= norm0.y; g100 *= norm0.z; g110 *= norm0.w;
  vec4 norm1 = taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));
  g001 *= norm1.x; g011 *= norm1.y; g101 *= norm1.z; g111 *= norm1.w;
  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x,Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x,Pf1.y,Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy,Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy,Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x,Pf0.y,Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x,Pf1.yz));
  float n111 = dot(g111, Pf1);
  vec3 fade_xyz = fade(Pf0);
  vec4 n_z = mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);
  vec2 n_yz = mix(n_z.xy,n_z.zw,fade_xyz.y);
  float n_xyz = mix(n_yz.x,n_yz.y,fade_xyz.x);
  return 2.2 * n_xyz;
}
`,jMe=({beamWidth:t=2,beamHeight:e=15,beamNumber:n=12,lightColor:r="#ffffff",speed:i=2,noiseIntensity:a=1.75,scale:o=.2,rotation:s=0})=>{const l=z.useRef(null),u=z.useMemo(()=>UMe(Ob,{header:`
  varying vec3 vEye;
  varying float vNoise;
  varying vec2 vUv;
  varying vec3 vPosition;
  uniform float time;
  uniform float uSpeed;
  uniform float uNoiseIntensity;
  uniform float uScale;
  ${zMe}`,vertexHeader:`
  float getPos(vec3 pos) {
    vec3 noisePos =
      vec3(pos.x * 0., pos.y - uv.y, pos.z + time * uSpeed * 3.) * uScale;
    return cnoise(noisePos);
  }
  vec3 getCurrentPos(vec3 pos) {
    vec3 newpos = pos;
    newpos.z += getPos(pos);
    return newpos;
  }
  vec3 getNormal(vec3 pos) {
    vec3 curpos = getCurrentPos(pos);
    vec3 nextposX = getCurrentPos(pos + vec3(0.01, 0.0, 0.0));
    vec3 nextposZ = getCurrentPos(pos + vec3(0.0, -0.01, 0.0));
    vec3 tangentX = normalize(nextposX - curpos);
    vec3 tangentZ = normalize(nextposZ - curpos);
    return normalize(cross(tangentZ, tangentX));
  }`,fragmentHeader:"",vertex:{"#include <begin_vertex>":"transformed.z += getPos(transformed.xyz);","#include <beginnormal_vertex>":"objectNormal = getNormal(position.xyz);"},fragment:{"#include <dithering_fragment>":`
    float randomNoise = noise(gl_FragCoord.xy);
    gl_FragColor.rgb -= randomNoise / 15. * uNoiseIntensity;`},material:{fog:!0},uniforms:{diffuse:new et(...BMe("#000000")),time:{shared:!0,mixed:!0,linked:!0,value:0},roughness:.3,metalness:.3,uSpeed:{shared:!0,mixed:!0,linked:!0,value:i},envMapIntensity:10,uNoiseIntensity:a,uScale:o}}),[i,a,o]);return L.jsxs(FMe,{children:[L.jsxs("group",{rotation:[0,0,kMe(s)],children:[L.jsx(R$,{ref:l,material:u,count:n,width:t,height:e}),L.jsx(VMe,{color:r,position:[0,3,10]})]}),L.jsx("ambientLight",{intensity:1}),L.jsx("color",{attach:"background",args:["#000000"]}),L.jsx(LMe,{makeDefault:!0,position:[0,0,20],fov:30})]})};function $Me(t,e,n,r,i){const a=new Et,o=t*(i+1)*2,s=t*i*2,l=new Float32Array(o*3),u=new Uint32Array(s*3),c=new Float32Array(o*2);let f=0,p=0,m=0;const _=-(t*e+(t-1)*r)/2;for(let y=0;y<t;y++){const v=_+y*(e+r),x=Math.random()*300,b=Math.random()*300;for(let M=0;M<=i;M++){const w=n*(M/i-.5),E=[v,w,0],P=[v+e,w,0];l.set([...E,...P],f*3);const A=M/i;if(c.set([x,A+b,x+1,A+b],m),M<i){const C=f,N=f+1,I=f+2,k=f+3;u.set([C,N,I,I,N,k],p),p+=6}f+=2,m+=4}}return a.setAttribute("position",new Qt(l,3)),a.setAttribute("uv",new Qt(c,2)),a.setIndex(new Qt(u,1)),a.computeVertexNormals(),a}const I$=z.forwardRef(({material:t,width:e,count:n,height:r},i)=>{const a=z.useRef(null);z.useImperativeHandle(i,()=>a.current);const o=z.useMemo(()=>$Me(n,e,r,0,100),[n,e,r]);return E$((s,l)=>{a.current.material.uniforms.time.value+=.1*l}),L.jsx("mesh",{ref:a,geometry:o,material:t})});I$.displayName="MergedPlanes";const R$=z.forwardRef((t,e)=>L.jsx(I$,{ref:e,material:t.material,width:t.width,count:t.count,height:t.height}));R$.displayName="PlaneNoise";const VMe=({position:t,color:e})=>{const n=z.useRef(null);return z.useEffect(()=>{if(!n.current)return;const r=n.current.shadow.camera;r.top=24,r.bottom=-24,r.left=-24,r.right=24,r.far=64,n.current.shadow.bias=-.004},[]),L.jsx("directionalLight",{ref:n,color:e,intensity:1,position:t})},fy="polycopy.session.cache.v1";function mk(t,e){return t instanceof Error&&t.message?t.message:typeof t=="string"&&t?t:e}function N$(){const[t,e]=z.useState(()=>{if(typeof window>"u")return null;try{const p=window.localStorage.getItem(fy);if(!p)return null;const m=JSON.parse(p);return m&&typeof m=="object"?m:null}catch{return null}}),[n,r]=z.useState(()=>typeof window>"u"?!0:!t),[i,a]=z.useState(!1),[o,s]=z.useState(null),l="https://polycopy.onrender.com",u=z.useCallback(async()=>{r(!0),s(null);try{const p=await fetch(`${l}/session`,{credentials:"include"});if(!p.ok){const _=await p.text();throw new Error(_||`Session request failed (${p.status})`)}const m=await p.json(),g=(m==null?void 0:m.user)??null;e(g),typeof window<"u"&&(g?window.localStorage.setItem(fy,JSON.stringify(g)):window.localStorage.removeItem(fy))}catch(p){e(null),typeof window<"u"&&window.localStorage.removeItem(fy),s(mk(p,"Unable to determine session state right now."))}finally{r(!1)}},[l]),c=z.useCallback(()=>{const p=`${l}/auth/google?redirect=%2F`;window.location.href=p},[l]),f=z.useCallback(async()=>{a(!0),s(null);try{const p=await fetch(`${l}/logout`,{method:"POST",credentials:"include"});if(!p.ok){const m=await p.text();throw new Error(m||`Logout failed (${p.status})`)}}catch(p){s(mk(p,"We could not log you out. Please try again."))}finally{await u(),a(!1)}},[u]);return z.useEffect(()=>{u()},[u]),z.useMemo(()=>({user:t,isLoading:n,isActionPending:i,error:o,refresh:u,login:c,logout:f}),[t,n,i,o,u,c,f])}function HMe(t,e={}){const n=e.minimumLength??2,r=e.debounceMs??220,i=e.limit??8,[a,o]=z.useState([]),[s,l]=z.useState(!1),[u,c]=z.useState(null),f=z.useRef(null),p=z.useRef(new Map);return z.useEffect(()=>{const m=t.trim();if(m.length<n){f.current!==null&&(clearTimeout(f.current),f.current=null),o([]),c(null),l(!1);return}l(!0),f.current!==null&&clearTimeout(f.current);const g=new AbortController;let _=!0;return f.current=window.setTimeout(()=>{const y=`${m.toLowerCase()}::${i}`;if(p.current.has(y)){o(p.current.get(y)||[]),c(null),l(!1);return}const v=new URLSearchParams({query:m,limit:String(i)});fetch(`https://polycopy.onrender.com/trader-search?${v.toString()}`,{signal:g.signal,credentials:"include"}).then(b=>b.ok?b.json():b.text().then(M=>{throw new Error(M||`Search failed (${b.status})`)})).then(b=>{if(!_)return;const M=Array.isArray(b==null?void 0:b.traders)?b.traders:[];p.current.set(y,M),o(M),c((b==null?void 0:b.error)??null)}).catch(b=>{if(!_||(b==null?void 0:b.name)==="AbortError")return;const M=b instanceof Error?b.message:"Unable to fetch trader suggestions right now.";o([]),c(M)}).finally(()=>{_&&l(!1)})},r),()=>{_=!1,g.abort(),f.current!==null&&(clearTimeout(f.current),f.current=null)}},[t,n,r,i]),z.useMemo(()=>({suggestions:a,isLoading:s,error:u}),[a,s,u])}const L$="polycopy.wallet.autoconnect";function gk(t){if(typeof window>"u")return t;const e=window.localStorage.getItem(L$);return e===null?t:e==="true"}function GMe(t){typeof window>"u"||window.localStorage.setItem(L$,t?"true":"false")}function WMe(){if(!(typeof window>"u"))return window.ethereum}function XMe(t){return t?t.trim().toLowerCase():null}function D$(t={}){const{autoConnect:e=!0,preferredAccounts:n}=t,r=z.useRef(null),[i,a]=z.useState(null),[o,s]=z.useState(null),[l,u]=z.useState(!1),[c,f]=z.useState(null),[p,m]=z.useState(()=>gk(e)),g=z.useRef(p),_=z.useCallback(E=>{g.current=E,m(E),GMe(E)},[]);z.useEffect(()=>{const E=gk(e);_(E)},[e,_]);const y=WMe();r.current=y??null;const v=z.useCallback(E=>{if(!g.current){a(null),s(null);return}const[P]=Array.isArray(E)?E:[],A=XMe(P);a(A),A||s(null)},[a]),x=z.useCallback(E=>{if(!g.current){s(null);return}s(typeof E=="string"?E:null)},[s]),b=z.useCallback(async()=>{const E=r.current;if(!E){f("No EIP-1193 wallet was detected. Install MetaMask or a compatible wallet extension.");return}u(!0),f(null);const P=g.current,A=i,C=o;try{let N=[];if(g.current=!0,Array.isArray(n)&&n.length>0)N=n;else{if(typeof E.request=="function")try{await E.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]})}catch(B){if((B==null?void 0:B.code)!==-32601)throw B}N=await E.request({method:"eth_requestAccounts"})}v(N);const I=await E.request({method:"eth_chainId"});x(I),_(!0)}catch(N){if((N==null?void 0:N.code)===4001)f("Wallet connection was rejected.");else{const I=N instanceof Error?N.message:"Unable to connect to the wallet right now.";f(I)}_(P),a(A??null),s(C??null)}finally{u(!1)}},[i,o,v,x,n,_]),M=z.useCallback(()=>{_(!1),a(null),s(null),f(null);const E=r.current;E&&typeof E.request=="function"&&E.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}).catch(()=>{})},[_]),w=z.useCallback(()=>{f(null)},[]);return z.useEffect(()=>{const E=r.current;if(!E){a(null),s(null);return}let P=!0,A=!1;const C=()=>{P&&(a(null),s(null))},N=()=>{C(),_(!1)};return p?(typeof E.on=="function"&&(E.on("accountsChanged",v),E.on("chainChanged",x),E.on("disconnect",N),A=!0),(async()=>{try{const[I,k]=await Promise.all([E.request({method:"eth_accounts"}),E.request({method:"eth_chainId"}).catch(()=>null)]);if(!P)return;v(I),k&&x(k)}catch(I){if(!P)return;const k=I instanceof Error?I.message:"Failed to read wallet state.";f(k)}})()):C(),()=>{P=!1,A&&(typeof E.removeListener=="function"?(E.removeListener("accountsChanged",v),E.removeListener("chainChanged",x),E.removeListener("disconnect",N)):typeof E.removeAllListeners=="function"&&(E.removeAllListeners("accountsChanged"),E.removeAllListeners("chainChanged"),E.removeAllListeners("disconnect")))}},[v,x,p,_]),z.useMemo(()=>({address:i,chainId:o,isConnecting:l,isConnected:!!i,providerAvailable:!!r.current,error:c,connect:b,disconnect:M,resetError:w}),[i,o,b,M,c,l,w])}const qMe=`
  attribute vec2 a_position;
  varying vec2 v_uv;
  void main() {
    v_uv = a_position * 0.5 + 0.5;
    gl_Position = vec4(a_position, 0, 1);
  }
`,YMe=`
  precision mediump float;
  varying vec2 v_uv;
  uniform sampler2D u_image;
  uniform float u_time;
  void main() {
    vec2 uv = v_uv;
    float metallic = 0.5 + 0.5 * sin(u_time + uv.x * 10.0 + uv.y * 10.0);
    vec4 color = texture2D(u_image, uv);
    float fresnel = pow(1.0 - dot(uv - 0.5, uv - 0.5) * 4.0, 2.0);
    color.rgb += metallic * 0.4 + fresnel * 0.3;
    gl_FragColor = color;
  }
`;function vk(t,e,n){const r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(r)||"Shader compile error");return r}function KMe(t,e,n){const r=vk(t,t.VERTEX_SHADER,e),i=vk(t,t.FRAGMENT_SHADER,n),a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error(t.getProgramInfoLog(a)||"Program link error");return a}function k$({src:t="/polycopy-logo.png",size:e=64,animated:n=!1}){if(!n)return L.jsx("img",{src:t,alt:"logo",loading:"lazy",referrerPolicy:"no-referrer",className:"rounded-full object-cover",style:{width:e,height:e,display:"block"}});const r=z.useRef(null),i=z.useRef(),a=z.useRef(!0);return z.useEffect(()=>{const o=r.current;if(!o)return;const s=typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;a.current=!s;let l=null;typeof window<"u"&&"IntersectionObserver"in window&&(l=new IntersectionObserver(g=>{const _=g[0];a.current=!!(_!=null&&_.isIntersecting)&&!s},{threshold:.01}),l.observe(o));const u=o.getContext("webgl");if(!u){l==null||l.disconnect();return}const c=KMe(u,qMe,YMe);u.useProgram(c);const f=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,f),u.bufferData(u.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),u.STATIC_DRAW);const p=u.getAttribLocation(c,"a_position");u.enableVertexAttribArray(p),u.vertexAttribPointer(p,2,u.FLOAT,!1,0,0);const m=new window.Image;return m.crossOrigin="anonymous",m.src=t,m.onload=()=>{const g=u.createTexture();u.bindTexture(u.TEXTURE_2D,g),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,m),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.LINEAR),u.uniform1i(u.getUniformLocation(c,"u_image"),0);function _(y){if(!a.current){i.current=requestAnimationFrame(_);return}u.viewport(0,0,o.width,o.height),u.clear(u.COLOR_BUFFER_BIT),u.uniform1f(u.getUniformLocation(c,"u_time"),y*.001),u.drawArrays(u.TRIANGLE_STRIP,0,4),i.current=requestAnimationFrame(_)}i.current=requestAnimationFrame(_)},()=>{i.current&&cancelAnimationFrame(i.current),l==null||l.disconnect()}},[t,e]),L.jsx("canvas",{ref:r,width:e,height:e,style:{width:e,height:e,display:"block",background:"#000",borderRadius:"50%"}})}const dy="https://polycopy.onrender.com";function Hw(t){return t===null||!Number.isFinite(t)?"":t.toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2})}function ZMe(){var _;const{address:t}=P6(),[e,n]=z.useState([]),[r,i]=z.useState(null),[a,o]=z.useState(null),[s,l]=z.useState(null),[u,c]=z.useState(!0),[f,p]=z.useState(null);z.useEffect(()=>{if(!t)return;let y=!1;const v=new AbortController;return c(!0),p(null),Promise.all([fetch(`${dy}/users/${t}/trades`,{signal:v.signal,credentials:"include"}),fetch(`${dy}/users/${t}/pnl`,{signal:v.signal,credentials:"include"}),fetch(`${dy}/users/${t}/portfolio`,{signal:v.signal,credentials:"include"}),fetch(`${dy}/users/${t}/open-orders`,{signal:v.signal,credentials:"include"})]).then(async([x,b,M,w])=>{if(!x.ok)throw new Error(`Failed to load trades (${x.status})`);if(!b.ok)throw new Error(`Failed to load pnl (${b.status})`);if(!M.ok)throw new Error(`Failed to load portfolio (${M.status})`);if(!w.ok)throw new Error(`Failed to load open orders (${w.status})`);const[E,P,A,C]=await Promise.all([x.json(),b.json(),M.json(),w.json()]);y||(n(Array.isArray(E==null?void 0:E.trades)?E.trades:[]),i({pnl:typeof(P==null?void 0:P.pnl)=="number"?P.pnl:null,calculation:typeof(P==null?void 0:P.calculation)=="string"?P.calculation:void 0,tradeCount:typeof(P==null?void 0:P.tradeCount)=="number"?P.tradeCount:void 0}),o({portfolioValue:typeof(A==null?void 0:A.portfolioValue)=="number"?A.portfolioValue:null}),l({openOrders:Array.isArray(C==null?void 0:C.openOrders)?C.openOrders:[],note:typeof(C==null?void 0:C.note)=="string"?C.note:void 0}))}).catch(x=>{y||p(x instanceof Error?x.message:"Failed to load trader profile")}).finally(()=>{y||c(!1)}),()=>{y=!0,v.abort()}},[t]);const m=z.useMemo(()=>e.map((y,v)=>{var x,b;return{id:y.id||y.transaction_hash||y.txid||`${y.created_at||y.createdAt||y.timestamp||"t"}-${v}`,date:y.created_at||y.createdAt||y.timestamp||null,market:(typeof y.market=="string"?y.market:((x=y.market)==null?void 0:x.question)||((b=y.market)==null?void 0:b.title))||y.marketId||y.market_id||"Unknown market",side:(y.side||y.type||"").toUpperCase()||"",size:Number(y.amount||y.size||y.shares||0),price:Number(y.price||0)}}),[e]),g=z.useMemo(()=>{if(!e.length)return{totalNotional:0,buyCount:0,sellCount:0,marketCount:0,avgTradeSize:0,lastTradeAt:null};let y=0,v=0,x=0,b=0;const M=new Set;let w=0;return e.forEach(E=>{var k,B;const P=Number(E.amount||E.size||E.shares||0),A=Number(E.price||0);Number.isFinite(P)&&Number.isFinite(A)&&(y+=Math.abs(P*A)),Number.isFinite(P)&&(v+=Math.abs(P));const C=String(E.side||E.type||"").toLowerCase();C==="buy"&&(x+=1),C==="sell"&&(b+=1);const N=(typeof E.market=="string"?E.market:((k=E.market)==null?void 0:k.question)||((B=E.market)==null?void 0:B.title))||E.marketId||E.market_id||"Unknown market";M.add(String(N));const I=new Date(E.created_at||E.createdAt||E.timestamp||0).getTime();Number.isFinite(I)&&(w=Math.max(w,I))}),{totalNotional:y,buyCount:x,sellCount:b,marketCount:M.size,avgTradeSize:e.length>0?v/e.length:0,lastTradeAt:w>0?new Date(w).toLocaleString():null}},[e]);return L.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-slate-100",children:L.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-6",children:[L.jsx(Ci,{className:"overflow-hidden rounded-2xl",children:L.jsx(jF,{})}),L.jsxs("div",{className:"flex items-center justify-between",children:[L.jsxs("div",{className:"flex items-center gap-3",children:[L.jsx(k$,{size:32}),L.jsx("h1",{className:"text-2xl font-semibold",children:"Trader Profile"})]}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsx(Ks,{to:"/",className:"rounded-full border border-slate-700 px-4 py-2 text-sm hover:border-slate-500",children:"Dashboard"}),L.jsx(Ks,{to:"/leaderboard",className:"rounded-full border border-slate-700 px-4 py-2 text-sm hover:border-slate-500",children:"Leaderboard"})]})]}),L.jsxs(Ci,{className:"rounded-2xl p-4 text-sm text-slate-300",children:["Address: ",L.jsx("span",{className:"font-mono break-all text-slate-100",children:t})]}),u&&L.jsx(Ci,{className:"rounded-2xl p-4",children:"Loading"}),f&&L.jsx("div",{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 p-4 text-rose-200",children:f}),!u&&!f&&L.jsxs(L.Fragment,{children:[L.jsxs("section",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-6",children:[L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"PnL"}),L.jsx("p",{className:`mt-2 text-xl font-semibold ${((r==null?void 0:r.pnl)??0)>=0?"text-emerald-300":"text-rose-300"}`,children:Hw((r==null?void 0:r.pnl)??null)}),(r==null?void 0:r.calculation)&&L.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Method: ",r.calculation]})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Portfolio Value"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:Hw((a==null?void 0:a.portfolioValue)??null)})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Trades Loaded"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:(r==null?void 0:r.tradeCount)??e.length})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Total Notional"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:Hw(g.totalNotional)})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Markets Traded"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:g.marketCount}),L.jsxs("p",{className:"mt-1 text-xs text-slate-500",children:["Buys ",g.buyCount,"  Sells ",g.sellCount]})]}),L.jsxs("div",{className:"rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Avg Trade Size"}),L.jsx("p",{className:"mt-2 text-xl font-semibold text-slate-100",children:Number.isFinite(g.avgTradeSize)?g.avgTradeSize.toFixed(2):""}),L.jsx("p",{className:"mt-1 text-xs text-slate-500",children:g.lastTradeAt?`Last trade: ${g.lastTradeAt}`:"No recency data"})]})]}),L.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("h2",{className:"text-lg font-semibold",children:"Open Positions (Derived)"}),(s==null?void 0:s.note)&&L.jsx("p",{className:"text-xs text-slate-500",children:s.note}),(_=s==null?void 0:s.openOrders)!=null&&_.length?L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-left text-slate-400",children:[L.jsx("th",{className:"px-3 py-2",children:"Market"}),L.jsx("th",{className:"px-3 py-2",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Avg Price"}),L.jsx("th",{className:"px-3 py-2",children:"Status"})]})}),L.jsx("tbody",{children:s.openOrders.map((y,v)=>L.jsxs("tr",{className:"border-t border-slate-800/60",children:[L.jsx("td",{className:"px-3 py-2",children:y.market||"Unknown"}),L.jsx("td",{className:"px-3 py-2 uppercase",children:y.side||""}),L.jsx("td",{className:"px-3 py-2 text-right",children:typeof y.size=="number"?y.size.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2 text-right",children:typeof y.price=="number"?y.price.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2",children:y.status||""})]},`${y.market||"market"}-${v}`))})]})}):L.jsx("p",{className:"text-sm text-slate-400",children:"No open positions found."})]}),L.jsxs("section",{className:"space-y-3 rounded-2xl border border-slate-800/60 bg-slate-950/70 p-4",children:[L.jsx("h2",{className:"text-lg font-semibold",children:"Trade History"}),m.length?L.jsx("div",{className:"overflow-x-auto",children:L.jsxs("table",{className:"min-w-full text-sm",children:[L.jsx("thead",{children:L.jsxs("tr",{className:"text-left text-slate-400",children:[L.jsx("th",{className:"px-3 py-2",children:"Date"}),L.jsx("th",{className:"px-3 py-2",children:"Market"}),L.jsx("th",{className:"px-3 py-2",children:"Side"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Size"}),L.jsx("th",{className:"px-3 py-2 text-right",children:"Price"})]})}),L.jsx("tbody",{children:m.map(y=>L.jsxs("tr",{className:"border-t border-slate-800/60",children:[L.jsx("td",{className:"px-3 py-2",children:y.date?new Date(y.date).toLocaleString():""}),L.jsx("td",{className:"px-3 py-2",children:y.market}),L.jsx("td",{className:"px-3 py-2",children:y.side}),L.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(y.size)?y.size.toFixed(4):""}),L.jsx("td",{className:"px-3 py-2 text-right",children:Number.isFinite(y.price)?y.price.toFixed(4):""})]},y.id))})]})}):L.jsx("p",{className:"text-sm text-slate-400",children:"No trades found."})]})]})]})})}function JMe(){return L.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:24,padding:32},children:[L.jsx("h2",{style:{color:"#fff",fontWeight:700,fontSize:24},children:"Metallic Logo Preview"}),L.jsx(k$,{size:128}),L.jsxs("p",{style:{color:"#aaa",marginTop:16},children:["This is your logo with the metallic paint effect. Edit ",L.jsx("b",{children:"public/polycopy-logo.png"})," to update the image."]})]})}function QMe(){return L.jsx(JMe,{})}const eEe="https://polycopy.onrender.com";function tEe(t){return t?`${t.slice(0,6)}...${t.slice(-4)}`:"Not connected"}function nEe(){const[t,e]=z.useState({}),[n,r]=z.useState({}),[i,a]=z.useState("weekly"),[o,s]=z.useState(!0),[l,u]=z.useState(null);z.useEffect(()=>{const p=new AbortController;let m=!0;return s(!0),u(null),fetch(`${eEe}/leaderboard`,{signal:p.signal,credentials:"include"}).then(g=>g.ok?g.json():Promise.reject(new Error(`Failed to load leaderboard (${g.status})`))).then(g=>{if(!m)return;const _=g!=null&&g.periods&&typeof g.periods=="object"?g.periods:{},y=g!=null&&g.labels&&typeof g.labels=="object"?g.labels:{},v=Object.entries(_).reduce((M,[w,E])=>{if(!Array.isArray(E))return M;const P=E.filter(A=>A&&typeof A.address=="string").map((A,C)=>({...A,rank:Number.isFinite(Number(A.rank))?Number(A.rank):C+1,address:A.address.toLowerCase()}));return P.length>0&&(M[w]=P),M},{}),x=Object.keys(v),b=typeof(g==null?void 0:g.defaultPeriod)=="string"&&x.includes(g.defaultPeriod)&&g.defaultPeriod||x.includes("weekly")&&"weekly"||x[0]||"weekly";e(v),r(x.reduce((M,w)=>(M[w]=y[w]||w,M),{})),a(b)}).catch(g=>{m&&(e({}),r({}),u(g instanceof Error?g.message:"Failed to load leaderboard"))}).finally(()=>{m&&s(!1)}),()=>{m=!1,p.abort()}},[]);const c=z.useMemo(()=>Object.keys(t).map(p=>({key:p,label:n[p]||p})),[t,n]);return{activeEntries:t[i]||[],periodOptions:c,selectedPeriod:i,onPeriodChange:a,isLoading:o,error:l}}function U$({currentPath:t,user:e,isSessionLoading:n,isSessionActionPending:r,login:i,logout:a,connectedWallet:o,walletChainId:s,isWalletConnecting:l,isWalletConnected:u,walletProviderAvailable:c,connectWallet:f,disconnectWallet:p}){const m=z.useCallback(()=>{e?a():i()},[e,a,i]),g=z.useCallback(()=>{c&&(u?p():f())},[c,u,p,f]);return L.jsx(Ci,{className:"px-6 py-4",children:L.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[L.jsxs("div",{className:"flex items-center gap-8",children:[L.jsxs(Ks,{to:"/",className:"flex items-center gap-3",children:[L.jsx("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-400"}),L.jsxs("div",{children:[L.jsx("p",{className:"text-sm font-semibold tracking-wide text-white",children:"PolyCopy"}),L.jsx("p",{className:"text-xs text-slate-400",children:"Built for Polymarket"})]})]}),L.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm text-slate-300",children:[L.jsx(Ks,{to:"/",className:`transition ${t==="/"?"text-white":"hover:text-white text-slate-300"}`,children:"Home"}),L.jsx(Ks,{to:"/leaderboard",className:`transition ${t==="/leaderboard"?"text-white":"hover:text-white text-slate-300"}`,children:"Leaderboard"})]})]}),L.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[L.jsx("button",{type:"button",onClick:m,disabled:!!e&&(n||r)||r,className:"rounded-full border border-slate-700/80 bg-slate-900/80 px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-slate-500 disabled:opacity-60",children:e?n?"Loading...":"Sign out":"Sign in"}),L.jsx("button",{type:"button",onClick:g,disabled:l||!c,className:"rounded-full bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-500 disabled:opacity-60",children:l?"Connecting...":u?tEe(o):"Connect Wallet"}),u&&s&&L.jsxs("span",{className:"text-xs text-slate-400",children:["Chain ",s]})]})]})})}function rEe(){const[t,e]=z.useState(""),[n,r]=z.useState(null),{user:i,isLoading:a,isActionPending:o,error:s,login:l,logout:u}=N$(),{address:c,chainId:f,isConnecting:p,isConnected:m,providerAvailable:g,error:_,connect:y,disconnect:v}=D$(),{suggestions:x,isLoading:b,error:M}=HMe(t,{minimumLength:2,debounceMs:140,limit:12}),w=z.useCallback(P=>{const A=P.trim().toLowerCase();r(A||null)},[]),E=s||_;return L.jsxs("div",{className:"min-h-screen bg-[#040712] text-slate-100",children:[L.jsx("div",{className:"pointer-events-none fixed inset-0 z-0 opacity-65",children:L.jsx(jMe,{beamWidth:2.1,beamHeight:25,beamNumber:50,noiseIntensity:.15,scale:.27,rotation:39,speed:1.4})}),L.jsx("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_top,rgba(49,114,255,0.22),transparent_52%)]"}),L.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-6 pb-20 pt-8 space-y-14",children:[L.jsx(U$,{currentPath:"/",user:i,isSessionLoading:a,isSessionActionPending:o,login:l,logout:u,connectedWallet:c,walletChainId:f,isWalletConnecting:p,isWalletConnected:m,walletProviderAvailable:g,connectWallet:y,disconnectWallet:v}),L.jsxs("section",{className:"text-center space-y-5 reveal",children:[L.jsx("p",{className:"inline-flex rounded-full border border-blue-400/30 bg-blue-500/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-blue-200",children:"Polymarket Intelligence"}),L.jsx("h1",{className:"mx-auto max-w-4xl text-2xl font-semibold leading-tight text-white sm:text-4xl",children:"Discover top traders and track your own portfolio with confidence"}),L.jsx("p",{className:"mx-auto max-w-2xl text-base text-slate-300 sm:text-lg",children:"Track your own portfolio and analyze other traders before deciding who to follow."}),L.jsxs("div",{className:"flex justify-center gap-3",children:[L.jsx(Ks,{to:"/leaderboard",className:"rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white transition hover:bg-blue-500",children:"View Top Traders"}),L.jsx("a",{href:"#search",className:"rounded-full border border-slate-600 px-6 py-3 text-sm font-semibold text-slate-100 transition hover:border-slate-400",children:"Search Traders"})]})]}),E&&L.jsx(Ci,{className:"rounded-2xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:E}),L.jsxs("section",{className:"grid gap-5 lg:grid-cols-3",children:[L.jsx(Ci,{className:"rounded-3xl p-6 reveal reveal-1",children:L.jsxs("article",{children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Leaderboard"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Follow the most successful traders"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Open the leaderboard to compare PnL, ROI, and volume at a glance."}),L.jsx(Ks,{to:"/leaderboard",className:"mt-5 inline-flex rounded-full bg-white px-5 py-2 text-sm font-semibold text-slate-900",children:"Open Leaderboard"})]})}),L.jsx(Ci,{className:"rounded-3xl p-6 reveal reveal-2",children:L.jsxs("article",{id:"search",children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Search Traders"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Analyze any wallet"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Search by wallet or username and inspect the trader profile instantly."}),L.jsx("div",{className:"mt-5",children:L.jsx(Qge,{value:t,onChange:e,onSubmit:P=>{e(P.trim().toLowerCase()),w(P)},suggestions:x,isSearching:b,searchError:M,selectedAddress:n})})]})}),L.jsx(Ci,{className:"rounded-3xl p-6 reveal reveal-3",children:L.jsxs("article",{children:[L.jsx("p",{className:"text-xs uppercase tracking-wide text-blue-200",children:"Portfolio View"}),L.jsx("h2",{className:"mt-3 text-2xl font-semibold text-white",children:"Track your own edge"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Compare your process with top traders and refine your strategy over time."}),L.jsxs(Ci,{className:"mt-5 rounded-2xl p-4",children:[L.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Selected trader"}),L.jsx("p",{className:"mt-1 font-mono text-sm text-slate-100 break-all",children:n||"No trader selected yet"}),n&&L.jsx(Ks,{to:`/profile/${n}`,className:"mt-3 inline-flex rounded-full border border-blue-400/50 px-4 py-2 text-xs font-semibold text-blue-200",children:"View trader profile"})]})]})})]}),n&&L.jsx(Zge,{address:n})]})]})}function iEe(){const t=DT(),[e,n]=z.useState(null),{user:r,isLoading:i,isActionPending:a,error:o,login:s,logout:l}=N$(),{address:u,chainId:c,isConnecting:f,isConnected:p,providerAvailable:m,error:g,connect:_,disconnect:y,resetError:v}=D$(),{activeEntries:x,periodOptions:b,selectedPeriod:M,onPeriodChange:w,isLoading:E,error:P}=nEe();return L.jsxs("div",{className:"min-h-screen bg-[#040712] text-slate-100",children:[L.jsx("div",{className:"pointer-events-none fixed inset-0 bg-[radial-gradient(circle_at_top,rgba(49,114,255,0.22),transparent_52%)]"}),L.jsxs("div",{className:"relative z-10 mx-auto max-w-7xl px-6 pb-20 pt-8 space-y-10",children:[L.jsx(U$,{currentPath:"/leaderboard",user:r,isSessionLoading:i,isSessionActionPending:a,login:s,logout:l,connectedWallet:u,walletChainId:c,isWalletConnecting:f,isWalletConnected:p,walletProviderAvailable:m,connectWallet:_,disconnectWallet:y}),L.jsx(Ci,{className:"overflow-hidden rounded-2xl",children:L.jsx(jF,{})}),(o||g)&&L.jsxs(Ci,{className:"flex items-start justify-between gap-3 rounded-2xl border border-rose-500/40 bg-rose-500/10 px-4 py-3 text-sm text-rose-100",children:[L.jsx("p",{children:o||g}),g&&L.jsx("button",{type:"button",onClick:v,className:"rounded-full border border-rose-400/50 px-3 py-1 text-xs font-semibold text-rose-50 transition hover:border-rose-200",children:"Dismiss"})]}),L.jsxs("section",{className:"space-y-3",children:[L.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-blue-200",children:"Leaderboard"}),L.jsx("h1",{className:"text-3xl font-semibold text-white sm:text-4xl",children:"Top Polymarket Traders"}),L.jsx("p",{className:"max-w-2xl text-sm text-slate-300",children:"Browse ranked traders by key metrics and click any wallet to inspect full profile details."})]}),L.jsx(oG,{entries:x,isLoading:E,error:P,selectedAddress:e,periodOptions:b,selectedPeriod:M,onPeriodChange:A=>{b.some(C=>C.key===A)&&w(A)},onSelect:A=>{n(A),t(`/profile/${A}`)}})]})]})}function aEe(){return L.jsx(J6,{children:L.jsxs(G6,{children:[L.jsx(Rc,{path:"/",element:L.jsx(rEe,{})}),L.jsx(Rc,{path:"/leaderboard",element:L.jsx(iEe,{})}),L.jsx(Rc,{path:"/profile/:address",element:L.jsx(ZMe,{})}),L.jsx(Rc,{path:"/logo-preview",element:L.jsx(QMe,{})}),L.jsx(Rc,{path:"*",element:L.jsx(V6,{to:"/",replace:!0})})]})})}class oEe extends ne.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("Root render error",e,n)}render(){return this.state.error?L.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-950 text-slate-100 px-6",children:[L.jsx("h1",{className:"text-2xl font-semibold text-rose-300",children:"App crashed while rendering"}),L.jsx("p",{className:"mt-3 text-sm text-slate-300",children:"Check console and fix the error below:"}),L.jsx("pre",{className:"mt-4 max-w-3xl overflow-auto rounded-xl border border-rose-500/40 bg-rose-500/10 p-4 text-xs text-rose-100",children:this.state.error.message})]}):this.props.children}}Gw.createRoot(document.getElementById("root")).render(L.jsx(ne.StrictMode,{children:L.jsx(oEe,{children:L.jsx(aEe,{})})}));
